npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated mkdirp@0.3.3: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.11: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.6.0: connect 2.x series is deprecated

added 19 packages, removed 26 packages, changed 9 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:03.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:03.457Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:03.458Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:03.459Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:03.540Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:03.688Z appoptics:patching patched crypto 
2022-04-20T15:27:03.708Z appoptics:patching patched https 
2022-04-20T15:27:03.709Z appoptics:patching patched http 
2022-04-20T15:27:03.744Z appoptics:patching patched zlib 
2022-04-20T15:27:03.749Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:03.749Z appoptics:patching patched fs 
2022-04-20T15:27:03.784Z appoptics:patching express 3.0.0 does not support render spans
2022-04-20T15:27:03.785Z appoptics:patching patched express 3.0.0
2022-04-20T15:27:03.789Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:03.795Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.0
    ✓ UDP might lose a message
2022-04-20T15:27:03.827Z appoptics:patching patched raw-body 2.5.1
(node:434) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (180ms)
  3 pending

npm WARN deprecated connect@2.6.2: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 2 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:11.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:11.359Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:11.360Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:11.360Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:11.421Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:11.537Z appoptics:patching patched crypto 
2022-04-20T15:27:11.555Z appoptics:patching patched https 
2022-04-20T15:27:11.556Z appoptics:patching patched http 
2022-04-20T15:27:11.595Z appoptics:patching patched zlib 
2022-04-20T15:27:11.603Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:11.604Z appoptics:patching patched fs 
2022-04-20T15:27:11.638Z appoptics:patching express 3.0.1 does not support render spans
2022-04-20T15:27:11.638Z appoptics:patching patched express 3.0.1
2022-04-20T15:27:11.642Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:11.648Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.1
    ✓ UDP might lose a message
2022-04-20T15:27:11.686Z appoptics:patching patched raw-body 2.5.1
(node:456) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (195ms)
  3 pending


changed 1 package, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:18.258Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:18.258Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:18.258Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:18.259Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:18.319Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:18.434Z appoptics:patching patched crypto 
2022-04-20T15:27:18.463Z appoptics:patching patched https 
2022-04-20T15:27:18.463Z appoptics:patching patched http 
2022-04-20T15:27:18.493Z appoptics:patching patched zlib 
2022-04-20T15:27:18.501Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:18.501Z appoptics:patching patched fs 
2022-04-20T15:27:18.532Z appoptics:patching express 3.0.2 does not support render spans
2022-04-20T15:27:18.532Z appoptics:patching patched express 3.0.2
2022-04-20T15:27:18.537Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:18.542Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.2
    ✓ UDP might lose a message
2022-04-20T15:27:18.576Z appoptics:patching patched raw-body 2.5.1
(node:478) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (194ms)
  3 pending

npm WARN deprecated connect@2.7.0: connect 2.x series is deprecated

changed 3 packages, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:24.479Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:24.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:24.479Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:24.480Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:24.541Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:24.660Z appoptics:patching patched crypto 
2022-04-20T15:27:24.678Z appoptics:patching patched https 
2022-04-20T15:27:24.678Z appoptics:patching patched http 
2022-04-20T15:27:24.714Z appoptics:patching patched zlib 
2022-04-20T15:27:24.723Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:24.723Z appoptics:patching patched fs 
2022-04-20T15:27:24.755Z appoptics:patching express 3.0.3 does not support render spans
2022-04-20T15:27:24.755Z appoptics:patching patched express 3.0.3
2022-04-20T15:27:24.759Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:24.765Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.3
    ✓ UDP might lose a message
2022-04-20T15:27:24.798Z appoptics:patching patched raw-body 2.5.1
(node:500) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (189ms)
  3 pending

npm WARN deprecated connect@2.7.1: connect 2.x series is deprecated

added 1 package, changed 2 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:31.225Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:31.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:31.226Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:31.226Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:31.287Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:31.406Z appoptics:patching patched crypto 
2022-04-20T15:27:31.424Z appoptics:patching patched https 
2022-04-20T15:27:31.424Z appoptics:patching patched http 
2022-04-20T15:27:31.458Z appoptics:patching patched zlib 
2022-04-20T15:27:31.466Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:31.467Z appoptics:patching patched fs 
2022-04-20T15:27:31.498Z appoptics:patching express 3.0.4 does not support render spans
2022-04-20T15:27:31.498Z appoptics:patching patched express 3.0.4
2022-04-20T15:27:31.502Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:31.508Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.4
    ✓ UDP might lose a message
2022-04-20T15:27:31.542Z appoptics:patching patched raw-body 2.5.1
(node:522) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (193ms)
  3 pending


changed 1 package, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:37.553Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:37.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:37.553Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:37.554Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:37.614Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:37.731Z appoptics:patching patched crypto 
2022-04-20T15:27:37.748Z appoptics:patching patched https 
2022-04-20T15:27:37.749Z appoptics:patching patched http 
2022-04-20T15:27:37.783Z appoptics:patching patched zlib 
2022-04-20T15:27:37.791Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:37.792Z appoptics:patching patched fs 
2022-04-20T15:27:37.822Z appoptics:patching express 3.0.5 does not support render spans
2022-04-20T15:27:37.822Z appoptics:patching patched express 3.0.5
2022-04-20T15:27:37.826Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:37.832Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.5
    ✓ UDP might lose a message
2022-04-20T15:27:37.866Z appoptics:patching patched raw-body 2.5.1
(node:544) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (202ms)
  3 pending

npm WARN deprecated connect@2.7.2: connect 2.x series is deprecated

removed 1 package, changed 2 packages, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:44.312Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:44.313Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:44.313Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:44.313Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:44.372Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:44.484Z appoptics:patching patched crypto 
2022-04-20T15:27:44.502Z appoptics:patching patched https 
2022-04-20T15:27:44.502Z appoptics:patching patched http 
2022-04-20T15:27:44.537Z appoptics:patching patched zlib 
2022-04-20T15:27:44.545Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:44.546Z appoptics:patching patched fs 
2022-04-20T15:27:44.577Z appoptics:patching express 3.0.6 does not support render spans
2022-04-20T15:27:44.577Z appoptics:patching patched express 3.0.6
2022-04-20T15:27:44.582Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:44.588Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.6
    ✓ UDP might lose a message
2022-04-20T15:27:44.623Z appoptics:patching patched raw-body 2.5.1
(node:566) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (210ms)
  3 pending


changed 1 package, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:50.171Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:50.172Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:50.172Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:50.173Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:50.278Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:50.429Z appoptics:patching patched crypto 
2022-04-20T15:27:50.466Z appoptics:patching patched https 
2022-04-20T15:27:50.467Z appoptics:patching patched http 
2022-04-20T15:27:50.504Z appoptics:patching patched zlib 
2022-04-20T15:27:50.513Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:50.513Z appoptics:patching patched fs 
2022-04-20T15:27:50.547Z appoptics:patching express 3.1.0 does not support render spans
2022-04-20T15:27:50.547Z appoptics:patching patched express 3.1.0
2022-04-20T15:27:50.552Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:50.559Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.0
    ✓ UDP might lose a message
2022-04-20T15:27:50.613Z appoptics:patching patched raw-body 2.5.1
(node:588) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (91ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (269ms)
  3 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.4: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:27:56.721Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:56.722Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:56.722Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:56.723Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:56.778Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:56.891Z appoptics:patching patched crypto 
2022-04-20T15:27:56.910Z appoptics:patching patched https 
2022-04-20T15:27:56.911Z appoptics:patching patched http 
2022-04-20T15:27:56.944Z appoptics:patching patched zlib 
2022-04-20T15:27:56.952Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:27:56.953Z appoptics:patching patched fs 
2022-04-20T15:27:56.984Z appoptics:patching express 3.1.1 does not support render spans
2022-04-20T15:27:56.984Z appoptics:patching patched express 3.1.1
2022-04-20T15:27:56.988Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:27:56.994Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.1
    ✓ UDP might lose a message
2022-04-20T15:27:57.027Z appoptics:patching patched raw-body 2.5.1
(node:610) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (181ms)
  3 pending

npm WARN deprecated connect@2.7.5: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:03.254Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:03.254Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:03.254Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:03.255Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:03.317Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:03.456Z appoptics:patching patched crypto 
2022-04-20T15:28:03.510Z appoptics:patching patched https 
2022-04-20T15:28:03.511Z appoptics:patching patched http 
2022-04-20T15:28:03.538Z appoptics:patching patched zlib 
2022-04-20T15:28:03.546Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:03.547Z appoptics:patching patched fs 
2022-04-20T15:28:03.583Z appoptics:patching express 3.1.2 does not support render spans
2022-04-20T15:28:03.583Z appoptics:patching patched express 3.1.2
2022-04-20T15:28:03.588Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:03.594Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.2
    ✓ UDP might lose a message
2022-04-20T15:28:03.630Z appoptics:patching patched raw-body 2.5.1
(node:632) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (275ms)
  3 pending

npm WARN deprecated connect@2.7.6: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:10.286Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:10.286Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:10.286Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:10.288Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:10.347Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:10.464Z appoptics:patching patched crypto 
2022-04-20T15:28:10.481Z appoptics:patching patched https 
2022-04-20T15:28:10.482Z appoptics:patching patched http 
2022-04-20T15:28:10.518Z appoptics:patching patched zlib 
2022-04-20T15:28:10.526Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:10.526Z appoptics:patching patched fs 
2022-04-20T15:28:10.557Z appoptics:patching patched express 3.2.0
2022-04-20T15:28:10.562Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:10.568Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.0
    ✓ UDP might lose a message
2022-04-20T15:28:10.601Z appoptics:patching patched raw-body 2.5.1
(node:654) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated mkdirp@0.3.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.13: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.7: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 6 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:17.551Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:17.552Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:17.552Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:17.552Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:17.632Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:17.767Z appoptics:patching patched crypto 
2022-04-20T15:28:17.792Z appoptics:patching patched https 
2022-04-20T15:28:17.792Z appoptics:patching patched http 
2022-04-20T15:28:17.823Z appoptics:patching patched zlib 
2022-04-20T15:28:17.831Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:17.831Z appoptics:patching patched fs 
2022-04-20T15:28:17.862Z appoptics:patching patched express 3.2.1
2022-04-20T15:28:17.866Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:17.872Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.1
    ✓ UDP might lose a message
2022-04-20T15:28:17.906Z appoptics:patching patched raw-body 2.5.1
(node:676) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (200ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.8: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:24.245Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:24.245Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:24.245Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:24.246Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:24.306Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:24.424Z appoptics:patching patched crypto 
2022-04-20T15:28:24.442Z appoptics:patching patched https 
2022-04-20T15:28:24.443Z appoptics:patching patched http 
2022-04-20T15:28:24.480Z appoptics:patching patched zlib 
2022-04-20T15:28:24.488Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:24.489Z appoptics:patching patched fs 
2022-04-20T15:28:24.520Z appoptics:patching patched express 3.2.2
2022-04-20T15:28:24.524Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:24.530Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.2
    ✓ UDP might lose a message
2022-04-20T15:28:24.564Z appoptics:patching patched raw-body 2.5.1
(node:698) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (206ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.9: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:32.053Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:32.054Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:32.054Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:32.055Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:32.116Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:32.233Z appoptics:patching patched crypto 
2022-04-20T15:28:32.251Z appoptics:patching patched https 
2022-04-20T15:28:32.252Z appoptics:patching patched http 
2022-04-20T15:28:32.288Z appoptics:patching patched zlib 
2022-04-20T15:28:32.296Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:32.296Z appoptics:patching patched fs 
2022-04-20T15:28:32.326Z appoptics:patching patched express 3.2.3
2022-04-20T15:28:32.331Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:32.337Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.3
    ✓ UDP might lose a message
2022-04-20T15:28:32.371Z appoptics:patching patched raw-body 2.5.1
(node:720) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:38.455Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:38.455Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:38.455Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:38.456Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:38.537Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:38.691Z appoptics:patching patched crypto 
2022-04-20T15:28:38.729Z appoptics:patching patched https 
2022-04-20T15:28:38.729Z appoptics:patching patched http 
2022-04-20T15:28:38.767Z appoptics:patching patched zlib 
2022-04-20T15:28:38.775Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:38.776Z appoptics:patching patched fs 
2022-04-20T15:28:38.809Z appoptics:patching patched express 3.2.4
2022-04-20T15:28:38.818Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:38.824Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.4
    ✓ UDP might lose a message
2022-04-20T15:28:38.876Z appoptics:patching patched raw-body 2.5.1
(node:742) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (96ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (273ms)
  2 pending

npm WARN deprecated connect@2.7.10: connect 2.x series is deprecated
npm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau

added 1 package, changed 5 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:45.528Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:45.529Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:45.529Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:45.530Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:45.591Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:45.711Z appoptics:patching patched crypto 
2022-04-20T15:28:45.729Z appoptics:patching patched https 
2022-04-20T15:28:45.730Z appoptics:patching patched http 
2022-04-20T15:28:45.765Z appoptics:patching patched zlib 
2022-04-20T15:28:45.773Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:45.773Z appoptics:patching patched fs 
2022-04-20T15:28:45.804Z appoptics:patching patched express 3.2.5
2022-04-20T15:28:45.808Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:45.814Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.5
    ✓ UDP might lose a message
2022-04-20T15:28:45.847Z appoptics:patching patched raw-body 2.5.1
(node:764) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (199ms)
  2 pending

npm WARN deprecated connect@2.7.11: connect 2.x series is deprecated

added 2 packages, changed 2 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:52.486Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:52.487Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:52.487Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:52.487Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:52.585Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:52.731Z appoptics:patching patched crypto 
2022-04-20T15:28:52.770Z appoptics:patching patched https 
2022-04-20T15:28:52.782Z appoptics:patching patched http 
2022-04-20T15:28:52.809Z appoptics:patching patched zlib 
2022-04-20T15:28:52.818Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:52.819Z appoptics:patching patched fs 
2022-04-20T15:28:52.865Z appoptics:patching patched express 3.2.6
2022-04-20T15:28:52.871Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:52.878Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.6
    ✓ UDP might lose a message
2022-04-20T15:28:52.923Z appoptics:patching patched raw-body 2.5.1
(node:786) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (270ms)
  2 pending

npm WARN deprecated connect@2.8.0: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 4 packages, and audited 921 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:59.020Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:59.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:59.021Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:59.022Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:59.082Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:59.247Z appoptics:patching patched crypto 
2022-04-20T15:28:59.266Z appoptics:patching patched https 
2022-04-20T15:28:59.266Z appoptics:patching patched http 
2022-04-20T15:28:59.313Z appoptics:patching patched zlib 
2022-04-20T15:28:59.321Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:59.322Z appoptics:patching patched fs 
2022-04-20T15:28:59.353Z appoptics:patching patched express 3.3.0
2022-04-20T15:28:59.358Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:59.364Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.0
    ✓ UDP might lose a message
2022-04-20T15:28:59.398Z appoptics:patching patched raw-body 2.5.1
(node:808) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (200ms)
  2 pending

npm WARN deprecated connect@2.8.1: connect 2.x series is deprecated

changed 2 packages, and audited 921 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:06.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:06.410Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:06.410Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:06.410Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:06.470Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:06.587Z appoptics:patching patched crypto 
2022-04-20T15:29:06.605Z appoptics:patching patched https 
2022-04-20T15:29:06.606Z appoptics:patching patched http 
2022-04-20T15:29:06.640Z appoptics:patching patched zlib 
2022-04-20T15:29:06.648Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:06.648Z appoptics:patching patched fs 
2022-04-20T15:29:06.680Z appoptics:patching patched express 3.3.1
2022-04-20T15:29:06.684Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:06.690Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.1
    ✓ UDP might lose a message
2022-04-20T15:29:06.724Z appoptics:patching patched raw-body 2.5.1
(node:830) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated connect@2.8.2: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 3 packages, and audited 921 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:13.028Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:13.029Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:13.029Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:13.030Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:13.089Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:13.204Z appoptics:patching patched crypto 
2022-04-20T15:29:13.222Z appoptics:patching patched https 
2022-04-20T15:29:13.223Z appoptics:patching patched http 
2022-04-20T15:29:13.257Z appoptics:patching patched zlib 
2022-04-20T15:29:13.265Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:13.265Z appoptics:patching patched fs 
2022-04-20T15:29:13.297Z appoptics:patching patched express 3.3.2
2022-04-20T15:29:13.301Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:13.307Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.2
    ✓ UDP might lose a message
2022-04-20T15:29:13.340Z appoptics:patching patched raw-body 2.5.1
(node:852) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (200ms)
  2 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.8.3: connect 2.x series is deprecated

added 1 package, changed 4 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:19.774Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:19.775Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:19.775Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:19.775Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:19.828Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:19.944Z appoptics:patching patched crypto 
2022-04-20T15:29:19.960Z appoptics:patching patched https 
2022-04-20T15:29:19.960Z appoptics:patching patched http 
2022-04-20T15:29:20.006Z appoptics:patching patched zlib 
2022-04-20T15:29:20.014Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:20.014Z appoptics:patching patched fs 
2022-04-20T15:29:20.042Z appoptics:patching patched express 3.3.3
2022-04-20T15:29:20.046Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:20.051Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.3
    ✓ UDP might lose a message
2022-04-20T15:29:20.081Z appoptics:patching patched raw-body 2.5.1
(node:874) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (184ms)
  2 pending

npm WARN deprecated connect@2.8.4: connect 2.x series is deprecated

changed 3 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:25.936Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:25.937Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:25.937Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:25.937Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:25.991Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:26.100Z appoptics:patching patched crypto 
2022-04-20T15:29:26.116Z appoptics:patching patched https 
2022-04-20T15:29:26.117Z appoptics:patching patched http 
2022-04-20T15:29:26.149Z appoptics:patching patched zlib 
2022-04-20T15:29:26.157Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:26.157Z appoptics:patching patched fs 
2022-04-20T15:29:26.186Z appoptics:patching patched express 3.3.4
2022-04-20T15:29:26.190Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:26.195Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.4
    ✓ UDP might lose a message
2022-04-20T15:29:26.226Z appoptics:patching patched raw-body 2.5.1
(node:896) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (192ms)
  2 pending

npm WARN deprecated connect@2.8.5: connect 2.x series is deprecated

changed 4 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:32.972Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:32.972Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:32.972Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:32.973Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:33.046Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:33.163Z appoptics:patching patched crypto 
2022-04-20T15:29:33.181Z appoptics:patching patched https 
2022-04-20T15:29:33.182Z appoptics:patching patched http 
2022-04-20T15:29:33.217Z appoptics:patching patched zlib 
2022-04-20T15:29:33.225Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:33.225Z appoptics:patching patched fs 
2022-04-20T15:29:33.257Z appoptics:patching patched express 3.3.5
2022-04-20T15:29:33.262Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:33.268Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.5
    ✓ UDP might lose a message
2022-04-20T15:29:33.301Z appoptics:patching patched raw-body 2.5.1
(node:918) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (195ms)
  2 pending


changed 1 package, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:38.856Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:38.857Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:38.857Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:38.857Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:38.912Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:39.015Z appoptics:patching patched crypto 
2022-04-20T15:29:39.031Z appoptics:patching patched https 
2022-04-20T15:29:39.032Z appoptics:patching patched http 
2022-04-20T15:29:39.080Z appoptics:patching patched zlib 
2022-04-20T15:29:39.090Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:39.090Z appoptics:patching patched fs 
2022-04-20T15:29:39.130Z appoptics:patching patched express 3.3.6
2022-04-20T15:29:39.134Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:39.146Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.6
    ✓ UDP might lose a message
2022-04-20T15:29:39.197Z appoptics:patching patched raw-body 2.5.1
(node:940) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (96ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN deprecated connect@2.8.7: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:45.951Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:45.951Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:45.951Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:45.952Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:46.012Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:46.132Z appoptics:patching patched crypto 
2022-04-20T15:29:46.150Z appoptics:patching patched https 
2022-04-20T15:29:46.151Z appoptics:patching patched http 
2022-04-20T15:29:46.185Z appoptics:patching patched zlib 
2022-04-20T15:29:46.192Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:46.192Z appoptics:patching patched fs 
2022-04-20T15:29:46.221Z appoptics:patching patched express 3.3.7
2022-04-20T15:29:46.225Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:46.230Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.7
    ✓ UDP might lose a message
2022-04-20T15:29:46.261Z appoptics:patching patched raw-body 2.5.1
(node:962) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (184ms)
  2 pending

npm WARN deprecated connect@2.8.8: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:52.221Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:52.221Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:52.221Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:52.222Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:52.287Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:52.411Z appoptics:patching patched crypto 
2022-04-20T15:29:52.447Z appoptics:patching patched https 
2022-04-20T15:29:52.448Z appoptics:patching patched http 
2022-04-20T15:29:52.482Z appoptics:patching patched zlib 
2022-04-20T15:29:52.490Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:52.490Z appoptics:patching patched fs 
2022-04-20T15:29:52.523Z appoptics:patching patched express 3.3.8
2022-04-20T15:29:52.528Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:52.533Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.8
    ✓ UDP might lose a message
2022-04-20T15:29:52.567Z appoptics:patching patched raw-body 2.5.1
(node:984) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (217ms)
  2 pending

npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.9.0: connect 2.x series is deprecated

added 6 packages, removed 2 packages, changed 3 packages, and audited 926 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:58.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:58.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:58.409Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:58.410Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:58.463Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:58.566Z appoptics:patching patched crypto 
2022-04-20T15:29:58.582Z appoptics:patching patched https 
2022-04-20T15:29:58.582Z appoptics:patching patched http 
2022-04-20T15:29:58.615Z appoptics:patching patched zlib 
2022-04-20T15:29:58.622Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:58.623Z appoptics:patching patched fs 
2022-04-20T15:29:58.657Z appoptics:patching patched express 3.4.0
2022-04-20T15:29:58.661Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:58.666Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.0
    ✓ UDP might lose a message
2022-04-20T15:29:58.698Z appoptics:patching patched raw-body 2.5.1
(node:1006) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (186ms)
  2 pending

npm WARN deprecated connect@2.9.1: connect 2.x series is deprecated

removed 5 packages, changed 5 packages, and audited 921 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:05.184Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:05.184Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:05.184Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:05.185Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:05.250Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:05.369Z appoptics:patching patched crypto 
2022-04-20T15:30:05.403Z appoptics:patching patched https 
2022-04-20T15:30:05.414Z appoptics:patching patched http 
2022-04-20T15:30:05.437Z appoptics:patching patched zlib 
2022-04-20T15:30:05.444Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:05.445Z appoptics:patching patched fs 
2022-04-20T15:30:05.480Z appoptics:patching patched express 3.4.1
2022-04-20T15:30:05.483Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:05.489Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.1
    ✓ UDP might lose a message
2022-04-20T15:30:05.522Z appoptics:patching patched raw-body 2.5.1
(node:1028) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (200ms)
  2 pending

npm WARN deprecated connect@2.9.2: connect 2.x series is deprecated

added 4 packages, changed 4 packages, and audited 925 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:11.551Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:11.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:11.551Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:11.552Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:11.612Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:11.759Z appoptics:patching patched crypto 
2022-04-20T15:30:11.798Z appoptics:patching patched https 
2022-04-20T15:30:11.799Z appoptics:patching patched http 
2022-04-20T15:30:11.836Z appoptics:patching patched zlib 
2022-04-20T15:30:11.843Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:11.844Z appoptics:patching patched fs 
2022-04-20T15:30:11.871Z appoptics:patching patched raw-body 0.0.3
2022-04-20T15:30:11.881Z appoptics:patching patched express 3.4.2
2022-04-20T15:30:11.885Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:11.891Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.2
    ✓ UDP might lose a message
2022-04-20T15:30:11.933Z appoptics:patching patched raw-body 2.5.1
(node:1050) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (320ms)
  2 pending

npm WARN deprecated connect@2.10.1: connect 2.x series is deprecated

changed 2 packages, and audited 925 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:18.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:18.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:18.352Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:18.352Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:18.412Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:18.527Z appoptics:patching patched crypto 
2022-04-20T15:30:18.545Z appoptics:patching patched https 
2022-04-20T15:30:18.546Z appoptics:patching patched http 
2022-04-20T15:30:18.580Z appoptics:patching patched zlib 
2022-04-20T15:30:18.588Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:18.588Z appoptics:patching patched fs 
2022-04-20T15:30:18.614Z appoptics:patching patched raw-body 0.0.3
2022-04-20T15:30:18.625Z appoptics:patching patched express 3.4.3
2022-04-20T15:30:18.630Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:18.636Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.3
    ✓ UDP might lose a message
2022-04-20T15:30:18.670Z appoptics:patching patched raw-body 2.5.1
(node:1072) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (195ms)
  2 pending

npm WARN deprecated connect@2.11.0: connect 2.x series is deprecated

changed 6 packages, and audited 925 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:24.512Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:24.513Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:24.513Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:24.513Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:24.568Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:24.681Z appoptics:patching patched crypto 
2022-04-20T15:30:24.698Z appoptics:patching patched https 
2022-04-20T15:30:24.699Z appoptics:patching patched http 
2022-04-20T15:30:24.735Z appoptics:patching patched zlib 
2022-04-20T15:30:24.743Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:24.744Z appoptics:patching patched fs 
2022-04-20T15:30:24.767Z appoptics:patching patched raw-body 0.0.3
2022-04-20T15:30:24.777Z appoptics:patching patched express 3.4.4
2022-04-20T15:30:24.781Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:24.787Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.4
    ✓ UDP might lose a message
2022-04-20T15:30:24.820Z appoptics:patching patched raw-body 2.5.1
(node:1094) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated connect@2.11.1: connect 2.x series is deprecated

added 2 packages, changed 4 packages, and audited 927 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:31.072Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:31.072Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:31.072Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:31.073Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:31.126Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:31.230Z appoptics:patching patched crypto 
2022-04-20T15:30:31.246Z appoptics:patching patched https 
2022-04-20T15:30:31.247Z appoptics:patching patched http 
2022-04-20T15:30:31.279Z appoptics:patching patched zlib 
2022-04-20T15:30:31.285Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:31.285Z appoptics:patching patched fs 
2022-04-20T15:30:31.311Z appoptics:patching patched raw-body 1.1.1
2022-04-20T15:30:31.321Z appoptics:patching patched express 3.4.5
2022-04-20T15:30:31.325Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:31.330Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.5
    ✓ UDP might lose a message
2022-04-20T15:30:31.361Z appoptics:patching patched raw-body 2.5.1
(node:1116) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (190ms)
  2 pending

npm WARN deprecated connect@2.11.2: connect 2.x series is deprecated

changed 3 packages, and audited 927 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:37.096Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:37.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:37.096Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:37.097Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:37.157Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:37.273Z appoptics:patching patched crypto 
2022-04-20T15:30:37.292Z appoptics:patching patched https 
2022-04-20T15:30:37.292Z appoptics:patching patched http 
2022-04-20T15:30:37.327Z appoptics:patching patched zlib 
2022-04-20T15:30:37.334Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:37.334Z appoptics:patching patched fs 
2022-04-20T15:30:37.362Z appoptics:patching patched raw-body 1.1.2
2022-04-20T15:30:37.373Z appoptics:patching patched express 3.4.6
2022-04-20T15:30:37.377Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:37.383Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.6
    ✓ UDP might lose a message
2022-04-20T15:30:37.419Z appoptics:patching patched raw-body 2.5.1
(node:1138) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (209ms)
  2 pending

npm WARN deprecated connect@2.12.0: connect 2.x series is deprecated

added 2 packages, changed 3 packages, and audited 929 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:43.956Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:43.956Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:43.956Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:43.957Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:44.017Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:44.133Z appoptics:patching patched crypto 
2022-04-20T15:30:44.151Z appoptics:patching patched https 
2022-04-20T15:30:44.151Z appoptics:patching patched http 
2022-04-20T15:30:44.185Z appoptics:patching patched zlib 
2022-04-20T15:30:44.192Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:44.192Z appoptics:patching patched fs 
2022-04-20T15:30:44.220Z appoptics:patching patched raw-body 1.1.2
2022-04-20T15:30:44.232Z appoptics:patching patched express 3.4.7
2022-04-20T15:30:44.236Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:44.242Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.7
    ✓ UDP might lose a message
2022-04-20T15:30:44.277Z appoptics:patching patched raw-body 2.5.1
(node:1160) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (203ms)
  2 pending


changed 1 package, and audited 929 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:49.778Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:49.779Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:49.779Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:49.779Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:49.833Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:49.937Z appoptics:patching patched crypto 
2022-04-20T15:30:49.953Z appoptics:patching patched https 
2022-04-20T15:30:49.953Z appoptics:patching patched http 
2022-04-20T15:30:49.985Z appoptics:patching patched zlib 
2022-04-20T15:30:49.991Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:49.992Z appoptics:patching patched fs 
2022-04-20T15:30:50.017Z appoptics:patching patched raw-body 1.1.2
2022-04-20T15:30:50.027Z appoptics:patching patched express 3.4.8
2022-04-20T15:30:50.030Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:50.036Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.8
    ✓ UDP might lose a message
2022-04-20T15:30:50.068Z appoptics:patching patched raw-body 2.5.1
(node:1182) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated static-favicon@1.0.0: use serve-favicon module
npm WARN deprecated connect@2.14.1: connect 2.x series is deprecated

added 22 packages, removed 1 package, changed 10 packages, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:57.400Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:57.401Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:57.401Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:57.401Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:57.455Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:57.562Z appoptics:patching patched crypto 
2022-04-20T15:30:57.579Z appoptics:patching patched https 
2022-04-20T15:30:57.579Z appoptics:patching patched http 
2022-04-20T15:30:57.612Z appoptics:patching patched zlib 
2022-04-20T15:30:57.618Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:57.619Z appoptics:patching patched fs 
2022-04-20T15:30:57.646Z appoptics:patching patched raw-body 1.1.3
2022-04-20T15:30:57.660Z appoptics:patching patched morgan 1.0.0
2022-04-20T15:30:57.666Z appoptics:patching patched express 3.5.0
2022-04-20T15:30:57.670Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:57.676Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.0
    ✓ UDP might lose a message
2022-04-20T15:30:57.707Z appoptics:patching patched raw-body 2.5.1
(node:1204) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (181ms)
  2 pending


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:03.604Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:03.605Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:03.605Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:03.606Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:03.660Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:03.765Z appoptics:patching patched crypto 
2022-04-20T15:31:03.781Z appoptics:patching patched https 
2022-04-20T15:31:03.782Z appoptics:patching patched http 
2022-04-20T15:31:03.814Z appoptics:patching patched zlib 
2022-04-20T15:31:03.820Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:03.820Z appoptics:patching patched fs 
2022-04-20T15:31:03.846Z appoptics:patching patched raw-body 1.1.3
2022-04-20T15:31:03.859Z appoptics:patching patched morgan 1.0.0
2022-04-20T15:31:03.865Z appoptics:patching patched express 3.5.1
2022-04-20T15:31:03.869Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:03.874Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.1
    ✓ UDP might lose a message
2022-04-20T15:31:03.905Z appoptics:patching patched raw-body 2.5.1
(node:1226) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (183ms)
  2 pending

npm WARN deprecated static-favicon@1.0.2: use serve-favicon module
npm WARN deprecated scmp@0.0.3: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.14.5: connect 2.x series is deprecated

added 5 packages, changed 10 packages, and audited 955 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:09.990Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:09.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:09.991Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:09.992Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:10.046Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:10.152Z appoptics:patching patched crypto 
2022-04-20T15:31:10.168Z appoptics:patching patched https 
2022-04-20T15:31:10.169Z appoptics:patching patched http 
2022-04-20T15:31:10.199Z appoptics:patching patched zlib 
2022-04-20T15:31:10.205Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:10.205Z appoptics:patching patched fs 
2022-04-20T15:31:10.232Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:31:10.245Z appoptics:patching patched morgan 1.0.0
2022-04-20T15:31:10.254Z appoptics:patching patched express 3.5.2
2022-04-20T15:31:10.257Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:10.263Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.2
    ✓ UDP might lose a message
2022-04-20T15:31:10.293Z appoptics:patching patched raw-body 2.5.1
(node:1248) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (192ms)
  2 pending

npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 955 packages in 21s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:31.874Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:31.875Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:31.875Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:31.876Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:31.937Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:32.049Z appoptics:patching patched crypto 
2022-04-20T15:31:32.066Z appoptics:patching patched https 
2022-04-20T15:31:32.067Z appoptics:patching patched http 
2022-04-20T15:31:32.097Z appoptics:patching patched zlib 
2022-04-20T15:31:32.103Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:32.104Z appoptics:patching patched fs 
2022-04-20T15:31:32.129Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:31:32.143Z appoptics:patching patched morgan 1.0.0
2022-04-20T15:31:32.151Z appoptics:patching patched express 3.5.3
2022-04-20T15:31:32.155Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:32.161Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.3
    ✓ UDP might lose a message
2022-04-20T15:31:32.191Z appoptics:patching patched raw-body 2.5.1
(node:1270) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (213ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.15.0: connect 2.x series is deprecated

added 3 packages, removed 5 packages, changed 14 packages, and audited 953 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (3 low, 11 moderate, 11 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:38.791Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:38.792Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:38.792Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:38.793Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:38.872Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:39.008Z appoptics:patching patched crypto 
2022-04-20T15:31:39.048Z appoptics:patching patched https 
2022-04-20T15:31:39.061Z appoptics:patching patched http 
2022-04-20T15:31:39.087Z appoptics:patching patched zlib 
2022-04-20T15:31:39.094Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:39.095Z appoptics:patching patched fs 
2022-04-20T15:31:39.129Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:31:39.144Z appoptics:patching patched morgan 1.0.1
2022-04-20T15:31:39.150Z appoptics:patching patched express 3.6.0
2022-04-20T15:31:39.156Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:39.176Z appoptics:debug starting runtimeMetrics


  probes.express 3.6.0
    ✓ UDP might lose a message
2022-04-20T15:31:39.214Z appoptics:patching patched raw-body 2.5.1
(node:1292) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (217ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.16.2: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 10 packages, and audited 962 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:46.083Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:46.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:46.084Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:46.085Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:46.141Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:46.247Z appoptics:patching patched crypto 
2022-04-20T15:31:46.263Z appoptics:patching patched https 
2022-04-20T15:31:46.263Z appoptics:patching patched http 
2022-04-20T15:31:46.295Z appoptics:patching patched zlib 
2022-04-20T15:31:46.301Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:46.301Z appoptics:patching patched fs 
2022-04-20T15:31:46.334Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:31:46.346Z appoptics:patching patched morgan 1.0.1
2022-04-20T15:31:46.353Z appoptics:patching patched express 3.7.0
2022-04-20T15:31:46.359Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:46.364Z appoptics:debug starting runtimeMetrics


  probes.express 3.7.0
    ✓ UDP might lose a message
2022-04-20T15:31:46.395Z appoptics:patching patched raw-body 2.5.1
(node:1314) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (178ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.1: connect 2.x series is deprecated

removed 1 package, changed 6 packages, and audited 961 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:52.817Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:52.817Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:52.817Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:52.818Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:52.878Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:52.998Z appoptics:patching patched crypto 
2022-04-20T15:31:53.023Z appoptics:patching patched https 
2022-04-20T15:31:53.024Z appoptics:patching patched http 
2022-04-20T15:31:53.094Z appoptics:patching patched zlib 
2022-04-20T15:31:53.101Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:53.101Z appoptics:patching patched fs 
2022-04-20T15:31:53.150Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:31:53.171Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:31:53.180Z appoptics:patching patched express 3.8.0
2022-04-20T15:31:53.186Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:53.192Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.0
    ✓ UDP might lose a message
2022-04-20T15:31:53.244Z appoptics:patching patched raw-body 2.5.1
(node:1336) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.3: connect 2.x series is deprecated

removed 1 package, changed 7 packages, and audited 960 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 12 moderate, 13 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:59.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:59.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:59.085Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:59.085Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:59.139Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:59.246Z appoptics:patching patched crypto 
2022-04-20T15:31:59.262Z appoptics:patching patched https 
2022-04-20T15:31:59.263Z appoptics:patching patched http 
2022-04-20T15:31:59.294Z appoptics:patching patched zlib 
2022-04-20T15:31:59.301Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:59.301Z appoptics:patching patched fs 
2022-04-20T15:31:59.334Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:31:59.347Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:31:59.354Z appoptics:patching patched express 3.8.1
2022-04-20T15:31:59.360Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:59.365Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.1
    ✓ UDP might lose a message
2022-04-20T15:31:59.398Z appoptics:patching patched raw-body 2.5.1
(node:1358) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (182ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.18.0: connect 2.x series is deprecated

added 4 packages, removed 3 packages, changed 12 packages, and audited 961 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:06.331Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:06.332Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:06.332Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:06.333Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:06.387Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:06.494Z appoptics:patching patched crypto 
2022-04-20T15:32:06.510Z appoptics:patching patched https 
2022-04-20T15:32:06.511Z appoptics:patching patched http 
2022-04-20T15:32:06.545Z appoptics:patching patched zlib 
2022-04-20T15:32:06.552Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:06.552Z appoptics:patching patched fs 
2022-04-20T15:32:06.581Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:32:06.594Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:06.601Z appoptics:patching patched express 3.9.0
2022-04-20T15:32:06.607Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:06.612Z appoptics:debug starting runtimeMetrics


  probes.express 3.9.0
    ✓ UDP might lose a message
2022-04-20T15:32:06.643Z appoptics:patching patched raw-body 2.5.1
(node:1380) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (180ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.1: connect 2.x series is deprecated

added 2 packages, changed 12 packages, and audited 963 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:12.270Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:12.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:12.270Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:12.271Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:12.326Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:12.433Z appoptics:patching patched crypto 
2022-04-20T15:32:12.449Z appoptics:patching patched https 
2022-04-20T15:32:12.449Z appoptics:patching patched http 
2022-04-20T15:32:12.481Z appoptics:patching patched zlib 
2022-04-20T15:32:12.489Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:12.489Z appoptics:patching patched fs 
2022-04-20T15:32:12.518Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:32:12.530Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:12.538Z appoptics:patching patched express 3.10.0
2022-04-20T15:32:12.543Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:12.548Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.0
    ✓ UDP might lose a message
2022-04-20T15:32:12.579Z appoptics:patching patched raw-body 2.5.1
(node:1402) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (180ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.2: connect 2.x series is deprecated

changed 5 packages, and audited 963 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:18.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:18.963Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:18.963Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:18.963Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:19.018Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:19.130Z appoptics:patching patched crypto 
2022-04-20T15:32:19.146Z appoptics:patching patched https 
2022-04-20T15:32:19.147Z appoptics:patching patched http 
2022-04-20T15:32:19.178Z appoptics:patching patched zlib 
2022-04-20T15:32:19.185Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:19.186Z appoptics:patching patched fs 
2022-04-20T15:32:19.214Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:32:19.227Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:19.234Z appoptics:patching patched express 3.10.1
2022-04-20T15:32:19.240Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:19.245Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.1
    ✓ UDP might lose a message
2022-04-20T15:32:19.277Z appoptics:patching patched raw-body 2.5.1
(node:1424) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (180ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.3: connect 2.x series is deprecated

changed 4 packages, and audited 963 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:25.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:25.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:25.326Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:25.327Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:25.380Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:25.485Z appoptics:patching patched crypto 
2022-04-20T15:32:25.504Z appoptics:patching patched https 
2022-04-20T15:32:25.505Z appoptics:patching patched http 
2022-04-20T15:32:25.537Z appoptics:patching patched zlib 
2022-04-20T15:32:25.545Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:25.545Z appoptics:patching patched fs 
2022-04-20T15:32:25.575Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:32:25.587Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:25.595Z appoptics:patching patched express 3.10.2
2022-04-20T15:32:25.600Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:25.606Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.2
    ✓ UDP might lose a message
2022-04-20T15:32:25.638Z appoptics:patching patched raw-body 2.5.1
(node:1446) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (181ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.4: connect 2.x series is deprecated

added 3 packages, changed 8 packages, and audited 966 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:32.404Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:32.405Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:32.405Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:32.406Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:32.461Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:32.569Z appoptics:patching patched crypto 
2022-04-20T15:32:32.586Z appoptics:patching patched https 
2022-04-20T15:32:32.586Z appoptics:patching patched http 
2022-04-20T15:32:32.620Z appoptics:patching patched zlib 
2022-04-20T15:32:32.627Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:32.628Z appoptics:patching patched fs 
2022-04-20T15:32:32.658Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:32:32.671Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:32.679Z appoptics:patching patched express 3.10.3
2022-04-20T15:32:32.685Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:32.690Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.3
    ✓ UDP might lose a message
2022-04-20T15:32:32.723Z appoptics:patching patched raw-body 2.5.1
(node:1468) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (187ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.5: connect 2.x series is deprecated

added 6 packages, changed 11 packages, and audited 972 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:39.282Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:39.282Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:39.282Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:39.283Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:39.354Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:39.473Z appoptics:patching patched crypto 
2022-04-20T15:32:39.508Z appoptics:patching patched https 
2022-04-20T15:32:39.508Z appoptics:patching patched http 
2022-04-20T15:32:39.541Z appoptics:patching patched zlib 
2022-04-20T15:32:39.553Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:39.553Z appoptics:patching patched fs 
2022-04-20T15:32:39.590Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:32:39.613Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:39.618Z appoptics:patching patched express 3.10.4
2022-04-20T15:32:39.624Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:39.634Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.4
    ✓ UDP might lose a message
2022-04-20T15:32:39.665Z appoptics:patching patched raw-body 2.5.1
(node:1490) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (216ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.6: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 15 packages, and audited 972 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (2 low, 11 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:45.738Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:45.738Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:45.738Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:45.739Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:45.793Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:45.919Z appoptics:patching patched crypto 
2022-04-20T15:32:45.951Z appoptics:patching patched https 
2022-04-20T15:32:45.952Z appoptics:patching patched http 
2022-04-20T15:32:45.994Z appoptics:patching patched zlib 
2022-04-20T15:32:46.006Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:46.006Z appoptics:patching patched fs 
2022-04-20T15:32:46.039Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:32:46.054Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:46.060Z appoptics:patching patched express 3.10.5
2022-04-20T15:32:46.065Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:46.073Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.5
    ✓ UDP might lose a message
2022-04-20T15:32:46.107Z appoptics:patching patched raw-body 2.5.1
(node:1512) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (189ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.
npm WARN deprecated connect@2.20.2: connect 2.x series is deprecated

added 14 packages, removed 2 packages, changed 20 packages, and audited 984 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 11 moderate, 21 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:53.284Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:53.285Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:53.285Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:53.286Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:53.340Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:53.446Z appoptics:patching patched crypto 
2022-04-20T15:32:53.463Z appoptics:patching patched https 
2022-04-20T15:32:53.464Z appoptics:patching patched http 
2022-04-20T15:32:53.496Z appoptics:patching patched zlib 
2022-04-20T15:32:53.512Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:53.512Z appoptics:patching patched fs 
2022-04-20T15:32:53.555Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:53.565Z appoptics:patching patched express 3.11.0
2022-04-20T15:32:53.570Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:53.575Z appoptics:debug starting runtimeMetrics


  probes.express 3.11.0
    ✓ UDP might lose a message
2022-04-20T15:32:53.608Z appoptics:patching patched raw-body 2.5.1
(node:1534) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (207ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.0: connect 2.x series is deprecated

added 15 packages, removed 2 packages, changed 12 packages, and audited 997 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 10 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:59.541Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:59.542Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:59.542Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:59.543Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:59.598Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:59.733Z appoptics:patching patched crypto 
2022-04-20T15:32:59.762Z appoptics:patching patched https 
2022-04-20T15:32:59.769Z appoptics:patching patched http 
2022-04-20T15:32:59.791Z appoptics:patching patched zlib 
2022-04-20T15:32:59.808Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:59.808Z appoptics:patching patched fs 
2022-04-20T15:32:59.864Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:32:59.873Z appoptics:patching patched express 3.12.0
2022-04-20T15:32:59.878Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:59.883Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.0
    ✓ UDP might lose a message
2022-04-20T15:32:59.918Z appoptics:patching patched raw-body 2.5.1
(node:1556) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (210ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.1: connect 2.x series is deprecated

added 2 packages, removed 2 packages, changed 6 packages, and audited 997 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:06.489Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:06.490Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:06.490Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:06.491Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:06.545Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:06.652Z appoptics:patching patched crypto 
2022-04-20T15:33:06.668Z appoptics:patching patched https 
2022-04-20T15:33:06.668Z appoptics:patching patched http 
2022-04-20T15:33:06.699Z appoptics:patching patched zlib 
2022-04-20T15:33:06.715Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:06.716Z appoptics:patching patched fs 
2022-04-20T15:33:06.761Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:33:06.770Z appoptics:patching patched express 3.12.1
2022-04-20T15:33:06.776Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:06.781Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.1
    ✓ UDP might lose a message
2022-04-20T15:33:06.812Z appoptics:patching patched raw-body 2.5.1
(node:1578) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (187ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.22.0: connect 2.x series is deprecated

added 8 packages, removed 1 package, changed 10 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:12.863Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:12.863Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:12.863Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:12.864Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:12.918Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:13.027Z appoptics:patching patched crypto 
2022-04-20T15:33:13.051Z appoptics:patching patched https 
2022-04-20T15:33:13.052Z appoptics:patching patched http 
2022-04-20T15:33:13.074Z appoptics:patching patched zlib 
2022-04-20T15:33:13.089Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:13.090Z appoptics:patching patched fs 
2022-04-20T15:33:13.147Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:33:13.156Z appoptics:patching patched express 3.13.0
2022-04-20T15:33:13.161Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:13.166Z appoptics:debug starting runtimeMetrics


  probes.express 3.13.0
    ✓ UDP might lose a message
2022-04-20T15:33:13.195Z appoptics:patching patched raw-body 2.5.1
(node:1600) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (182ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.23.0: connect 2.x series is deprecated

added 3 packages, removed 1 package, changed 10 packages, and audited 1006 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:19.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:19.623Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:19.623Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:19.624Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:19.679Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:19.790Z appoptics:patching patched crypto 
2022-04-20T15:33:19.806Z appoptics:patching patched https 
2022-04-20T15:33:19.807Z appoptics:patching patched http 
2022-04-20T15:33:19.844Z appoptics:patching patched zlib 
2022-04-20T15:33:19.860Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:19.861Z appoptics:patching patched fs 
2022-04-20T15:33:19.919Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:33:19.930Z appoptics:patching patched express 3.14.0
2022-04-20T15:33:19.935Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:19.940Z appoptics:debug starting runtimeMetrics


  probes.express 3.14.0
    ✓ UDP might lose a message
2022-04-20T15:33:19.969Z appoptics:patching patched raw-body 2.5.1
(node:1622) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (189ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.0: connect 2.x series is deprecated

added 8 packages, removed 3 packages, changed 26 packages, and audited 1011 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:26.339Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:26.340Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:26.340Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:26.340Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:26.408Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:26.523Z appoptics:patching patched crypto 
2022-04-20T15:33:26.550Z appoptics:patching patched https 
2022-04-20T15:33:26.550Z appoptics:patching patched http 
2022-04-20T15:33:26.588Z appoptics:patching patched zlib 
2022-04-20T15:33:26.605Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:26.606Z appoptics:patching patched fs 
2022-04-20T15:33:26.683Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:33:26.693Z appoptics:patching patched express 3.15.0
2022-04-20T15:33:26.698Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:26.704Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.0
    ✓ UDP might lose a message
2022-04-20T15:33:26.735Z appoptics:patching patched raw-body 2.5.1
(node:1644) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (208ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.1: connect 2.x series is deprecated

changed 7 packages, and audited 1011 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:32.869Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:32.869Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:32.870Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:32.870Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:32.924Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:33.033Z appoptics:patching patched crypto 
2022-04-20T15:33:33.049Z appoptics:patching patched https 
2022-04-20T15:33:33.050Z appoptics:patching patched http 
2022-04-20T15:33:33.086Z appoptics:patching patched zlib 
2022-04-20T15:33:33.102Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:33.103Z appoptics:patching patched fs 
2022-04-20T15:33:33.164Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:33:33.173Z appoptics:patching patched express 3.15.1
2022-04-20T15:33:33.178Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:33.183Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.1
    ✓ UDP might lose a message
2022-04-20T15:33:33.212Z appoptics:patching patched raw-body 2.5.1
(node:1666) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (187ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.2: connect 2.x series is deprecated

removed 2 packages, changed 7 packages, and audited 1009 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:39.119Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:39.120Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:39.120Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:39.121Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:39.192Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:39.321Z appoptics:patching patched crypto 
2022-04-20T15:33:39.367Z appoptics:patching patched https 
2022-04-20T15:33:39.367Z appoptics:patching patched http 
2022-04-20T15:33:39.391Z appoptics:patching patched zlib 
2022-04-20T15:33:39.410Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:39.410Z appoptics:patching patched fs 
2022-04-20T15:33:39.497Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:33:39.508Z appoptics:patching patched express 3.15.2
2022-04-20T15:33:39.514Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:39.519Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.2
    ✓ UDP might lose a message
2022-04-20T15:33:39.555Z appoptics:patching patched raw-body 2.5.1
(node:1688) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.3: connect 2.x series is deprecated

removed 5 packages, changed 4 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:46.002Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:46.003Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:46.003Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:46.004Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:46.065Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:46.184Z appoptics:patching patched crypto 
2022-04-20T15:33:46.215Z appoptics:patching patched https 
2022-04-20T15:33:46.229Z appoptics:patching patched http 
2022-04-20T15:33:46.254Z appoptics:patching patched zlib 
2022-04-20T15:33:46.272Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:46.272Z appoptics:patching patched fs 
2022-04-20T15:33:46.326Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:33:46.337Z appoptics:patching patched express 3.15.3
2022-04-20T15:33:46.342Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:46.348Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.3
    ✓ UDP might lose a message
2022-04-20T15:33:46.381Z appoptics:patching patched raw-body 2.5.1
(node:1710) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (203ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated connect@2.25.0: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 11 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:53.231Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:53.231Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:53.232Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:53.232Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:53.292Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:53.410Z appoptics:patching patched crypto 
2022-04-20T15:33:53.428Z appoptics:patching patched https 
2022-04-20T15:33:53.429Z appoptics:patching patched http 
2022-04-20T15:33:53.464Z appoptics:patching patched zlib 
2022-04-20T15:33:53.482Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:53.482Z appoptics:patching patched fs 
2022-04-20T15:33:53.551Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:33:53.562Z appoptics:patching patched express 3.16.0
2022-04-20T15:33:53.567Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:53.573Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.0
    ✓ UDP might lose a message
2022-04-20T15:33:53.611Z appoptics:patching patched raw-body 2.5.1
(node:1732) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (228ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.1: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:59.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:59.980Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:59.980Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:59.981Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:00.041Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:00.159Z appoptics:patching patched crypto 
2022-04-20T15:34:00.184Z appoptics:patching patched https 
2022-04-20T15:34:00.185Z appoptics:patching patched http 
2022-04-20T15:34:00.215Z appoptics:patching patched zlib 
2022-04-20T15:34:00.233Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:00.233Z appoptics:patching patched fs 
2022-04-20T15:34:00.301Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:00.311Z appoptics:patching patched express 3.16.1
2022-04-20T15:34:00.316Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:00.321Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.1
    ✓ UDP might lose a message
2022-04-20T15:34:00.351Z appoptics:patching patched raw-body 2.5.1
(node:1754) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (188ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:07.148Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:07.148Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:07.148Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:07.149Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:07.204Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:07.312Z appoptics:patching patched crypto 
2022-04-20T15:34:07.328Z appoptics:patching patched https 
2022-04-20T15:34:07.329Z appoptics:patching patched http 
2022-04-20T15:34:07.360Z appoptics:patching patched zlib 
2022-04-20T15:34:07.377Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:07.377Z appoptics:patching patched fs 
2022-04-20T15:34:07.439Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:07.449Z appoptics:patching patched express 3.16.2
2022-04-20T15:34:07.454Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:07.459Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.2
    ✓ UDP might lose a message
2022-04-20T15:34:07.488Z appoptics:patching patched raw-body 2.5.1
(node:1776) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (191ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.3: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:13.779Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:13.779Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:13.779Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:13.780Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:13.851Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:13.986Z appoptics:patching patched crypto 
2022-04-20T15:34:14.030Z appoptics:patching patched https 
2022-04-20T15:34:14.030Z appoptics:patching patched http 
2022-04-20T15:34:14.058Z appoptics:patching patched zlib 
2022-04-20T15:34:14.076Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:14.076Z appoptics:patching patched fs 
2022-04-20T15:34:14.159Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:14.170Z appoptics:patching patched express 3.16.3
2022-04-20T15:34:14.176Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:14.181Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.3
    ✓ UDP might lose a message
2022-04-20T15:34:14.214Z appoptics:patching patched raw-body 2.5.1
(node:1798) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (224ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.4: connect 2.x series is deprecated

removed 10 packages, changed 7 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:21.489Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:21.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:21.489Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:21.490Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:21.545Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:21.660Z appoptics:patching patched crypto 
2022-04-20T15:34:21.677Z appoptics:patching patched https 
2022-04-20T15:34:21.678Z appoptics:patching patched http 
2022-04-20T15:34:21.711Z appoptics:patching patched zlib 
2022-04-20T15:34:21.729Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:21.730Z appoptics:patching patched fs 
2022-04-20T15:34:21.798Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:21.807Z appoptics:patching patched express 3.16.4
2022-04-20T15:34:21.812Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:21.818Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.4
    ✓ UDP might lose a message
2022-04-20T15:34:21.849Z appoptics:patching patched raw-body 2.5.1
(node:1820) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (207ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.5: connect 2.x series is deprecated

changed 3 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:29.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:29.049Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:29.049Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:29.049Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:29.110Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:29.232Z appoptics:patching patched crypto 
2022-04-20T15:34:29.249Z appoptics:patching patched https 
2022-04-20T15:34:29.250Z appoptics:patching patched http 
2022-04-20T15:34:29.286Z appoptics:patching patched zlib 
2022-04-20T15:34:29.304Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:29.305Z appoptics:patching patched fs 
2022-04-20T15:34:29.372Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:29.383Z appoptics:patching patched express 3.16.5
2022-04-20T15:34:29.388Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:29.393Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.5
    ✓ UDP might lose a message
2022-04-20T15:34:29.425Z appoptics:patching patched raw-body 2.5.1
(node:1842) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.6: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:35.914Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:35.914Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:35.914Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:35.915Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:36.037Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:36.161Z appoptics:patching patched crypto 
2022-04-20T15:34:36.179Z appoptics:patching patched https 
2022-04-20T15:34:36.179Z appoptics:patching patched http 
2022-04-20T15:34:36.211Z appoptics:patching patched zlib 
2022-04-20T15:34:36.228Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:36.228Z appoptics:patching patched fs 
2022-04-20T15:34:36.292Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:36.301Z appoptics:patching patched express 3.16.6
2022-04-20T15:34:36.306Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:36.311Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.6
    ✓ UDP might lose a message
2022-04-20T15:34:36.342Z appoptics:patching patched raw-body 2.5.1
(node:1864) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (231ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.7: connect 2.x series is deprecated

added 3 packages, removed 3 packages, changed 4 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:43.470Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:43.471Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:43.471Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:43.471Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:43.532Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:43.650Z appoptics:patching patched crypto 
2022-04-20T15:34:43.668Z appoptics:patching patched https 
2022-04-20T15:34:43.669Z appoptics:patching patched http 
2022-04-20T15:34:43.703Z appoptics:patching patched zlib 
2022-04-20T15:34:43.721Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:43.721Z appoptics:patching patched fs 
2022-04-20T15:34:43.789Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:43.799Z appoptics:patching patched express 3.16.7
2022-04-20T15:34:43.804Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:43.809Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.7
    ✓ UDP might lose a message
2022-04-20T15:34:43.845Z appoptics:patching patched raw-body 2.5.1
(node:1886) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (85ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (239ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.8: connect 2.x series is deprecated

changed 4 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:50.212Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:50.213Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:50.213Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:50.213Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:50.267Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:50.380Z appoptics:patching patched crypto 
2022-04-20T15:34:50.397Z appoptics:patching patched https 
2022-04-20T15:34:50.398Z appoptics:patching patched http 
2022-04-20T15:34:50.430Z appoptics:patching patched zlib 
2022-04-20T15:34:50.446Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:50.446Z appoptics:patching patched fs 
2022-04-20T15:34:50.508Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:50.518Z appoptics:patching patched express 3.16.8
2022-04-20T15:34:50.523Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:50.528Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.8
    ✓ UDP might lose a message
2022-04-20T15:34:50.588Z appoptics:patching patched raw-body 2.5.1
(node:1908) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (247ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.9: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1003 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:57.499Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:57.500Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:57.500Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:57.500Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:57.556Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:57.665Z appoptics:patching patched crypto 
2022-04-20T15:34:57.681Z appoptics:patching patched https 
2022-04-20T15:34:57.682Z appoptics:patching patched http 
2022-04-20T15:34:57.715Z appoptics:patching patched zlib 
2022-04-20T15:34:57.732Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:57.732Z appoptics:patching patched fs 
2022-04-20T15:34:57.795Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:34:57.804Z appoptics:patching patched express 3.16.9
2022-04-20T15:34:57.809Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:57.814Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.9
    ✓ UDP might lose a message
2022-04-20T15:34:57.843Z appoptics:patching patched raw-body 2.5.1
(node:1930) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.10: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 995 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:04.634Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:04.634Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:04.634Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:04.635Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:04.689Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:04.802Z appoptics:patching patched crypto 
2022-04-20T15:35:04.818Z appoptics:patching patched https 
2022-04-20T15:35:04.819Z appoptics:patching patched http 
2022-04-20T15:35:04.850Z appoptics:patching patched zlib 
2022-04-20T15:35:04.867Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:04.867Z appoptics:patching patched fs 
2022-04-20T15:35:04.919Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:35:04.929Z appoptics:patching patched express 3.16.10
2022-04-20T15:35:04.934Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:04.942Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.10
    ✓ UDP might lose a message
2022-04-20T15:35:04.982Z appoptics:patching patched raw-body 2.5.1
(node:1952) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (214ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.0: connect 2.x series is deprecated

added 24 packages, removed 3 packages, changed 38 packages, and audited 1016 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:12.087Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:12.088Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:12.088Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:12.088Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:12.142Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:12.250Z appoptics:patching patched crypto 
2022-04-20T15:35:12.267Z appoptics:patching patched https 
2022-04-20T15:35:12.268Z appoptics:patching patched http 
2022-04-20T15:35:12.300Z appoptics:patching patched zlib 
2022-04-20T15:35:12.317Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:12.318Z appoptics:patching patched fs 
2022-04-20T15:35:12.404Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:35:12.413Z appoptics:patching patched express 3.17.0
2022-04-20T15:35:12.418Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:12.424Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.0
    ✓ UDP might lose a message
2022-04-20T15:35:12.456Z appoptics:patching patched raw-body 2.5.1
(node:1974) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1016 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:19.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:19.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:19.524Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:19.525Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:19.586Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:19.708Z appoptics:patching patched crypto 
2022-04-20T15:35:19.726Z appoptics:patching patched https 
2022-04-20T15:35:19.727Z appoptics:patching patched http 
2022-04-20T15:35:19.762Z appoptics:patching patched zlib 
2022-04-20T15:35:19.780Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:19.781Z appoptics:patching patched fs 
2022-04-20T15:35:19.866Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:35:19.876Z appoptics:patching patched express 3.17.1
2022-04-20T15:35:19.881Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:19.886Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.1
    ✓ UDP might lose a message
2022-04-20T15:35:19.920Z appoptics:patching patched raw-body 2.5.1
(node:1996) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (204ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.1: connect 2.x series is deprecated

removed 3 packages, changed 7 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:27.111Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:27.111Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:27.111Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:27.112Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:27.186Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:27.335Z appoptics:patching patched crypto 
2022-04-20T15:35:27.387Z appoptics:patching patched https 
2022-04-20T15:35:27.388Z appoptics:patching patched http 
2022-04-20T15:35:27.414Z appoptics:patching patched zlib 
2022-04-20T15:35:27.440Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:27.440Z appoptics:patching patched fs 
2022-04-20T15:35:27.543Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:35:27.554Z appoptics:patching patched express 3.17.2
2022-04-20T15:35:27.559Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:27.565Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.2
    ✓ UDP might lose a message
2022-04-20T15:35:27.625Z appoptics:patching patched raw-body 2.5.1
(node:2018) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

added 1 package, changed 4 packages, and audited 1014 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:34.566Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:34.567Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:34.567Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:34.567Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:34.652Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:34.784Z appoptics:patching patched crypto 
2022-04-20T15:35:34.802Z appoptics:patching patched https 
2022-04-20T15:35:34.803Z appoptics:patching patched http 
2022-04-20T15:35:34.839Z appoptics:patching patched zlib 
2022-04-20T15:35:34.858Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:34.859Z appoptics:patching patched fs 
2022-04-20T15:35:34.944Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:35:34.954Z appoptics:patching patched express 3.17.3
2022-04-20T15:35:34.959Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:34.965Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.3
    ✓ UDP might lose a message
2022-04-20T15:35:34.997Z appoptics:patching patched raw-body 2.5.1
(node:2040) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.2: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:41.964Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:41.965Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:41.965Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:41.965Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:42.026Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:42.145Z appoptics:patching patched crypto 
2022-04-20T15:35:42.164Z appoptics:patching patched https 
2022-04-20T15:35:42.164Z appoptics:patching patched http 
2022-04-20T15:35:42.196Z appoptics:patching patched zlib 
2022-04-20T15:35:42.215Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:42.216Z appoptics:patching patched fs 
2022-04-20T15:35:42.300Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:35:42.310Z appoptics:patching patched express 3.17.4
2022-04-20T15:35:42.315Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:42.320Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.4
    ✓ UDP might lose a message
2022-04-20T15:35:42.359Z appoptics:patching patched raw-body 2.5.1
(node:2062) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (194ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.3: connect 2.x series is deprecated

removed 9 packages, changed 5 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:48.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:48.980Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:48.980Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:48.981Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:49.043Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:49.166Z appoptics:patching patched crypto 
2022-04-20T15:35:49.185Z appoptics:patching patched https 
2022-04-20T15:35:49.185Z appoptics:patching patched http 
2022-04-20T15:35:49.222Z appoptics:patching patched zlib 
2022-04-20T15:35:49.242Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:49.242Z appoptics:patching patched fs 
2022-04-20T15:35:49.316Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:35:49.330Z appoptics:patching patched express 3.17.5
2022-04-20T15:35:49.335Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:49.341Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.5
    ✓ UDP might lose a message
2022-04-20T15:35:49.374Z appoptics:patching patched raw-body 2.5.1
(node:2084) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (206ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.4: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:56.372Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:56.373Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:56.373Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:56.374Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:56.434Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:56.553Z appoptics:patching patched crypto 
2022-04-20T15:35:56.571Z appoptics:patching patched https 
2022-04-20T15:35:56.572Z appoptics:patching patched http 
2022-04-20T15:35:56.607Z appoptics:patching patched zlib 
2022-04-20T15:35:56.626Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:56.627Z appoptics:patching patched fs 
2022-04-20T15:35:56.703Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:35:56.713Z appoptics:patching patched express 3.17.6
2022-04-20T15:35:56.718Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:56.723Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.6
    ✓ UDP might lose a message
2022-04-20T15:35:56.756Z appoptics:patching patched raw-body 2.5.1
(node:2106) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (212ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.5: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:03.466Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:03.467Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:03.467Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:03.468Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:03.534Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:03.666Z appoptics:patching patched crypto 
2022-04-20T15:36:03.716Z appoptics:patching patched https 
2022-04-20T15:36:03.717Z appoptics:patching patched http 
2022-04-20T15:36:03.739Z appoptics:patching patched zlib 
2022-04-20T15:36:03.757Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:03.757Z appoptics:patching patched fs 
2022-04-20T15:36:03.854Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:36:03.869Z appoptics:patching patched express 3.17.7
2022-04-20T15:36:03.877Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:03.883Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.7
    ✓ UDP might lose a message
2022-04-20T15:36:03.914Z appoptics:patching patched raw-body 2.5.1
(node:2128) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (230ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.6: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:10.253Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:10.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:10.253Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:10.254Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:10.309Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:10.415Z appoptics:patching patched crypto 
2022-04-20T15:36:10.432Z appoptics:patching patched https 
2022-04-20T15:36:10.432Z appoptics:patching patched http 
2022-04-20T15:36:10.463Z appoptics:patching patched zlib 
2022-04-20T15:36:10.481Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:10.481Z appoptics:patching patched fs 
2022-04-20T15:36:10.545Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:36:10.557Z appoptics:patching patched express 3.17.8
2022-04-20T15:36:10.562Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:10.567Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.8
    ✓ UDP might lose a message
2022-04-20T15:36:10.595Z appoptics:patching patched raw-body 2.5.1
(node:2150) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (182ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.0: connect 2.x series is deprecated

added 22 packages, removed 4 packages, changed 38 packages, and audited 1022 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:18.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:18.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:18.640Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:18.640Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:18.700Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:18.820Z appoptics:patching patched crypto 
2022-04-20T15:36:18.850Z appoptics:patching patched https 
2022-04-20T15:36:18.850Z appoptics:patching patched http 
2022-04-20T15:36:18.875Z appoptics:patching patched zlib 
2022-04-20T15:36:18.897Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:18.898Z appoptics:patching patched fs 
2022-04-20T15:36:18.981Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:36:18.996Z appoptics:patching patched express 3.18.0
2022-04-20T15:36:19.000Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:19.004Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.0
    ✓ UDP might lose a message
Wed, 20 Apr 2022 15:36:19 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/express.js:36:9
2022-04-20T15:36:19.044Z appoptics:patching patched raw-body 2.5.1
(node:2172) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
Wed, 20 Apr 2022 15:36:19 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:487:9
Wed, 20 Apr 2022 15:36:19 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:490:30
Wed, 20 Apr 2022 15:36:19 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:493:9
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (188ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.1: connect 2.x series is deprecated

removed 9 packages, changed 8 packages, and audited 1013 packages in 16s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:36.110Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:36.111Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:36.111Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:36.111Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:36.171Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:36.293Z appoptics:patching patched crypto 
2022-04-20T15:36:36.311Z appoptics:patching patched https 
2022-04-20T15:36:36.312Z appoptics:patching patched http 
2022-04-20T15:36:36.346Z appoptics:patching patched zlib 
2022-04-20T15:36:36.369Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:36.369Z appoptics:patching patched fs 
2022-04-20T15:36:36.444Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:36:36.458Z appoptics:patching patched express 3.18.1
2022-04-20T15:36:36.462Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:36.466Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.1
    ✓ UDP might lose a message
2022-04-20T15:36:36.498Z appoptics:patching patched raw-body 2.5.1
(node:2194) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:43.525Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:43.526Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:43.526Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:43.527Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:43.586Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:43.717Z appoptics:patching patched crypto 
2022-04-20T15:36:43.736Z appoptics:patching patched https 
2022-04-20T15:36:43.737Z appoptics:patching patched http 
2022-04-20T15:36:43.780Z appoptics:patching patched zlib 
2022-04-20T15:36:43.803Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:43.803Z appoptics:patching patched fs 
2022-04-20T15:36:43.876Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:36:43.891Z appoptics:patching patched express 3.18.2
2022-04-20T15:36:43.894Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:43.899Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.2
    ✓ UDP might lose a message
2022-04-20T15:36:43.931Z appoptics:patching patched raw-body 2.5.1
(node:2216) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (202ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.3: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:50.737Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:50.738Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:50.738Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:50.738Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:50.811Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:50.946Z appoptics:patching patched crypto 
2022-04-20T15:36:50.985Z appoptics:patching patched https 
2022-04-20T15:36:50.985Z appoptics:patching patched http 
2022-04-20T15:36:51.022Z appoptics:patching patched zlib 
2022-04-20T15:36:51.045Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:51.045Z appoptics:patching patched fs 
2022-04-20T15:36:51.135Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:36:51.151Z appoptics:patching patched express 3.18.3
2022-04-20T15:36:51.154Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:51.159Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.3
    ✓ UDP might lose a message
2022-04-20T15:36:51.194Z appoptics:patching patched raw-body 2.5.1
(node:2238) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (248ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.4: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1012 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:57.847Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:57.848Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:57.848Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:57.849Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:57.911Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:58.032Z appoptics:patching patched crypto 
2022-04-20T15:36:58.050Z appoptics:patching patched https 
2022-04-20T15:36:58.051Z appoptics:patching patched http 
2022-04-20T15:36:58.084Z appoptics:patching patched zlib 
2022-04-20T15:36:58.106Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:58.106Z appoptics:patching patched fs 
2022-04-20T15:36:58.180Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:36:58.194Z appoptics:patching patched express 3.18.4
2022-04-20T15:36:58.198Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:58.202Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.4
    ✓ UDP might lose a message
2022-04-20T15:36:58.234Z appoptics:patching patched raw-body 2.5.1
(node:2260) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (202ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.6: connect 2.x series is deprecated

changed 3 packages, and audited 1012 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:05.115Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:05.116Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:05.116Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:05.116Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:05.174Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:05.281Z appoptics:patching patched crypto 
2022-04-20T15:37:05.297Z appoptics:patching patched https 
2022-04-20T15:37:05.298Z appoptics:patching patched http 
2022-04-20T15:37:05.329Z appoptics:patching patched zlib 
2022-04-20T15:37:05.348Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:05.349Z appoptics:patching patched fs 
2022-04-20T15:37:05.414Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:37:05.427Z appoptics:patching patched express 3.18.5
2022-04-20T15:37:05.430Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:05.435Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.5
    ✓ UDP might lose a message
2022-04-20T15:37:05.473Z appoptics:patching patched raw-body 2.5.1
(node:2282) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (203ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1012 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:11.722Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:11.722Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:11.722Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:11.723Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:11.776Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:11.890Z appoptics:patching patched crypto 
2022-04-20T15:37:11.908Z appoptics:patching patched https 
2022-04-20T15:37:11.908Z appoptics:patching patched http 
2022-04-20T15:37:11.942Z appoptics:patching patched zlib 
2022-04-20T15:37:11.966Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:11.967Z appoptics:patching patched fs 
2022-04-20T15:37:12.040Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:37:12.055Z appoptics:patching patched express 3.18.6
2022-04-20T15:37:12.058Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:12.062Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.6
    ✓ UDP might lose a message
2022-04-20T15:37:12.095Z appoptics:patching patched raw-body 2.5.1
(node:2304) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (199ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.1: connect 2.x series is deprecated

added 17 packages, removed 12 packages, changed 30 packages, and audited 1017 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:19.281Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:19.281Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:19.281Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:19.282Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:19.356Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:19.472Z appoptics:patching patched crypto 
2022-04-20T15:37:19.490Z appoptics:patching patched https 
2022-04-20T15:37:19.490Z appoptics:patching patched http 
2022-04-20T15:37:19.525Z appoptics:patching patched zlib 
2022-04-20T15:37:19.547Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:19.547Z appoptics:patching patched fs 
2022-04-20T15:37:19.637Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:37:19.651Z appoptics:patching patched express 3.19.0
2022-04-20T15:37:19.654Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:19.659Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.0
    ✓ UDP might lose a message
2022-04-20T15:37:19.694Z appoptics:patching patched raw-body 2.5.1
(node:2326) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (40ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (170ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.2: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1009 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:25.754Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:25.755Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:25.755Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:25.756Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:25.815Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:25.933Z appoptics:patching patched crypto 
2022-04-20T15:37:25.951Z appoptics:patching patched https 
2022-04-20T15:37:25.951Z appoptics:patching patched http 
2022-04-20T15:37:25.987Z appoptics:patching patched zlib 
2022-04-20T15:37:26.009Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:26.009Z appoptics:patching patched fs 
2022-04-20T15:37:26.112Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:37:26.129Z appoptics:patching patched express 3.19.1
2022-04-20T15:37:26.132Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:26.137Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.1
    ✓ UDP might lose a message
2022-04-20T15:37:26.179Z appoptics:patching patched raw-body 2.5.1
(node:2348) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (64ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (315ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.3: connect 2.x series is deprecated

changed 3 packages, and audited 1009 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:33.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:33.098Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:33.098Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:33.099Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:33.159Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:33.277Z appoptics:patching patched crypto 
2022-04-20T15:37:33.295Z appoptics:patching patched https 
2022-04-20T15:37:33.296Z appoptics:patching patched http 
2022-04-20T15:37:33.330Z appoptics:patching patched zlib 
2022-04-20T15:37:33.352Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:33.353Z appoptics:patching patched fs 
2022-04-20T15:37:33.432Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:37:33.446Z appoptics:patching patched express 3.19.2
2022-04-20T15:37:33.449Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:33.454Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.2
    ✓ UDP might lose a message
2022-04-20T15:37:33.491Z appoptics:patching patched raw-body 2.5.1
(node:2370) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (187ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.0: connect 2.x series is deprecated

added 13 packages, removed 5 packages, changed 22 packages, and audited 1017 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:40.889Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:40.890Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:40.890Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:40.891Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:40.949Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:41.067Z appoptics:patching patched crypto 
2022-04-20T15:37:41.085Z appoptics:patching patched https 
2022-04-20T15:37:41.085Z appoptics:patching patched http 
2022-04-20T15:37:41.122Z appoptics:patching patched zlib 
2022-04-20T15:37:41.145Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:41.146Z appoptics:patching patched fs 
2022-04-20T15:37:41.229Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:37:41.244Z appoptics:patching patched express 3.20.0
2022-04-20T15:37:41.248Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:41.252Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.0
    ✓ UDP might lose a message
2022-04-20T15:37:41.285Z appoptics:patching patched raw-body 2.5.1
(node:2392) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1017 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:47.689Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:47.690Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:47.690Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:47.691Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:47.749Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:47.867Z appoptics:patching patched crypto 
2022-04-20T15:37:47.885Z appoptics:patching patched https 
2022-04-20T15:37:47.886Z appoptics:patching patched http 
2022-04-20T15:37:47.920Z appoptics:patching patched zlib 
2022-04-20T15:37:47.943Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:47.943Z appoptics:patching patched fs 
2022-04-20T15:37:48.025Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:37:48.039Z appoptics:patching patched express 3.20.1
2022-04-20T15:37:48.043Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:48.048Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.1
    ✓ UDP might lose a message
2022-04-20T15:37:48.080Z appoptics:patching patched raw-body 2.5.1
(node:2414) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (198ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.1: connect 2.x series is deprecated

changed 8 packages, and audited 1017 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:55.279Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:55.280Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:55.280Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:55.281Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:55.341Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:55.460Z appoptics:patching patched crypto 
2022-04-20T15:37:55.478Z appoptics:patching patched https 
2022-04-20T15:37:55.479Z appoptics:patching patched http 
2022-04-20T15:37:55.511Z appoptics:patching patched zlib 
2022-04-20T15:37:55.535Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:55.535Z appoptics:patching patched fs 
2022-04-20T15:37:55.620Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:37:55.635Z appoptics:patching patched express 3.20.2
2022-04-20T15:37:55.638Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:55.643Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.2
    ✓ UDP might lose a message
2022-04-20T15:37:55.679Z appoptics:patching patched raw-body 2.5.1
(node:2436) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (191ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.2: connect 2.x series is deprecated

added 1 package, removed 14 packages, changed 15 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:01.955Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:01.956Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:01.956Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:01.957Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:02.017Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:02.137Z appoptics:patching patched crypto 
2022-04-20T15:38:02.155Z appoptics:patching patched https 
2022-04-20T15:38:02.155Z appoptics:patching patched http 
2022-04-20T15:38:02.191Z appoptics:patching patched zlib 
2022-04-20T15:38:02.214Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:02.214Z appoptics:patching patched fs 
2022-04-20T15:38:02.292Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:38:02.311Z appoptics:patching patched express 3.20.3
2022-04-20T15:38:02.316Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:02.323Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.3
    ✓ UDP might lose a message
2022-04-20T15:38:02.358Z appoptics:patching patched raw-body 2.5.1
(node:2458) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.0: connect 2.x series is deprecated

added 21 packages, removed 10 packages, changed 37 packages, and audited 1015 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:10.023Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:10.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:10.024Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:10.025Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:10.102Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:10.272Z appoptics:patching patched crypto 
2022-04-20T15:38:10.293Z appoptics:patching patched https 
2022-04-20T15:38:10.293Z appoptics:patching patched http 
2022-04-20T15:38:10.324Z appoptics:patching patched zlib 
2022-04-20T15:38:10.349Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:10.349Z appoptics:patching patched fs 
2022-04-20T15:38:10.433Z appoptics:patching patched morgan 1.6.1
2022-04-20T15:38:10.448Z appoptics:patching patched express 3.21.0
2022-04-20T15:38:10.451Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:10.456Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.0
    ✓ UDP might lose a message
2022-04-20T15:38:10.494Z appoptics:patching patched raw-body 2.5.1
(node:2480) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (194ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.1: connect 2.x series is deprecated

removed 2 packages, changed 6 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:17.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:17.639Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:17.639Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:17.640Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:17.700Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:17.822Z appoptics:patching patched crypto 
2022-04-20T15:38:17.840Z appoptics:patching patched https 
2022-04-20T15:38:17.841Z appoptics:patching patched http 
2022-04-20T15:38:17.876Z appoptics:patching patched zlib 
2022-04-20T15:38:17.900Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:17.900Z appoptics:patching patched fs 
2022-04-20T15:38:17.983Z appoptics:patching patched morgan 1.6.1
2022-04-20T15:38:17.997Z appoptics:patching patched express 3.21.1
2022-04-20T15:38:18.002Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:18.007Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.1
    ✓ UDP might lose a message
2022-04-20T15:38:18.039Z appoptics:patching patched raw-body 2.5.1
(node:2502) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (196ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.2: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:24.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:24.040Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:24.040Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:24.042Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:24.101Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:24.220Z appoptics:patching patched crypto 
2022-04-20T15:38:24.238Z appoptics:patching patched https 
2022-04-20T15:38:24.238Z appoptics:patching patched http 
2022-04-20T15:38:24.273Z appoptics:patching patched zlib 
2022-04-20T15:38:24.296Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:24.297Z appoptics:patching patched fs 
2022-04-20T15:38:24.375Z appoptics:patching patched morgan 1.6.1
2022-04-20T15:38:24.389Z appoptics:patching patched express 3.21.2
2022-04-20T15:38:24.393Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:24.397Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.2
    ✓ UDP might lose a message
2022-04-20T15:38:24.429Z appoptics:patching patched raw-body 2.5.1
(node:2524) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (196ms)
  2 pending


added 14 packages, removed 97 packages, changed 21 packages, and audited 930 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:31.552Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:31.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:31.553Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:31.554Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:31.612Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:31.727Z appoptics:patching patched crypto 
2022-04-20T15:38:31.744Z appoptics:patching patched https 
2022-04-20T15:38:31.745Z appoptics:patching patched http 
2022-04-20T15:38:31.780Z appoptics:patching patched zlib 
2022-04-20T15:38:31.790Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:31.790Z appoptics:patching patched fs 
2022-04-20T15:38:31.811Z appoptics:patching patched express 4.0.0
2022-04-20T15:38:31.816Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:31.821Z appoptics:debug starting runtimeMetrics


  probes.express 4.0.0
    ✓ UDP might lose a message
2022-04-20T15:38:31.855Z appoptics:patching patched raw-body 2.5.1
(node:2546) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (209ms)


added 1 package, removed 3 packages, changed 7 packages, and audited 928 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:37.762Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:37.763Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:37.763Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:37.764Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:37.835Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:37.964Z appoptics:patching patched crypto 
2022-04-20T15:38:38.004Z appoptics:patching patched https 
2022-04-20T15:38:38.005Z appoptics:patching patched http 
2022-04-20T15:38:38.041Z appoptics:patching patched zlib 
2022-04-20T15:38:38.050Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:38.051Z appoptics:patching patched fs 
2022-04-20T15:38:38.070Z appoptics:patching patched express 4.1.0
2022-04-20T15:38:38.080Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:38.086Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.0
    ✓ UDP might lose a message
2022-04-20T15:38:38.122Z appoptics:patching patched raw-body 2.5.1
(node:2568) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (231ms)


changed 1 package, and audited 928 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:44.507Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:44.508Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:44.508Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:44.509Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:44.569Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:44.686Z appoptics:patching patched crypto 
2022-04-20T15:38:44.704Z appoptics:patching patched https 
2022-04-20T15:38:44.705Z appoptics:patching patched http 
2022-04-20T15:38:44.738Z appoptics:patching patched zlib 
2022-04-20T15:38:44.748Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:44.748Z appoptics:patching patched fs 
2022-04-20T15:38:44.767Z appoptics:patching patched express 4.1.1
2022-04-20T15:38:44.774Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:44.781Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.1
    ✓ UDP might lose a message
2022-04-20T15:38:44.814Z appoptics:patching patched raw-body 2.5.1
(node:2590) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (223ms)


changed 1 package, and audited 928 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:50.841Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:50.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:50.842Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:50.843Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:50.949Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:51.111Z appoptics:patching patched crypto 
2022-04-20T15:38:51.129Z appoptics:patching patched https 
2022-04-20T15:38:51.130Z appoptics:patching patched http 
2022-04-20T15:38:51.164Z appoptics:patching patched zlib 
2022-04-20T15:38:51.173Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:51.174Z appoptics:patching patched fs 
2022-04-20T15:38:51.192Z appoptics:patching patched express 4.1.2
2022-04-20T15:38:51.199Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:51.205Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.2
    ✓ UDP might lose a message
2022-04-20T15:38:51.238Z appoptics:patching patched raw-body 2.5.1
(node:2612) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (243ms)


changed 2 packages, and audited 928 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:57.354Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:57.355Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:57.355Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:57.356Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:57.415Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:57.530Z appoptics:patching patched crypto 
2022-04-20T15:38:57.547Z appoptics:patching patched https 
2022-04-20T15:38:57.548Z appoptics:patching patched http 
2022-04-20T15:38:57.581Z appoptics:patching patched zlib 
2022-04-20T15:38:57.590Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:57.591Z appoptics:patching patched fs 
2022-04-20T15:38:57.610Z appoptics:patching patched express 4.2.0
2022-04-20T15:38:57.616Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:57.622Z appoptics:debug starting runtimeMetrics


  probes.express 4.2.0
    ✓ UDP might lose a message
2022-04-20T15:38:57.657Z appoptics:patching patched raw-body 2.5.1
(node:2634) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (210ms)


added 2 packages, changed 2 packages, and audited 930 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:04.182Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:04.182Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:04.182Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:04.183Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:04.259Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:04.389Z appoptics:patching patched crypto 
2022-04-20T15:39:04.426Z appoptics:patching patched https 
2022-04-20T15:39:04.427Z appoptics:patching patched http 
2022-04-20T15:39:04.464Z appoptics:patching patched zlib 
2022-04-20T15:39:04.474Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:04.474Z appoptics:patching patched fs 
2022-04-20T15:39:04.500Z appoptics:patching patched express 4.3.0
2022-04-20T15:39:04.506Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:04.513Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.0
    ✓ UDP might lose a message
2022-04-20T15:39:04.549Z appoptics:patching patched raw-body 2.5.1
(node:2656) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (254ms)


changed 1 package, and audited 930 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:10.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:10.859Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:10.859Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:10.860Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:10.930Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:11.051Z appoptics:patching patched crypto 
2022-04-20T15:39:11.069Z appoptics:patching patched https 
2022-04-20T15:39:11.070Z appoptics:patching patched http 
2022-04-20T15:39:11.104Z appoptics:patching patched zlib 
2022-04-20T15:39:11.113Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:11.113Z appoptics:patching patched fs 
2022-04-20T15:39:11.134Z appoptics:patching patched express 4.3.1
2022-04-20T15:39:11.140Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:11.145Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.1
    ✓ UDP might lose a message
2022-04-20T15:39:11.178Z appoptics:patching patched raw-body 2.5.1
(node:2678) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (255ms)


changed 1 package, and audited 930 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:17.299Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:17.299Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:17.299Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:17.300Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:17.353Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:17.463Z appoptics:patching patched crypto 
2022-04-20T15:39:17.491Z appoptics:patching patched https 
2022-04-20T15:39:17.492Z appoptics:patching patched http 
2022-04-20T15:39:17.525Z appoptics:patching patched zlib 
2022-04-20T15:39:17.533Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:17.534Z appoptics:patching patched fs 
2022-04-20T15:39:17.554Z appoptics:patching patched express 4.3.2
2022-04-20T15:39:17.559Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:17.565Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.2
    ✓ UDP might lose a message
2022-04-20T15:39:17.595Z appoptics:patching patched raw-body 2.5.1
(node:2700) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (201ms)


added 1 package, changed 6 packages, and audited 931 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:23.435Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:23.435Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:23.436Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:23.436Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:23.490Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:23.593Z appoptics:patching patched crypto 
2022-04-20T15:39:23.609Z appoptics:patching patched https 
2022-04-20T15:39:23.610Z appoptics:patching patched http 
2022-04-20T15:39:23.640Z appoptics:patching patched zlib 
2022-04-20T15:39:23.648Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:23.649Z appoptics:patching patched fs 
2022-04-20T15:39:23.668Z appoptics:patching patched express 4.4.0
2022-04-20T15:39:23.673Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:23.678Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.0
    ✓ UDP might lose a message
2022-04-20T15:39:23.708Z appoptics:patching patched raw-body 2.5.1
(node:2722) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


changed 4 packages, and audited 931 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:29.983Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:29.984Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:29.984Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:29.984Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:30.046Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:30.162Z appoptics:patching patched crypto 
2022-04-20T15:39:30.180Z appoptics:patching patched https 
2022-04-20T15:39:30.180Z appoptics:patching patched http 
2022-04-20T15:39:30.214Z appoptics:patching patched zlib 
2022-04-20T15:39:30.223Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:30.224Z appoptics:patching patched fs 
2022-04-20T15:39:30.245Z appoptics:patching patched express 4.4.1
2022-04-20T15:39:30.251Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:30.257Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.1
    ✓ UDP might lose a message
2022-04-20T15:39:30.291Z appoptics:patching patched raw-body 2.5.1
(node:2744) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (211ms)


added 5 packages, changed 9 packages, and audited 936 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:36.537Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:36.537Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:36.537Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:36.538Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:36.595Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:36.711Z appoptics:patching patched crypto 
2022-04-20T15:39:36.729Z appoptics:patching patched https 
2022-04-20T15:39:36.730Z appoptics:patching patched http 
2022-04-20T15:39:36.762Z appoptics:patching patched zlib 
2022-04-20T15:39:36.773Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:36.773Z appoptics:patching patched fs 
2022-04-20T15:39:36.799Z appoptics:patching patched express 4.4.2
2022-04-20T15:39:36.805Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:36.811Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.2
    ✓ UDP might lose a message
2022-04-20T15:39:36.844Z appoptics:patching patched raw-body 2.5.1
(node:2766) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (205ms)


added 1 package, changed 8 packages, and audited 937 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:43.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:43.378Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:43.378Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:43.379Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:43.439Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:43.552Z appoptics:patching patched crypto 
2022-04-20T15:39:43.570Z appoptics:patching patched https 
2022-04-20T15:39:43.570Z appoptics:patching patched http 
2022-04-20T15:39:43.604Z appoptics:patching patched zlib 
2022-04-20T15:39:43.615Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:43.615Z appoptics:patching patched fs 
2022-04-20T15:39:43.641Z appoptics:patching patched express 4.4.3
2022-04-20T15:39:43.647Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:43.653Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.3
    ✓ UDP might lose a message
2022-04-20T15:39:43.686Z appoptics:patching patched raw-body 2.5.1
(node:2788) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (210ms)


added 6 packages, removed 1 package, changed 6 packages, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:49.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:49.435Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:49.435Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:49.436Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:49.496Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:49.613Z appoptics:patching patched crypto 
2022-04-20T15:39:49.630Z appoptics:patching patched https 
2022-04-20T15:39:49.631Z appoptics:patching patched http 
2022-04-20T15:39:49.669Z appoptics:patching patched zlib 
2022-04-20T15:39:49.679Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:49.680Z appoptics:patching patched fs 
2022-04-20T15:39:49.710Z appoptics:patching patched express 4.4.4
2022-04-20T15:39:49.716Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:49.722Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.4
    ✓ UDP might lose a message
2022-04-20T15:39:49.757Z appoptics:patching patched raw-body 2.5.1
(node:2810) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (214ms)


changed 2 packages, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (1 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:56.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:56.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:56.461Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:56.462Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:56.523Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:56.641Z appoptics:patching patched crypto 
2022-04-20T15:39:56.659Z appoptics:patching patched https 
2022-04-20T15:39:56.659Z appoptics:patching patched http 
2022-04-20T15:39:56.693Z appoptics:patching patched zlib 
2022-04-20T15:39:56.703Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:56.704Z appoptics:patching patched fs 
2022-04-20T15:39:56.733Z appoptics:patching patched express 4.4.5
2022-04-20T15:39:56.740Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:56.746Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.5
    ✓ UDP might lose a message
2022-04-20T15:39:56.781Z appoptics:patching patched raw-body 2.5.1
(node:2832) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (213ms)


added 11 packages, removed 1 package, changed 5 packages, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:02.736Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:02.736Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:02.736Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:02.737Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:02.795Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:02.919Z appoptics:patching patched crypto 
2022-04-20T15:40:02.959Z appoptics:patching patched https 
2022-04-20T15:40:02.959Z appoptics:patching patched http 
2022-04-20T15:40:02.996Z appoptics:patching patched zlib 
2022-04-20T15:40:03.009Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:03.009Z appoptics:patching patched fs 
2022-04-20T15:40:03.050Z appoptics:patching patched express 4.5.0
2022-04-20T15:40:03.056Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:03.062Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.0
    ✓ UDP might lose a message
2022-04-20T15:40:03.101Z appoptics:patching patched raw-body 2.5.1
(node:2854) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (239ms)


changed 1 package, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:09.576Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:09.577Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:09.577Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:09.578Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:09.637Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:09.754Z appoptics:patching patched crypto 
2022-04-20T15:40:09.771Z appoptics:patching patched https 
2022-04-20T15:40:09.772Z appoptics:patching patched http 
2022-04-20T15:40:09.806Z appoptics:patching patched zlib 
2022-04-20T15:40:09.818Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:09.818Z appoptics:patching patched fs 
2022-04-20T15:40:09.854Z appoptics:patching patched express 4.5.1
2022-04-20T15:40:09.860Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:09.866Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.1
    ✓ UDP might lose a message
2022-04-20T15:40:09.902Z appoptics:patching patched raw-body 2.5.1
(node:2876) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (217ms)


added 1 package, removed 6 packages, changed 9 packages, and audited 947 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:16.508Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:16.509Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:16.509Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:16.509Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:16.573Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:16.724Z appoptics:patching patched crypto 
2022-04-20T15:40:16.757Z appoptics:patching patched https 
2022-04-20T15:40:16.758Z appoptics:patching patched http 
2022-04-20T15:40:16.795Z appoptics:patching patched zlib 
2022-04-20T15:40:16.814Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:16.814Z appoptics:patching patched fs 
2022-04-20T15:40:16.862Z appoptics:patching patched express 4.6.0
2022-04-20T15:40:16.868Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:16.875Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.0
    ✓ UDP might lose a message
2022-04-20T15:40:16.917Z appoptics:patching patched raw-body 2.5.1
(node:2898) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (270ms)


changed 1 package, and audited 947 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:22.610Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:22.610Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:22.610Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:22.611Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:22.664Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:22.772Z appoptics:patching patched crypto 
2022-04-20T15:40:22.787Z appoptics:patching patched https 
2022-04-20T15:40:22.788Z appoptics:patching patched http 
2022-04-20T15:40:22.820Z appoptics:patching patched zlib 
2022-04-20T15:40:22.832Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:22.832Z appoptics:patching patched fs 
2022-04-20T15:40:22.857Z appoptics:patching patched express 4.6.1
2022-04-20T15:40:22.863Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:22.868Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.1
    ✓ UDP might lose a message
2022-04-20T15:40:22.902Z appoptics:patching patched raw-body 2.5.1
(node:2920) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (198ms)


added 5 packages, changed 10 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:29.273Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:29.273Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:29.273Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:29.274Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:29.366Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:29.490Z appoptics:patching patched crypto 
2022-04-20T15:40:29.509Z appoptics:patching patched https 
2022-04-20T15:40:29.510Z appoptics:patching patched http 
2022-04-20T15:40:29.545Z appoptics:patching patched zlib 
2022-04-20T15:40:29.560Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:29.560Z appoptics:patching patched fs 
2022-04-20T15:40:29.598Z appoptics:patching patched express 4.7.0
2022-04-20T15:40:29.604Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:29.610Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.0
    ✓ UDP might lose a message
2022-04-20T15:40:29.646Z appoptics:patching patched raw-body 2.5.1
(node:2942) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (224ms)


changed 4 packages, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:35.384Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:35.385Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:35.385Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:35.385Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:35.445Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:35.562Z appoptics:patching patched crypto 
2022-04-20T15:40:35.581Z appoptics:patching patched https 
2022-04-20T15:40:35.581Z appoptics:patching patched http 
2022-04-20T15:40:35.616Z appoptics:patching patched zlib 
2022-04-20T15:40:35.630Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:35.631Z appoptics:patching patched fs 
2022-04-20T15:40:35.667Z appoptics:patching patched express 4.7.1
2022-04-20T15:40:35.673Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:35.679Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.1
    ✓ UDP might lose a message
2022-04-20T15:40:35.715Z appoptics:patching patched raw-body 2.5.1
(node:2964) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (213ms)


changed 4 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:42.221Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:42.222Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:42.222Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:42.222Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:42.277Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:42.393Z appoptics:patching patched crypto 
2022-04-20T15:40:42.420Z appoptics:patching patched https 
2022-04-20T15:40:42.421Z appoptics:patching patched http 
2022-04-20T15:40:42.452Z appoptics:patching patched zlib 
2022-04-20T15:40:42.467Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:42.468Z appoptics:patching patched fs 
2022-04-20T15:40:42.511Z appoptics:patching patched express 4.7.2
2022-04-20T15:40:42.516Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:42.523Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.2
    ✓ UDP might lose a message
2022-04-20T15:40:42.562Z appoptics:patching patched raw-body 2.5.1
(node:2986) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (215ms)


changed 2 packages, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:48.161Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:48.162Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:48.162Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:48.162Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:48.217Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:48.321Z appoptics:patching patched crypto 
2022-04-20T15:40:48.338Z appoptics:patching patched https 
2022-04-20T15:40:48.338Z appoptics:patching patched http 
2022-04-20T15:40:48.370Z appoptics:patching patched zlib 
2022-04-20T15:40:48.383Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:48.383Z appoptics:patching patched fs 
2022-04-20T15:40:48.424Z appoptics:patching patched express 4.7.3
2022-04-20T15:40:48.430Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:48.437Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.3
    ✓ UDP might lose a message
2022-04-20T15:40:48.474Z appoptics:patching patched raw-body 2.5.1
(node:3008) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (220ms)


removed 5 packages, changed 2 packages, and audited 947 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:54.612Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:54.613Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:54.613Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:54.613Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:54.667Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:54.772Z appoptics:patching patched crypto 
2022-04-20T15:40:54.788Z appoptics:patching patched https 
2022-04-20T15:40:54.789Z appoptics:patching patched http 
2022-04-20T15:40:54.819Z appoptics:patching patched zlib 
2022-04-20T15:40:54.832Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:54.833Z appoptics:patching patched fs 
2022-04-20T15:40:54.858Z appoptics:patching patched express 4.7.4
2022-04-20T15:40:54.864Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:54.869Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.4
    ✓ UDP might lose a message
2022-04-20T15:40:54.901Z appoptics:patching patched raw-body 2.5.1
(node:3030) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (197ms)


added 9 packages, changed 4 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:00.385Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:00.385Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:00.386Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:00.386Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:00.440Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:00.542Z appoptics:patching patched crypto 
2022-04-20T15:41:00.559Z appoptics:patching patched https 
2022-04-20T15:41:00.560Z appoptics:patching patched http 
2022-04-20T15:41:00.592Z appoptics:patching patched zlib 
2022-04-20T15:41:00.601Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:00.602Z appoptics:patching patched fs 
2022-04-20T15:41:00.639Z appoptics:patching patched express 4.8.0
2022-04-20T15:41:00.645Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:00.650Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.0
    ✓ UDP might lose a message
2022-04-20T15:41:00.682Z appoptics:patching patched raw-body 2.5.1
(node:3052) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (197ms)


changed 2 packages, and audited 956 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:07.108Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:07.109Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:07.109Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:07.110Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:07.163Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:07.271Z appoptics:patching patched crypto 
2022-04-20T15:41:07.302Z appoptics:patching patched https 
2022-04-20T15:41:07.303Z appoptics:patching patched http 
2022-04-20T15:41:07.324Z appoptics:patching patched zlib 
2022-04-20T15:41:07.334Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:07.334Z appoptics:patching patched fs 
2022-04-20T15:41:07.372Z appoptics:patching patched express 4.8.1
2022-04-20T15:41:07.378Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:07.383Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.1
    ✓ UDP might lose a message
2022-04-20T15:41:07.414Z appoptics:patching patched raw-body 2.5.1
(node:3074) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (196ms)


changed 2 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:12.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:12.995Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:12.995Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:12.996Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:13.049Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:13.154Z appoptics:patching patched crypto 
2022-04-20T15:41:13.169Z appoptics:patching patched https 
2022-04-20T15:41:13.170Z appoptics:patching patched http 
2022-04-20T15:41:13.201Z appoptics:patching patched zlib 
2022-04-20T15:41:13.211Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:13.211Z appoptics:patching patched fs 
2022-04-20T15:41:13.248Z appoptics:patching patched express 4.8.2
2022-04-20T15:41:13.253Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:13.259Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.2
    ✓ UDP might lose a message
2022-04-20T15:41:13.300Z appoptics:patching patched raw-body 2.5.1
(node:3096) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (209ms)


removed 3 packages, changed 3 packages, and audited 953 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:19.459Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:19.460Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:19.460Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:19.460Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:19.515Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:19.622Z appoptics:patching patched crypto 
2022-04-20T15:41:19.640Z appoptics:patching patched https 
2022-04-20T15:41:19.640Z appoptics:patching patched http 
2022-04-20T15:41:19.671Z appoptics:patching patched zlib 
2022-04-20T15:41:19.682Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:19.682Z appoptics:patching patched fs 
2022-04-20T15:41:19.722Z appoptics:patching patched express 4.8.3
2022-04-20T15:41:19.728Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:19.733Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.3
    ✓ UDP might lose a message
2022-04-20T15:41:19.768Z appoptics:patching patched raw-body 2.5.1
(node:3118) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (204ms)


added 1 package, changed 3 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:27.025Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:27.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:27.026Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:27.027Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:27.087Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:27.208Z appoptics:patching patched crypto 
2022-04-20T15:41:27.245Z appoptics:patching patched https 
2022-04-20T15:41:27.245Z appoptics:patching patched http 
2022-04-20T15:41:27.279Z appoptics:patching patched zlib 
2022-04-20T15:41:27.289Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:27.289Z appoptics:patching patched fs 
2022-04-20T15:41:27.332Z appoptics:patching patched express 4.8.4
2022-04-20T15:41:27.347Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:27.353Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.4
    ✓ UDP might lose a message
2022-04-20T15:41:27.397Z appoptics:patching patched raw-body 2.5.1
(node:3140) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (223ms)


added 3 packages, removed 3 packages, changed 2 packages, and audited 954 packages in 14s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:41.905Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:41.906Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:41.906Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:41.907Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:41.961Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:42.066Z appoptics:patching patched crypto 
2022-04-20T15:41:42.082Z appoptics:patching patched https 
2022-04-20T15:41:42.082Z appoptics:patching patched http 
2022-04-20T15:41:42.121Z appoptics:patching patched zlib 
2022-04-20T15:41:42.138Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:42.138Z appoptics:patching patched fs 
2022-04-20T15:41:42.183Z appoptics:patching patched express 4.8.5
2022-04-20T15:41:42.191Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:42.196Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.5
    ✓ UDP might lose a message
2022-04-20T15:41:42.233Z appoptics:patching patched raw-body 2.5.1
(node:3162) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (225ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:47.801Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:47.801Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:47.801Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:47.802Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:47.862Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:47.970Z appoptics:patching patched crypto 
2022-04-20T15:41:47.998Z appoptics:patching patched https 
2022-04-20T15:41:48.005Z appoptics:patching patched http 
2022-04-20T15:41:48.027Z appoptics:patching patched zlib 
2022-04-20T15:41:48.036Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:48.037Z appoptics:patching patched fs 
2022-04-20T15:41:48.076Z appoptics:patching patched express 4.8.6
2022-04-20T15:41:48.083Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:48.088Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.6
    ✓ UDP might lose a message
2022-04-20T15:41:48.120Z appoptics:patching patched raw-body 2.5.1
(node:3184) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


changed 2 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:54.301Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:54.302Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:54.302Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:54.302Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:54.357Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:54.462Z appoptics:patching patched crypto 
2022-04-20T15:41:54.478Z appoptics:patching patched https 
2022-04-20T15:41:54.479Z appoptics:patching patched http 
2022-04-20T15:41:54.512Z appoptics:patching patched zlib 
2022-04-20T15:41:54.521Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:54.521Z appoptics:patching patched fs 
2022-04-20T15:41:54.559Z appoptics:patching patched express 4.8.7
2022-04-20T15:41:54.565Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:54.570Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.7
    ✓ UDP might lose a message
2022-04-20T15:41:54.601Z appoptics:patching patched raw-body 2.5.1
(node:3206) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (193ms)


removed 8 packages, changed 2 packages, and audited 946 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:59.796Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:59.796Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:59.796Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:59.797Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:59.853Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:59.959Z appoptics:patching patched crypto 
2022-04-20T15:41:59.975Z appoptics:patching patched https 
2022-04-20T15:41:59.976Z appoptics:patching patched http 
2022-04-20T15:42:00.005Z appoptics:patching patched zlib 
2022-04-20T15:42:00.015Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:00.015Z appoptics:patching patched fs 
2022-04-20T15:42:00.046Z appoptics:patching patched express 4.8.8
2022-04-20T15:42:00.051Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:00.056Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.8
    ✓ UDP might lose a message
2022-04-20T15:42:00.088Z appoptics:patching patched raw-body 2.5.1
(node:3228) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (193ms)


added 14 packages, removed 1 package, changed 18 packages, and audited 959 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:06.282Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:06.283Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:06.283Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:06.284Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:06.337Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:06.443Z appoptics:patching patched crypto 
2022-04-20T15:42:06.458Z appoptics:patching patched https 
2022-04-20T15:42:06.459Z appoptics:patching patched http 
2022-04-20T15:42:06.490Z appoptics:patching patched zlib 
2022-04-20T15:42:06.500Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:06.500Z appoptics:patching patched fs 
2022-04-20T15:42:06.544Z appoptics:patching patched express 4.9.0
2022-04-20T15:42:06.550Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:06.555Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.0
    ✓ UDP might lose a message
2022-04-20T15:42:06.589Z appoptics:patching patched raw-body 2.5.1
(node:3250) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (195ms)


removed 1 package, changed 4 packages, and audited 958 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:11.981Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:11.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:11.982Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:11.982Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:12.037Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:12.141Z appoptics:patching patched crypto 
2022-04-20T15:42:12.157Z appoptics:patching patched https 
2022-04-20T15:42:12.158Z appoptics:patching patched http 
2022-04-20T15:42:12.189Z appoptics:patching patched zlib 
2022-04-20T15:42:12.200Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:12.200Z appoptics:patching patched fs 
2022-04-20T15:42:12.246Z appoptics:patching patched express 4.9.1
2022-04-20T15:42:12.252Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:12.259Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.1
    ✓ UDP might lose a message
2022-04-20T15:42:12.291Z appoptics:patching patched raw-body 2.5.1
(node:3272) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (189ms)


changed 1 package, and audited 958 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:18.767Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:18.767Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:18.767Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:18.768Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:18.823Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:18.932Z appoptics:patching patched crypto 
2022-04-20T15:42:18.948Z appoptics:patching patched https 
2022-04-20T15:42:18.948Z appoptics:patching patched http 
2022-04-20T15:42:18.981Z appoptics:patching patched zlib 
2022-04-20T15:42:18.991Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:18.991Z appoptics:patching patched fs 
2022-04-20T15:42:19.036Z appoptics:patching patched express 4.9.2
2022-04-20T15:42:19.041Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:19.046Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.2
    ✓ UDP might lose a message
2022-04-20T15:42:19.081Z appoptics:patching patched raw-body 2.5.1
(node:3294) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (213ms)


added 1 package, changed 3 packages, and audited 959 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:24.512Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:24.513Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:24.513Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:24.513Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:24.569Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:24.674Z appoptics:patching patched crypto 
2022-04-20T15:42:24.689Z appoptics:patching patched https 
2022-04-20T15:42:24.690Z appoptics:patching patched http 
2022-04-20T15:42:24.722Z appoptics:patching patched zlib 
2022-04-20T15:42:24.732Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:24.732Z appoptics:patching patched fs 
2022-04-20T15:42:24.777Z appoptics:patching patched express 4.9.3
2022-04-20T15:42:24.783Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:24.788Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.3
    ✓ UDP might lose a message
2022-04-20T15:42:24.823Z appoptics:patching patched raw-body 2.5.1
(node:3316) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (194ms)


changed 2 packages, and audited 959 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:30.819Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:30.819Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:30.819Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:30.820Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:30.872Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:30.979Z appoptics:patching patched crypto 
2022-04-20T15:42:30.994Z appoptics:patching patched https 
2022-04-20T15:42:30.995Z appoptics:patching patched http 
2022-04-20T15:42:31.025Z appoptics:patching patched zlib 
2022-04-20T15:42:31.035Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:31.035Z appoptics:patching patched fs 
2022-04-20T15:42:31.079Z appoptics:patching patched express 4.9.4
2022-04-20T15:42:31.085Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:31.090Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.4
    ✓ UDP might lose a message
2022-04-20T15:42:31.140Z appoptics:patching patched raw-body 2.5.1
(node:3338) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (219ms)


removed 9 packages, changed 3 packages, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:36.572Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:36.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:36.573Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:36.574Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:36.639Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:36.758Z appoptics:patching patched crypto 
2022-04-20T15:42:36.793Z appoptics:patching patched https 
2022-04-20T15:42:36.804Z appoptics:patching patched http 
2022-04-20T15:42:36.828Z appoptics:patching patched zlib 
2022-04-20T15:42:36.839Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:36.839Z appoptics:patching patched fs 
2022-04-20T15:42:36.881Z appoptics:patching patched express 4.9.5
2022-04-20T15:42:36.887Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:36.892Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.5
    ✓ UDP might lose a message
2022-04-20T15:42:36.926Z appoptics:patching patched raw-body 2.5.1
(node:3360) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (217ms)


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:42.914Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:42.915Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:42.915Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:42.916Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:42.969Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:43.074Z appoptics:patching patched crypto 
2022-04-20T15:42:43.090Z appoptics:patching patched https 
2022-04-20T15:42:43.090Z appoptics:patching patched http 
2022-04-20T15:42:43.122Z appoptics:patching patched zlib 
2022-04-20T15:42:43.132Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:43.132Z appoptics:patching patched fs 
2022-04-20T15:42:43.167Z appoptics:patching patched express 4.9.6
2022-04-20T15:42:43.173Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:43.178Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.6
    ✓ UDP might lose a message
2022-04-20T15:42:43.211Z appoptics:patching patched raw-body 2.5.1
(node:3382) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (198ms)


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:48.741Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:48.742Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:48.742Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:48.742Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:48.796Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:48.900Z appoptics:patching patched crypto 
2022-04-20T15:42:48.915Z appoptics:patching patched https 
2022-04-20T15:42:48.916Z appoptics:patching patched http 
2022-04-20T15:42:48.947Z appoptics:patching patched zlib 
2022-04-20T15:42:48.957Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:48.957Z appoptics:patching patched fs 
2022-04-20T15:42:48.993Z appoptics:patching patched express 4.9.7
2022-04-20T15:42:48.998Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:49.003Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.7
    ✓ UDP might lose a message
2022-04-20T15:42:49.037Z appoptics:patching patched raw-body 2.5.1
(node:3404) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:54.786Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:54.787Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:54.787Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:54.795Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:54.856Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:54.971Z appoptics:patching patched crypto 
2022-04-20T15:42:54.996Z appoptics:patching patched https 
2022-04-20T15:42:54.996Z appoptics:patching patched http 
2022-04-20T15:42:55.024Z appoptics:patching patched zlib 
2022-04-20T15:42:55.034Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:55.034Z appoptics:patching patched fs 
2022-04-20T15:42:55.071Z appoptics:patching patched express 4.9.8
2022-04-20T15:42:55.076Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:55.081Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.8
    ✓ UDP might lose a message
2022-04-20T15:42:55.116Z appoptics:patching patched raw-body 2.5.1
(node:3426) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (194ms)


added 4 packages, changed 17 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:00.635Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:00.635Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:00.636Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:00.636Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:00.690Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:00.794Z appoptics:patching patched crypto 
2022-04-20T15:43:00.810Z appoptics:patching patched https 
2022-04-20T15:43:00.811Z appoptics:patching patched http 
2022-04-20T15:43:00.842Z appoptics:patching patched zlib 
2022-04-20T15:43:00.854Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:00.854Z appoptics:patching patched fs 
2022-04-20T15:43:00.892Z appoptics:patching patched express 4.10.0
2022-04-20T15:43:00.897Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:00.902Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.0
    ✓ UDP might lose a message
2022-04-20T15:43:00.936Z appoptics:patching patched raw-body 2.5.1
(node:3448) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (196ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:06.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:06.882Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:06.882Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:06.883Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:06.936Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:07.043Z appoptics:patching patched crypto 
2022-04-20T15:43:07.060Z appoptics:patching patched https 
2022-04-20T15:43:07.060Z appoptics:patching patched http 
2022-04-20T15:43:07.089Z appoptics:patching patched zlib 
2022-04-20T15:43:07.101Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:07.101Z appoptics:patching patched fs 
2022-04-20T15:43:07.137Z appoptics:patching patched express 4.10.1
2022-04-20T15:43:07.142Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:07.147Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.1
    ✓ UDP might lose a message
2022-04-20T15:43:07.181Z appoptics:patching patched raw-body 2.5.1
(node:3470) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (195ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:12.841Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:12.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:12.842Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:12.842Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:12.896Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:13.003Z appoptics:patching patched crypto 
2022-04-20T15:43:13.019Z appoptics:patching patched https 
2022-04-20T15:43:13.019Z appoptics:patching patched http 
2022-04-20T15:43:13.050Z appoptics:patching patched zlib 
2022-04-20T15:43:13.062Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:13.062Z appoptics:patching patched fs 
2022-04-20T15:43:13.098Z appoptics:patching patched express 4.10.2
2022-04-20T15:43:13.103Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:13.109Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.2
    ✓ UDP might lose a message
2022-04-20T15:43:13.142Z appoptics:patching patched raw-body 2.5.1
(node:3492) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


changed 2 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:19.357Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:19.358Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:19.358Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:19.358Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:19.412Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:19.515Z appoptics:patching patched crypto 
2022-04-20T15:43:19.531Z appoptics:patching patched https 
2022-04-20T15:43:19.532Z appoptics:patching patched http 
2022-04-20T15:43:19.579Z appoptics:patching patched zlib 
2022-04-20T15:43:19.591Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:19.591Z appoptics:patching patched fs 
2022-04-20T15:43:19.635Z appoptics:patching patched express 4.10.3
2022-04-20T15:43:19.642Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:19.648Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.3
    ✓ UDP might lose a message
2022-04-20T15:43:19.685Z appoptics:patching patched raw-body 2.5.1
(node:3514) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (268ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:25.096Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:25.097Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:25.097Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:25.098Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:25.153Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:25.260Z appoptics:patching patched crypto 
2022-04-20T15:43:25.276Z appoptics:patching patched https 
2022-04-20T15:43:25.277Z appoptics:patching patched http 
2022-04-20T15:43:25.332Z appoptics:patching patched zlib 
2022-04-20T15:43:25.349Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:25.349Z appoptics:patching patched fs 
2022-04-20T15:43:25.391Z appoptics:patching patched express 4.10.4
2022-04-20T15:43:25.396Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:25.401Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.4
    ✓ UDP might lose a message
2022-04-20T15:43:25.434Z appoptics:patching patched raw-body 2.5.1
(node:3536) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (199ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:31.659Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:31.660Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:31.660Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:31.660Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:31.718Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:31.829Z appoptics:patching patched crypto 
2022-04-20T15:43:31.847Z appoptics:patching patched https 
2022-04-20T15:43:31.848Z appoptics:patching patched http 
2022-04-20T15:43:31.878Z appoptics:patching patched zlib 
2022-04-20T15:43:31.891Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:31.891Z appoptics:patching patched fs 
2022-04-20T15:43:31.938Z appoptics:patching patched express 4.10.5
2022-04-20T15:43:31.952Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:31.957Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.5
    ✓ UDP might lose a message
2022-04-20T15:43:31.992Z appoptics:patching patched raw-body 2.5.1
(node:3558) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (207ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:37.531Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:37.532Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:37.532Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:37.535Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:37.604Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:37.726Z appoptics:patching patched crypto 
2022-04-20T15:43:37.744Z appoptics:patching patched https 
2022-04-20T15:43:37.745Z appoptics:patching patched http 
2022-04-20T15:43:37.791Z appoptics:patching patched zlib 
2022-04-20T15:43:37.804Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:37.805Z appoptics:patching patched fs 
2022-04-20T15:43:37.866Z appoptics:patching patched express 4.10.6
2022-04-20T15:43:37.896Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:37.903Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.6
    ✓ UDP might lose a message
2022-04-20T15:43:37.949Z appoptics:patching patched raw-body 2.5.1
(node:3580) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (49ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (314ms)


changed 5 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:44.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:44.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:44.663Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:44.664Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:44.724Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:44.846Z appoptics:patching patched crypto 
2022-04-20T15:43:44.879Z appoptics:patching patched https 
2022-04-20T15:43:44.895Z appoptics:patching patched http 
2022-04-20T15:43:44.921Z appoptics:patching patched zlib 
2022-04-20T15:43:44.940Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:44.940Z appoptics:patching patched fs 
2022-04-20T15:43:44.980Z appoptics:patching patched express 4.10.7
2022-04-20T15:43:44.986Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:44.992Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.7
    ✓ UDP might lose a message
2022-04-20T15:43:45.031Z appoptics:patching patched raw-body 2.5.1
(node:3602) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (219ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:51.253Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:51.253Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:51.253Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:51.254Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:51.318Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:51.436Z appoptics:patching patched crypto 
2022-04-20T15:43:51.454Z appoptics:patching patched https 
2022-04-20T15:43:51.455Z appoptics:patching patched http 
2022-04-20T15:43:51.488Z appoptics:patching patched zlib 
2022-04-20T15:43:51.501Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:51.501Z appoptics:patching patched fs 
2022-04-20T15:43:51.540Z appoptics:patching patched express 4.10.8
2022-04-20T15:43:51.546Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:51.552Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.8
    ✓ UDP might lose a message
2022-04-20T15:43:51.590Z appoptics:patching patched raw-body 2.5.1
(node:3624) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (214ms)


added 10 packages, removed 8 packages, changed 8 packages, and audited 956 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:57.773Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:57.773Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:57.773Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:57.774Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:57.834Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:57.953Z appoptics:patching patched crypto 
2022-04-20T15:43:57.973Z appoptics:patching patched https 
2022-04-20T15:43:57.973Z appoptics:patching patched http 
2022-04-20T15:43:58.005Z appoptics:patching patched zlib 
2022-04-20T15:43:58.018Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:58.019Z appoptics:patching patched fs 
2022-04-20T15:43:58.078Z appoptics:patching patched express 4.11.0
2022-04-20T15:43:58.084Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:58.092Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.0
    ✓ UDP might lose a message
2022-04-20T15:43:58.135Z appoptics:patching patched raw-body 2.5.1
(node:3646) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


removed 8 packages, changed 2 packages, and audited 948 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:04.950Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:04.950Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:04.950Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:04.951Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:05.011Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:05.137Z appoptics:patching patched crypto 
2022-04-20T15:44:05.177Z appoptics:patching patched https 
2022-04-20T15:44:05.178Z appoptics:patching patched http 
2022-04-20T15:44:05.203Z appoptics:patching patched zlib 
2022-04-20T15:44:05.217Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:05.217Z appoptics:patching patched fs 
2022-04-20T15:44:05.267Z appoptics:patching patched express 4.11.1
2022-04-20T15:44:05.273Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:05.278Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.1
    ✓ UDP might lose a message
2022-04-20T15:44:05.316Z appoptics:patching patched raw-body 2.5.1
(node:3668) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (205ms)


changed 1 package, and audited 948 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:11.159Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:11.160Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:11.160Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:11.160Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:11.219Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:11.335Z appoptics:patching patched crypto 
2022-04-20T15:44:11.352Z appoptics:patching patched https 
2022-04-20T15:44:11.352Z appoptics:patching patched http 
2022-04-20T15:44:11.388Z appoptics:patching patched zlib 
2022-04-20T15:44:11.401Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:11.401Z appoptics:patching patched fs 
2022-04-20T15:44:11.445Z appoptics:patching patched express 4.11.2
2022-04-20T15:44:11.451Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:11.456Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.2
    ✓ UDP might lose a message
2022-04-20T15:44:11.492Z appoptics:patching patched raw-body 2.5.1
(node:3690) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


added 9 packages, removed 3 packages, changed 5 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:18.079Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:18.080Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:18.080Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:18.081Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:18.135Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:18.241Z appoptics:patching patched crypto 
2022-04-20T15:44:18.261Z appoptics:patching patched https 
2022-04-20T15:44:18.262Z appoptics:patching patched http 
2022-04-20T15:44:18.306Z appoptics:patching patched zlib 
2022-04-20T15:44:18.323Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:18.323Z appoptics:patching patched fs 
2022-04-20T15:44:18.393Z appoptics:patching patched express 4.12.0
2022-04-20T15:44:18.399Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:18.406Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.0
    ✓ UDP might lose a message
2022-04-20T15:44:18.438Z appoptics:patching patched raw-body 2.5.1
(node:3712) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (220ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:24.143Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:24.143Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:24.143Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:24.144Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:24.204Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:24.319Z appoptics:patching patched crypto 
2022-04-20T15:44:24.338Z appoptics:patching patched https 
2022-04-20T15:44:24.338Z appoptics:patching patched http 
2022-04-20T15:44:24.372Z appoptics:patching patched zlib 
2022-04-20T15:44:24.385Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:24.385Z appoptics:patching patched fs 
2022-04-20T15:44:24.427Z appoptics:patching patched express 4.12.1
2022-04-20T15:44:24.435Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:24.440Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.1
    ✓ UDP might lose a message
2022-04-20T15:44:24.472Z appoptics:patching patched raw-body 2.5.1
(node:3734) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (41ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (197ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:30.832Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:30.833Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:30.833Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:30.834Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:30.888Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:30.994Z appoptics:patching patched crypto 
2022-04-20T15:44:31.010Z appoptics:patching patched https 
2022-04-20T15:44:31.010Z appoptics:patching patched http 
2022-04-20T15:44:31.042Z appoptics:patching patched zlib 
2022-04-20T15:44:31.054Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:31.055Z appoptics:patching patched fs 
2022-04-20T15:44:31.097Z appoptics:patching patched express 4.12.2
2022-04-20T15:44:31.102Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:31.109Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.2
    ✓ UDP might lose a message
2022-04-20T15:44:31.141Z appoptics:patching patched raw-body 2.5.1
(node:3756) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (41ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


changed 5 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:36.950Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:36.950Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:36.951Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:36.951Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:37.008Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:37.129Z appoptics:patching patched crypto 
2022-04-20T15:44:37.147Z appoptics:patching patched https 
2022-04-20T15:44:37.148Z appoptics:patching patched http 
2022-04-20T15:44:37.180Z appoptics:patching patched zlib 
2022-04-20T15:44:37.194Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:37.194Z appoptics:patching patched fs 
2022-04-20T15:44:37.239Z appoptics:patching patched express 4.12.3
2022-04-20T15:44:37.245Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:37.253Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.3
    ✓ UDP might lose a message
2022-04-20T15:44:37.287Z appoptics:patching patched raw-body 2.5.1
(node:3778) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (198ms)


removed 9 packages, changed 12 packages, and audited 945 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:43.373Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:43.374Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:43.374Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:43.375Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:43.430Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:43.548Z appoptics:patching patched crypto 
2022-04-20T15:44:43.567Z appoptics:patching patched https 
2022-04-20T15:44:43.568Z appoptics:patching patched http 
2022-04-20T15:44:43.600Z appoptics:patching patched zlib 
2022-04-20T15:44:43.614Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:43.614Z appoptics:patching patched fs 
2022-04-20T15:44:43.654Z appoptics:patching patched express 4.12.4
2022-04-20T15:44:43.661Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:43.668Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.4
    ✓ UDP might lose a message
2022-04-20T15:44:43.716Z appoptics:patching patched raw-body 2.5.1
(node:3800) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (221ms)


added 13 packages, removed 4 packages, changed 13 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:49.578Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:49.579Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:49.579Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:49.579Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:49.633Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:49.744Z appoptics:patching patched crypto 
2022-04-20T15:44:49.770Z appoptics:patching patched https 
2022-04-20T15:44:49.771Z appoptics:patching patched http 
2022-04-20T15:44:49.807Z appoptics:patching patched zlib 
2022-04-20T15:44:49.822Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:49.822Z appoptics:patching patched fs 
2022-04-20T15:44:49.870Z appoptics:patching patched express 4.13.0
2022-04-20T15:44:49.876Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:49.882Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.0
    ✓ UDP might lose a message
2022-04-20T15:44:49.930Z appoptics:patching patched raw-body 2.5.1
(node:3822) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (236ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:55.964Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:55.965Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:55.965Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:55.965Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:56.027Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:56.147Z appoptics:patching patched crypto 
2022-04-20T15:44:56.165Z appoptics:patching patched https 
2022-04-20T15:44:56.165Z appoptics:patching patched http 
2022-04-20T15:44:56.199Z appoptics:patching patched zlib 
2022-04-20T15:44:56.215Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:56.215Z appoptics:patching patched fs 
2022-04-20T15:44:56.257Z appoptics:patching patched express 4.13.1
2022-04-20T15:44:56.263Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:56.269Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.1
    ✓ UDP might lose a message
2022-04-20T15:44:56.307Z appoptics:patching patched raw-body 2.5.1
(node:3844) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (213ms)


changed 3 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:02.574Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:02.574Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:02.574Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:02.575Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:02.639Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:02.758Z appoptics:patching patched crypto 
2022-04-20T15:45:02.796Z appoptics:patching patched https 
2022-04-20T15:45:02.809Z appoptics:patching patched http 
2022-04-20T15:45:02.835Z appoptics:patching patched zlib 
2022-04-20T15:45:02.852Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:02.853Z appoptics:patching patched fs 
2022-04-20T15:45:02.905Z appoptics:patching patched express 4.13.2
2022-04-20T15:45:02.912Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:02.918Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.2
    ✓ UDP might lose a message
2022-04-20T15:45:02.969Z appoptics:patching patched raw-body 2.5.1
(node:3866) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:08.808Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:08.808Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:08.808Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:08.809Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:08.868Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:09.018Z appoptics:patching patched crypto 
2022-04-20T15:45:09.047Z appoptics:patching patched https 
2022-04-20T15:45:09.047Z appoptics:patching patched http 
2022-04-20T15:45:09.090Z appoptics:patching patched zlib 
2022-04-20T15:45:09.111Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:09.111Z appoptics:patching patched fs 
2022-04-20T15:45:09.165Z appoptics:patching patched express 4.13.3
2022-04-20T15:45:09.172Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:09.178Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.3
    ✓ UDP might lose a message
2022-04-20T15:45:09.216Z appoptics:patching patched raw-body 2.5.1
(node:3888) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (194ms)


removed 3 packages, changed 11 packages, and audited 951 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:15.378Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:15.379Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:15.379Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:15.379Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:15.449Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:15.570Z appoptics:patching patched crypto 
2022-04-20T15:45:15.586Z appoptics:patching patched https 
2022-04-20T15:45:15.587Z appoptics:patching patched http 
2022-04-20T15:45:15.620Z appoptics:patching patched zlib 
2022-04-20T15:45:15.634Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:15.635Z appoptics:patching patched fs 
2022-04-20T15:45:15.673Z appoptics:patching patched express 4.13.4
2022-04-20T15:45:15.679Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:15.684Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.4
    ✓ UDP might lose a message
2022-04-20T15:45:15.718Z appoptics:patching patched raw-body 2.5.1
(node:3910) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (194ms)


added 6 packages, removed 8 packages, changed 19 packages, and audited 949 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:21.669Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:21.669Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:21.669Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:21.670Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:21.730Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:21.848Z appoptics:patching patched crypto 
2022-04-20T15:45:21.865Z appoptics:patching patched https 
2022-04-20T15:45:21.866Z appoptics:patching patched http 
2022-04-20T15:45:21.900Z appoptics:patching patched zlib 
2022-04-20T15:45:21.917Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:21.918Z appoptics:patching patched fs 
2022-04-20T15:45:21.965Z appoptics:patching patched express 4.14.0
2022-04-20T15:45:21.971Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:21.976Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.0
    ✓ UDP might lose a message
2022-04-20T15:45:22.010Z appoptics:patching patched raw-body 2.5.1
(node:3932) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (203ms)


added 1 package, removed 12 packages, changed 6 packages, and audited 938 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:28.688Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:28.689Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:28.689Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:28.689Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:28.743Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:28.848Z appoptics:patching patched crypto 
2022-04-20T15:45:28.865Z appoptics:patching patched https 
2022-04-20T15:45:28.865Z appoptics:patching patched http 
2022-04-20T15:45:28.896Z appoptics:patching patched zlib 
2022-04-20T15:45:28.912Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:28.912Z appoptics:patching patched fs 
2022-04-20T15:45:28.943Z appoptics:patching patched express 4.14.1
2022-04-20T15:45:28.949Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:28.954Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.1
    ✓ UDP might lose a message
2022-04-20T15:45:28.985Z appoptics:patching patched raw-body 2.5.1
(node:3954) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (207ms)


added 5 packages, removed 4 packages, changed 14 packages, and audited 939 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:34.795Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:34.796Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:34.796Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:34.797Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:34.856Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:34.973Z appoptics:patching patched crypto 
2022-04-20T15:45:34.991Z appoptics:patching patched https 
2022-04-20T15:45:34.992Z appoptics:patching patched http 
2022-04-20T15:45:35.027Z appoptics:patching patched zlib 
2022-04-20T15:45:35.046Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:35.046Z appoptics:patching patched fs 
2022-04-20T15:45:35.082Z appoptics:patching patched express 4.15.0
2022-04-20T15:45:35.086Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:35.091Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.0
    ✓ UDP might lose a message
2022-04-20T15:45:35.127Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (211ms)


changed 4 packages, and audited 939 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:41.862Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:41.862Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:41.862Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:41.863Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:41.917Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:42.024Z appoptics:patching patched crypto 
2022-04-20T15:45:42.040Z appoptics:patching patched https 
2022-04-20T15:45:42.040Z appoptics:patching patched http 
2022-04-20T15:45:42.072Z appoptics:patching patched zlib 
2022-04-20T15:45:42.089Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:42.090Z appoptics:patching patched fs 
2022-04-20T15:45:42.122Z appoptics:patching patched express 4.15.1
2022-04-20T15:45:42.126Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:42.131Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.1
    ✓ UDP might lose a message
2022-04-20T15:45:42.164Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


changed 2 packages, and audited 939 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:47.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:47.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:47.743Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:47.744Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:47.798Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:47.903Z appoptics:patching patched crypto 
2022-04-20T15:45:47.919Z appoptics:patching patched https 
2022-04-20T15:45:47.920Z appoptics:patching patched http 
2022-04-20T15:45:47.951Z appoptics:patching patched zlib 
2022-04-20T15:45:47.969Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:47.969Z appoptics:patching patched fs 
2022-04-20T15:45:48.002Z appoptics:patching patched express 4.15.2
2022-04-20T15:45:48.005Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:48.010Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.2
    ✓ UDP might lose a message
2022-04-20T15:45:48.044Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (196ms)


removed 2 packages, changed 6 packages, and audited 937 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:54.350Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:54.351Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:54.351Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:54.352Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:54.411Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:54.528Z appoptics:patching patched crypto 
2022-04-20T15:45:54.546Z appoptics:patching patched https 
2022-04-20T15:45:54.546Z appoptics:patching patched http 
2022-04-20T15:45:54.598Z appoptics:patching patched zlib 
2022-04-20T15:45:54.617Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:54.618Z appoptics:patching patched fs 
2022-04-20T15:45:54.657Z appoptics:patching patched express 4.15.3
2022-04-20T15:45:54.661Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:54.666Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.3
    ✓ UDP might lose a message
2022-04-20T15:45:54.701Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (207ms)


changed 7 packages, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:00.633Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:00.633Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:00.634Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:00.634Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:00.687Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:00.804Z appoptics:patching patched crypto 
2022-04-20T15:46:00.821Z appoptics:patching patched https 
2022-04-20T15:46:00.822Z appoptics:patching patched http 
2022-04-20T15:46:00.855Z appoptics:patching patched zlib 
2022-04-20T15:46:00.874Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:00.874Z appoptics:patching patched fs 
2022-04-20T15:46:00.909Z appoptics:patching patched express 4.15.4
2022-04-20T15:46:00.916Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:00.921Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.4
    ✓ UDP might lose a message
2022-04-20T15:46:00.955Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (238ms)


removed 4 packages, changed 5 packages, and audited 933 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

13 vulnerabilities (10 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:07.376Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:07.376Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:07.376Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:07.377Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:07.431Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:07.536Z appoptics:patching patched crypto 
2022-04-20T15:46:07.553Z appoptics:patching patched https 
2022-04-20T15:46:07.553Z appoptics:patching patched http 
2022-04-20T15:46:07.585Z appoptics:patching patched zlib 
2022-04-20T15:46:07.600Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:07.601Z appoptics:patching patched fs 
2022-04-20T15:46:07.631Z appoptics:patching patched express 4.15.5
2022-04-20T15:46:07.635Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:07.640Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.5
    ✓ UDP might lose a message
2022-04-20T15:46:07.679Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (228ms)


added 11 packages, removed 2 packages, changed 11 packages, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:13.276Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:13.277Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:13.277Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:13.277Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:13.342Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:13.474Z appoptics:patching patched crypto 
2022-04-20T15:46:13.538Z appoptics:patching patched https 
2022-04-20T15:46:13.559Z appoptics:patching patched http 
2022-04-20T15:46:13.595Z appoptics:patching patched zlib 
2022-04-20T15:46:13.628Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:13.629Z appoptics:patching patched fs 
2022-04-20T15:46:13.713Z appoptics:patching patched raw-body 2.3.2
2022-04-20T15:46:13.721Z appoptics:patching patched express 4.16.0
2022-04-20T15:46:13.726Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:13.752Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.0
    ✓ UDP might lose a message
2022-04-20T15:46:13.809Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (84ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (373ms)


changed 4 packages, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:20.060Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:20.060Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:20.060Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:20.061Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:20.120Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:20.236Z appoptics:patching patched crypto 
2022-04-20T15:46:20.253Z appoptics:patching patched https 
2022-04-20T15:46:20.254Z appoptics:patching patched http 
2022-04-20T15:46:20.289Z appoptics:patching patched zlib 
2022-04-20T15:46:20.308Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:20.308Z appoptics:patching patched fs 
2022-04-20T15:46:20.352Z appoptics:patching patched raw-body 2.3.2
2022-04-20T15:46:20.356Z appoptics:patching patched express 4.16.1
2022-04-20T15:46:20.360Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:20.367Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.1
    ✓ UDP might lose a message
2022-04-20T15:46:20.403Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (201ms)


changed 2 packages, and audited 942 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:30.721Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:30.722Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:30.722Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:30.722Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:30.776Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:30.880Z appoptics:patching patched crypto 
2022-04-20T15:46:30.898Z appoptics:patching patched https 
2022-04-20T15:46:30.898Z appoptics:patching patched http 
2022-04-20T15:46:30.929Z appoptics:patching patched zlib 
2022-04-20T15:46:30.946Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:30.946Z appoptics:patching patched fs 
2022-04-20T15:46:30.985Z appoptics:patching patched raw-body 2.3.2
2022-04-20T15:46:30.989Z appoptics:patching patched express 4.16.2
2022-04-20T15:46:30.993Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:30.999Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.2
    ✓ UDP might lose a message
2022-04-20T15:46:31.031Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (39ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (186ms)


removed 10 packages, changed 6 packages, and audited 932 packages in 14s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:45.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:45.492Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:45.492Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:45.493Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:45.547Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:45.649Z appoptics:patching patched crypto 
2022-04-20T15:46:45.665Z appoptics:patching patched https 
2022-04-20T15:46:45.666Z appoptics:patching patched http 
2022-04-20T15:46:45.696Z appoptics:patching patched zlib 
2022-04-20T15:46:45.713Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:45.713Z appoptics:patching patched fs 
2022-04-20T15:46:45.750Z appoptics:patching patched raw-body 2.3.2
2022-04-20T15:46:45.754Z appoptics:patching patched express 4.16.3
2022-04-20T15:46:45.758Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:45.762Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.3
    ✓ UDP might lose a message
2022-04-20T15:46:45.796Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (40ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (201ms)


removed 3 packages, changed 6 packages, and audited 929 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:52.252Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:52.252Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:52.252Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:52.253Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:52.306Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:52.410Z appoptics:patching patched crypto 
2022-04-20T15:46:52.426Z appoptics:patching patched https 
2022-04-20T15:46:52.426Z appoptics:patching patched http 
2022-04-20T15:46:52.457Z appoptics:patching patched zlib 
2022-04-20T15:46:52.474Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:52.474Z appoptics:patching patched fs 
2022-04-20T15:46:52.507Z appoptics:patching patched raw-body 2.3.3
2022-04-20T15:46:52.511Z appoptics:patching patched express 4.16.4
2022-04-20T15:46:52.515Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:52.519Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.4
    ✓ UDP might lose a message
2022-04-20T15:46:52.552Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (41ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (194ms)


added 13 packages, removed 5 packages, changed 15 packages, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:58.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:58.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:58.458Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:58.459Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:58.530Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:58.651Z appoptics:patching patched crypto 
2022-04-20T15:46:58.668Z appoptics:patching patched https 
2022-04-20T15:46:58.669Z appoptics:patching patched http 
2022-04-20T15:46:58.700Z appoptics:patching patched zlib 
2022-04-20T15:46:58.717Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:58.717Z appoptics:patching patched fs 
2022-04-20T15:46:58.752Z appoptics:patching patched raw-body 2.4.0
2022-04-20T15:46:58.757Z appoptics:patching patched express 4.17.0
2022-04-20T15:46:58.760Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:58.765Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.0
    ✓ UDP might lose a message
2022-04-20T15:46:58.796Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (40ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (183ms)


changed 1 package, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:04.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:04.764Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:04.764Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:04.764Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:04.818Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:04.923Z appoptics:patching patched crypto 
2022-04-20T15:47:04.939Z appoptics:patching patched https 
2022-04-20T15:47:04.940Z appoptics:patching patched http 
2022-04-20T15:47:04.972Z appoptics:patching patched zlib 
2022-04-20T15:47:04.989Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:04.989Z appoptics:patching patched fs 
2022-04-20T15:47:05.025Z appoptics:patching patched raw-body 2.4.0
2022-04-20T15:47:05.030Z appoptics:patching patched express 4.17.1
2022-04-20T15:47:05.034Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:05.038Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.1
    ✓ UDP might lose a message
2022-04-20T15:47:05.071Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (42ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (205ms)


removed 9 packages, changed 14 packages, and audited 928 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:11.005Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:11.006Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:11.006Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:11.007Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:11.060Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:11.162Z appoptics:patching patched crypto 
2022-04-20T15:47:11.178Z appoptics:patching patched https 
2022-04-20T15:47:11.179Z appoptics:patching patched http 
2022-04-20T15:47:11.210Z appoptics:patching patched zlib 
2022-04-20T15:47:11.227Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:11.227Z appoptics:patching patched fs 
2022-04-20T15:47:11.262Z appoptics:patching patched raw-body 2.4.2
2022-04-20T15:47:11.266Z appoptics:patching patched express 4.17.2
2022-04-20T15:47:11.270Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:11.275Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.2
    ✓ UDP might lose a message
2022-04-20T15:47:11.305Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (39ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (181ms)


removed 1 package, changed 5 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:17.159Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:17.160Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:17.160Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:17.161Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:17.214Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:17.321Z appoptics:patching patched crypto 
2022-04-20T15:47:17.337Z appoptics:patching patched https 
2022-04-20T15:47:17.337Z appoptics:patching patched http 
2022-04-20T15:47:17.369Z appoptics:patching patched zlib 
2022-04-20T15:47:17.386Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:17.387Z appoptics:patching patched fs 
2022-04-20T15:47:17.421Z appoptics:patching patched raw-body 2.4.3
2022-04-20T15:47:17.426Z appoptics:patching patched express 4.17.3
2022-04-20T15:47:17.429Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:17.434Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.3
    ✓ UDP might lose a message
2022-04-20T15:47:17.463Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (39ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (184ms)


up to date, audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
