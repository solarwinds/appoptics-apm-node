npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:15:53.673Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:53.674Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:53.674Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:53.674Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:53.737Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:53.864Z appoptics:patching patched crypto 
2022-04-21T16:15:53.895Z appoptics:patching patched https 
2022-04-21T16:15:53.895Z appoptics:patching patched http 
2022-04-21T16:15:53.939Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:53.940Z appoptics:patching patched fs 
2022-04-21T16:15:53.954Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v16.14.2)
2022-04-21T16:15:53.960Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-21T16:15:54.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a622ceceb28f033e51d2e8c24d78277d200bad6-0b28378007b59303-01 outer:exit 2b-5a622ceceb28f033e51d2e8c24d78277d200bad6-e9faa2e2b02b8c23-01
2022-04-21T16:15:54.014Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:54.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-97eddb79d3f5934a7e296f85fcf5908daad97984-c2c6d0feca074d93-01 outer:exit 2b-97eddb79d3f5934a7e296f85fcf5908daad97984-a2193fd5a32e2911-01
2022-04-21T16:15:54.073Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:54.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-c05019c466f90211b9c78408694011bf7a3c8c1d-8465bb8ab562cb9d-01 outer:exit 2b-c05019c466f90211b9c78408694011bf7a3c8c1d-fe463055fce57793-01
2022-04-21T16:15:54.080Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:54.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd91e9b59d2b04571b2a8d6a0fb02a64b220a2bf-7958b85dd4302b30-01 outer:exit 2b-fd91e9b59d2b04571b2a8d6a0fb02a64b220a2bf-26528575efa871ea-01
2022-04-21T16:15:54.086Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:54.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-0208ea7ebfd2b932365696bc2c06cad7f913c93d-0f62ff68814e4aba-01 outer:exit 2b-0208ea7ebfd2b932365696bc2c06cad7f913c93d-357b04ac48096c3d-01
2022-04-21T16:15:54.092Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:54.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b9813085d4ffb15718ae15f65d46164225fc197-f80122fa65e1a578-01 outer:exit 2b-0b9813085d4ffb15718ae15f65d46164225fc197-1810ea5885610600-01
2022-04-21T16:15:54.097Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:54.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2238d00f3894a33389a63d0e98a0014822469d1-2a8be54aa9e4e1f1-01 outer:exit 2b-d2238d00f3894a33389a63d0e98a0014822469d1-52bd0fe320eadce8-01
2022-04-21T16:15:54.101Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:54.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f38c19598d4a87478e25a1ffd415371c00b6486-8ddb452342e2304c-01 outer:exit 2b-6f38c19598d4a87478e25a1ffd415371c00b6486-9d45f1cc280b02bf-01
2022-04-21T16:15:54.104Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:54.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-0edd77eaac609d817c416793e902509e56a31088-99e25e573e7ec8f6-01 outer:exit 2b-0edd77eaac609d817c416793e902509e56a31088-2922adf1c4c2930d-01
2022-04-21T16:15:54.107Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:54.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-872d811ac81b49f94ae6ad9f5210e94bfe0234dd-67e0cd104db7408d-01 outer:exit 2b-872d811ac81b49f94ae6ad9f5210e94bfe0234dd-12acf76008622d35-01
2022-04-21T16:15:54.110Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:54.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fdcd0774e4c88598ec244339585d34150b9cbad-d81e150d860c2cdd-01 outer:exit 2b-9fdcd0774e4c88598ec244339585d34150b9cbad-9268e628e739f620-01
2022-04-21T16:15:54.116Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:54.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4b94ef8532eda9b7a697d802c265e5bd53886cb-a07d642b73e41b8a-01 outer:exit 2b-a4b94ef8532eda9b7a697d802c265e5bd53886cb-2844467e46bd226f-01
2022-04-21T16:15:54.157Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:54.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-f13795033667622282266a45a7c1afe5f5368f58-3a7d7c1a850f671f-01 outer:exit 2b-f13795033667622282266a45a7c1afe5f5368f58-221e50ebd00f49fb-01
2022-04-21T16:15:54.179Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:54.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-80247a9d543e52816cfe91d1e1e1a18f4e69521f-72605c389394bc15-01 outer:exit 2b-80247a9d543e52816cfe91d1e1e1a18f4e69521f-a49b6134f42a1a9f-01
2022-04-21T16:15:54.229Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:54.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4752f606def2c14d129815f9d3b4ce70d3d8744-1c0c74a286f0b331-01 outer:exit 2b-c4752f606def2c14d129815f9d3b4ce70d3d8744-efb424da238fb134-01
2022-04-21T16:15:54.234Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:54.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5f5a93a82d943ac95fe8a2b9b10d8aa7b1575c7-604f0ac31c74de8a-01 outer:exit 2b-d5f5a93a82d943ac95fe8a2b9b10d8aa7b1575c7-7549b5f6920577d2-01
2022-04-21T16:15:54.237Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:54.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-d57f79bc9ec6da160a30cae7adcafc1e1f8400d0-3603a1d54ba583a7-01 outer:exit 2b-d57f79bc9ec6da160a30cae7adcafc1e1f8400d0-0f5a2b027d748eb4-01
2022-04-21T16:15:54.243Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:54.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-1031ee7c0386584a460345974a52eb4cff30a77f-b8ed03cdf1a0669a-01 outer:exit 2b-1031ee7c0386584a460345974a52eb4cff30a77f-0b1968e0ae3199f4-01
2022-04-21T16:15:54.246Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:54.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-26849d75e80f9beb5dda3027af00c92cde25961a-a3e7a09992542c11-01 outer:exit 2b-26849d75e80f9beb5dda3027af00c92cde25961a-d5c263a39ad84c1a-01
2022-04-21T16:15:54.249Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:54.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5654a637f2a6113ef55c66d8ef39df645dc257e-deb10d3f4af09834-01 outer:exit 2b-c5654a637f2a6113ef55c66d8ef39df645dc257e-50a89168272d8a19-01
2022-04-21T16:15:54.251Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:54.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-11e3dfc47a70864b511455d01f2183656aa9a809-c9ea9598f7fc2236-01 outer:exit 2b-11e3dfc47a70864b511455d01f2183656aa9a809-0c15cca3227701fc-01
2022-04-21T16:15:54.253Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:54.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a80668d0dd3154a1ed92d46f7c4bcd94ca6cbf7-8fefd7a09b35ea78-01 outer:exit 2b-7a80668d0dd3154a1ed92d46f7c4bcd94ca6cbf7-7a35d1cfdc76a0ad-01
2022-04-21T16:15:54.255Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:54.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-73152c8d309c806ca55683c75a2b28aed6182ff3-2588ef6d8661e3ab-01 outer:exit 2b-73152c8d309c806ca55683c75a2b28aed6182ff3-d94db5777f30f037-01
2022-04-21T16:15:54.258Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:54.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-18e63ecd6a657ea4889c8e67f4313ca8e4fb2f09-25e62b7da7930b52-01 outer:exit 2b-18e63ecd6a657ea4889c8e67f4313ca8e4fb2f09-08a78490b1351d1b-01
2022-04-21T16:15:54.261Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:54.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-e81dbb39b04ea3302218a440e5439c05a03d0aa5-c084eed23fc1538a-01 outer:exit 2b-e81dbb39b04ea3302218a440e5439c05a03d0aa5-258bcca5a9e5cd93-01
2022-04-21T16:15:54.264Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:54.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f2a45243ddf42c6684612c90b1c055920b2fa02-597bda0fb34ec6d1-01 outer:exit 2b-3f2a45243ddf42c6684612c90b1c055920b2fa02-d723a03fe9cfbd16-01
2022-04-21T16:15:54.266Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:54.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f5269fea73065abc825d50488ce59083546f0e8-ae919ac874b048fc-01 outer:exit 2b-1f5269fea73065abc825d50488ce59083546f0e8-0e30b75b92221b60-01
2022-04-21T16:15:54.303Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:54.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-945e214bc355121c088d6ee600d492250b4feb26-c81f82f3b65ea44d-01 outer:exit 2b-945e214bc355121c088d6ee600d492250b4feb26-4b065eff9c30bfde-01
2022-04-21T16:15:54.325Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:54.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-b25469bb63b2d2f001510b518cf8b4e53055ab45-abc0db49b7414541-01 outer:exit 2b-b25469bb63b2d2f001510b518cf8b4e53055ab45-bc48790281dbfcb2-01
2022-04-21T16:15:54.338Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:54.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-90e775ea0d994ff82e084678b22c95995425e9f9-e8a8cb135eb834b7-01 outer:exit 2b-90e775ea0d994ff82e084678b22c95995425e9f9-26251d640faef9b6-01
2022-04-21T16:15:54.361Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:54.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-e83e15f4ec01c3f403bccee27cddaa1e922e2dc2-cb9053eb2b43da6a-01 outer:exit 2b-e83e15f4ec01c3f403bccee27cddaa1e922e2dc2-83a989bc298111e5-01
2022-04-21T16:15:54.365Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:54.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-167f1f806ed8c35d8bd96881ab2a8fb097ba9aee-946525f6e49930bc-01 outer:exit 2b-167f1f806ed8c35d8bd96881ab2a8fb097ba9aee-008f05f715ab5188-01
2022-04-21T16:15:54.368Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:54.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c19bac78dbce89c56b94eded40e1deb18d79873-cc99bc53c8dfc94c-01 outer:exit 2b-1c19bac78dbce89c56b94eded40e1deb18d79873-439ee53790bf39b8-01
2022-04-21T16:15:54.376Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:54.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-c46276eb852d82de19b9361f5790f273be22d650-79969601036da691-01 outer:exit 2b-c46276eb852d82de19b9361f5790f273be22d650-b304329614d4fd82-01
2022-04-21T16:15:54.385Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:54.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-36a27ffe13af101376ae9d9d168226f16cc3223d-6f6c89031e6355c4-01 outer:exit 2b-36a27ffe13af101376ae9d9d168226f16cc3223d-3e73e5019e24fd1f-01
2022-04-21T16:15:54.393Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:54.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c9755c59fdaeec1a77f811358ee15d64f42001b-4af92e739267bda5-01 outer:exit 2b-9c9755c59fdaeec1a77f811358ee15d64f42001b-cce1fa09fc698f11-01
2022-04-21T16:15:54.396Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:54.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-88827dd4233c55b3b35339a071a8fc4f2c8d3769-5258dd990ad866fe-01 outer:exit 2b-88827dd4233c55b3b35339a071a8fc4f2c8d3769-3fc4691fca25c05b-01
2022-04-21T16:15:54.399Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:54.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9079b00ce43fa542d0010723f71933ccd950ed7-b208e3570df2a04b-01 outer:exit 2b-e9079b00ce43fa542d0010723f71933ccd950ed7-271fbd5b674cd56d-01
2022-04-21T16:15:54.401Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:54.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-477d13ef67df9f2cccbf50cefb04bc7d354c4076-185d2660b448a641-01 outer:exit 2b-477d13ef67df9f2cccbf50cefb04bc7d354c4076-4690f85321b56d4b-01
2022-04-21T16:15:54.412Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:54.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cbf2e1559ee2fb5d2145de93d28064c3465e80f-9e4ef2e39d2ae334-01 outer:exit 2b-3cbf2e1559ee2fb5d2145de93d28064c3465e80f-5167de9e4bcbc087-01
2022-04-21T16:15:54.422Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:54.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4a64608f206561ad9a00e7bf41ef17a327934a1-f91fc6250fd1de32-01 outer:exit 2b-e4a64608f206561ad9a00e7bf41ef17a327934a1-5b4c27094ad56e79-01
2022-04-21T16:15:54.425Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:54.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c81f4b3beddde36495acdfc2b347d820eaddf27-9b36759e1f15df38-01 outer:exit 2b-9c81f4b3beddde36495acdfc2b347d820eaddf27-34817c120cbe3f0f-01
2022-04-21T16:15:54.429Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:54.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e7e33ce4c2967391b8c57f19a7eb7dc9c9654f4-64978f6151a460ac-01 outer:exit 2b-4e7e33ce4c2967391b8c57f19a7eb7dc9c9654f4-f7101a98fe866058-01
2022-04-21T16:15:54.495Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:54.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-057e08b038ee37eb5a24584c437a409393395269-62637eeb96fc5cd5-01 outer:exit 2b-057e08b038ee37eb5a24584c437a409393395269-ddfb4e0b6dd6602e-01
2022-04-21T16:15:54.527Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (560ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:02.319Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:02.320Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:02.320Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:02.321Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:02.382Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:02.504Z appoptics:patching patched crypto 
2022-04-21T16:16:02.523Z appoptics:patching patched https 
2022-04-21T16:16:02.523Z appoptics:patching patched http 
2022-04-21T16:16:02.570Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:02.571Z appoptics:patching patched fs 
2022-04-21T16:16:02.584Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v16.14.2)
2022-04-21T16:16:02.590Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-21T16:16:02.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9ef50616e49ba2c20285cd7b65e3aacf94158cc-62aff47eb7e8799d-01 outer:exit 2b-b9ef50616e49ba2c20285cd7b65e3aacf94158cc-55e0ef8473ff757d-01
2022-04-21T16:16:02.633Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:02.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-18d35786e86e0d96e6403646876336058f5cb4ed-f08cf1d4cc68df4a-01 outer:exit 2b-18d35786e86e0d96e6403646876336058f5cb4ed-d363d83fd8e244f3-01
2022-04-21T16:16:02.686Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:02.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c64d587b1f74a15df5ad11e86879969644d34e-d5c05d08f3535507-01 outer:exit 2b-65c64d587b1f74a15df5ad11e86879969644d34e-f27a9a9a060e349f-01
2022-04-21T16:16:02.690Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:02.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-b36bcfb27cd7c339c955197fce97ace5a0804a24-8b49dd06dc66f958-01 outer:exit 2b-b36bcfb27cd7c339c955197fce97ace5a0804a24-52fad35d1d318cc1-01
2022-04-21T16:16:02.693Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:02.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecc148ca8f244f1a6058181f4e05b805c08b2f95-bc6ef5a29b0a875a-01 outer:exit 2b-ecc148ca8f244f1a6058181f4e05b805c08b2f95-466de1b67b811a60-01
2022-04-21T16:16:02.698Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:02.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd38dae0059c07192832b704ef3169e27587987-49b678a0c8e2d7d0-01 outer:exit 2b-bfd38dae0059c07192832b704ef3169e27587987-105f0c202c9c8dd6-01
2022-04-21T16:16:02.701Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:02.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-70a0a8c219f55e0e112405aeadbf41fc6d9eaf16-2d94562d96d936a0-01 outer:exit 2b-70a0a8c219f55e0e112405aeadbf41fc6d9eaf16-ce8d6faf86ec5a77-01
2022-04-21T16:16:02.704Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:02.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-44fea2e085b4171ef9efc6dfa339137467a7dbea-8016919fe9fd9214-01 outer:exit 2b-44fea2e085b4171ef9efc6dfa339137467a7dbea-28daa6a0cefc26d7-01
2022-04-21T16:16:02.706Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:02.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-85f627cfc7392a07827acacc5e9b24092ed911e0-42f3715f96a478ac-01 outer:exit 2b-85f627cfc7392a07827acacc5e9b24092ed911e0-74f742b7f6add18f-01
2022-04-21T16:16:02.709Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:02.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b7aa084aa291e3d7b068739626c484e70992d94-914074ba75715063-01 outer:exit 2b-2b7aa084aa291e3d7b068739626c484e70992d94-ed334ad073f03f76-01
2022-04-21T16:16:02.712Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:02.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-302d4b8a38a6cad5c9df58977403f75d3ad1f728-0c0c99ba7ec3866e-01 outer:exit 2b-302d4b8a38a6cad5c9df58977403f75d3ad1f728-a5d6f05b0d2d20b7-01
2022-04-21T16:16:02.716Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:02.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eb4097399c2725c84594c038b2f496f8012235c-316a2c3060da24d3-01 outer:exit 2b-9eb4097399c2725c84594c038b2f496f8012235c-4cbc16836deebda0-01
2022-04-21T16:16:02.723Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:02.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d9b6ab2b672e864b0204ebd4176c39182a88a64-675efdd4d8fc129b-01 outer:exit 2b-7d9b6ab2b672e864b0204ebd4176c39182a88a64-efb00ed6624a92cd-01
2022-04-21T16:16:02.741Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:02.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-84610d4c2dcf134d716806b93d56f1a4a94ce3e5-26714eb21dda7337-01 outer:exit 2b-84610d4c2dcf134d716806b93d56f1a4a94ce3e5-f5e50d2c611f2726-01
2022-04-21T16:16:02.785Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:02.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d5dfa1c58953b026fcc929bb436a0076e2b6de7-17b1f3082b8d3cb0-01 outer:exit 2b-0d5dfa1c58953b026fcc929bb436a0076e2b6de7-af67682420f68f4f-01
2022-04-21T16:16:02.788Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:02.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-2da39fe05818888ac3dbac0460e1399f543610ad-d189abbf1653f473-01 outer:exit 2b-2da39fe05818888ac3dbac0460e1399f543610ad-99e4219f7b1a33ab-01
2022-04-21T16:16:02.790Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:02.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-beaf2461d2ab876ac0f9dc8d426b30d87d96d7d0-edf21d24cdff2004-01 outer:exit 2b-beaf2461d2ab876ac0f9dc8d426b30d87d96d7d0-02e369f2a708b51e-01
2022-04-21T16:16:02.794Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:02.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2669a8ba003bbc7512fb66ca9c5d4084395aefa-7a1bb4af824af8f0-01 outer:exit 2b-b2669a8ba003bbc7512fb66ca9c5d4084395aefa-f7dd06b9a0eccdd1-01
2022-04-21T16:16:02.796Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:02.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-c326ed5b0cfad8f7f0f23484f9275c0ec3a15a6d-8d5f8af5f9e5519c-01 outer:exit 2b-c326ed5b0cfad8f7f0f23484f9275c0ec3a15a6d-eb1f8b5bb2bd136e-01
2022-04-21T16:16:02.798Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:02.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-26d6783c888dce5b677c0ac29cc6af7e47e0625e-50808a44a400eae4-01 outer:exit 2b-26d6783c888dce5b677c0ac29cc6af7e47e0625e-dd49b63740eae115-01
2022-04-21T16:16:02.800Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:02.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cb65962f85050f67c689612ef7ded43ee67d4ad-e8665f133b6c5226-01 outer:exit 2b-8cb65962f85050f67c689612ef7ded43ee67d4ad-209d6c2b834d67fe-01
2022-04-21T16:16:02.802Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:02.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cf186920e04f2d46d80e2d06494e352970af127-3d95ab925d96be7c-01 outer:exit 2b-6cf186920e04f2d46d80e2d06494e352970af127-c9912d0db85e2f2a-01
2022-04-21T16:16:02.804Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:02.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c81ceaa4209ec0d970648dbacd92e7282039913-c93f5a665ced5bb7-01 outer:exit 2b-2c81ceaa4209ec0d970648dbacd92e7282039913-94571cb10d961b44-01
2022-04-21T16:16:02.807Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:02.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4c4e6e053657455fc5c5b6a744ed3c6f6a32d15-c089b21d4ab5322c-01 outer:exit 2b-d4c4e6e053657455fc5c5b6a744ed3c6f6a32d15-4c2fd966ab2cf74f-01
2022-04-21T16:16:02.810Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:02.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-b667b631e76f16f1074674ad0100824ae5528ae6-125f69fdfe17a661-01 outer:exit 2b-b667b631e76f16f1074674ad0100824ae5528ae6-6e1cb3e7c6f29ccc-01
2022-04-21T16:16:02.812Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:02.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-34bdc50d4d83c9f806cdd44109fa66e3a35cb51f-f93a6d46e311f43e-01 outer:exit 2b-34bdc50d4d83c9f806cdd44109fa66e3a35cb51f-075576eaa2a3cd15-01
2022-04-21T16:16:02.814Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:02.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5e4a9e503f5e9ca222f686835956df3815a593-586d72b129670b56-01 outer:exit 2b-0b5e4a9e503f5e9ca222f686835956df3815a593-8d438291a07293d7-01
2022-04-21T16:16:02.820Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:02.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-2061214d71c043b70bc0df40b96830a85ffcd307-74258ede8f47ca2a-01 outer:exit 2b-2061214d71c043b70bc0df40b96830a85ffcd307-15d949c645d78e1b-01
2022-04-21T16:16:02.827Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:02.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-b50521afbac7d20abad935b728963110b30514f5-44804bf51936f6be-01 outer:exit 2b-b50521afbac7d20abad935b728963110b30514f5-48c7ddfc33e9533b-01
2022-04-21T16:16:02.836Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:02.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-c633cf2626c9d747d8e7884ca97e417bd49d378e-1c9a4110dff5c4d8-01 outer:exit 2b-c633cf2626c9d747d8e7884ca97e417bd49d378e-a4eea558302eff83-01
2022-04-21T16:16:02.846Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:02.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-c80b13e8510743ea7d6a9090216452c05f8e736a-5e6475bac10da657-01 outer:exit 2b-c80b13e8510743ea7d6a9090216452c05f8e736a-4f4a8c93b3a72979-01
2022-04-21T16:16:02.848Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:02.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-88faab7d48b445d14e79cfdbf35bc222e56f6bc2-aca3fe60dfab92ec-01 outer:exit 2b-88faab7d48b445d14e79cfdbf35bc222e56f6bc2-d7459d62f26a567f-01
2022-04-21T16:16:02.851Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:02.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-b868a6af0b46d50fd1455afb8310865702ca3137-4c2dec16d430517f-01 outer:exit 2b-b868a6af0b46d50fd1455afb8310865702ca3137-dc9a91fdb69ce01b-01
2022-04-21T16:16:02.858Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:02.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-9076aa60a083206a05b4b53db1f0ab16efc3ad7e-fd318aea795ba464-01 outer:exit 2b-9076aa60a083206a05b4b53db1f0ab16efc3ad7e-0d80e25dca493e84-01
2022-04-21T16:16:02.861Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:02.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b1a81b4f65a679e54046c89bdbdb65fa68048d8-4dd078c69b8973c1-01 outer:exit 2b-3b1a81b4f65a679e54046c89bdbdb65fa68048d8-91f55c05b218b28e-01
2022-04-21T16:16:02.862Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:02.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-96a45c9c562f1d872a396dcf243008ee1d90c695-f867633dfcbfdf15-01 outer:exit 2b-96a45c9c562f1d872a396dcf243008ee1d90c695-6d704f2475e0a9d6-01
2022-04-21T16:16:02.864Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:02.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-c81cb573370f021032c028af3046e83b94fba285-c08a4ba06e22940c-01 outer:exit 2b-c81cb573370f021032c028af3046e83b94fba285-d36846a96cecd2db-01
2022-04-21T16:16:02.866Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:02.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fb89c2843082ba2a015854262d04fc6dacb7001-fd143b89e22c0d04-01 outer:exit 2b-7fb89c2843082ba2a015854262d04fc6dacb7001-0892fe9564330937-01
2022-04-21T16:16:02.868Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:02.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3a3c8382e5014cda969c45871f76836022d1112-5a856993af98bb5a-01 outer:exit 2b-d3a3c8382e5014cda969c45871f76836022d1112-0cfa3310421a71e1-01
2022-04-21T16:16:02.881Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:02.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a2e24f32b5b80671668c39710442d8b193a81de-b99ca1b3feb404b2-01 outer:exit 2b-3a2e24f32b5b80671668c39710442d8b193a81de-d82e7a890fad58d6-01
2022-04-21T16:16:02.889Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:02.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-56a978ee126518e0ed40d47d7a048e427e4db7f6-746efc38b04e4a6e-01 outer:exit 2b-56a978ee126518e0ed40d47d7a048e427e4db7f6-c4866e09aa4b68bb-01
2022-04-21T16:16:02.892Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:02.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbaafb59ed94932053599c5c6a3cabb3f8219f23-261888de991b8562-01 outer:exit 2b-dbaafb59ed94932053599c5c6a3cabb3f8219f23-60d4ccaf41302122-01
2022-04-21T16:16:02.894Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:02.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc6ad458f01f1df0c3ccedc85fee5fc4bf257e74-f4d6110003091c3a-01 outer:exit 2b-cc6ad458f01f1df0c3ccedc85fee5fc4bf257e74-e72532f0008163fc-01
2022-04-21T16:16:02.897Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:02.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ca1513536eab19506cde0bf7ce244a4dcebc0e5-2bce6eaa8bf33210-01 outer:exit 2b-5ca1513536eab19506cde0bf7ce244a4dcebc0e5-64144e0c678c4c0f-01
2022-04-21T16:16:02.926Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (329ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:09.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:09.963Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:09.963Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:09.964Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:10.059Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:10.188Z appoptics:patching patched crypto 
2022-04-21T16:16:10.208Z appoptics:patching patched https 
2022-04-21T16:16:10.209Z appoptics:patching patched http 
2022-04-21T16:16:10.259Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:10.259Z appoptics:patching patched fs 
2022-04-21T16:16:10.273Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v16.14.2)
2022-04-21T16:16:10.279Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-21T16:16:10.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-95fdb82ad203eefa643abc4019e27af8cfe39dd1-78a26bbd470edd66-01 outer:exit 2b-95fdb82ad203eefa643abc4019e27af8cfe39dd1-b9fc3beaea80bb49-01
2022-04-21T16:16:10.331Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:10.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-39e0b43aa532e90c05d0394f2907690ceb0368b2-31f8ccdb4cf5d47b-01 outer:exit 2b-39e0b43aa532e90c05d0394f2907690ceb0368b2-7a2560a07c0a939b-01
2022-04-21T16:16:10.399Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:10.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-de92ae141167227231e0b5fefb0fb4cacb2cddbf-7c738e8fd80ebdcf-01 outer:exit 2b-de92ae141167227231e0b5fefb0fb4cacb2cddbf-06edfe0625afabbd-01
2022-04-21T16:16:10.403Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:10.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-2116da839aab73903b653dde8e124302b271404e-2f1cd2b243da82ed-01 outer:exit 2b-2116da839aab73903b653dde8e124302b271404e-fff02df032f676c2-01
2022-04-21T16:16:10.406Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:10.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-78ef550e2a958deff47b1b7c46aa570b78c75124-9641231ae78d994f-01 outer:exit 2b-78ef550e2a958deff47b1b7c46aa570b78c75124-e48600bf03302272-01
2022-04-21T16:16:10.411Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:10.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecacf27dad4a7254f1f362f8ee6c36daa20efeaa-5fa7f4bf4d55be80-01 outer:exit 2b-ecacf27dad4a7254f1f362f8ee6c36daa20efeaa-37bdcce8b39b49ab-01
2022-04-21T16:16:10.414Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:10.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac0c6bd61703b583df37585dfe738a6558870a28-9cd9cc2c5c8acf83-01 outer:exit 2b-ac0c6bd61703b583df37585dfe738a6558870a28-7961956d91475b80-01
2022-04-21T16:16:10.417Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:10.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-4db1a7b0d95a27fe793dbdb5e70aebf168dbd581-9ac0c947f3731410-01 outer:exit 2b-4db1a7b0d95a27fe793dbdb5e70aebf168dbd581-3934bf255be39a0d-01
2022-04-21T16:16:10.420Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:10.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aa8f282d969e33bbedb10752895229492ea2014-debb17b5b557df8f-01 outer:exit 2b-2aa8f282d969e33bbedb10752895229492ea2014-baf6d2318fc20a7b-01
2022-04-21T16:16:10.423Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:10.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-60b7da8244c37dceb3a036ef02f3aa6cf277ff14-e3a7de53b5812883-01 outer:exit 2b-60b7da8244c37dceb3a036ef02f3aa6cf277ff14-464adbfee6036d4d-01
2022-04-21T16:16:10.426Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:10.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-de6eccbccf57e98aa70f932c573feca155d80fa9-55672a25e46a0fe3-01 outer:exit 2b-de6eccbccf57e98aa70f932c573feca155d80fa9-4458b4c5433b1b30-01
2022-04-21T16:16:10.430Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:10.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f9fa8bf8ad4b7268220a7c191a2250ec90e0dcd-24201b71cd307457-01 outer:exit 2b-7f9fa8bf8ad4b7268220a7c191a2250ec90e0dcd-c445ba52a94de2e6-01
2022-04-21T16:16:10.436Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:10.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c1e9546ae8e1429a4a80f52c2f1736ca968ce75-481718aaa1f5c6b8-01 outer:exit 2b-9c1e9546ae8e1429a4a80f52c2f1736ca968ce75-cf49b48bf31f43ba-01
2022-04-21T16:16:10.453Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:10.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-a109562e60b6e5cf1c44aad7cddef2f23ad4feb8-bc9f4beae3349e1a-01 outer:exit 2b-a109562e60b6e5cf1c44aad7cddef2f23ad4feb8-03c085fd76283095-01
2022-04-21T16:16:10.501Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:10.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-b49d1365aba4acfc05c135efd84dce64858febb5-9a272b2b82f572a9-01 outer:exit 2b-b49d1365aba4acfc05c135efd84dce64858febb5-55ccca4a08e6d684-01
2022-04-21T16:16:10.507Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:10.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-f34a09495a589247b867267575e7148c352913c4-80b32c388a2ec9bd-01 outer:exit 2b-f34a09495a589247b867267575e7148c352913c4-a77aa30edfda91c3-01
2022-04-21T16:16:10.510Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:10.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-85d65fc56ad65eb8abd0d3331066b14b16bd17a4-3cf4ac7e84af9c5d-01 outer:exit 2b-85d65fc56ad65eb8abd0d3331066b14b16bd17a4-077cc76351dc794f-01
2022-04-21T16:16:10.513Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:10.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1bfc8a6cd72acc011fb05d31ef348a45ee3cc2b-8b03be79c722de36-01 outer:exit 2b-b1bfc8a6cd72acc011fb05d31ef348a45ee3cc2b-5d04087dc3089544-01
2022-04-21T16:16:10.515Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:10.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-45d88e46b93171c111dcde2f93ffe6f151b04ce1-9155c0766217ca1b-01 outer:exit 2b-45d88e46b93171c111dcde2f93ffe6f151b04ce1-429b7187e99b8453-01
2022-04-21T16:16:10.517Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:10.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-046fde0f6d1e9fa45231c55a96cd61d5f6c59c23-61585053bd7a6234-01 outer:exit 2b-046fde0f6d1e9fa45231c55a96cd61d5f6c59c23-16714009e83c5ae5-01
2022-04-21T16:16:10.519Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:10.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-add5d92889d74d4e1c703bf7334e40e79166b203-8589c6062853d699-01 outer:exit 2b-add5d92889d74d4e1c703bf7334e40e79166b203-b3ab64a08f00426a-01
2022-04-21T16:16:10.521Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:10.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-97d4110661268fa8b706dc5379d7aa108380292f-61cde5d7158eb519-01 outer:exit 2b-97d4110661268fa8b706dc5379d7aa108380292f-7dc597019af3cf68-01
2022-04-21T16:16:10.529Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:10.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-197b4a8cf44b8783a9a3cba29425353eb4db2b13-3d8e51e32d8e77c6-01 outer:exit 2b-197b4a8cf44b8783a9a3cba29425353eb4db2b13-8e5c0c8d3f0abfb7-01
2022-04-21T16:16:10.532Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:10.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb372cb1e47f916a4cd1d1e1404a14abed723ddc-f3db76f3929e58dc-01 outer:exit 2b-fb372cb1e47f916a4cd1d1e1404a14abed723ddc-a57be4492b7b17f5-01
2022-04-21T16:16:10.536Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:10.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea591b165b2ebaed462637697a892cbb2e93a568-e80f9f42addbd6eb-01 outer:exit 2b-ea591b165b2ebaed462637697a892cbb2e93a568-453870a3f133e50a-01
2022-04-21T16:16:10.538Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:10.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d1e480ef9f6bd98036def29371088fd55cc4e4c-5cf63cfd44620d27-01 outer:exit 2b-1d1e480ef9f6bd98036def29371088fd55cc4e4c-f34bd6aed0c89142-01
2022-04-21T16:16:10.540Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:10.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd31b759d3407b5e9e32e9461de7bc097b270c6f-ec366eed4fad540c-01 outer:exit 2b-dd31b759d3407b5e9e32e9461de7bc097b270c6f-579c4da1d295f09f-01
2022-04-21T16:16:10.546Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:10.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-946b56c6433fb43519805e5a84c4bf9ac38c8f3c-fbb4ca8221b289f6-01 outer:exit 2b-946b56c6433fb43519805e5a84c4bf9ac38c8f3c-bd7f350ab2e972a3-01
2022-04-21T16:16:10.552Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:10.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d422e435fb62bea92fa44bacd68c25b3ff67065-3469b412e3aa0a06-01 outer:exit 2b-6d422e435fb62bea92fa44bacd68c25b3ff67065-845527fddfe3b98b-01
2022-04-21T16:16:10.560Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:10.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e9ee872843198d9d53f63ba7c6366718ca4f6f2-c3480cc319692113-01 outer:exit 2b-4e9ee872843198d9d53f63ba7c6366718ca4f6f2-198f6619ee6d91cb-01
2022-04-21T16:16:10.569Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:10.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-0411480167e7569c43e468251e1033e09249d9ac-8b038b28d782c8b2-01 outer:exit 2b-0411480167e7569c43e468251e1033e09249d9ac-3827fe0b5d752e66-01
2022-04-21T16:16:10.571Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:10.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-96519fa2d20c7734b43d2ced735f857fde772aeb-b149bf955d8bb12a-01 outer:exit 2b-96519fa2d20c7734b43d2ced735f857fde772aeb-bc604d545e56d1cd-01
2022-04-21T16:16:10.574Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:10.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-90f040976d80b4a594f1aeb46b94386bf314061a-94c04cefd2a29d07-01 outer:exit 2b-90f040976d80b4a594f1aeb46b94386bf314061a-1c551d0eef5825f5-01
2022-04-21T16:16:10.581Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:10.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-e66900030cc335909de4879d62d15e917b91edd8-7c194d9d02b37e7d-01 outer:exit 2b-e66900030cc335909de4879d62d15e917b91edd8-b6285687faeee3ae-01
2022-04-21T16:16:10.583Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:10.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-57ec02b13f3f8e4e2685a7e809c410722c253aaf-82fe23e27ab60af8-01 outer:exit 2b-57ec02b13f3f8e4e2685a7e809c410722c253aaf-e94c3eedd481672d-01
2022-04-21T16:16:10.585Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:10.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-a13b371ed232a667c77d0fcace8f4cbf4f34c9ed-11d6caf58179bf8a-01 outer:exit 2b-a13b371ed232a667c77d0fcace8f4cbf4f34c9ed-3c7e39a0186197fa-01
2022-04-21T16:16:10.587Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:10.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fa48b59d0e10d92fdb2e0f2c0e66bf1b2f71161-9f4b6df887d5eb8d-01 outer:exit 2b-1fa48b59d0e10d92fdb2e0f2c0e66bf1b2f71161-8fe1825e3cd7bade-01
2022-04-21T16:16:10.589Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:10.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e7675bfd5c09761fafa25bfb21f4955ddcba13a-468b242fb800a445-01 outer:exit 2b-0e7675bfd5c09761fafa25bfb21f4955ddcba13a-1bc87538f65dff18-01
2022-04-21T16:16:10.591Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:10.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-a706af25cc4be5d30b0e7daf1cc158bdc35b8af5-eb7c678a8b0313cd-01 outer:exit 2b-a706af25cc4be5d30b0e7daf1cc158bdc35b8af5-eb3973560c3ea5b1-01
2022-04-21T16:16:10.603Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:10.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-faf7130198bdd772d64638d0445761176b34a0eb-d6b71417339828c4-01 outer:exit 2b-faf7130198bdd772d64638d0445761176b34a0eb-feec8facdd531d72-01
2022-04-21T16:16:10.611Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:10.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7a44c9ab651dfad146832dcef86cc9c49961859-e8cc5018e2e3ddcb-01 outer:exit 2b-d7a44c9ab651dfad146832dcef86cc9c49961859-4d3c3e3bfbe5c4b7-01
2022-04-21T16:16:10.614Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:10.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eeb1177726a95310e371c108b807e2e0474a186-915a7abb8123bfee-01 outer:exit 2b-1eeb1177726a95310e371c108b807e2e0474a186-f8fa8ca83f239a3f-01
2022-04-21T16:16:10.616Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:10.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cb626c5d3087feb278e277783999631269facc4-6c63afeeaf4820fb-01 outer:exit 2b-7cb626c5d3087feb278e277783999631269facc4-1b6847344b832f2b-01
2022-04-21T16:16:10.619Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:10.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f32b6d9a1cb6a6e102c397719fae7befe4f1fdb-6c40424b8856315a-01 outer:exit 2b-3f32b6d9a1cb6a6e102c397719fae7befe4f1fdb-d079342a7e2146aa-01
2022-04-21T16:16:10.652Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (368ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:16.922Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:16.922Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:16.922Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:16.923Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:16.999Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:17.145Z appoptics:patching patched crypto 
2022-04-21T16:16:17.185Z appoptics:patching patched https 
2022-04-21T16:16:17.198Z appoptics:patching patched http 
2022-04-21T16:16:17.236Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:17.237Z appoptics:patching patched fs 
2022-04-21T16:16:17.256Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v16.14.2)
2022-04-21T16:16:17.265Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-21T16:16:17.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8f5ee502a0a62f730a3c8cdc4de7cae566aa52d-2b2106935367bca9-01 outer:exit 2b-f8f5ee502a0a62f730a3c8cdc4de7cae566aa52d-e56bdd456c016410-01
2022-04-21T16:16:17.317Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:17.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-3886589184a0a8c3bbfc70eb20cc120d7a06a8d4-4b6d3e93de7b18cf-01 outer:exit 2b-3886589184a0a8c3bbfc70eb20cc120d7a06a8d4-0f202e6cf4aaae94-01
2022-04-21T16:16:17.371Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:17.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bdc8a30197c300d27cc1ecf93e831fb708f6d76-a4aa7489590787c1-01 outer:exit 2b-8bdc8a30197c300d27cc1ecf93e831fb708f6d76-b4b90bb234df3d90-01
2022-04-21T16:16:17.376Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:17.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-347a34d4e90ff0ae6bc3b6fc7b997a218fad24a4-d6af108bd9e063c0-01 outer:exit 2b-347a34d4e90ff0ae6bc3b6fc7b997a218fad24a4-a56ad60c7daefa0c-01
2022-04-21T16:16:17.379Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:17.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-878070b52bef97ada9c4c4e23505065e0c23c51a-96e0fe53628e183f-01 outer:exit 2b-878070b52bef97ada9c4c4e23505065e0c23c51a-a0bc7856f145fa4d-01
2022-04-21T16:16:17.386Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:17.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0a7c438da4d17c0bd90c0a5798624665af49bbe-81733253005b9195-01 outer:exit 2b-f0a7c438da4d17c0bd90c0a5798624665af49bbe-bfd1b83864712699-01
2022-04-21T16:16:17.389Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:17.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a5a3cf430ad55f4e80288b1380153b30b79c40-34c0a57b41a3ebd0-01 outer:exit 2b-53a5a3cf430ad55f4e80288b1380153b30b79c40-b5d5cdcec6016086-01
2022-04-21T16:16:17.396Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:17.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba51760a40bb6dffb25a5767574c4f86d84619f5-22c287e7f022082b-01 outer:exit 2b-ba51760a40bb6dffb25a5767574c4f86d84619f5-33e31bc490542fe6-01
2022-04-21T16:16:17.400Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:17.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-515cbecc24a8a8750a2e9c5a0a97193ea339e011-c173331fafbf86bb-01 outer:exit 2b-515cbecc24a8a8750a2e9c5a0a97193ea339e011-3c5eada883dd9ddf-01
2022-04-21T16:16:17.402Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:17.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2fa99963343bf8932370de4a1aa99ab51f6cae-939af778a2febec3-01 outer:exit 2b-0c2fa99963343bf8932370de4a1aa99ab51f6cae-61e810233934fb39-01
2022-04-21T16:16:17.409Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:17.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-10b640ce1dc5163c2058c8f7fe88d387f657a957-408f141c1d996921-01 outer:exit 2b-10b640ce1dc5163c2058c8f7fe88d387f657a957-0b7eef1335ff8480-01
2022-04-21T16:16:17.414Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:17.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ed082bd3d09653859294347923ff5761837394-1f6ef5d58655fce7-01 outer:exit 2b-66ed082bd3d09653859294347923ff5761837394-a685a5171f045a4a-01
2022-04-21T16:16:17.422Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:17.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-a241a6f7a28334cc756f7c1f78d468b6952b4f5b-e031628d4bfe5411-01 outer:exit 2b-a241a6f7a28334cc756f7c1f78d468b6952b4f5b-11d14265b092ca2b-01
2022-04-21T16:16:17.444Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:17.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-21fa94b24f65978a2ce030c5431ec3034bb46496-2bb4fd79c1cf45dc-01 outer:exit 2b-21fa94b24f65978a2ce030c5431ec3034bb46496-617ccab9044d2f32-01
2022-04-21T16:16:17.486Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:17.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-211008f944a12505a469fd31c20b6aa9b6d088d2-28a549b1b13b5dfb-01 outer:exit 2b-211008f944a12505a469fd31c20b6aa9b6d088d2-9a1b5f95df6a0186-01
2022-04-21T16:16:17.491Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:17.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d4ec9caea024bb2873cba9b6123e7beec03a0e0-c60b8ac8d6f1ea2c-01 outer:exit 2b-0d4ec9caea024bb2873cba9b6123e7beec03a0e0-638b91580cc0a2f8-01
2022-04-21T16:16:17.497Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:17.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed6d90629d8281404a502a0e411c7f7e5dadf4e4-bdcde64c9efe9e1b-01 outer:exit 2b-ed6d90629d8281404a502a0e411c7f7e5dadf4e4-7e09065c26d4143b-01
2022-04-21T16:16:17.500Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:17.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-77da7c4cb675708fc13ba55ec471835adef7a988-57af14bf9b089022-01 outer:exit 2b-77da7c4cb675708fc13ba55ec471835adef7a988-1e4d42226e9ffdf4-01
2022-04-21T16:16:17.505Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:17.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-1700ab69e0a914d30877357a16e92f4dd224c310-284c62773c2c2578-01 outer:exit 2b-1700ab69e0a914d30877357a16e92f4dd224c310-2c3333eb06cd03f1-01
2022-04-21T16:16:17.508Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:17.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-40bc2bec4652c5487a649023ab704adbc4438117-3f915fdd1db316ef-01 outer:exit 2b-40bc2bec4652c5487a649023ab704adbc4438117-d517a9f22cecc5dc-01
2022-04-21T16:16:17.512Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:17.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-560ce87ae356867e1c46984ea37e2ebd3eeddd3e-6b0bf5a52bf97dfd-01 outer:exit 2b-560ce87ae356867e1c46984ea37e2ebd3eeddd3e-7b9a9f78fa2de5e8-01
2022-04-21T16:16:17.514Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:17.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-de926e4130db3ef2d7c15264144fe40656b7e837-32607251ad767e81-01 outer:exit 2b-de926e4130db3ef2d7c15264144fe40656b7e837-9545ac950c6c1fe7-01
2022-04-21T16:16:17.517Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:17.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-3caea648c96ede1e9e947faeff569f875575590a-d04669e3ce5b540e-01 outer:exit 2b-3caea648c96ede1e9e947faeff569f875575590a-a8c248273d15f87f-01
2022-04-21T16:16:17.521Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:17.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-43a0133f64610d7149b3a560591ffd4213611400-1c0e59e92f031ecc-01 outer:exit 2b-43a0133f64610d7149b3a560591ffd4213611400-af2eada96cff95fa-01
2022-04-21T16:16:17.525Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:17.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-3200d36b05493ab86f90e5042e9903fa929d294f-cc0cbe76a8911ddd-01 outer:exit 2b-3200d36b05493ab86f90e5042e9903fa929d294f-05db19f6f3bbaf29-01
2022-04-21T16:16:17.528Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:17.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a50066135dfeb12816c588eeff3ca361b6e633e-5d0b91e5cd919042-01 outer:exit 2b-4a50066135dfeb12816c588eeff3ca361b6e633e-fc3bfac0e60635f1-01
2022-04-21T16:16:17.531Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:17.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c05b1fa924e17dbc6c04c87d5cd60f68d38383c-876a7a0526db0535-01 outer:exit 2b-4c05b1fa924e17dbc6c04c87d5cd60f68d38383c-fa981e2a97cc0227-01
2022-04-21T16:16:17.538Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:17.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b52a1a83309d888163c72cddd63e34cb1016c00-a476db7c8e9116ed-01 outer:exit 2b-1b52a1a83309d888163c72cddd63e34cb1016c00-7ec72e5b981bc673-01
2022-04-21T16:16:17.544Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:17.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fddb40fe9a30ea5a6ea80548be7d2489137ef04-2b7619e3ab7827c1-01 outer:exit 2b-4fddb40fe9a30ea5a6ea80548be7d2489137ef04-06d5bdb5e7c46c68-01
2022-04-21T16:16:17.554Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:17.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f93417bf5adf97bcd54499007b9da546e4db81d-93f6b732f827fba1-01 outer:exit 2b-4f93417bf5adf97bcd54499007b9da546e4db81d-9f373254e56986fc-01
2022-04-21T16:16:17.565Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:17.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd1ca5b82e8ae94113e6d13bce9cfa3020d11228-3b63414c91707c89-01 outer:exit 2b-dd1ca5b82e8ae94113e6d13bce9cfa3020d11228-c4149204b801b08d-01
2022-04-21T16:16:17.568Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:17.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-f497a2ef70b436d7daeb5be6c879557d034cc83a-772236c30a9a27a5-01 outer:exit 2b-f497a2ef70b436d7daeb5be6c879557d034cc83a-d96c3d1e4e479687-01
2022-04-21T16:16:17.572Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:17.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-82dfdb88cf0ab9f01a6e3110d0ad5654b81d739e-3461eb883627e13c-01 outer:exit 2b-82dfdb88cf0ab9f01a6e3110d0ad5654b81d739e-d583f07a652993cc-01
2022-04-21T16:16:17.581Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:17.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-a75afa73bd69e57bea55d09bfec835f3267fe32b-630eac8439094af8-01 outer:exit 2b-a75afa73bd69e57bea55d09bfec835f3267fe32b-a37cf97d244e02b7-01
2022-04-21T16:16:17.584Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:17.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-345e01e9c4763695c570f46e1e5288b575a88fe5-7ba9f4a5cdf6a9ea-01 outer:exit 2b-345e01e9c4763695c570f46e1e5288b575a88fe5-35557327150a9c00-01
2022-04-21T16:16:17.589Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:17.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca0e14c2f884972c8e2ed050b8b45123e5b391b7-ad0adc3b9fe6302a-01 outer:exit 2b-ca0e14c2f884972c8e2ed050b8b45123e5b391b7-2c10020cfc571e49-01
2022-04-21T16:16:17.592Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:17.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d137f6b78bbce4af4f5a58b77d5928a6c23cd21-62141766d2378a87-01 outer:exit 2b-9d137f6b78bbce4af4f5a58b77d5928a6c23cd21-aad0c8bbde401dbe-01
2022-04-21T16:16:17.595Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:17.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7c6fc5380405f2cba0a486e0f3647803f28ada4-c9fa12b25f2a12dc-01 outer:exit 2b-f7c6fc5380405f2cba0a486e0f3647803f28ada4-3d2712f7bf401e23-01
2022-04-21T16:16:17.598Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:17.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-32c52e03dee0683591e1d7318063ae1cad458811-5113314276502c03-01 outer:exit 2b-32c52e03dee0683591e1d7318063ae1cad458811-62fc85ec4b28b71b-01
2022-04-21T16:16:17.614Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:17.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c286b0b118e77c5b7a7dab79b42de8fe5ddf049-99dba81f7c9a08dc-01 outer:exit 2b-0c286b0b118e77c5b7a7dab79b42de8fe5ddf049-7fb1d069c4ad1e03-01
2022-04-21T16:16:17.625Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:17.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-93048e7e204d47668b0ca4e6df76445fa97004db-48f0faea56740d15-01 outer:exit 2b-93048e7e204d47668b0ca4e6df76445fa97004db-006138fb308dd1a3-01
2022-04-21T16:16:17.629Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:17.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb610d1fe5e2b72114512fe68c2f1528ab03524-10154762c1a26038-01 outer:exit 2b-abb610d1fe5e2b72114512fe68c2f1528ab03524-9bf3185ee6fd79ea-01
2022-04-21T16:16:17.632Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:17.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-885adb93048dadf8b07cb3bfc1edcf92295d4b48-a946424aeb445693-01 outer:exit 2b-885adb93048dadf8b07cb3bfc1edcf92295d4b48-574e5b136a868624-01
2022-04-21T16:16:17.639Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:17.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-611637b0b756648c63c46d8bed62f4ad8c48a7e7-8435bd579dfe5a1e-01 outer:exit 2b-611637b0b756648c63c46d8bed62f4ad8c48a7e7-e7cd25ffea3ca220-01
2022-04-21T16:16:17.679Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (408ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:24.121Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:24.122Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:24.122Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:24.123Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:24.184Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:24.306Z appoptics:patching patched crypto 
2022-04-21T16:16:24.324Z appoptics:patching patched https 
2022-04-21T16:16:24.325Z appoptics:patching patched http 
2022-04-21T16:16:24.369Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:24.369Z appoptics:patching patched fs 
2022-04-21T16:16:24.383Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v16.14.2)
2022-04-21T16:16:24.389Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-21T16:16:24.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aec2ef0a8f3f08aaae4cb4fe16c453617da149a-099cec96aee0deee-01 outer:exit 2b-1aec2ef0a8f3f08aaae4cb4fe16c453617da149a-bae5831de6528554-01
2022-04-21T16:16:24.447Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:24.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-136981b4d80c1f150ad33518a2551399661663e3-e38b55269bb29b5d-01 outer:exit 2b-136981b4d80c1f150ad33518a2551399661663e3-0abfc5229b19e264-01
2022-04-21T16:16:24.496Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:24.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9e0ab4818002b3d36eb14b8a0be5658867ee723-cc49becc1203087e-01 outer:exit 2b-b9e0ab4818002b3d36eb14b8a0be5658867ee723-7bc5faf57321b90c-01
2022-04-21T16:16:24.500Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:24.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-67eb2f8cee87c201f2e39f4777d41cda7dd1d19e-09b4bec563518d7b-01 outer:exit 2b-67eb2f8cee87c201f2e39f4777d41cda7dd1d19e-7855a343b31f751d-01
2022-04-21T16:16:24.503Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:24.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-2385b9283c71220425d8ca97a8a26d40e75fa7fe-a6f2f6222bceeee2-01 outer:exit 2b-2385b9283c71220425d8ca97a8a26d40e75fa7fe-f7e1fc2a8e8c5eec-01
2022-04-21T16:16:24.508Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:24.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-137f0c7f1dca524ea9cf398f55ac87553161eba7-cdb985cc10a2d4e6-01 outer:exit 2b-137f0c7f1dca524ea9cf398f55ac87553161eba7-701c99eb0b5f7a85-01
2022-04-21T16:16:24.511Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:24.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-63c7bf089de5131c48325e840cc219c7fd725378-df4dbfea35f8ed2e-01 outer:exit 2b-63c7bf089de5131c48325e840cc219c7fd725378-7d6b96cadcbbcb26-01
2022-04-21T16:16:24.514Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:24.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-dffb1c386459bb9cb88f386650ebff1252e150be-aa4372423ca927d9-01 outer:exit 2b-dffb1c386459bb9cb88f386650ebff1252e150be-e781cc5596b7be65-01
2022-04-21T16:16:24.516Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:24.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-96bdb57de4aaa986c7995001c83c86a453cbaa82-4c76d3769a7efbf0-01 outer:exit 2b-96bdb57de4aaa986c7995001c83c86a453cbaa82-cab21e361e24dbec-01
2022-04-21T16:16:24.519Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:24.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-87c045a0c59719c8053fd110792fd8464105d1ba-f9bf37670f47492a-01 outer:exit 2b-87c045a0c59719c8053fd110792fd8464105d1ba-228e32ed4a243bdf-01
2022-04-21T16:16:24.522Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:24.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-933d8874567997cbbaf83c2e382b2ec429261e9e-20bd90ee3a2de89a-01 outer:exit 2b-933d8874567997cbbaf83c2e382b2ec429261e9e-72b56d9469a39d0b-01
2022-04-21T16:16:24.526Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:24.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-59acd35ec282d1ca6512b1af778d5eed3c4773b2-8f748d19273226ab-01 outer:exit 2b-59acd35ec282d1ca6512b1af778d5eed3c4773b2-df15de8ba1ce364e-01
2022-04-21T16:16:24.532Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:24.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d52c60d4604fc33e9a9b58b92577732f45c5cb-154012df09e95cae-01 outer:exit 2b-60d52c60d4604fc33e9a9b58b92577732f45c5cb-11c9ddf984337289-01
2022-04-21T16:16:24.548Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:24.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-932825abe6acbb31b404eac252b499a7d6332724-e3fe1d708bbd60a2-01 outer:exit 2b-932825abe6acbb31b404eac252b499a7d6332724-94eb41ace0b51bd4-01
2022-04-21T16:16:24.589Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:24.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd840972b11a5f893255ebe591b461aa26b686f1-870e77e67cb11b61-01 outer:exit 2b-cd840972b11a5f893255ebe591b461aa26b686f1-6f024a260f3db89c-01
2022-04-21T16:16:24.592Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:24.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-497ae74a8eb58b66a921df22b923075da01fef9a-9432e62b01afe4ba-01 outer:exit 2b-497ae74a8eb58b66a921df22b923075da01fef9a-beecde42973c293c-01
2022-04-21T16:16:24.594Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:24.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-65408300ef84c68217b74a42f6ff189ae44b1845-f3f5eaea3a427f1f-01 outer:exit 2b-65408300ef84c68217b74a42f6ff189ae44b1845-e625e9609135d44b-01
2022-04-21T16:16:24.597Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:24.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-226d7a5d1e4912c9383e231b546a511ef0ceb9e3-3c58af29b0b34210-01 outer:exit 2b-226d7a5d1e4912c9383e231b546a511ef0ceb9e3-6df492db1622c7a3-01
2022-04-21T16:16:24.599Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:24.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-c400b369d4ac3b3e7dd0c2fe35af6c958c508168-a249b343424bf51c-01 outer:exit 2b-c400b369d4ac3b3e7dd0c2fe35af6c958c508168-5aed5e62b7d89ba4-01
2022-04-21T16:16:24.601Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:24.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-eae56d8849c70a47ed03756f7670da0856b575cb-104d4725e8be4716-01 outer:exit 2b-eae56d8849c70a47ed03756f7670da0856b575cb-58376ccd928dc2b9-01
2022-04-21T16:16:24.603Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:24.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-255183fa88c0d0891ee3002007831638bacc609b-68a7f54cf48c110d-01 outer:exit 2b-255183fa88c0d0891ee3002007831638bacc609b-d83b747d91ed8cef-01
2022-04-21T16:16:24.605Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:24.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6d03e2fd7dfba055e2283cd94713261071a289d-350a0316ee4ac695-01 outer:exit 2b-d6d03e2fd7dfba055e2283cd94713261071a289d-9a08294c37ad31c4-01
2022-04-21T16:16:24.607Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:24.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-1300fc6495ef70da16463ed2e1307f498de9df2e-07c6139320e80157-01 outer:exit 2b-1300fc6495ef70da16463ed2e1307f498de9df2e-ff5b14cf90e1cd3f-01
2022-04-21T16:16:24.610Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:24.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-395dc4ccb4aff8ef0b099003bbb9a1e57d8831d1-a15f48dc7b68b701-01 outer:exit 2b-395dc4ccb4aff8ef0b099003bbb9a1e57d8831d1-6356efd3f237a105-01
2022-04-21T16:16:24.613Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:24.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b285328da96df230421fa058aed9e29878456fb-06c24d5c19b878e9-01 outer:exit 2b-2b285328da96df230421fa058aed9e29878456fb-a0b44f0ac7f254b7-01
2022-04-21T16:16:24.615Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:24.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-267d69a8d960f6123b0b7584d1c67c344bf0b134-7d4b54ffc76b9a1e-01 outer:exit 2b-267d69a8d960f6123b0b7584d1c67c344bf0b134-2f5f139301db55b1-01
2022-04-21T16:16:24.617Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:24.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-78023051f64e0570649f87fa79cf53ad26ca727e-1d248c92a1b16e8e-01 outer:exit 2b-78023051f64e0570649f87fa79cf53ad26ca727e-bc12b1a7d7982895-01
2022-04-21T16:16:24.623Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:24.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-98effbf013701c10bbad9ac4f67ec1a8aa13f683-fd0d0480a57cdfab-01 outer:exit 2b-98effbf013701c10bbad9ac4f67ec1a8aa13f683-2f5c3006f462a606-01
2022-04-21T16:16:24.627Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:24.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-88212abf4d2daeb5bc12b5571da7ddcc0bf2d731-7b2931be4bd068cc-01 outer:exit 2b-88212abf4d2daeb5bc12b5571da7ddcc0bf2d731-9ce1b5a6a981dc0a-01
2022-04-21T16:16:24.634Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:24.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa881b2a3ee7958aa8791dc7af82c8bd003c8d2f-8343b23f5371976e-01 outer:exit 2b-aa881b2a3ee7958aa8791dc7af82c8bd003c8d2f-0e02ad76f5df2f4c-01
2022-04-21T16:16:24.641Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:24.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-e12ded60e597113b9781b0f63f7e069c6be5470a-07b0d72e3c7b91d6-01 outer:exit 2b-e12ded60e597113b9781b0f63f7e069c6be5470a-d6c2b7ee792630cb-01
2022-04-21T16:16:24.643Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:24.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-103a5e4867cb705122408c9f83e20f0f4ee5f43c-e123a67f83fbccec-01 outer:exit 2b-103a5e4867cb705122408c9f83e20f0f4ee5f43c-c3076f9da031295a-01
2022-04-21T16:16:24.646Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:24.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d4dc2f6553bf745fb2f939b3866f3d3c94572d-6a3e4b23c95f5bf9-01 outer:exit 2b-47d4dc2f6553bf745fb2f939b3866f3d3c94572d-f2db319ab3117538-01
2022-04-21T16:16:24.652Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:24.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-65d237d386bc7cbeeb6bfb95d1698dab6435b98f-21d62bac8f7635ed-01 outer:exit 2b-65d237d386bc7cbeeb6bfb95d1698dab6435b98f-5fe9ebc2ff46db40-01
2022-04-21T16:16:24.654Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:24.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-7099ce949d5278720f6fa26ed74821a7e7a08d99-a77af24276adec24-01 outer:exit 2b-7099ce949d5278720f6fa26ed74821a7e7a08d99-59b614c8e568df47-01
2022-04-21T16:16:24.656Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:24.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2bffb5bcfcbabcb6a8b67037a0112bf5a3914ae-b122fba237d179ef-01 outer:exit 2b-f2bffb5bcfcbabcb6a8b67037a0112bf5a3914ae-f1b6288073790425-01
2022-04-21T16:16:24.658Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:24.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb7a7d07d8c957cee82559b1dd74c9cafbc29fef-24da10370f0af0db-01 outer:exit 2b-bb7a7d07d8c957cee82559b1dd74c9cafbc29fef-2213da20d2501522-01
2022-04-21T16:16:24.659Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:24.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ef7e13b0b4e0e61a24f67a1982cc162f251a170-7ce0eb83197c2422-01 outer:exit 2b-4ef7e13b0b4e0e61a24f67a1982cc162f251a170-93c212b88ada1de7-01
2022-04-21T16:16:24.661Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:24.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-59c86ba77f5bc74cc71949237ff6dba546d76fb8-2f2cd1a6df564a86-01 outer:exit 2b-59c86ba77f5bc74cc71949237ff6dba546d76fb8-8b5543386067c5bd-01
2022-04-21T16:16:24.669Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:24.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeda21fc9720dbf8e77f87034a9a7d527f585301-15e01eeed1fabb56-01 outer:exit 2b-aeda21fc9720dbf8e77f87034a9a7d527f585301-e016a3e8c83d7027-01
2022-04-21T16:16:24.677Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:24.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a662959fccc279cc54e6b12ae63fd0ef5b9c0fd-4983284122b81044-01 outer:exit 2b-7a662959fccc279cc54e6b12ae63fd0ef5b9c0fd-8394c1014d58c713-01
2022-04-21T16:16:24.679Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:24.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-e951038508894a015991966ffe6707991e471da8-51d6aa0072fa2f8b-01 outer:exit 2b-e951038508894a015991966ffe6707991e471da8-f211913c0c0cf0e6-01
2022-04-21T16:16:24.682Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:24.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cff9fa5b26cf6950793080e3eebecf0944a00ef-ed50fd53da66def2-01 outer:exit 2b-3cff9fa5b26cf6950793080e3eebecf0944a00ef-7a85326bc3565d0d-01
2022-04-21T16:16:24.684Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:24.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9d5e59c8e2ef5a3a88224d69df490b5ef1104f0-e29ecb7929dc1dc1-01 outer:exit 2b-e9d5e59c8e2ef5a3a88224d69df490b5ef1104f0-1234807a7fb0d72e-01
2022-04-21T16:16:24.710Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (316ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:31.226Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:31.227Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:31.227Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:31.228Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:31.289Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:31.424Z appoptics:patching patched crypto 
2022-04-21T16:16:31.445Z appoptics:patching patched https 
2022-04-21T16:16:31.445Z appoptics:patching patched http 
2022-04-21T16:16:31.493Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:31.494Z appoptics:patching patched fs 
2022-04-21T16:16:31.509Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v16.14.2)
2022-04-21T16:16:31.515Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-21T16:16:31.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdedd6d0967a00319de01bb8ba85d12332d66d10-cd60a9e63dbeb582-01 outer:exit 2b-bdedd6d0967a00319de01bb8ba85d12332d66d10-8a5f1f679bb58ba6-01
2022-04-21T16:16:31.562Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:31.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b2f0e7af7089597cd6adb28e6a269335a0dd112-34506839a1dbca1e-01 outer:exit 2b-7b2f0e7af7089597cd6adb28e6a269335a0dd112-f55c532c8f8a2056-01
2022-04-21T16:16:31.608Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:31.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ee1af3ac9f2757719566bcfd9c6637183e86713-485fa802307f3944-01 outer:exit 2b-2ee1af3ac9f2757719566bcfd9c6637183e86713-1aefb187d9578791-01
2022-04-21T16:16:31.612Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:31.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-236f38d28000e6684ccd80cc6338c2b7129890e6-9d42c013a3a37c4f-01 outer:exit 2b-236f38d28000e6684ccd80cc6338c2b7129890e6-d690a10ecf5cd69b-01
2022-04-21T16:16:31.615Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:31.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-e96c4787da383d6f1099d20bd3935888f8d7b953-ff10d39e7cf9a311-01 outer:exit 2b-e96c4787da383d6f1099d20bd3935888f8d7b953-28c10c72fadca667-01
2022-04-21T16:16:31.619Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:31.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-bec60ec28f5b16bbd1c1f03d05e6f10beacd5e9b-1ab2c6847b99ed32-01 outer:exit 2b-bec60ec28f5b16bbd1c1f03d05e6f10beacd5e9b-95c1f410cdd2610c-01
2022-04-21T16:16:31.623Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:31.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4af9701086d5b6b7cb9f02dae08195cd1cea890-24a0a34d50befb1a-01 outer:exit 2b-e4af9701086d5b6b7cb9f02dae08195cd1cea890-9f26447726e78fe9-01
2022-04-21T16:16:31.625Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:31.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ccbd0003f65431691676c2408e24e121d969196-82c4a23e80e0851a-01 outer:exit 2b-5ccbd0003f65431691676c2408e24e121d969196-ae6c509219f0f84f-01
2022-04-21T16:16:31.628Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:31.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-0015a0ddb588737d24a722e1271772890f020005-2f88abc88260a16c-01 outer:exit 2b-0015a0ddb588737d24a722e1271772890f020005-f20ed2dbe686992e-01
2022-04-21T16:16:31.630Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:31.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8353ab4a70921c6751f66dfed7cb1c2992252bf-8834bfd000ee7e8b-01 outer:exit 2b-d8353ab4a70921c6751f66dfed7cb1c2992252bf-9ac3b12cd70eaec1-01
2022-04-21T16:16:31.634Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:31.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-b57b9bf8f2ed5095a22266b1d32705e9057550d0-86ffb79afe0571ca-01 outer:exit 2b-b57b9bf8f2ed5095a22266b1d32705e9057550d0-f7e0c33c4bc743c6-01
2022-04-21T16:16:31.638Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:31.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d16de91301fec281c03a14c7b04548c794cab00-b462735bc7b3a28b-01 outer:exit 2b-3d16de91301fec281c03a14c7b04548c794cab00-cbbf2cbf9c8d6e99-01
2022-04-21T16:16:31.644Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:31.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa4789e68e08ade635bde0ded446d17a9193f0fa-94bf83ce11f5c06f-01 outer:exit 2b-fa4789e68e08ade635bde0ded446d17a9193f0fa-911f705bca3e5be0-01
2022-04-21T16:16:31.663Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:31.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-faed05d989b88a86826da7a86177b62ac2959f10-e9d669977da2fb28-01 outer:exit 2b-faed05d989b88a86826da7a86177b62ac2959f10-9b5249411a5eaebc-01
2022-04-21T16:16:31.702Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:31.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-de50f01992653bf8d499665d93baabbcea002147-2fdf65390d455cca-01 outer:exit 2b-de50f01992653bf8d499665d93baabbcea002147-3a77d3c94fde33bf-01
2022-04-21T16:16:31.705Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:31.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bd9bcf7bc972ed1a3af6f328e1ee2a2ee719670-bc37631e61e8811d-01 outer:exit 2b-3bd9bcf7bc972ed1a3af6f328e1ee2a2ee719670-15c71c83f1ecbea4-01
2022-04-21T16:16:31.707Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:31.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6aff2c811c27214e6cf665eedb71d955e928b78-dfd7c8d0de850f34-01 outer:exit 2b-c6aff2c811c27214e6cf665eedb71d955e928b78-2838bc1a9fb8651c-01
2022-04-21T16:16:31.710Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:31.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6d6737270f6afb1b7d1eb7464e3a5359b7dd36a-9295161312be2e44-01 outer:exit 2b-c6d6737270f6afb1b7d1eb7464e3a5359b7dd36a-acd5fb9b9a344453-01
2022-04-21T16:16:31.712Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:31.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-57a2e3bc6e528b4e8c4be93343e1d070d3fae2a0-ac87cebe82edfc3e-01 outer:exit 2b-57a2e3bc6e528b4e8c4be93343e1d070d3fae2a0-cfef24c38387203c-01
2022-04-21T16:16:31.714Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:31.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cfd2f13f362d83c5f20489b6fd629505e3ace38-e4ed8b4368b4aec6-01 outer:exit 2b-0cfd2f13f362d83c5f20489b6fd629505e3ace38-e985bd0b52718eeb-01
2022-04-21T16:16:31.716Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:31.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1dfa24857c4fb791cc4a62706687302d6030e7a-816d615cf60b97c9-01 outer:exit 2b-c1dfa24857c4fb791cc4a62706687302d6030e7a-d9bfde3d763d8868-01
2022-04-21T16:16:31.718Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:31.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaed262aacbeea617b95ca52f9b527a660753d8b-8dc4cb0061872fd1-01 outer:exit 2b-eaed262aacbeea617b95ca52f9b527a660753d8b-89febe56ba877e8e-01
2022-04-21T16:16:31.720Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:31.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad8e48fe274981c003f7e35b1fb9775a8d19ffe9-6d8076a194d423fc-01 outer:exit 2b-ad8e48fe274981c003f7e35b1fb9775a8d19ffe9-566c0670708fadf1-01
2022-04-21T16:16:31.723Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:31.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d228ad3ac9dc7eac0b67688eb84df7bcc332713-35177c83eb52a0ae-01 outer:exit 2b-5d228ad3ac9dc7eac0b67688eb84df7bcc332713-139ef22d190f2c71-01
2022-04-21T16:16:31.726Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:31.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e03d27ea081e1e9ade029acb6ecfeaa9302c42a-ab474fcdeec02adb-01 outer:exit 2b-1e03d27ea081e1e9ade029acb6ecfeaa9302c42a-b918539c94d0ca58-01
2022-04-21T16:16:31.728Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:31.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e612a9932f73391922e801c7c2cd0f327354ee1-bf71191e77cf483a-01 outer:exit 2b-2e612a9932f73391922e801c7c2cd0f327354ee1-536e5d5c86d6e7fc-01
2022-04-21T16:16:31.730Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:31.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd0738907ceb5c7f4f21414e5ffacf3064a45fc1-fb04fa3eb67b32e2-01 outer:exit 2b-bd0738907ceb5c7f4f21414e5ffacf3064a45fc1-28ecd501cf89e5a1-01
2022-04-21T16:16:31.736Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:31.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-9142e2b0e95f56927915c9f8b51e757fc918c4a8-7ce05b2486356e79-01 outer:exit 2b-9142e2b0e95f56927915c9f8b51e757fc918c4a8-9584e886a4b20f6b-01
2022-04-21T16:16:31.740Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:31.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f0d75695b49af47fe8500349ed647e85188923b-ce2505bf96310902-01 outer:exit 2b-0f0d75695b49af47fe8500349ed647e85188923b-434a8c9ed1b7e682-01
2022-04-21T16:16:31.749Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:31.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c2e91e6a55d067d58483ad161d30e0242606c4a-3149264a375f1f68-01 outer:exit 2b-6c2e91e6a55d067d58483ad161d30e0242606c4a-1f63d12fffff1152-01
2022-04-21T16:16:31.755Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:31.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f4b1c579cf05a64a18dccd8e676f2f11089d469-ace4474a18f1e3f4-01 outer:exit 2b-2f4b1c579cf05a64a18dccd8e676f2f11089d469-d034fcd030fdaf98-01
2022-04-21T16:16:31.757Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:31.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-2694e956cb36083bc1af22e6fe312ffc2ed84a99-4a84d0f46ba354d4-01 outer:exit 2b-2694e956cb36083bc1af22e6fe312ffc2ed84a99-59318db551b186b7-01
2022-04-21T16:16:31.760Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:31.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-26b67c6b2012cd4aa5bd6748ea4bfc039c7fa3d0-e6b8a868636e1329-01 outer:exit 2b-26b67c6b2012cd4aa5bd6748ea4bfc039c7fa3d0-3dc97d55cf611c77-01
2022-04-21T16:16:31.765Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:31.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c66f84e0bfd2cc59d5c61250a38e5f966c0bf19-6a294c667842a0be-01 outer:exit 2b-2c66f84e0bfd2cc59d5c61250a38e5f966c0bf19-010ec17db12f2c79-01
2022-04-21T16:16:31.767Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:31.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ecbe6cd0494b81ef9acdd44f7c2eb182fb527ce-0897f31832c23725-01 outer:exit 2b-2ecbe6cd0494b81ef9acdd44f7c2eb182fb527ce-da6ade2d99580008-01
2022-04-21T16:16:31.769Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:31.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-01dca7eb54a3ead9228e0834cdc3be9e8d78cf0b-8459d52cc2d29cc5-01 outer:exit 2b-01dca7eb54a3ead9228e0834cdc3be9e8d78cf0b-8cc0a685113ada4d-01
2022-04-21T16:16:31.771Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:31.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-65400b127778339f62a8e1a9f48b824f9ff21d48-b4d1f85afe913834-01 outer:exit 2b-65400b127778339f62a8e1a9f48b824f9ff21d48-78141bfd52987a9b-01
2022-04-21T16:16:31.772Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:31.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d6d5ac0fc02149299d566d66a0083866ca2b51e-367e8e6130aa9348-01 outer:exit 2b-5d6d5ac0fc02149299d566d66a0083866ca2b51e-217576838a72b431-01
2022-04-21T16:16:31.774Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:31.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0e07047ec8f2ff7be01da57ca3c83680e961b2b-3188c33bc2a3298d-01 outer:exit 2b-c0e07047ec8f2ff7be01da57ca3c83680e961b2b-b908fcecd9fef2de-01
2022-04-21T16:16:31.786Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:31.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-7176a536b9f3452e9ea43bd01e3421a0202f4110-6fcacdefd1678054-01 outer:exit 2b-7176a536b9f3452e9ea43bd01e3421a0202f4110-c4ea9476e92a310e-01
2022-04-21T16:16:31.800Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:31.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a0c4858698bdd55a34f5f419220701e35181005-77c89157b126d264-01 outer:exit 2b-8a0c4858698bdd55a34f5f419220701e35181005-04182f77cf8527b4-01
2022-04-21T16:16:31.802Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:31.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-be6fdcb2d1cd521c0a306e9633a9e7ccb7cfd6db-a99eeb0ce832fabc-01 outer:exit 2b-be6fdcb2d1cd521c0a306e9633a9e7ccb7cfd6db-1a7081ce78313fdc-01
2022-04-21T16:16:31.805Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:31.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d65e95353aad69e5b5c43baf6abd5f7e42673fe-feb3fe2415048dcf-01 outer:exit 2b-0d65e95353aad69e5b5c43baf6abd5f7e42673fe-c0bf764b0ee09aae-01
2022-04-21T16:16:31.808Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:31.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b60d3ca060f485d5e3bb3394c22c383d3f38b3b-3bca8aa5c7af6c41-01 outer:exit 2b-8b60d3ca060f485d5e3bb3394c22c383d3f38b3b-36fd4c05c14b2163-01
2022-04-21T16:16:31.834Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (313ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:37.537Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:37.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:37.538Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:37.539Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:37.600Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:37.720Z appoptics:patching patched crypto 
2022-04-21T16:16:37.750Z appoptics:patching patched https 
2022-04-21T16:16:37.751Z appoptics:patching patched http 
2022-04-21T16:16:37.793Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:37.793Z appoptics:patching patched fs 
2022-04-21T16:16:37.807Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v16.14.2)
2022-04-21T16:16:37.814Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-21T16:16:37.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-68298e67dfd343cef5bb30ed3990eebf7c2f48e0-0721a2e81dba08f1-01 outer:exit 2b-68298e67dfd343cef5bb30ed3990eebf7c2f48e0-9dc75b4249e8285a-01
2022-04-21T16:16:37.861Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:37.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c1671fbd8be8dd414bc0e6de270086e18fb7ff3-ac43470f7e861b99-01 outer:exit 2b-9c1671fbd8be8dd414bc0e6de270086e18fb7ff3-67193147735585a5-01
2022-04-21T16:16:37.908Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:37.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-afb262980258913dd9146026f9e8dd7838c08de8-99a812c318715b8a-01 outer:exit 2b-afb262980258913dd9146026f9e8dd7838c08de8-78ec8cc43d39e88a-01
2022-04-21T16:16:37.913Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:37.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-e360e01fc7b9023f68d50ec96f519fcb571673da-a1901a2c1801713f-01 outer:exit 2b-e360e01fc7b9023f68d50ec96f519fcb571673da-540fc58276aa07bd-01
2022-04-21T16:16:37.917Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:37.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-28421a58092621acfdcebde6c50c5ae0e70907b3-243654cb33aedc85-01 outer:exit 2b-28421a58092621acfdcebde6c50c5ae0e70907b3-e71d9f34e7c336a2-01
2022-04-21T16:16:37.922Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:37.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-c815c1002eb0e215314d7183d18a4b432167acff-c5bc5b36c20f037b-01 outer:exit 2b-c815c1002eb0e215314d7183d18a4b432167acff-3bc3eecece026fa1-01
2022-04-21T16:16:37.928Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:37.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-1911fbb8fac3f7145d50894919f7bfc94be8d002-845d8e8e04b8d748-01 outer:exit 2b-1911fbb8fac3f7145d50894919f7bfc94be8d002-44c7ce5d3dd9b149-01
2022-04-21T16:16:37.931Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:37.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-2846a6829b883aa6266e0ddf7342b16fcb06f2a6-adb3a8906486ab2a-01 outer:exit 2b-2846a6829b883aa6266e0ddf7342b16fcb06f2a6-bc372c21429e8f1e-01
2022-04-21T16:16:37.934Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:37.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-1da5e08fb619018a5b439c7b6705499ccbc0292d-940881dfc4f66aa5-01 outer:exit 2b-1da5e08fb619018a5b439c7b6705499ccbc0292d-044d4d760b5b90cf-01
2022-04-21T16:16:37.936Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:37.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab573915ec2fc624c5e04c20970593fe309b5b81-c42ba610019cdaa1-01 outer:exit 2b-ab573915ec2fc624c5e04c20970593fe309b5b81-bc5fa89960f847a0-01
2022-04-21T16:16:37.939Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:37.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-db8737ce410c254ebb343ab048e9ac79d008e54d-bae4e8b19e07cc48-01 outer:exit 2b-db8737ce410c254ebb343ab048e9ac79d008e54d-2cee760a5c3200e2-01
2022-04-21T16:16:37.943Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:37.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-a191ef88b45274a5800ef3751060645560172b31-6df4b77410ff42ff-01 outer:exit 2b-a191ef88b45274a5800ef3751060645560172b31-33ea0d7dccfcb549-01
2022-04-21T16:16:37.949Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:37.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-81de66af9405cf07ec3778d58baa3bed41279498-12d5ae00d6be2c9d-01 outer:exit 2b-81de66af9405cf07ec3778d58baa3bed41279498-3bb8daee486296f7-01
2022-04-21T16:16:37.964Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:38.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-3768615982b22c7637f7b858104d0fecd6a88ed0-4d27cd2e818f0c45-01 outer:exit 2b-3768615982b22c7637f7b858104d0fecd6a88ed0-da45e3b9c489d212-01
2022-04-21T16:16:38.002Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:38.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c138bda5e24f42ca8aae82ac3e35349351d3254-15f0090fba4fb1a9-01 outer:exit 2b-1c138bda5e24f42ca8aae82ac3e35349351d3254-2278b8fea5fd1491-01
2022-04-21T16:16:38.005Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:38.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bfd6f8d12c90275bf1647eaa66c11a90a8dfafc-700e688ddabe107f-01 outer:exit 2b-5bfd6f8d12c90275bf1647eaa66c11a90a8dfafc-29136aff5fd9e3dc-01
2022-04-21T16:16:38.008Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:38.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-983b75330a1749f205611653d2e91ac0bee081c2-551edc6abaf4bfcf-01 outer:exit 2b-983b75330a1749f205611653d2e91ac0bee081c2-39295376be454a96-01
2022-04-21T16:16:38.010Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:38.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-756d5a61114fa1c16e55695a84aeb6cf6434b789-15e3eb1a1b834491-01 outer:exit 2b-756d5a61114fa1c16e55695a84aeb6cf6434b789-9e0a567a84d8c039-01
2022-04-21T16:16:38.012Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:38.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb52ce331b4631977978d812c141ddce729968c6-0ea3e40d9782aced-01 outer:exit 2b-eb52ce331b4631977978d812c141ddce729968c6-f084acea8d7c5baa-01
2022-04-21T16:16:38.014Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:38.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9b4967ec64f6859c5bca5dda1caccf8d825f71a-a02f2d06ac78cc38-01 outer:exit 2b-c9b4967ec64f6859c5bca5dda1caccf8d825f71a-edad3ce496397f65-01
2022-04-21T16:16:38.016Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:38.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-83661c4db6b8a4eb29e447bc9e7a8bef925ca26a-1d18be9ef55e840c-01 outer:exit 2b-83661c4db6b8a4eb29e447bc9e7a8bef925ca26a-93478368f12f95cd-01
2022-04-21T16:16:38.018Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:38.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-641d7a81d0a6dedb20fd209d5cb3e4de157463f6-b068b9e2dbdeb3b2-01 outer:exit 2b-641d7a81d0a6dedb20fd209d5cb3e4de157463f6-e2cc0d139778d5f8-01
2022-04-21T16:16:38.020Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:38.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-7abe41bb67efa3bb10860676e029e920052d8faf-de766f06ea35f2d7-01 outer:exit 2b-7abe41bb67efa3bb10860676e029e920052d8faf-b42ca44cac28b64e-01
2022-04-21T16:16:38.023Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:38.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-d635b33f8d70eea89ee2b7c6f685390019c77480-ea3d4ed84c52a696-01 outer:exit 2b-d635b33f8d70eea89ee2b7c6f685390019c77480-7c23f93ae761c8e5-01
2022-04-21T16:16:38.026Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:38.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-c041dfb481c3bb95c962aa82880f714c3ba42181-4d67f4589c934a3a-01 outer:exit 2b-c041dfb481c3bb95c962aa82880f714c3ba42181-facf96afca7cbee0-01
2022-04-21T16:16:38.028Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:38.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-4898f29406952402e072d6ee4cd07ff883c2a51b-a83ab697a2880bc8-01 outer:exit 2b-4898f29406952402e072d6ee4cd07ff883c2a51b-f24913d5ed6ec69b-01
2022-04-21T16:16:38.030Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:38.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-0596f21fedfe7a1be601cbb49f7a2750470ad1db-ede98a05683406bc-01 outer:exit 2b-0596f21fedfe7a1be601cbb49f7a2750470ad1db-bbb0dfd0deccd040-01
2022-04-21T16:16:38.036Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:38.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-3877a832762f2ffd2479dc172d77b86032e773e5-2bc240c5116d62fd-01 outer:exit 2b-3877a832762f2ffd2479dc172d77b86032e773e5-7a45d89da6d097cf-01
2022-04-21T16:16:38.041Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:38.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e4b38a209fa4ba7976f49ac88cf6c54be8d29f3-5784d955a35b53e6-01 outer:exit 2b-5e4b38a209fa4ba7976f49ac88cf6c54be8d29f3-d083c4db3d2a0828-01
2022-04-21T16:16:38.048Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:38.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ca483e0ec8774f6a6b01efa17d2865f57ca2fd9-824649403e9b1c54-01 outer:exit 2b-4ca483e0ec8774f6a6b01efa17d2865f57ca2fd9-a0a6ab0e3db8ecea-01
2022-04-21T16:16:38.055Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:38.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c9bf9213cdea1e79d4a9a7d0da6edb575933cd-d4d37cfeaf5329f2-01 outer:exit 2b-53c9bf9213cdea1e79d4a9a7d0da6edb575933cd-56465251e00fe73a-01
2022-04-21T16:16:38.057Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:38.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-24bb3ac78169963a090535e6a21150fd56698845-9ec65274f452dc54-01 outer:exit 2b-24bb3ac78169963a090535e6a21150fd56698845-9b768cc36a8f1487-01
2022-04-21T16:16:38.060Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:38.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-86965abd8caa1d80437be148960817cecb0db78a-1362243a1f11b876-01 outer:exit 2b-86965abd8caa1d80437be148960817cecb0db78a-ee03182ddf22d967-01
2022-04-21T16:16:38.071Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:38.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-a54ba87f521049ce2508e4aa554cb41de33e73c0-e55b3b7e8af8ddc9-01 outer:exit 2b-a54ba87f521049ce2508e4aa554cb41de33e73c0-12c134c4ade38f3a-01
2022-04-21T16:16:38.074Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:38.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f63ed772dffa5a9a27a4903c34b19b370cbcb00-c52bea68ca564e57-01 outer:exit 2b-8f63ed772dffa5a9a27a4903c34b19b370cbcb00-5e5354610425b7a2-01
2022-04-21T16:16:38.076Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:38.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b5433bc325de548962276c3d296b933a599442e-513d219f9910e0b0-01 outer:exit 2b-2b5433bc325de548962276c3d296b933a599442e-1961a4d4b955d5db-01
2022-04-21T16:16:38.078Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:38.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-e287b65ffbeb353aef4d8accf416633017c2b8b6-e05c16d44e5a0c20-01 outer:exit 2b-e287b65ffbeb353aef4d8accf416633017c2b8b6-5d2aa6359a4d907d-01
2022-04-21T16:16:38.080Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:38.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7934f6c2667a4074e5025bf79cdc846f3cdc140-63f15c7c6f52ea79-01 outer:exit 2b-e7934f6c2667a4074e5025bf79cdc846f3cdc140-0b1ed81cb255eea2-01
2022-04-21T16:16:38.095Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:38.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-58f19496013e161c51dbc7605851233b02790d33-f2e595409948b7bf-01 outer:exit 2b-58f19496013e161c51dbc7605851233b02790d33-516a7983436ba202-01
2022-04-21T16:16:38.111Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:38.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0eb23c0a71a5e597761b117e20771c62b233453-41d3106aa47d0c7a-01 outer:exit 2b-c0eb23c0a71a5e597761b117e20771c62b233453-b6cd390c5aa3a306-01
2022-04-21T16:16:38.121Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:38.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-219d4ea01e3fa82f289c81cb82cdc7ebf733229d-7ad4975860b3f57e-01 outer:exit 2b-219d4ea01e3fa82f289c81cb82cdc7ebf733229d-045a35e4bf72f8bc-01
2022-04-21T16:16:38.125Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:38.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb2064067323fe98edbab6f7cf6fd941847d3b35-a71d45d634aaf4e1-01 outer:exit 2b-cb2064067323fe98edbab6f7cf6fd941847d3b35-a860aceb7c4e6dbe-01
2022-04-21T16:16:38.129Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:38.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-b331f9f987d2f2664fab065840cb1fff3143d8aa-7b225df520db97c2-01 outer:exit 2b-b331f9f987d2f2664fab065840cb1fff3143d8aa-5f929fa1252492e9-01
2022-04-21T16:16:38.132Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:38.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-890da421fd54fc395b3f97d1f23c79446cba15a8-511d2fb8dc21b970-01 outer:exit 2b-890da421fd54fc395b3f97d1f23c79446cba15a8-8d73bd1a4702fdf4-01
2022-04-21T16:16:38.165Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (346ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:44.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:44.801Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:44.801Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:44.802Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:44.862Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:44.979Z appoptics:patching patched crypto 
2022-04-21T16:16:44.998Z appoptics:patching patched https 
2022-04-21T16:16:44.998Z appoptics:patching patched http 
2022-04-21T16:16:45.047Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:45.048Z appoptics:patching patched fs 
2022-04-21T16:16:45.062Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v16.14.2)
2022-04-21T16:16:45.067Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-21T16:16:45.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-81225145feeea801249948959650500b4adaff0c-4ee3af35769a5f37-01 outer:exit 2b-81225145feeea801249948959650500b4adaff0c-03adc47574f29334-01
2022-04-21T16:16:45.111Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:45.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-51242142f69b6f290ecda1545700e3b5a3fe7380-a5516d4e1ca2b136-01 outer:exit 2b-51242142f69b6f290ecda1545700e3b5a3fe7380-2c7bba95744ab297-01
2022-04-21T16:16:45.157Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:45.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-11d0f3e5fd71a623e52e304894eb55ab95b6ca68-29efe8e3e799d48d-01 outer:exit 2b-11d0f3e5fd71a623e52e304894eb55ab95b6ca68-f49d7c321e432429-01
2022-04-21T16:16:45.161Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:45.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-75a67831a0de1aeb5ecea15d8fe8d88148742cd0-be5153ffe18953f5-01 outer:exit 2b-75a67831a0de1aeb5ecea15d8fe8d88148742cd0-6454980163a0967f-01
2022-04-21T16:16:45.164Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:45.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-085f3718908941ddf8c4c9f6d3ad8027ccb960e7-19a1f7379e964d7c-01 outer:exit 2b-085f3718908941ddf8c4c9f6d3ad8027ccb960e7-ee3d32b2460af1cb-01
2022-04-21T16:16:45.169Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:45.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-3685a22b5dc261dc89e04ae4945f3d2bd2c14e5c-f59fe2c2869b3ffb-01 outer:exit 2b-3685a22b5dc261dc89e04ae4945f3d2bd2c14e5c-5f89d20c84f0befc-01
2022-04-21T16:16:45.172Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:45.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2045439e8dc768d0e283fe47412293c0d0ad55b-5be33654468b7488-01 outer:exit 2b-f2045439e8dc768d0e283fe47412293c0d0ad55b-82e308ba33babf59-01
2022-04-21T16:16:45.175Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:45.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6d7d3eb0c99137bdcdf77889b964470db8d127f-0a75008425512dad-01 outer:exit 2b-e6d7d3eb0c99137bdcdf77889b964470db8d127f-73122f0f14acfa2a-01
2022-04-21T16:16:45.177Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:45.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-e54c422b5f5d9e13f65ddc9431fca6a037fbefa9-044ad30df5e03c55-01 outer:exit 2b-e54c422b5f5d9e13f65ddc9431fca6a037fbefa9-a2715928a0718d92-01
2022-04-21T16:16:45.180Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:45.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaeb7ea1b1eaa7de4e19b9aeec5d7cf92f9d9d15-f95f4cd8f47f900a-01 outer:exit 2b-eaeb7ea1b1eaa7de4e19b9aeec5d7cf92f9d9d15-fdd0c0a95a76fad3-01
2022-04-21T16:16:45.183Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:45.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceb8f6e87ab2b2691659eb832bbd4fa53c238a17-225bbd42876b6955-01 outer:exit 2b-ceb8f6e87ab2b2691659eb832bbd4fa53c238a17-8786a2cbc15a762b-01
2022-04-21T16:16:45.187Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:45.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-5169ec39128517e91387d8766db447a0ed950047-2c9cf0217047d454-01 outer:exit 2b-5169ec39128517e91387d8766db447a0ed950047-edd71a366330ba00-01
2022-04-21T16:16:45.193Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:45.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f8ecce7ab12d08b48ed56912948276326ec10d7-78b5c029abe22ba9-01 outer:exit 2b-4f8ecce7ab12d08b48ed56912948276326ec10d7-86f1240020a85b67-01
2022-04-21T16:16:45.208Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:45.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-57cf750ec059668370f3810fe9537fa93114fec7-821c0b51c056c814-01 outer:exit 2b-57cf750ec059668370f3810fe9537fa93114fec7-e77f000ff0a28454-01
2022-04-21T16:16:45.248Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:45.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-31007b00a0de81ef48c1a8e7585087a51a403e9f-d10abab93e036ae3-01 outer:exit 2b-31007b00a0de81ef48c1a8e7585087a51a403e9f-62d440f6e2c13953-01
2022-04-21T16:16:45.259Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:45.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-731dd250ad6f967efb213c4cd4d31d200fe5d50e-3d2c16b05a37008a-01 outer:exit 2b-731dd250ad6f967efb213c4cd4d31d200fe5d50e-0878d619138f6e0e-01
2022-04-21T16:16:45.264Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:45.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8bc2f9890ca8f4f3945c3de798ee10702f663aa-817b6dea3691239e-01 outer:exit 2b-e8bc2f9890ca8f4f3945c3de798ee10702f663aa-01ff556526806879-01
2022-04-21T16:16:45.267Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:45.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b13d3fa2c3ad08d5deeadaf57022e2444d8ed2f-330c2bd44c706807-01 outer:exit 2b-6b13d3fa2c3ad08d5deeadaf57022e2444d8ed2f-ade0998da9bc36b0-01
2022-04-21T16:16:45.270Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:45.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-26954c57636029b6d570e9f933ece201f63d31ab-513096b202e5f41e-01 outer:exit 2b-26954c57636029b6d570e9f933ece201f63d31ab-d5bda3d51ff85d8b-01
2022-04-21T16:16:45.271Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:45.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd6145e85bea673ee8ead1dc24bb913640bba9b5-8905495d7857e5bf-01 outer:exit 2b-dd6145e85bea673ee8ead1dc24bb913640bba9b5-499b6b95013ce908-01
2022-04-21T16:16:45.273Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:45.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-bda0c5fc151a58ce2c0f1a6022b3f0c9bd94ffe5-b4687e85f396b222-01 outer:exit 2b-bda0c5fc151a58ce2c0f1a6022b3f0c9bd94ffe5-4eb4c3b1e4f40af1-01
2022-04-21T16:16:45.275Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:45.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-086b8c1bf19b331c677b84e09d826a6bbe3b4a57-31c92c41506e7ce1-01 outer:exit 2b-086b8c1bf19b331c677b84e09d826a6bbe3b4a57-1ecb71865447e833-01
2022-04-21T16:16:45.277Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:45.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-334e09d00aa9a09d529f2afeabf0d9817993dbf9-7bbf869ff702e331-01 outer:exit 2b-334e09d00aa9a09d529f2afeabf0d9817993dbf9-c21f4b1d1d460164-01
2022-04-21T16:16:45.280Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:45.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-5437d06340021e47a3f8833cbcb9171f6c6012cf-9445da5c7646b178-01 outer:exit 2b-5437d06340021e47a3f8833cbcb9171f6c6012cf-8500dc4a4a64ee95-01
2022-04-21T16:16:45.282Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:45.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-158d9a75cf424e4c0630b76b3d929c88c62877ae-b72d736146c5f6f9-01 outer:exit 2b-158d9a75cf424e4c0630b76b3d929c88c62877ae-973d2aa7f3420e3c-01
2022-04-21T16:16:45.284Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:45.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-241e4487c11bd9988ef3a8a10e8785c70c4a1b4c-27bed75e470d73b4-01 outer:exit 2b-241e4487c11bd9988ef3a8a10e8785c70c4a1b4c-9d6d50950676556b-01
2022-04-21T16:16:45.287Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:45.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d7d8efc36261012e2c7b2d3602abb3f432c0b1-d4a7c0a742617893-01 outer:exit 2b-f7d7d8efc36261012e2c7b2d3602abb3f432c0b1-6993a566514db9ec-01
2022-04-21T16:16:45.292Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:45.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8d5cf2a151f651169ea26839f3090017b7aadcd-4f0795d3c1db46f2-01 outer:exit 2b-c8d5cf2a151f651169ea26839f3090017b7aadcd-6567cd0adc30e3d4-01
2022-04-21T16:16:45.297Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:45.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-99600b2b97ad11a83956f7ca17691e0af33b0fef-3a43e0960a31fec3-01 outer:exit 2b-99600b2b97ad11a83956f7ca17691e0af33b0fef-2f5e85b55703b933-01
2022-04-21T16:16:45.304Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:45.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-b01e5e043a7bdcf71164b5643a9a5653eccd7726-437122ce2166ac7d-01 outer:exit 2b-b01e5e043a7bdcf71164b5643a9a5653eccd7726-e7a72cb05f852e06-01
2022-04-21T16:16:45.310Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:45.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-8945d3ed1eae5401e9bf0516cb5d8e3c3f28efb4-cb9e045cdbeb1a15-01 outer:exit 2b-8945d3ed1eae5401e9bf0516cb5d8e3c3f28efb4-27942c50e4173bdb-01
2022-04-21T16:16:45.312Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:45.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-d63b386eecee73d3f99804cf65ec77145858e767-af9f8bebf4198923-01 outer:exit 2b-d63b386eecee73d3f99804cf65ec77145858e767-fdef8f5b8797c720-01
2022-04-21T16:16:45.315Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:45.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-3534c86ce3b7f903ad45e85d7172553f862f8c74-e9dca4dac9f28c06-01 outer:exit 2b-3534c86ce3b7f903ad45e85d7172553f862f8c74-444f638e1a25c99d-01
2022-04-21T16:16:45.321Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:45.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-d20bb6cd2cc4c78e90ff9c78a61e06d456a57adc-4a11e70067c3d154-01 outer:exit 2b-d20bb6cd2cc4c78e90ff9c78a61e06d456a57adc-f98255e9c195c6ae-01
2022-04-21T16:16:45.323Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:45.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9d42445163af9935383704f94ddb6e85c1d9642-e6b9bdcb1f0c4fa0-01 outer:exit 2b-e9d42445163af9935383704f94ddb6e85c1d9642-d78d186cbfd92d37-01
2022-04-21T16:16:45.326Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:45.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-50be020c02d8409d4284a761e6d7536120812ceb-90c00a82dc408fac-01 outer:exit 2b-50be020c02d8409d4284a761e6d7536120812ceb-0cf62672a8c2c912-01
2022-04-21T16:16:45.327Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:45.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-e497ae7b08745f8971680a412be06503a95b7346-0fac0932d09542a6-01 outer:exit 2b-e497ae7b08745f8971680a412be06503a95b7346-3fbc33592df80ce4-01
2022-04-21T16:16:45.329Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:45.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-26d016bb77bcbfa8e76f164be6e0451084115cdd-9bfc66c86c3fa477-01 outer:exit 2b-26d016bb77bcbfa8e76f164be6e0451084115cdd-fc92ee7734756a3f-01
2022-04-21T16:16:45.331Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:45.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-846cb66b1442c68b86bb1dd7177e622e811cd066-d3dac1cb4332ba6a-01 outer:exit 2b-846cb66b1442c68b86bb1dd7177e622e811cd066-e18ab287db396cd1-01
2022-04-21T16:16:45.339Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:45.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-20ca6fc942641adcf9ecc2d3f05a9815e86f4ab7-afc0674ac183c7ab-01 outer:exit 2b-20ca6fc942641adcf9ecc2d3f05a9815e86f4ab7-5f18bb2ff64dcea4-01
2022-04-21T16:16:45.346Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:45.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5ac8a3f77ca57e429652af69b77a8a7742bd79d-183ab8fd89ac019c-01 outer:exit 2b-a5ac8a3f77ca57e429652af69b77a8a7742bd79d-44b18c1ed3531c9e-01
2022-04-21T16:16:45.349Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:45.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-84ff95a815d8837c6b26022278c1c1e13de65bd5-2b968e244f5df4a1-01 outer:exit 2b-84ff95a815d8837c6b26022278c1c1e13de65bd5-b220b98a0734daa3-01
2022-04-21T16:16:45.351Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:45.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb6d8522fb1ec9df8ca63b67eb9f23fbfa8c6137-9786f0cb7b8b36f0-01 outer:exit 2b-fb6d8522fb1ec9df8ca63b67eb9f23fbfa8c6137-bdc8ac19c6919c6b-01
2022-04-21T16:16:45.354Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:45.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6d675a3046a56ed58a57c7f40f7ccb4a25e3e0a-18154d8a15f05478-01 outer:exit 2b-c6d675a3046a56ed58a57c7f40f7ccb4a25e3e0a-67df319017fefe79-01
2022-04-21T16:16:45.380Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (307ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:51.504Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:51.505Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:51.505Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:51.505Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:51.567Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:51.684Z appoptics:patching patched crypto 
2022-04-21T16:16:51.702Z appoptics:patching patched https 
2022-04-21T16:16:51.703Z appoptics:patching patched http 
2022-04-21T16:16:51.749Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:51.749Z appoptics:patching patched fs 
2022-04-21T16:16:51.763Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v16.14.2)
2022-04-21T16:16:51.769Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-21T16:16:51.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-9293180ed619e8658231cccaefab2829da7b3047-bc337498faa2e19e-01 outer:exit 2b-9293180ed619e8658231cccaefab2829da7b3047-01182c1984d820bc-01
2022-04-21T16:16:51.813Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:51.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fcc17c05b02de73495730f35e8adfa5b968c9f8-d6c93173a4d07659-01 outer:exit 2b-0fcc17c05b02de73495730f35e8adfa5b968c9f8-06a30189d23faad9-01
2022-04-21T16:16:51.858Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:51.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b182468c65f21ad08721fc0d0721c67f0fdb4c-34289d2411b64801-01 outer:exit 2b-82b182468c65f21ad08721fc0d0721c67f0fdb4c-e8dd465fd9b975ac-01
2022-04-21T16:16:51.862Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:51.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-b781f90afce5b05a16794895f7b2cf6690930f56-a3f576fd4c20e6b0-01 outer:exit 2b-b781f90afce5b05a16794895f7b2cf6690930f56-d07e47403dd5e0cb-01
2022-04-21T16:16:51.865Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:51.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbc50a03ef716b0aa78927299ea5e426be04edcd-7222a0f65f75654d-01 outer:exit 2b-fbc50a03ef716b0aa78927299ea5e426be04edcd-2803d9d0215ee7da-01
2022-04-21T16:16:51.870Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:51.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-051724cd16a917992ef9ab38cb8aaf3da86c24ea-4620ced80974fd3b-01 outer:exit 2b-051724cd16a917992ef9ab38cb8aaf3da86c24ea-d611dd7533358dde-01
2022-04-21T16:16:51.873Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:51.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-62d134d92a5b9dedd2b50ea4795807f4efa39581-803c7189d65e65ba-01 outer:exit 2b-62d134d92a5b9dedd2b50ea4795807f4efa39581-b59b4c72e4710bf6-01
2022-04-21T16:16:51.876Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:51.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-e66c17365c8f4487d001549a638a293133bfba10-b0da5c13e46ae399-01 outer:exit 2b-e66c17365c8f4487d001549a638a293133bfba10-72bfe6b69bb66536-01
2022-04-21T16:16:51.878Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:51.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-c64ec22c8f2453534f435f71eb5f3e88d15b1533-fa1d5ba2534a3b12-01 outer:exit 2b-c64ec22c8f2453534f435f71eb5f3e88d15b1533-55447725a2f99b31-01
2022-04-21T16:16:51.881Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:51.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-c82f81dbc4fead8da7aba9e73e60dd84bc8713e0-d7037d7deb362587-01 outer:exit 2b-c82f81dbc4fead8da7aba9e73e60dd84bc8713e0-be00dfaab7719e8c-01
2022-04-21T16:16:51.884Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:51.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd8f802a3b4874004a12377c5d62faae048b271b-14fc5ba841f1d3ff-01 outer:exit 2b-fd8f802a3b4874004a12377c5d62faae048b271b-261adb6d3399d45f-01
2022-04-21T16:16:51.890Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:51.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-0184f43ace1087b1d264ca6369e209007c458bf6-688537be823c45c6-01 outer:exit 2b-0184f43ace1087b1d264ca6369e209007c458bf6-44b383c68426f07c-01
2022-04-21T16:16:51.897Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:51.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-88f655a038ce5fe05fb943f6549ebcf4c938fe6f-89e909cb3aeb57ce-01 outer:exit 2b-88f655a038ce5fe05fb943f6549ebcf4c938fe6f-96b0c1e2ce99929e-01
2022-04-21T16:16:51.914Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:51.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccb8f35c503d387b3718a183fc31e976cb35b10a-4eb9f44785ecdab9-01 outer:exit 2b-ccb8f35c503d387b3718a183fc31e976cb35b10a-3d1322efef034416-01
2022-04-21T16:16:51.952Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:51.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bc1eab10a2e3f1f8977981014b9f06c46bd7f54-808352e8011ff7bc-01 outer:exit 2b-8bc1eab10a2e3f1f8977981014b9f06c46bd7f54-74b06f4ce04176c9-01
2022-04-21T16:16:51.955Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:51.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c004607d15b56eb02381741439eb098cbefe884-652a6753ee2e5dba-01 outer:exit 2b-8c004607d15b56eb02381741439eb098cbefe884-26352a5b0107c0c3-01
2022-04-21T16:16:51.957Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:51.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5141eaa60c0897cecf7efa469f0b03cd78cfe3c-3ca73f1ce9c6c17d-01 outer:exit 2b-a5141eaa60c0897cecf7efa469f0b03cd78cfe3c-ef4f1b7df1549753-01
2022-04-21T16:16:51.960Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:51.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-4462aa79c83492daa927848f1ccc187b41f7ce8a-ec8d7098b3889022-01 outer:exit 2b-4462aa79c83492daa927848f1ccc187b41f7ce8a-cfd7c9812bc3061f-01
2022-04-21T16:16:51.962Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:51.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b8e7194ef983ecb4c8ecdc561e69b73d4f0b8f-45c83cd471dcdbec-01 outer:exit 2b-92b8e7194ef983ecb4c8ecdc561e69b73d4f0b8f-f7630caee922f00c-01
2022-04-21T16:16:51.964Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:51.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-b301ba71d6643b369f14ab04aea53b00fec04cc2-44b01b0f49b852cf-01 outer:exit 2b-b301ba71d6643b369f14ab04aea53b00fec04cc2-025d9e1804bd7453-01
2022-04-21T16:16:51.966Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:51.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f35cd529335d13c571967a6c94fa46b6aa11bbf-40195614dbd3d11c-01 outer:exit 2b-2f35cd529335d13c571967a6c94fa46b6aa11bbf-7c0d93bb641e36e6-01
2022-04-21T16:16:51.968Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:51.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-f16e081a4faeb2612b0aea765917f3ebc88728d0-7437bf3abd4853f9-01 outer:exit 2b-f16e081a4faeb2612b0aea765917f3ebc88728d0-34892fbdf570183d-01
2022-04-21T16:16:51.970Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:51.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce585648696b5961e90c98c8ff21421ee19bfde1-7ef33c20ce07f99e-01 outer:exit 2b-ce585648696b5961e90c98c8ff21421ee19bfde1-a20c401b80e15f8c-01
2022-04-21T16:16:51.972Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:51.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-14f6612524295bc3e095e925998ea6dd33303008-5f1bd126a4dd4d10-01 outer:exit 2b-14f6612524295bc3e095e925998ea6dd33303008-32d83313be93b52e-01
2022-04-21T16:16:51.975Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:51.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-7511a1ee3ff79a0574d9cbe6ca6f93bf23d0c193-32d3f359074c2ab9-01 outer:exit 2b-7511a1ee3ff79a0574d9cbe6ca6f93bf23d0c193-ec5aef4dc9cb795f-01
2022-04-21T16:16:51.977Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:51.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-027e79cde49a69426d2e1b6a886681b1e23cbac2-b7351dd18697d523-01 outer:exit 2b-027e79cde49a69426d2e1b6a886681b1e23cbac2-5c81c15bd8736f10-01
2022-04-21T16:16:51.979Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:51.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-0678e9bfee2f23eb55ecbad203661605f0ca7f82-8ae330d5abf49b64-01 outer:exit 2b-0678e9bfee2f23eb55ecbad203661605f0ca7f82-f5bc808223545f38-01
2022-04-21T16:16:51.985Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:51.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-c00cc55ad1380944f693e3bc0bcbd47772d59ccd-72e5f079fd1b46b3-01 outer:exit 2b-c00cc55ad1380944f693e3bc0bcbd47772d59ccd-ad734efa502899ec-01
2022-04-21T16:16:51.990Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:52.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-728f97b05f1d52582c32ace5a9355839b3156c18-8b9db6d85594de7d-01 outer:exit 2b-728f97b05f1d52582c32ace5a9355839b3156c18-1880c9c1efd4d305-01
2022-04-21T16:16:52.004Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:52.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0291af725e17da5dc3dfa6fb47a8ff48e960b87-50d417938091fc02-01 outer:exit 2b-f0291af725e17da5dc3dfa6fb47a8ff48e960b87-b4878a40f3eb3d65-01
2022-04-21T16:16:52.011Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:52.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-a829afa8ec81ce86e9ec8521310741ca0cb0a8d8-c50bb20f6e50d315-01 outer:exit 2b-a829afa8ec81ce86e9ec8521310741ca0cb0a8d8-c4b1ad80bd8db28b-01
2022-04-21T16:16:52.014Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:52.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-6db7d7b5528cbbd0bfe55f81bee294d8cd0adeda-dbc07c02edd4c8da-01 outer:exit 2b-6db7d7b5528cbbd0bfe55f81bee294d8cd0adeda-798a5ef155476065-01
2022-04-21T16:16:52.018Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:52.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a53de290dda31e6ad1e5ee42c4d7217739457e4-c6bdc279e71b83cf-01 outer:exit 2b-9a53de290dda31e6ad1e5ee42c4d7217739457e4-e55449e7ceab6407-01
2022-04-21T16:16:52.026Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:52.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb934d119c45ce454b300bca1b7e1145cfd6b5cb-c7a57f65ec17605a-01 outer:exit 2b-eb934d119c45ce454b300bca1b7e1145cfd6b5cb-02cc052f5c03449e-01
2022-04-21T16:16:52.029Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:52.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dbc2355bfbe9c8b0b5518723ff014c7c7081445-56b4b579eb7de9df-01 outer:exit 2b-6dbc2355bfbe9c8b0b5518723ff014c7c7081445-c7f29c8ebb32673c-01
2022-04-21T16:16:52.031Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:52.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-59106982dd3efbf5d64c69a4a036fc1f7a6c009d-a364b55b94a90221-01 outer:exit 2b-59106982dd3efbf5d64c69a4a036fc1f7a6c009d-eb88f011dd4ef9ab-01
2022-04-21T16:16:52.032Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:52.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9c5560eea1d4870dff2b55009b9ea4e76ba48e6-a827f3f13f293265-01 outer:exit 2b-e9c5560eea1d4870dff2b55009b9ea4e76ba48e6-fb0a621e84d5e126-01
2022-04-21T16:16:52.034Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:52.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-939559e746c3ded32fc87e5cffa768cc8842f4e2-0aff82d36e849321-01 outer:exit 2b-939559e746c3ded32fc87e5cffa768cc8842f4e2-b4620e16076c8fbc-01
2022-04-21T16:16:52.036Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:52.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-c83784822f12cc3e348097fea352e7cd98275445-13a2dfb43c2365f1-01 outer:exit 2b-c83784822f12cc3e348097fea352e7cd98275445-247020446de18aa4-01
2022-04-21T16:16:52.045Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:52.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-806a6ab64803328c9698f0a9dca476fd80ec559d-1eaf4e18c3943177-01 outer:exit 2b-806a6ab64803328c9698f0a9dca476fd80ec559d-5afbe2705686eb72-01
2022-04-21T16:16:52.054Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:52.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-a85e22819f4c3612a26cd5de6fe6f0d260cb20d2-9d5bf86b0a102d70-01 outer:exit 2b-a85e22819f4c3612a26cd5de6fe6f0d260cb20d2-b620bffa745cfab7-01
2022-04-21T16:16:52.057Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:52.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f5c3b59651ec49fd2a787a3ae7125959168f572-65098d057632893e-01 outer:exit 2b-4f5c3b59651ec49fd2a787a3ae7125959168f572-ba95fcdc751931dc-01
2022-04-21T16:16:52.060Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:52.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-f16d4f57d58e7fe997467df0718597dff1330b79-3c8e8c1266462bc6-01 outer:exit 2b-f16d4f57d58e7fe997467df0718597dff1330b79-b21cab38beb3b93f-01
2022-04-21T16:16:52.062Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:52.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-5112d35cb1cc64f81a5429d548211585edff51f6-45c4dbc2f2711ebd-01 outer:exit 2b-5112d35cb1cc64f81a5429d548211585edff51f6-c1c3d287bbf0258b-01
2022-04-21T16:16:52.095Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (321ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:58.425Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:58.426Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:58.426Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:58.426Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:58.488Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:58.609Z appoptics:patching patched crypto 
2022-04-21T16:16:58.626Z appoptics:patching patched https 
2022-04-21T16:16:58.627Z appoptics:patching patched http 
2022-04-21T16:16:58.675Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:58.675Z appoptics:patching patched fs 
2022-04-21T16:16:58.689Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v16.14.2)
2022-04-21T16:16:58.695Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-21T16:16:58.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-91f9ceae5504feb2710c71fc05238900c7297e9d-3d1802ed96279397-01 outer:exit 2b-91f9ceae5504feb2710c71fc05238900c7297e9d-ec8ea296c16cfd5f-01
2022-04-21T16:16:58.739Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:58.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc6ffac9de1d61e25657fc0a68a64622a3fea44b-8d26839775c69b59-01 outer:exit 2b-dc6ffac9de1d61e25657fc0a68a64622a3fea44b-2fa20a00d4110ac7-01
2022-04-21T16:16:58.786Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:58.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-acba1dfab9c3fe62adcc7c68200d6b52803c22cd-094bc9b08f446fb7-01 outer:exit 2b-acba1dfab9c3fe62adcc7c68200d6b52803c22cd-540cb60228d50a29-01
2022-04-21T16:16:58.792Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:58.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd6200d4f477def0cd47cd696263be810fc48a93-ed53f7dd51c45fd7-01 outer:exit 2b-fd6200d4f477def0cd47cd696263be810fc48a93-f4a8c66b46f32289-01
2022-04-21T16:16:58.796Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:58.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-fff6d2775550cce478066b5fd1ff74488c8caca1-7287f08aa30151eb-01 outer:exit 2b-fff6d2775550cce478066b5fd1ff74488c8caca1-6c98abec5da57b19-01
2022-04-21T16:16:58.800Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:58.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b6d6a81d22e2d1ba10c9fc493831da07b4ae6d5-edee4f82bf238c76-01 outer:exit 2b-7b6d6a81d22e2d1ba10c9fc493831da07b4ae6d5-7aaef7353997c7e4-01
2022-04-21T16:16:58.804Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:58.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-86807e00ef66139feae1537d816513ad04106895-a964dbcdb1a1eb1f-01 outer:exit 2b-86807e00ef66139feae1537d816513ad04106895-e496c5ec34259a71-01
2022-04-21T16:16:58.806Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:58.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b1a406520b9dc6f361a42dbc5298ec47b2e141-a8418940124d742a-01 outer:exit 2b-45b1a406520b9dc6f361a42dbc5298ec47b2e141-f8bd71ffe543b378-01
2022-04-21T16:16:58.809Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:58.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-b04a883c79badeea64dd58a3c7b2749fb66f2028-440aa2ae659e1175-01 outer:exit 2b-b04a883c79badeea64dd58a3c7b2749fb66f2028-36395fe2622cb4cc-01
2022-04-21T16:16:58.812Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:58.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5876659c0d0080089b949c3c7f0f80263d9cc32-39055ebfc3435844-01 outer:exit 2b-e5876659c0d0080089b949c3c7f0f80263d9cc32-bce76ec875c1cfe9-01
2022-04-21T16:16:58.815Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:58.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ca60c7c6c45c0c1b36f4e090fa3e574ebb07ceb-237a39bf09f7d480-01 outer:exit 2b-6ca60c7c6c45c0c1b36f4e090fa3e574ebb07ceb-6b9752cd2c39e2f9-01
2022-04-21T16:16:58.819Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:58.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6084f334b8e398a3ccf9eb6a6fe8f4193e61256-683556b60d26f836-01 outer:exit 2b-e6084f334b8e398a3ccf9eb6a6fe8f4193e61256-cae6b4885acf4d37-01
2022-04-21T16:16:58.825Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:58.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-d56eed1ea9733f7915bf8f775b4193295adacf26-ed267e2f33c6ed35-01 outer:exit 2b-d56eed1ea9733f7915bf8f775b4193295adacf26-1e3cc097919f3a13-01
2022-04-21T16:16:58.843Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:58.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-36208176b984a54ad8a115d6c2f33de87e753a3a-9c49cef0c4678fbd-01 outer:exit 2b-36208176b984a54ad8a115d6c2f33de87e753a3a-45bdec026e677a12-01
2022-04-21T16:16:58.890Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:58.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-c72ead3cc56fc8d9fdfb51965a6683687efbdc29-be889f418aef3b6c-01 outer:exit 2b-c72ead3cc56fc8d9fdfb51965a6683687efbdc29-14a6ecf6c0f1d1e2-01
2022-04-21T16:16:58.893Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:58.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-104f98aca964de19f0c55b95f2fca03e4b609d93-79d4fcbc04ef7367-01 outer:exit 2b-104f98aca964de19f0c55b95f2fca03e4b609d93-e9b02a31c85a3021-01
2022-04-21T16:16:58.895Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:58.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f5bf35c676e86264563930cfa7e7c2bb34f6f68-780d3b2f67abecab-01 outer:exit 2b-4f5bf35c676e86264563930cfa7e7c2bb34f6f68-afed6a6e5d5680b1-01
2022-04-21T16:16:58.898Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:58.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfe9d7fedc8c9150df04f31821a306b8a458a000-dc8943820df60d63-01 outer:exit 2b-bfe9d7fedc8c9150df04f31821a306b8a458a000-d7619436b14ef3f3-01
2022-04-21T16:16:58.900Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:58.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-52497c2defa104cf691d2aa565b315061b6a94f2-6d067f6781fe440c-01 outer:exit 2b-52497c2defa104cf691d2aa565b315061b6a94f2-aae37362a4f8466d-01
2022-04-21T16:16:58.902Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:58.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-9539a21a43deea637acc57709c08e5416b219858-47516dabcb9bcf07-01 outer:exit 2b-9539a21a43deea637acc57709c08e5416b219858-6ac53fb2bdc0b8e7-01
2022-04-21T16:16:58.904Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:58.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-8135766bf21007a21d11c2340e1a04e962f9c100-98c97824955f2bce-01 outer:exit 2b-8135766bf21007a21d11c2340e1a04e962f9c100-b454a00aff3595a1-01
2022-04-21T16:16:58.906Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:58.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-eeb8ac03ebaff6a81218e70660366f7d41e33a26-0bc3f77390563df0-01 outer:exit 2b-eeb8ac03ebaff6a81218e70660366f7d41e33a26-86278581d442563d-01
2022-04-21T16:16:58.908Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:58.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea5c9db19a9bcd4d0fe6fffe3697b27df2f29b64-4b7d2359c722fe22-01 outer:exit 2b-ea5c9db19a9bcd4d0fe6fffe3697b27df2f29b64-185fe1dc94ff61f9-01
2022-04-21T16:16:58.911Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:58.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-c96d8c777804addeaddcf9344aee64ef9e6266fd-a666ed946d5efcf8-01 outer:exit 2b-c96d8c777804addeaddcf9344aee64ef9e6266fd-b30d52819e6c9d1f-01
2022-04-21T16:16:58.914Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:58.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ea70ae8dde6eef0279d98be3705c00da653558-b81f49d816e648de-01 outer:exit 2b-27ea70ae8dde6eef0279d98be3705c00da653558-e5e7e39c35719c62-01
2022-04-21T16:16:58.916Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:58.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-d67bf8d46c63d47316537b916bd2baef9b77641c-6bde278e1b46576e-01 outer:exit 2b-d67bf8d46c63d47316537b916bd2baef9b77641c-1b8ce12e35f48b40-01
2022-04-21T16:16:58.918Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:58.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bce0241f663898d4569d5c1bac82c9aa2800097-bc7c521e76a57863-01 outer:exit 2b-0bce0241f663898d4569d5c1bac82c9aa2800097-f044c8314d8c3756-01
2022-04-21T16:16:58.924Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:58.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c5c3c08fd56332d9a1757a69f23fbc566e38302-cf605fb387946f35-01 outer:exit 2b-9c5c3c08fd56332d9a1757a69f23fbc566e38302-4ca9d4a826aabccb-01
2022-04-21T16:16:58.928Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:58.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-621db380c9497313cfc6c94a162450702d4d8ff7-51c06a374634c3b4-01 outer:exit 2b-621db380c9497313cfc6c94a162450702d4d8ff7-0d695eaaae822f41-01
2022-04-21T16:16:58.937Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:58.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-134739571cc3baf08d0e24c97ea59cf1a65874ab-b770646a965693e0-01 outer:exit 2b-134739571cc3baf08d0e24c97ea59cf1a65874ab-87ee81ffdc1a6ac3-01
2022-04-21T16:16:58.943Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:58.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d1c064e646868008db90b0db41ffd337e2b73c6-24e6a2083cc6c51b-01 outer:exit 2b-5d1c064e646868008db90b0db41ffd337e2b73c6-3da031fdf0495451-01
2022-04-21T16:16:58.945Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:58.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a4f2cde10662b71b5c6dc22674484ea85536593-a141ee878c134325-01 outer:exit 2b-1a4f2cde10662b71b5c6dc22674484ea85536593-089cc2db1d1968af-01
2022-04-21T16:16:58.948Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:58.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5967500e923cfce4ec82a3bb434122ae861c54f-9e8af370b7b390b3-01 outer:exit 2b-b5967500e923cfce4ec82a3bb434122ae861c54f-781bd8ec8efc5d5e-01
2022-04-21T16:16:58.954Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:58.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c04b667fec70c7f832bb9e4e8ac745d834fd16a-dbd0f2906f03ff05-01 outer:exit 2b-4c04b667fec70c7f832bb9e4e8ac745d834fd16a-f03253ed3219b392-01
2022-04-21T16:16:58.956Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:58.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-f792a38fa732a89297b1baaf1edae7d66fa89246-442e97a241e6ce18-01 outer:exit 2b-f792a38fa732a89297b1baaf1edae7d66fa89246-341c3a0bedc8b0c8-01
2022-04-21T16:16:58.957Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:58.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0b9cca27c3c388cbe5d758e8945e7157f1531d6-d13114315428b57a-01 outer:exit 2b-a0b9cca27c3c388cbe5d758e8945e7157f1531d6-c5a0c9de78668f2c-01
2022-04-21T16:16:58.959Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:58.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-4955cac3c99ac313e65a318c159e3c1cb5a82bfc-2a1e3e7c4e4414fa-01 outer:exit 2b-4955cac3c99ac313e65a318c159e3c1cb5a82bfc-4d9602a5f5b5c54d-01
2022-04-21T16:16:58.961Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:58.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc4e0819a05eedad0071b7946acec252d60827bf-51b7ed6750d00ec7-01 outer:exit 2b-bc4e0819a05eedad0071b7946acec252d60827bf-2e631a7e41dd37f1-01
2022-04-21T16:16:58.963Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:58.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2caa75122ca17b89b6bb21944e103d64366efdb-b034407b66df2132-01 outer:exit 2b-c2caa75122ca17b89b6bb21944e103d64366efdb-251299eaa7e312f1-01
2022-04-21T16:16:58.971Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:58.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-043cfdcaad0627abb1b2e53e6270abec3e7afc10-972f1c7341d66e88-01 outer:exit 2b-043cfdcaad0627abb1b2e53e6270abec3e7afc10-6fe42225b6fafd31-01
2022-04-21T16:16:58.978Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:58.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-761a486ec5681a39f6099e8f3e514b540641152b-06a9e104361947ea-01 outer:exit 2b-761a486ec5681a39f6099e8f3e514b540641152b-d6419d9e4c4316b0-01
2022-04-21T16:16:58.981Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:58.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-0371a4265f9ab1158b8868aef6af0e8cdf4a73e3-e8c5ce2cebf2db0c-01 outer:exit 2b-0371a4265f9ab1158b8868aef6af0e8cdf4a73e3-82880f9b6135caa2-01
2022-04-21T16:16:58.983Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:58.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-43c56e279be459245fff01c807db4af7a91ddb6e-379e86dcf3319a3e-01 outer:exit 2b-43c56e279be459245fff01c807db4af7a91ddb6e-9709c99a292d3e8f-01
2022-04-21T16:16:58.986Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:59.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-a06d5216ebdd1ed2343a5203c3b8a42be2e2e9e8-2928a0f4a23edd91-01 outer:exit 2b-a06d5216ebdd1ed2343a5203c3b8a42be2e2e9e8-5674cefa12bf187a-01
2022-04-21T16:16:59.012Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (312ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:05.597Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:05.597Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:05.597Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:05.598Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:05.738Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:05.913Z appoptics:patching patched crypto 
2022-04-21T16:17:05.976Z appoptics:patching patched https 
2022-04-21T16:17:05.977Z appoptics:patching patched http 
2022-04-21T16:17:06.065Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:06.066Z appoptics:patching patched fs 
2022-04-21T16:17:06.102Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v16.14.2)
2022-04-21T16:17:06.114Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-21T16:17:06.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-23cbe02d62c86a854ecfa898d678fb7b8dcee8ec-8382d26b287eeb2f-01 outer:exit 2b-23cbe02d62c86a854ecfa898d678fb7b8dcee8ec-53317a4dd09d7443-01
2022-04-21T16:17:06.195Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:06.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccadd376902bfd6304481e8fd722136a9de0f58f-11bc4ac8bb8b4f4d-01 outer:exit 2b-ccadd376902bfd6304481e8fd722136a9de0f58f-584280dc2f9ddc5a-01
2022-04-21T16:17:06.262Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:06.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-889e31950f1eeab1f90d1f48c5f6ad64cddafe02-c60650addb5e82e8-01 outer:exit 2b-889e31950f1eeab1f90d1f48c5f6ad64cddafe02-22e0dc1794aa1301-01
2022-04-21T16:17:06.266Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:06.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-123c3e1df8cccc684925c4949cb7e87734c9ff68-6c5a642dd770db2e-01 outer:exit 2b-123c3e1df8cccc684925c4949cb7e87734c9ff68-b19982c5f6efc4fe-01
2022-04-21T16:17:06.270Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:06.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-5044394545810f4efe143b63e4215fab214013a9-0a95da0147575326-01 outer:exit 2b-5044394545810f4efe143b63e4215fab214013a9-e3785cdcc59b7d27-01
2022-04-21T16:17:06.281Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:06.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-2748e3af094f38f65efd07b785bd49fff4183ada-f0354fdb9615302b-01 outer:exit 2b-2748e3af094f38f65efd07b785bd49fff4183ada-b1c44d5f863150f8-01
2022-04-21T16:17:06.287Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:06.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-164b723451915e2b7c5dbfc46cb4fcc60168e0e5-65a07355d58ffa9f-01 outer:exit 2b-164b723451915e2b7c5dbfc46cb4fcc60168e0e5-63e8050935554df3-01
2022-04-21T16:17:06.293Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:06.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-032fc40d5a14e0fb212a5f866ff24d360718a48f-a6d70315c753b044-01 outer:exit 2b-032fc40d5a14e0fb212a5f866ff24d360718a48f-3618edff9cf43fc5-01
2022-04-21T16:17:06.296Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:06.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2de2bdad956078465bc14bf21bf9de3c04a1e69-d598e9fb05f7aadc-01 outer:exit 2b-b2de2bdad956078465bc14bf21bf9de3c04a1e69-40412802b1c22747-01
2022-04-21T16:17:06.298Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:06.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-e92db13c837f319bab4ef42a5721bd62f7ac05a6-d72b7df70ef3d4a2-01 outer:exit 2b-e92db13c837f319bab4ef42a5721bd62f7ac05a6-9f3663c6c5ee3072-01
2022-04-21T16:17:06.308Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:06.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-c98a5dfba8b64d5c0e8df768ecb44613b2ad2795-e7c58a34ff541460-01 outer:exit 2b-c98a5dfba8b64d5c0e8df768ecb44613b2ad2795-3b2ddeb2e2237e96-01
2022-04-21T16:17:06.317Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:06.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c52b83f43c228b25955c0dcd0bec3d12677df1d-df5b433808385af0-01 outer:exit 2b-6c52b83f43c228b25955c0dcd0bec3d12677df1d-9a50ebea352ff72a-01
2022-04-21T16:17:06.324Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:06.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b221f3dc6b10b39a52798f9198528ab6c669ea7-755b9f37025a47b5-01 outer:exit 2b-4b221f3dc6b10b39a52798f9198528ab6c669ea7-999bb35afabeb8ad-01
2022-04-21T16:17:06.344Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:06.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbe01d3252251a795ebb6b71283295fe7780644a-16dcdf8613c0d711-01 outer:exit 2b-cbe01d3252251a795ebb6b71283295fe7780644a-08cfc769d00ca710-01
2022-04-21T16:17:06.394Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:06.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf11f7a6fc505388c97479a4f914722781761a30-0d1a0d967412cb23-01 outer:exit 2b-bf11f7a6fc505388c97479a4f914722781761a30-2f50839be6fbaf8e-01
2022-04-21T16:17:06.397Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:06.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-b20ff8355272f2ed0cbdc7fcb1de88c0c8a9f2c3-cf8a1a27d786bfab-01 outer:exit 2b-b20ff8355272f2ed0cbdc7fcb1de88c0c8a9f2c3-ae7f71a1c4c24a80-01
2022-04-21T16:17:06.404Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:06.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-169174d9f19c7fdabbc6940a621cb831f268b2db-95e698feadb6ba7b-01 outer:exit 2b-169174d9f19c7fdabbc6940a621cb831f268b2db-9e673d670810d19f-01
2022-04-21T16:17:06.408Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:06.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ee7dfc95502d19cb9628cfa6277d682b921e50-e9da35abd637216c-01 outer:exit 2b-e1ee7dfc95502d19cb9628cfa6277d682b921e50-90e05479391f7b7c-01
2022-04-21T16:17:06.410Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:06.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4ed76a8e32f1d2fcfa6c71a485df81d5d2cbeb7-c795b54eb76147c0-01 outer:exit 2b-e4ed76a8e32f1d2fcfa6c71a485df81d5d2cbeb7-d7a07638f27d71cd-01
2022-04-21T16:17:06.412Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:06.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-234f50728e15210574719792c4d63740fa7a2f97-41cdb2144c6520ec-01 outer:exit 2b-234f50728e15210574719792c4d63740fa7a2f97-0b2c8a43bb1f9198-01
2022-04-21T16:17:06.414Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:06.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-56041d1c70bb73b09ab5526292acfd5a9a41b850-3243e1357c97f962-01 outer:exit 2b-56041d1c70bb73b09ab5526292acfd5a9a41b850-8e0344c4b8698e46-01
2022-04-21T16:17:06.417Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:06.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-b193bb941be2e8e10fe14fb6c077012e0c71b19d-875b149fe25da050-01 outer:exit 2b-b193bb941be2e8e10fe14fb6c077012e0c71b19d-5a60e0f5e1d02e4f-01
2022-04-21T16:17:06.419Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:06.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d77559a161324b3be2ba062512eb8fafec2f0ec-1f4b7005081eada8-01 outer:exit 2b-8d77559a161324b3be2ba062512eb8fafec2f0ec-6503e23fee9c64af-01
2022-04-21T16:17:06.422Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:06.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-abf4a72fcdfd6898b56c38f4d92edd0f410f38d3-763a12d57ee67456-01 outer:exit 2b-abf4a72fcdfd6898b56c38f4d92edd0f410f38d3-3170adb6a447a456-01
2022-04-21T16:17:06.425Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:06.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc32080605923607e72e4519ae78fbb98ed68b7f-d0785cd882780829-01 outer:exit 2b-dc32080605923607e72e4519ae78fbb98ed68b7f-ac8b9cc29be4e8e7-01
2022-04-21T16:17:06.427Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:06.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f4b31e586bac527679f18d83361985eb2300788-b71f0e7e14dc8afc-01 outer:exit 2b-4f4b31e586bac527679f18d83361985eb2300788-4a33e705b15e7345-01
2022-04-21T16:17:06.429Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:06.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a802369b41dfa11dfee31d72f4283114b831b79-7b2e66b83a192ba7-01 outer:exit 2b-5a802369b41dfa11dfee31d72f4283114b831b79-f13550187f46795b-01
2022-04-21T16:17:06.436Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:06.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-e02024d02bcb461dd7d70ac8daee97c9f6bbb0b1-267fecefbc9e8b77-01 outer:exit 2b-e02024d02bcb461dd7d70ac8daee97c9f6bbb0b1-21065b4a4b6df26c-01
2022-04-21T16:17:06.440Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:06.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-c775ede8873392473fb03b7b167a9ea3e30dcc59-a9fdc5656c216ccd-01 outer:exit 2b-c775ede8873392473fb03b7b167a9ea3e30dcc59-3329adc2f5b7b0c8-01
2022-04-21T16:17:06.450Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:06.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0a167b0ac9cf24dce56eed452b339b80d0468e4-3b6ea1372670ef3a-01 outer:exit 2b-e0a167b0ac9cf24dce56eed452b339b80d0468e4-0857424734332702-01
2022-04-21T16:17:06.456Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:06.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-2249c4fe9b37e22542ac6469f6ae4efc8d794ba2-d7d25627ecb60fcc-01 outer:exit 2b-2249c4fe9b37e22542ac6469f6ae4efc8d794ba2-7804d563846a0e50-01
2022-04-21T16:17:06.458Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:06.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a06869c8dcec21102efb10b8f82f1bf690af773-6f43ad4d5d701015-01 outer:exit 2b-3a06869c8dcec21102efb10b8f82f1bf690af773-5c667e477ba8f392-01
2022-04-21T16:17:06.461Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:06.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-9db41dd6e97b90de7d4e80224a14a7af41d2d592-04867486b2c4e4bd-01 outer:exit 2b-9db41dd6e97b90de7d4e80224a14a7af41d2d592-e75fbd5e04cbb5a1-01
2022-04-21T16:17:06.467Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:06.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-261a9f774ea613b6b3aff01dfb1be8e5580f5848-c17678ab084000f4-01 outer:exit 2b-261a9f774ea613b6b3aff01dfb1be8e5580f5848-3d5859146bd91cf5-01
2022-04-21T16:17:06.470Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:06.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d19b714fe3a91722384edad5673c50630e1aa71-ddf205e555f307ba-01 outer:exit 2b-3d19b714fe3a91722384edad5673c50630e1aa71-8f3a69c4da1f6eb5-01
2022-04-21T16:17:06.472Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:06.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e0423256c1cb80b5bb092a58e21bea4c0c5c3d2-f3377c0acc407fae-01 outer:exit 2b-8e0423256c1cb80b5bb092a58e21bea4c0c5c3d2-85d8eaf84e416661-01
2022-04-21T16:17:06.474Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:06.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-e331d1aadf6be51e2610dfc3e688a056bae00691-299566a2a809a0fd-01 outer:exit 2b-e331d1aadf6be51e2610dfc3e688a056bae00691-214f2f69edf9d3a3-01
2022-04-21T16:17:06.475Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:06.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d49fb2cede9821331940914b251296d9a8d0315-37802b6ee62c0fbb-01 outer:exit 2b-9d49fb2cede9821331940914b251296d9a8d0315-aa7a01823e783d27-01
2022-04-21T16:17:06.478Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:06.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-43d298ad5881e2a545466189dce64056d2819800-242b51f304ecd2af-01 outer:exit 2b-43d298ad5881e2a545466189dce64056d2819800-e16e549b169f181c-01
2022-04-21T16:17:06.501Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:06.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-242b80ff0a22420cdd4e84d2d1a964256ddfdeb5-0110b5726ea011e2-01 outer:exit 2b-242b80ff0a22420cdd4e84d2d1a964256ddfdeb5-12ad21f44f6efed7-01
2022-04-21T16:17:06.513Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:06.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7327f54154239739e8e1452e33aac07b1c1eb90-013e35ad3754479c-01 outer:exit 2b-b7327f54154239739e8e1452e33aac07b1c1eb90-978d09d863445e2b-01
2022-04-21T16:17:06.516Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:06.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-5adbfd807de14c50fca0f5f38b50472af325df2a-a471f104f8def5f7-01 outer:exit 2b-5adbfd807de14c50fca0f5f38b50472af325df2a-c7e0000918487e26-01
2022-04-21T16:17:06.519Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:06.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-27c4eff7137cb8316411b6ec39f82c2147072f48-5a791b3d95235fa9-01 outer:exit 2b-27c4eff7137cb8316411b6ec39f82c2147072f48-4119cfb6264a0dfd-01
2022-04-21T16:17:06.533Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:06.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd143a95c115ba6d04a8c42379d14419efebbc6-b8b078e75609811c-01 outer:exit 2b-6dd143a95c115ba6d04a8c42379d14419efebbc6-8e8c1d99736bc63b-01
2022-04-21T16:17:06.567Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (441ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:12.391Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:12.392Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:12.392Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:12.392Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:12.457Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:12.581Z appoptics:patching patched crypto 
2022-04-21T16:17:12.599Z appoptics:patching patched https 
2022-04-21T16:17:12.599Z appoptics:patching patched http 
2022-04-21T16:17:12.666Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:12.667Z appoptics:patching patched fs 
2022-04-21T16:17:12.684Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v16.14.2)
2022-04-21T16:17:12.691Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-21T16:17:12.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-8356e327f24afc5a8a88250c791b75cbf22d749f-3d43831b02d558b8-01 outer:exit 2b-8356e327f24afc5a8a88250c791b75cbf22d749f-db06622bce212e46-01
2022-04-21T16:17:12.738Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:12.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9e58c7d096f8adf58d9811a0007aa3cf173a3fa-0a1e11ca0a55cb0e-01 outer:exit 2b-e9e58c7d096f8adf58d9811a0007aa3cf173a3fa-09e5414fcbca7875-01
2022-04-21T16:17:12.783Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:12.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f1232c7210156c49d1b0bba9a813e7a647d816f-5bf62bc9e197e23b-01 outer:exit 2b-1f1232c7210156c49d1b0bba9a813e7a647d816f-2c53812a0fce7353-01
2022-04-21T16:17:12.788Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:12.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd6d96cad9a274f9edb2eec4d802e6d2d028a70e-80a8049ae8af6c45-01 outer:exit 2b-dd6d96cad9a274f9edb2eec4d802e6d2d028a70e-6ec9ab6b6f74b880-01
2022-04-21T16:17:12.792Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:12.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-827d49a170d0eff0fb34e4e3e88074cbd50d1d63-da10a0994f2d777e-01 outer:exit 2b-827d49a170d0eff0fb34e4e3e88074cbd50d1d63-b6e0e569e9f03998-01
2022-04-21T16:17:12.796Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:12.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-aab2a02c27845450ef11924456948a59d7850ce7-1e67c5c782558f3c-01 outer:exit 2b-aab2a02c27845450ef11924456948a59d7850ce7-e72e3b73b048ae8e-01
2022-04-21T16:17:12.800Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:12.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fa001f5627b26d0af552cb0ac8c462913ad5eaa-0ee9da23d6c23eac-01 outer:exit 2b-1fa001f5627b26d0af552cb0ac8c462913ad5eaa-8d4d6a1373cad70d-01
2022-04-21T16:17:12.802Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:12.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-da87ec0395d62e16b5f4ecde1dfa55db76f3787c-9c3b48f760a5db37-01 outer:exit 2b-da87ec0395d62e16b5f4ecde1dfa55db76f3787c-fae8f6e6d809997f-01
2022-04-21T16:17:12.805Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:12.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-4530e8c4ff48ddf523516ea0c1557cf03a5f6a49-156425e982795935-01 outer:exit 2b-4530e8c4ff48ddf523516ea0c1557cf03a5f6a49-4eec84ea25c4366c-01
2022-04-21T16:17:12.808Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:12.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-0654b20c9ced7195d7193fd0faedd60de36ac0e3-f29e2e2af9b4ed4f-01 outer:exit 2b-0654b20c9ced7195d7193fd0faedd60de36ac0e3-1ac6423d063ed0a7-01
2022-04-21T16:17:12.811Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:12.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-db9079b1c13edebef928c04e2236653ddd4f15cd-1ce8f8d0566f2751-01 outer:exit 2b-db9079b1c13edebef928c04e2236653ddd4f15cd-1c27312e1aac0236-01
2022-04-21T16:17:12.815Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:12.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfd4280fb8069ece8c831bca27c2f5a51d9a8d70-e4d840195f1a0885-01 outer:exit 2b-dfd4280fb8069ece8c831bca27c2f5a51d9a8d70-080709d32364bfa8-01
2022-04-21T16:17:12.824Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:12.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9eb136d9f74a6dfc9456c8f4def5530c00a48ea-843a72da85f010cb-01 outer:exit 2b-c9eb136d9f74a6dfc9456c8f4def5530c00a48ea-d784fea1b6ad86c8-01
2022-04-21T16:17:12.840Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:12.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d73ee1aca7752750a823b79d0c9c09c0ab6a38c-53e165e447eaef53-01 outer:exit 2b-3d73ee1aca7752750a823b79d0c9c09c0ab6a38c-d33ccac45b259955-01
2022-04-21T16:17:12.881Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:12.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-a123bc53d02b25f90fd66d44fcf2768656f70eb6-6f451d809b009b22-01 outer:exit 2b-a123bc53d02b25f90fd66d44fcf2768656f70eb6-adc617905a6e8706-01
2022-04-21T16:17:12.884Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:12.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8b9ac16033df3533a5a3a57e0925702ab50ed42-a0b7f2f0b4cc8902-01 outer:exit 2b-e8b9ac16033df3533a5a3a57e0925702ab50ed42-41a5639cadd30ea7-01
2022-04-21T16:17:12.886Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:12.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-a49ffd57d1f7b85e40e1d6f9bb2aa0875d60f2de-2a668554b6b78663-01 outer:exit 2b-a49ffd57d1f7b85e40e1d6f9bb2aa0875d60f2de-f485e563980fd4d3-01
2022-04-21T16:17:12.889Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:12.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b3bba67683522bd1151359bbb1191e1981ea35a-f4e96ad65043e448-01 outer:exit 2b-2b3bba67683522bd1151359bbb1191e1981ea35a-a9501b13a4e8247a-01
2022-04-21T16:17:12.891Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:12.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4275efe4e094d8933608e1c922e5aafe06ad076-ef9206541e65ff70-01 outer:exit 2b-c4275efe4e094d8933608e1c922e5aafe06ad076-7f29a4fa374f05c7-01
2022-04-21T16:17:12.893Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:12.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-2316daedaaa72f55127612c1ee138186ccf3c26b-3108c23cf889deec-01 outer:exit 2b-2316daedaaa72f55127612c1ee138186ccf3c26b-a9214dc7f440b95a-01
2022-04-21T16:17:12.895Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:12.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa8f405b10dcd42c91c33e9b823543b52121ad33-d6ab70a97e0b90eb-01 outer:exit 2b-aa8f405b10dcd42c91c33e9b823543b52121ad33-447767b949457066-01
2022-04-21T16:17:12.897Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:12.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-644936abfb282818fcbbea3e9a49ba824e443d82-d1144b3a4a670647-01 outer:exit 2b-644936abfb282818fcbbea3e9a49ba824e443d82-dd66ee928be26b9e-01
2022-04-21T16:17:12.902Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:12.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-780ac1bb4d3abee42e3c027d1f8e03426f0ea4d2-5206210c989c362e-01 outer:exit 2b-780ac1bb4d3abee42e3c027d1f8e03426f0ea4d2-bd64f6af2eb986e2-01
2022-04-21T16:17:12.904Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:12.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1d64217f07dfb821c67b083a6425e53d94a82eb-8eaf547ef6701004-01 outer:exit 2b-c1d64217f07dfb821c67b083a6425e53d94a82eb-b508a1d5d93b6357-01
2022-04-21T16:17:12.907Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:12.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-427fbd1218a37ad940e8912a8cfd60ac4a22e87a-b2b4539d64373213-01 outer:exit 2b-427fbd1218a37ad940e8912a8cfd60ac4a22e87a-fe694e5bf88029d3-01
2022-04-21T16:17:12.909Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:12.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-07d4427d51684e8cdd08b5e3dfaff7bd8d9aa385-d79e207757d1b76a-01 outer:exit 2b-07d4427d51684e8cdd08b5e3dfaff7bd8d9aa385-338d45f5ab630906-01
2022-04-21T16:17:12.911Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:12.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-adc829537cfe54802a01f954ef45b806f98dc761-70cafe7d1a204206-01 outer:exit 2b-adc829537cfe54802a01f954ef45b806f98dc761-436ab4d20d73e730-01
2022-04-21T16:17:12.919Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:12.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e8e5e1a43a095ee06cec403f076a3bdacb0d5fe-b125d6e614d4510f-01 outer:exit 2b-5e8e5e1a43a095ee06cec403f076a3bdacb0d5fe-4563485e530e16dd-01
2022-04-21T16:17:12.925Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:12.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f2ad441e27aa29250ff18f878e871f94978c969-797eb28ecef732b1-01 outer:exit 2b-3f2ad441e27aa29250ff18f878e871f94978c969-a8159dc10a26818a-01
2022-04-21T16:17:12.935Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:12.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3227cf32c945bf536772eedefe02d642a134ddb-31bbc5260d4395ea-01 outer:exit 2b-b3227cf32c945bf536772eedefe02d642a134ddb-dfcbb2937dac9a92-01
2022-04-21T16:17:12.942Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:12.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef98cd4b01b59919bae3daa890f8e0edc86eea2a-03e87c9f50196369-01 outer:exit 2b-ef98cd4b01b59919bae3daa890f8e0edc86eea2a-e207b84a1d2170f2-01
2022-04-21T16:17:12.943Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:12.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e62ea04df5187a4a5adb6fc3d074400db11088a-e4980bf2bab15035-01 outer:exit 2b-1e62ea04df5187a4a5adb6fc3d074400db11088a-7cf933c313aaa9e4-01
2022-04-21T16:17:12.946Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:12.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc967f83a2fbee2814d3ddc3d5d29ae69c87eed5-94a0c59869ce1229-01 outer:exit 2b-fc967f83a2fbee2814d3ddc3d5d29ae69c87eed5-219b29a4e02c511c-01
2022-04-21T16:17:12.952Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:12.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bcd025998263bce743a649deee0118fd33b04ef-65e2699d6f8a16c9-01 outer:exit 2b-8bcd025998263bce743a649deee0118fd33b04ef-d51e0f3b9d38afa9-01
2022-04-21T16:17:12.954Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:12.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-17b2d8891432e44716dc51aad757b0ced7b7e62b-8ec607f44e806628-01 outer:exit 2b-17b2d8891432e44716dc51aad757b0ced7b7e62b-48dc8092780f2fa0-01
2022-04-21T16:17:12.956Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:12.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcfee203eb1a102efedaf7928369f08c7c6bc53e-923d2c1419159f12-01 outer:exit 2b-dcfee203eb1a102efedaf7928369f08c7c6bc53e-6e7ab636c8c981a7-01
2022-04-21T16:17:12.958Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:12.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-16045265b1f5919007243aeba0fa2401361c0b35-4f0d8ea1381ecffe-01 outer:exit 2b-16045265b1f5919007243aeba0fa2401361c0b35-7f94f7d22e21f3b6-01
2022-04-21T16:17:12.960Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:12.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d5da6544a761b52deca58f445168864dfdcdc75-f4a7c4f6ac041a43-01 outer:exit 2b-8d5da6544a761b52deca58f445168864dfdcdc75-e187a335dc923c25-01
2022-04-21T16:17:12.961Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:12.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7a33ab140f4448a7e652c4a69c0cdf4b70517e6-dc4b3b6583771a35-01 outer:exit 2b-a7a33ab140f4448a7e652c4a69c0cdf4b70517e6-c0f13300bcab277c-01
2022-04-21T16:17:12.970Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:12.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3988b73d66b90fb519e868db360acce4d34f6ef-60cc66556b4dd671-01 outer:exit 2b-d3988b73d66b90fb519e868db360acce4d34f6ef-76e00cb148b65514-01
2022-04-21T16:17:12.980Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:12.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-b35a5d534c8d541b3f412bbceeb15b7c74c7269d-a5fa1a5d3c222321-01 outer:exit 2b-b35a5d534c8d541b3f412bbceeb15b7c74c7269d-68c8ddd192b8cc41-01
2022-04-21T16:17:12.983Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:12.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b3bc67d377d1207b7bccaa25564db8969573acc-9a6ffc2b9dc94e9e-01 outer:exit 2b-0b3bc67d377d1207b7bccaa25564db8969573acc-c40a728b6a57ac3c-01
2022-04-21T16:17:12.986Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:12.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-46eaad3d8c50a894fcbc4fcc7ce646ae456e79a6-0e2ad777e4c4c1a1-01 outer:exit 2b-46eaad3d8c50a894fcbc4fcc7ce646ae456e79a6-eaf2b28cde8d3e77-01
2022-04-21T16:17:12.989Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:13.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-d97e724a0fdf36d929eb3a2f62d132f2d2ef5476-edb1db0207b18743-01 outer:exit 2b-d97e724a0fdf36d929eb3a2f62d132f2d2ef5476-b514e8fa95e7ed12-01
2022-04-21T16:17:13.021Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (325ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:19.631Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:19.631Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:19.631Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:19.632Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:19.693Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:19.814Z appoptics:patching patched crypto 
2022-04-21T16:17:19.843Z appoptics:patching patched https 
2022-04-21T16:17:19.844Z appoptics:patching patched http 
2022-04-21T16:17:19.887Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:19.887Z appoptics:patching patched fs 
2022-04-21T16:17:19.901Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v16.14.2)
2022-04-21T16:17:19.907Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-21T16:17:19.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9159ef86a8db904a05a48b4a50e1fd32cabf7eb-6cec81724935c6fe-01 outer:exit 2b-d9159ef86a8db904a05a48b4a50e1fd32cabf7eb-d7b7ca62a9222caf-01
2022-04-21T16:17:19.951Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:19.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-bec9bd6bfab3d4255c9decb44d70f6d04bef50f6-24429450139a6c1f-01 outer:exit 2b-bec9bd6bfab3d4255c9decb44d70f6d04bef50f6-cd3e41446b403172-01
2022-04-21T16:17:19.996Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:20.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-c611d850b350a0c4b614e6f1a187f9d832edc4ce-eb37bb4d5ea32905-01 outer:exit 2b-c611d850b350a0c4b614e6f1a187f9d832edc4ce-d4d0e211055c56d1-01
2022-04-21T16:17:20.000Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:20.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-cacfda747b20a8b53e0cfcff74256b0bb1fc45dd-8920ab018aad4575-01 outer:exit 2b-cacfda747b20a8b53e0cfcff74256b0bb1fc45dd-3c01d0ac25e89eed-01
2022-04-21T16:17:20.004Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:20.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdd2eabca6141af4a7756b77fdfb48677ccab393-1ed6eafe79aca58d-01 outer:exit 2b-bdd2eabca6141af4a7756b77fdfb48677ccab393-3effd40508356b2f-01
2022-04-21T16:17:20.015Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:20.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b97c50cdc53505fa46b815e2634e4c12d0483b6-e0d06bf911e8bd97-01 outer:exit 2b-9b97c50cdc53505fa46b815e2634e4c12d0483b6-6a4a6f99fd3d0397-01
2022-04-21T16:17:20.019Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:20.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb7975c8422251c1edf58cff2ecac7c441ad0f3b-db167fba0764575f-01 outer:exit 2b-fb7975c8422251c1edf58cff2ecac7c441ad0f3b-d43ee2bb1d0674d7-01
2022-04-21T16:17:20.022Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:20.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-a704aa8f1f3ef967711b8eaf3b1e54661fcb542b-8fe08571e61deffa-01 outer:exit 2b-a704aa8f1f3ef967711b8eaf3b1e54661fcb542b-e4f3a7e6599fb7e1-01
2022-04-21T16:17:20.024Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:20.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-603fa535255a196abbec11ef75f103f70e75746b-c643df5ebeb26768-01 outer:exit 2b-603fa535255a196abbec11ef75f103f70e75746b-a86725f22221f13e-01
2022-04-21T16:17:20.027Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:20.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f30b5a5d73f28aff7994580a6150d416ac4102d-3e19ac3a97c5d945-01 outer:exit 2b-5f30b5a5d73f28aff7994580a6150d416ac4102d-ab0617d65d2fabb6-01
2022-04-21T16:17:20.032Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:20.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-2132afebab304b19db07b41814ad1113e823ada4-5492a390d96766c1-01 outer:exit 2b-2132afebab304b19db07b41814ad1113e823ada4-375d5051d1a879bc-01
2022-04-21T16:17:20.036Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:20.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e41955273cb898b490dd5d5c9be337c79df3c30-bea718ce552df1ed-01 outer:exit 2b-3e41955273cb898b490dd5d5c9be337c79df3c30-764526df18b4bb6e-01
2022-04-21T16:17:20.054Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:20.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cdbc89b0c9bb83bc83b050f53fda22b225a180e-ffb5b3f514f2324e-01 outer:exit 2b-3cdbc89b0c9bb83bc83b050f53fda22b225a180e-1f6b9f41f6258b0a-01
2022-04-21T16:17:20.068Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:20.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-916b308436104d4390649d5a6dc6a44b7b3bcd7b-25203bddc4e76b11-01 outer:exit 2b-916b308436104d4390649d5a6dc6a44b7b3bcd7b-823c35a35e89e188-01
2022-04-21T16:17:20.108Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:20.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f3d95d9d2194be60e7763ffb2d1a59cf8da3a8-ce2ed2040e149e26-01 outer:exit 2b-29f3d95d9d2194be60e7763ffb2d1a59cf8da3a8-e1c1e7f3301d65da-01
2022-04-21T16:17:20.111Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:20.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-73d58d6809d8f4999aa06bb70ec62f824a2353c0-a0737a4b935e9020-01 outer:exit 2b-73d58d6809d8f4999aa06bb70ec62f824a2353c0-633e270a1196700a-01
2022-04-21T16:17:20.114Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:20.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-e29721b64569c850daf0ee71bf682cc6bc8a6d22-999c18abe33d2990-01 outer:exit 2b-e29721b64569c850daf0ee71bf682cc6bc8a6d22-ca8bcd23a503cc4f-01
2022-04-21T16:17:20.116Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:20.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fb7713284e68e8b9cf732255d4c592f539d7558-dc93bf828d8ab9e1-01 outer:exit 2b-0fb7713284e68e8b9cf732255d4c592f539d7558-afc7ed4421edab95-01
2022-04-21T16:17:20.119Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:20.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d45dacb495ef3879761a13b24359e22356412fe-8140c6ac07e7a818-01 outer:exit 2b-3d45dacb495ef3879761a13b24359e22356412fe-a78add26c7d3692d-01
2022-04-21T16:17:20.121Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:20.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ec7c163f65a8024f07049f33d8f6110464ea40-c8821ae4bd02c939-01 outer:exit 2b-33ec7c163f65a8024f07049f33d8f6110464ea40-ffaae14d51d7d3ff-01
2022-04-21T16:17:20.123Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:20.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dc542ee80107e285ccaa111cfd9840152a8f9bf-003aea7917478c5d-01 outer:exit 2b-6dc542ee80107e285ccaa111cfd9840152a8f9bf-36e069e209453072-01
2022-04-21T16:17:20.125Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:20.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-d025b1b37ea8fe2e5da4caced02c012ff8321311-db2a1c090bdb311d-01 outer:exit 2b-d025b1b37ea8fe2e5da4caced02c012ff8321311-7e641e50f4d330b0-01
2022-04-21T16:17:20.126Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:20.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-a87c243ee550f5c6bdbd0ed20ea7bdc873063323-5b83b5f3fc489bd4-01 outer:exit 2b-a87c243ee550f5c6bdbd0ed20ea7bdc873063323-4e7838c7bce0bb0d-01
2022-04-21T16:17:20.129Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:20.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-233dcde1d6e84feaae44fbe7288005471ea9bf72-e2d5f504b0941bec-01 outer:exit 2b-233dcde1d6e84feaae44fbe7288005471ea9bf72-4c0f38d69407b46f-01
2022-04-21T16:17:20.132Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:20.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-be0d9e9390c05424feb35d225da6e9d5a6c4e81d-d915aff9b34a587d-01 outer:exit 2b-be0d9e9390c05424feb35d225da6e9d5a6c4e81d-ee111a5509a50b6f-01
2022-04-21T16:17:20.134Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:20.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-45d585f1f4173853fd00d9e064a7b150d6c3131d-adbab9ccce917141-01 outer:exit 2b-45d585f1f4173853fd00d9e064a7b150d6c3131d-baef197f818a9c72-01
2022-04-21T16:17:20.136Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:20.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e42f0a6ae97dd227a6359d48e326b63b926feb1-555c664463c44e59-01 outer:exit 2b-8e42f0a6ae97dd227a6359d48e326b63b926feb1-024cf44154ec6dad-01
2022-04-21T16:17:20.161Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:20.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-e49940f03e66eb7d417ab7a56a36c78c40756cad-d95fafbbaab8a16a-01 outer:exit 2b-e49940f03e66eb7d417ab7a56a36c78c40756cad-be7e4975d8b7a50a-01
2022-04-21T16:17:20.194Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:20.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-eac095f663ad501b8280f641d9d76d5186e4c6d4-7597c93b49109c51-01 outer:exit 2b-eac095f663ad501b8280f641d9d76d5186e4c6d4-8c2ebd9c9b7c135b-01
2022-04-21T16:17:20.207Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:20.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e667e8fd6f90449bd12d70e8e6b6c8f84d77d78-3d043762ebfbda8f-01 outer:exit 2b-8e667e8fd6f90449bd12d70e8e6b6c8f84d77d78-ddf7336139340550-01
2022-04-21T16:17:20.214Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:20.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdeda1cbade3b0de04a2435cf95f3e5a7a4d6fa9-956f55b36843acdf-01 outer:exit 2b-cdeda1cbade3b0de04a2435cf95f3e5a7a4d6fa9-7d17dffd8a61d0eb-01
2022-04-21T16:17:20.216Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:20.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c75390555f02eba162180cf78741f34b43e1a76-f1441f4bffc9d660-01 outer:exit 2b-5c75390555f02eba162180cf78741f34b43e1a76-2dcf8d8275a4858f-01
2022-04-21T16:17:20.229Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:20.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-2019caf3af4d1ec8d88b00ade2c0e588e0474d32-77d4401384ed7574-01 outer:exit 2b-2019caf3af4d1ec8d88b00ade2c0e588e0474d32-f0af104c085d94d6-01
2022-04-21T16:17:20.237Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:20.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-628bb28fa0b8f20b101a3ce4fd0ddf782e38bfc2-995e5dd519fec4e9-01 outer:exit 2b-628bb28fa0b8f20b101a3ce4fd0ddf782e38bfc2-d820886e76f72c2a-01
2022-04-21T16:17:20.243Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:20.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-820e054097dfe3fca09e165ab144471a11ec37bb-b7ae4fb3cb3519c5-01 outer:exit 2b-820e054097dfe3fca09e165ab144471a11ec37bb-50a7d1a7a8e0b04b-01
2022-04-21T16:17:20.246Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:20.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-4759f9716e06918d3f5ce91353b0af76a2ee0520-36b3752a43f6b793-01 outer:exit 2b-4759f9716e06918d3f5ce91353b0af76a2ee0520-2b61610f8dad1f17-01
2022-04-21T16:17:20.251Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:20.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d038591f6053cc7d941ccb4d19efb85810767f3-84188a422121a4ba-01 outer:exit 2b-2d038591f6053cc7d941ccb4d19efb85810767f3-3bfcff77162732db-01
2022-04-21T16:17:20.255Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:20.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e71def678cd7bf9b2450da4548aa0673ab6dce7-5fc63d13cacf9435-01 outer:exit 2b-6e71def678cd7bf9b2450da4548aa0673ab6dce7-1b33410adab667c8-01
2022-04-21T16:17:20.264Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:20.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-90e463bac503cd69e8fbcf12e98ea2355d27a4eb-ff9e5efe5bdbe5c9-01 outer:exit 2b-90e463bac503cd69e8fbcf12e98ea2355d27a4eb-2daf65a04a83207a-01
2022-04-21T16:17:20.284Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:20.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-4550fd12659e900053fe3e72af6e8052f62d774d-466d1a6cb3484949-01 outer:exit 2b-4550fd12659e900053fe3e72af6e8052f62d774d-2bdc13a06612c153-01
2022-04-21T16:17:20.308Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:20.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-485f66b8d33b703d112cb0cda78d54c3f9792aab-fdcbafa2a1dc8343-01 outer:exit 2b-485f66b8d33b703d112cb0cda78d54c3f9792aab-2b48fb6a75e25ab5-01
2022-04-21T16:17:20.317Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:20.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b667d03ec4115b80d20bb2a26e6f8e9b720e62c-4f3eced65bbc16f3-01 outer:exit 2b-7b667d03ec4115b80d20bb2a26e6f8e9b720e62c-9117e91ab291213f-01
2022-04-21T16:17:20.320Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:20.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca8893c2b23dc00cb704665444014a47ecc809c9-4acb8a6b9337267c-01 outer:exit 2b-ca8893c2b23dc00cb704665444014a47ecc809c9-eee497605ac0cd2d-01
2022-04-21T16:17:20.355Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:20.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ba19226a9dc30409e33fc62f4a751fa5d1d6b23-1c55f216fbfba642-01 outer:exit 2b-7ba19226a9dc30409e33fc62f4a751fa5d1d6b23-e27b2c7f0b2401c3-01
2022-04-21T16:17:20.383Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (470ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:26.534Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:26.534Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:26.535Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:26.535Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:26.597Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:26.717Z appoptics:patching patched crypto 
2022-04-21T16:17:26.735Z appoptics:patching patched https 
2022-04-21T16:17:26.736Z appoptics:patching patched http 
2022-04-21T16:17:26.786Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:26.786Z appoptics:patching patched fs 
2022-04-21T16:17:26.803Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v16.14.2)
2022-04-21T16:17:26.809Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-21T16:17:26.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-df6400e349c084faaad218f152ee85e9d2d87af8-9e84e212af7fed42-01 outer:exit 2b-df6400e349c084faaad218f152ee85e9d2d87af8-e7b4850df28bc696-01
2022-04-21T16:17:26.878Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:26.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba391dfd67b03e3b32b9e7ba79c5190063ca531b-14cdb682cb046129-01 outer:exit 2b-ba391dfd67b03e3b32b9e7ba79c5190063ca531b-4f78f68dec049a27-01
2022-04-21T16:17:26.929Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:26.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-27cc473e08fa8bed5ecbcf495c82b1d5c6bcefd8-310c4d4264fa67dd-01 outer:exit 2b-27cc473e08fa8bed5ecbcf495c82b1d5c6bcefd8-192890716452ec05-01
2022-04-21T16:17:26.934Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:26.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-e87446e410f51564ee3a3b422cd746190380915e-4de63ab2c51b8e4c-01 outer:exit 2b-e87446e410f51564ee3a3b422cd746190380915e-ba2de7b4dac74023-01
2022-04-21T16:17:26.937Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:26.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-be971d0972f93051f81a808da68c112cb91cf7d4-fe93abdc1d0ab1e0-01 outer:exit 2b-be971d0972f93051f81a808da68c112cb91cf7d4-bf856a9a3b26e541-01
2022-04-21T16:17:26.942Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:26.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-d40cfe4f575b12ea52e42aae32b1ff1d321f0c04-b7e446441e169452-01 outer:exit 2b-d40cfe4f575b12ea52e42aae32b1ff1d321f0c04-e536a19d53a698ea-01
2022-04-21T16:17:26.945Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:26.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-2956e59db29c70ef489a41b105d6a3cce282d982-0c0d171991e24ae6-01 outer:exit 2b-2956e59db29c70ef489a41b105d6a3cce282d982-f1c264ec0c1cde0e-01
2022-04-21T16:17:26.948Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:26.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e91bfa1bd026d6af39e038568f5888e3d270506-8ae9660754376a0f-01 outer:exit 2b-4e91bfa1bd026d6af39e038568f5888e3d270506-c7355530682b66b9-01
2022-04-21T16:17:26.951Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:26.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-734904a9d8d35ee03a1333019dec76fac58951f7-4527a3686e0ece8b-01 outer:exit 2b-734904a9d8d35ee03a1333019dec76fac58951f7-c7ea8e194d7364fb-01
2022-04-21T16:17:26.954Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:26.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-94bdf52a1f0e7a5332f7e3a9aa65dfba6a4a6145-b620217cb51c6a35-01 outer:exit 2b-94bdf52a1f0e7a5332f7e3a9aa65dfba6a4a6145-648d899978608453-01
2022-04-21T16:17:26.957Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:26.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f594435e2b404291e4ce97967fa1ea120362b26-36a5e33c10108047-01 outer:exit 2b-9f594435e2b404291e4ce97967fa1ea120362b26-186fd8fa73e1fe2a-01
2022-04-21T16:17:26.961Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:26.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf803d72561b30396e9987601cea05d4c2767e1-3bf70237136643f6-01 outer:exit 2b-eaf803d72561b30396e9987601cea05d4c2767e1-18cbc73472f41d3a-01
2022-04-21T16:17:26.968Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:26.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a2289cefafee46c6ce333d0cdc21944438e7b2-6e976966b0f1aa46-01 outer:exit 2b-c0a2289cefafee46c6ce333d0cdc21944438e7b2-1d38ecd125264819-01
2022-04-21T16:17:26.984Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:27.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d01773b39ab897784af84bc596a874cd4b024c0-3a707986b3b1913a-01 outer:exit 2b-6d01773b39ab897784af84bc596a874cd4b024c0-15e86321e4658e10-01
2022-04-21T16:17:27.024Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:27.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6104809956f2088fad6fd92397fec580f1789c8-681c018b27e26c23-01 outer:exit 2b-f6104809956f2088fad6fd92397fec580f1789c8-30e5b4924cfc188f-01
2022-04-21T16:17:27.027Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:27.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-792d7f0007cab737152480c2114c76ea456d53db-2f0bb8e286d068e0-01 outer:exit 2b-792d7f0007cab737152480c2114c76ea456d53db-e291d1d2fc921fea-01
2022-04-21T16:17:27.030Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:27.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-f48f7d04c013a2da442c9ab593a01b8357c4c8b5-83e0e5ccee66edb5-01 outer:exit 2b-f48f7d04c013a2da442c9ab593a01b8357c4c8b5-229aed59a9eb6287-01
2022-04-21T16:17:27.046Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:27.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a7b3076ad7e50ed39bd4e48366271b95cf0a6ce-b87ca80ee8ec580f-01 outer:exit 2b-5a7b3076ad7e50ed39bd4e48366271b95cf0a6ce-439d837b3055ffa0-01
2022-04-21T16:17:27.051Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:27.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-daff440151ff1d5702fb66b5b47398fbc33f51c9-76ffb6d46a884a8c-01 outer:exit 2b-daff440151ff1d5702fb66b5b47398fbc33f51c9-8aeaf48fde46fa79-01
2022-04-21T16:17:27.053Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:27.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcf817d8db2ad8e693a6f8036ac94a8b3e2ce80a-5dd637405a4fdf58-01 outer:exit 2b-fcf817d8db2ad8e693a6f8036ac94a8b3e2ce80a-d73d61af4a162fa0-01
2022-04-21T16:17:27.055Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:27.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-2616c90b1343487cf9cbb9dd7dc7b6fff829ffff-c5d0115247fcbe8e-01 outer:exit 2b-2616c90b1343487cf9cbb9dd7dc7b6fff829ffff-8056718ae21252cd-01
2022-04-21T16:17:27.057Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:27.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7759c970c9ee0aa52b6f88be0cf20a2fb0e90cb-343c36ceb8e04649-01 outer:exit 2b-d7759c970c9ee0aa52b6f88be0cf20a2fb0e90cb-b48625b6f4669fdb-01
2022-04-21T16:17:27.059Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:27.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-4afd9e77b46da929ad842010492d57b3f3955244-e19c5c4be2371c09-01 outer:exit 2b-4afd9e77b46da929ad842010492d57b3f3955244-e20c64c6a0357fb4-01
2022-04-21T16:17:27.062Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:27.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6ba52111497504c8e97cb2b707a585df6f49814-c58a3658f68709dd-01 outer:exit 2b-d6ba52111497504c8e97cb2b707a585df6f49814-64a469a3c8f96266-01
2022-04-21T16:17:27.065Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:27.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-d98b48b97272c69a8bccb73358271ae0b16c2f07-d5f420e08f908536-01 outer:exit 2b-d98b48b97272c69a8bccb73358271ae0b16c2f07-d332451be05cec8e-01
2022-04-21T16:17:27.067Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:27.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-648283900e42745a00360b4eb747b4ca7da1010b-6a2e2b30a14ca9ea-01 outer:exit 2b-648283900e42745a00360b4eb747b4ca7da1010b-5e46efce80e1fb8e-01
2022-04-21T16:17:27.069Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:27.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-daaf643f96d289f3933948886a3942520891f07f-1296a78091ec267e-01 outer:exit 2b-daaf643f96d289f3933948886a3942520891f07f-58e933c30f826d42-01
2022-04-21T16:17:27.075Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:27.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-3225469399b02fd92548beb0edeb398d6d332658-17bb3674cae5d760-01 outer:exit 2b-3225469399b02fd92548beb0edeb398d6d332658-27537ff4e0673c7e-01
2022-04-21T16:17:27.082Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:27.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a17a42d6b49b14c364e8f4026f97156b457b2e6-6f72e649406c65e6-01 outer:exit 2b-9a17a42d6b49b14c364e8f4026f97156b457b2e6-45434d48c9c41486-01
2022-04-21T16:17:27.090Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:27.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-69d987b74c6d0710bee054e99fc8c9b28f7d6f1c-ea40ba3706320cb9-01 outer:exit 2b-69d987b74c6d0710bee054e99fc8c9b28f7d6f1c-99dd19ff5b14899e-01
2022-04-21T16:17:27.096Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:27.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-a60955e8effd526b6366e28fbd1c705f03c9235d-67d9ef53c8347956-01 outer:exit 2b-a60955e8effd526b6366e28fbd1c705f03c9235d-89fa8b3665633803-01
2022-04-21T16:17:27.098Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:27.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-e380d7e2b6083c7c165b8d70b9dd4f131b87b89e-e0ac9a080c7fb9ff-01 outer:exit 2b-e380d7e2b6083c7c165b8d70b9dd4f131b87b89e-ed5718606e583614-01
2022-04-21T16:17:27.101Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:27.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fcf9dae9e38ae1ce41379889ec19a7d03fb5626-9b3ec3215e68113a-01 outer:exit 2b-3fcf9dae9e38ae1ce41379889ec19a7d03fb5626-24c5b206049c1e6b-01
2022-04-21T16:17:27.107Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:27.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cc3c7777f608ebef1934c0541c9e2ca67e304e7-0a9b4cccf981f0c8-01 outer:exit 2b-7cc3c7777f608ebef1934c0541c9e2ca67e304e7-acd9a198bf14df50-01
2022-04-21T16:17:27.109Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:27.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad68d33376a7dd0bed42ee54f06d3d005a21c9cf-aea9f3f1d33fb525-01 outer:exit 2b-ad68d33376a7dd0bed42ee54f06d3d005a21c9cf-84a3eb6933c95e50-01
2022-04-21T16:17:27.111Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:27.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae5c427beca01f77278a6fed9b121e2775053228-73cbcb2305d2ccf0-01 outer:exit 2b-ae5c427beca01f77278a6fed9b121e2775053228-4c8f743e4ad12b34-01
2022-04-21T16:17:27.113Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:27.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a50c27cb3c30dfa1d2920db78ce8822c0a9243-a519dedd7959a973-01 outer:exit 2b-f3a50c27cb3c30dfa1d2920db78ce8822c0a9243-3de66de73e64fc72-01
2022-04-21T16:17:27.115Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:27.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-b42521b7ef73836d5fad35b71e58c5bdfcc54ad8-c55e29e06214c3ab-01 outer:exit 2b-b42521b7ef73836d5fad35b71e58c5bdfcc54ad8-b86cb2e977461cea-01
2022-04-21T16:17:27.116Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:27.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce1444696158fa1a18aefba247b9530e9269425b-5ae95fe13993f8af-01 outer:exit 2b-ce1444696158fa1a18aefba247b9530e9269425b-f4475da3e6779722-01
2022-04-21T16:17:27.126Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:27.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-b83b9978a58f95528299a53b81bdc71f8b79743b-6dd6db575295bbad-01 outer:exit 2b-b83b9978a58f95528299a53b81bdc71f8b79743b-d0e6d43d700027e2-01
2022-04-21T16:17:27.135Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:27.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6779e4d26736cb90602cde1b151a3bf12a78ea2-ba366112b9ea27b7-01 outer:exit 2b-d6779e4d26736cb90602cde1b151a3bf12a78ea2-995a24fbb6ad8d6b-01
2022-04-21T16:17:27.138Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:27.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9397cf7c6b0a7da88e50341ac3bc5b461aef3c2-0bb5317964b69382-01 outer:exit 2b-e9397cf7c6b0a7da88e50341ac3bc5b461aef3c2-2f71132058568c71-01
2022-04-21T16:17:27.141Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:27.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c6fc70e47667121c81b9bb85e36a22f56990b1d-67e50c1462ef2d85-01 outer:exit 2b-3c6fc70e47667121c81b9bb85e36a22f56990b1d-5768c2ce83c895af-01
2022-04-21T16:17:27.146Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:27.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-96e601983870eaf3e8dd32afe2135971e15e1879-02e4afea6e6dfcf5-01 outer:exit 2b-96e601983870eaf3e8dd32afe2135971e15e1879-06c2c6ae1a9a1150-01
2022-04-21T16:17:27.179Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (355ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:33.832Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:33.833Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:33.833Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:33.834Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:33.900Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:34.019Z appoptics:patching patched crypto 
2022-04-21T16:17:34.037Z appoptics:patching patched https 
2022-04-21T16:17:34.038Z appoptics:patching patched http 
2022-04-21T16:17:34.087Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:34.088Z appoptics:patching patched fs 
2022-04-21T16:17:34.102Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v16.14.2)
2022-04-21T16:17:34.107Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-21T16:17:34.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-d86d9d0f18db4d77af26b43606b2c87c1eb1c65a-f8c9ffae0473a983-01 outer:exit 2b-d86d9d0f18db4d77af26b43606b2c87c1eb1c65a-25a890ff954bc4f3-01
2022-04-21T16:17:34.152Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:34.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-044b1cebeaebd5a857b367252355efe9bb7db85e-6c4c46ea6858299e-01 outer:exit 2b-044b1cebeaebd5a857b367252355efe9bb7db85e-4cf98e26cf4c42b4-01
2022-04-21T16:17:34.198Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:34.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf9144b58ebf86548175bafbeef1f378fef86712-b21116de160b7139-01 outer:exit 2b-bf9144b58ebf86548175bafbeef1f378fef86712-caaab933241f4baa-01
2022-04-21T16:17:34.202Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:34.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-bccbcc5a380df1bd1e4567588ae3e29f90a97299-3f7f53e5ba620fc0-01 outer:exit 2b-bccbcc5a380df1bd1e4567588ae3e29f90a97299-261780485df96f08-01
2022-04-21T16:17:34.205Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:34.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-e364ab7db82904d9ef2367ff90fbf605d23723e1-3d0829f5dda60494-01 outer:exit 2b-e364ab7db82904d9ef2367ff90fbf605d23723e1-a433856832fad88c-01
2022-04-21T16:17:34.210Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:34.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-80d76b3367f06a1493c3dd8ea1c9106c11e78107-d7cbcb354a81e81b-01 outer:exit 2b-80d76b3367f06a1493c3dd8ea1c9106c11e78107-aa938d211fa07bd2-01
2022-04-21T16:17:34.213Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:34.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9327f6dfc0545687b5388e379e34f1257b063fa-4d8fc282499ada12-01 outer:exit 2b-d9327f6dfc0545687b5388e379e34f1257b063fa-d1fc721385b9bd13-01
2022-04-21T16:17:34.216Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:34.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-814e2a821baca4b32614736fd71683be17da69ca-48d03b2af3691fe9-01 outer:exit 2b-814e2a821baca4b32614736fd71683be17da69ca-1c634cced41d2ee7-01
2022-04-21T16:17:34.218Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:34.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a07ef548e67cc6414ce0f54a1e808fd9d801704-08d319b1aad0d2c1-01 outer:exit 2b-1a07ef548e67cc6414ce0f54a1e808fd9d801704-6b9fb4423c455cd3-01
2022-04-21T16:17:34.222Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:34.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-c693d3e12a631769fcd352c2dbe6be06e1294275-e9dca2e9051e7a06-01 outer:exit 2b-c693d3e12a631769fcd352c2dbe6be06e1294275-1a21c4474e5be7f6-01
2022-04-21T16:17:34.225Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:34.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef19bed6daaa0d09a87070f7559596b382e8c222-99a245939159c1c9-01 outer:exit 2b-ef19bed6daaa0d09a87070f7559596b382e8c222-8cf5aef31feced32-01
2022-04-21T16:17:34.229Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:34.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bc30a090229e56dd4284ba5d388e5ed1c2179e6-305ea32f9bfd080c-01 outer:exit 2b-6bc30a090229e56dd4284ba5d388e5ed1c2179e6-1718621149fd3651-01
2022-04-21T16:17:34.235Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:34.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2f840d9e8f271da246abf1be54de34be70d832e-08df463ba4f70805-01 outer:exit 2b-f2f840d9e8f271da246abf1be54de34be70d832e-2f3b3f315e30ce3a-01
2022-04-21T16:17:34.250Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:34.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-727a4b32417b766fe421520750e2267333eea80a-e5e438afa504c061-01 outer:exit 2b-727a4b32417b766fe421520750e2267333eea80a-b9193b83eb51f685-01
2022-04-21T16:17:34.291Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:34.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-716cc535f5fcea3587b3e040ceebc4c0eaffea4c-e92896fe9e3aaf54-01 outer:exit 2b-716cc535f5fcea3587b3e040ceebc4c0eaffea4c-90e9b318701c5460-01
2022-04-21T16:17:34.294Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:34.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-784af321e5a66275b4736daa48090ff764cffcd3-21d9452f940f1587-01 outer:exit 2b-784af321e5a66275b4736daa48090ff764cffcd3-9348a765a559740a-01
2022-04-21T16:17:34.300Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:34.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-007e04e97c10503a2f1cb9eea16ddaf7b9824838-5b050a46da9cf011-01 outer:exit 2b-007e04e97c10503a2f1cb9eea16ddaf7b9824838-d835b5f0e12de111-01
2022-04-21T16:17:34.305Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:34.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-7142ea1a902a626e1c8c18ec34136b31d0c48ff5-822fbf08e9430be7-01 outer:exit 2b-7142ea1a902a626e1c8c18ec34136b31d0c48ff5-df5c87617ba41521-01
2022-04-21T16:17:34.309Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:34.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-495641298f56a4448200f87c197d4f39ff7c54c5-575cbc5eb90ff1e2-01 outer:exit 2b-495641298f56a4448200f87c197d4f39ff7c54c5-d6bfcebd283b2fe7-01
2022-04-21T16:17:34.310Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:34.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-51ea673035489a37e27513284bcd2b9a08f475fc-70fb55552ed709ef-01 outer:exit 2b-51ea673035489a37e27513284bcd2b9a08f475fc-a072922fca499503-01
2022-04-21T16:17:34.313Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:34.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d8ffa751e1895ff28f43f8422162e553856a663-c99d5a8fa8c3f673-01 outer:exit 2b-4d8ffa751e1895ff28f43f8422162e553856a663-8765f9dc12d56250-01
2022-04-21T16:17:34.314Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:34.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-0edb416ac08f351e8ac529c305f63dda42b62ff9-47b6a924a48906cc-01 outer:exit 2b-0edb416ac08f351e8ac529c305f63dda42b62ff9-3a7ab4f6493a2de5-01
2022-04-21T16:17:34.317Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:34.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-8286a4f779934b17451e6a7eeec1f5efc406b072-8ec38d98145d066e-01 outer:exit 2b-8286a4f779934b17451e6a7eeec1f5efc406b072-6d865dc8d1b7a875-01
2022-04-21T16:17:34.319Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:34.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-075fea2965d3482b144d0ee132b16d0ede168158-3eb38de0146e6fc6-01 outer:exit 2b-075fea2965d3482b144d0ee132b16d0ede168158-d4f4c4d9ce1434b7-01
2022-04-21T16:17:34.322Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:34.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-deb81f36b5c66e3b86230b2b14a9de0272e71868-632a9d7ef6a1e503-01 outer:exit 2b-deb81f36b5c66e3b86230b2b14a9de0272e71868-968406bcc1c4c5f9-01
2022-04-21T16:17:34.324Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:34.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6d6c469fe28fa9b92a9b8be904dd9230b04d3d8-797d7a2dacf37a89-01 outer:exit 2b-d6d6c469fe28fa9b92a9b8be904dd9230b04d3d8-8409a1351ef5313c-01
2022-04-21T16:17:34.326Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:34.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-03ca02c77f9bc5f016937b67c0a3ed80c6fa8953-b7183f216d4856be-01 outer:exit 2b-03ca02c77f9bc5f016937b67c0a3ed80c6fa8953-57e0de4e8ea10664-01
2022-04-21T16:17:34.332Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:34.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8b7ce02b7cc603b8a86bdbb04be9ac097eef0fe-917514c49293a8a4-01 outer:exit 2b-c8b7ce02b7cc603b8a86bdbb04be9ac097eef0fe-8e51a7c9302f5f4c-01
2022-04-21T16:17:34.340Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:34.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d4188e5cf2c5a9355ca1807e5b71b82aca5126f-e71a3281d268b08c-01 outer:exit 2b-9d4188e5cf2c5a9355ca1807e5b71b82aca5126f-d0bad616e7c1fe08-01
2022-04-21T16:17:34.349Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:34.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-8161f7c5a3edb7f51111030cb68065db04cfb0dd-2a08fd5c3a1078b3-01 outer:exit 2b-8161f7c5a3edb7f51111030cb68065db04cfb0dd-09ae9076580bc9ea-01
2022-04-21T16:17:34.355Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:34.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0fbce07a41a52cd56231f070a86180dc169ceab-c16a2fb25391560f-01 outer:exit 2b-a0fbce07a41a52cd56231f070a86180dc169ceab-071ee082f47a25e7-01
2022-04-21T16:17:34.357Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:34.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f5d1e077177f64216361a80f29bef68e4e011ea-78d538fe9de02d70-01 outer:exit 2b-6f5d1e077177f64216361a80f29bef68e4e011ea-9c7676ddfdf7ef28-01
2022-04-21T16:17:34.360Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:34.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-631a5eb0ef85541ca5fdd75f0a3dd9901b937895-4d146ee06fe40d5e-01 outer:exit 2b-631a5eb0ef85541ca5fdd75f0a3dd9901b937895-decbc51f356068e4-01
2022-04-21T16:17:34.367Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:34.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-b29c61424d925665f21ccbe41d465dd46908c0f9-cadc867fec008f0f-01 outer:exit 2b-b29c61424d925665f21ccbe41d465dd46908c0f9-576105ade7af90e1-01
2022-04-21T16:17:34.369Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:34.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-f597d43fdd1337b3a20f942a868b106d6dc96251-4af3b8cfca979d37-01 outer:exit 2b-f597d43fdd1337b3a20f942a868b106d6dc96251-b7de738644a437ef-01
2022-04-21T16:17:34.371Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:34.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d1d51580c7e2ee9717e7892c7c1768d354bc9a0-91834d99a5f304ba-01 outer:exit 2b-0d1d51580c7e2ee9717e7892c7c1768d354bc9a0-9d6f76d57473796c-01
2022-04-21T16:17:34.373Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:34.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-146c7c67810c5b8ad2ae209d6c284b84090affab-c535e94506135935-01 outer:exit 2b-146c7c67810c5b8ad2ae209d6c284b84090affab-a261c6d6306c5c8c-01
2022-04-21T16:17:34.375Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:34.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-4378f0429a663a2db8247c2e3612ec0f8e33f9b3-3971c98af9b6e498-01 outer:exit 2b-4378f0429a663a2db8247c2e3612ec0f8e33f9b3-ca8fdd2198581246-01
2022-04-21T16:17:34.376Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:34.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-80c000046075bec8ceeccf53514e2d92cdb0f441-532b191ae2c7d91b-01 outer:exit 2b-80c000046075bec8ceeccf53514e2d92cdb0f441-f9f3360e6dacaa37-01
2022-04-21T16:17:34.385Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:34.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb7a906635cbc756c6cafcf4025983d316bd21f9-66abeb09a3155401-01 outer:exit 2b-bb7a906635cbc756c6cafcf4025983d316bd21f9-1745d3c15f515496-01
2022-04-21T16:17:34.394Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:34.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-58669d60aeaec068b26513298d51b6e6a39e2034-8d8638bc94c37dc4-01 outer:exit 2b-58669d60aeaec068b26513298d51b6e6a39e2034-63ea8d710527397f-01
2022-04-21T16:17:34.396Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:34.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-3494b3a82552dfe3d73b12b96e05c2bb8b3247af-3196a10fd91dd28a-01 outer:exit 2b-3494b3a82552dfe3d73b12b96e05c2bb8b3247af-962ceb5075cc660f-01
2022-04-21T16:17:34.399Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:34.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-18202661ab2117e5631391528f3b481e4c90b21e-1b4a7bbe3327705d-01 outer:exit 2b-18202661ab2117e5631391528f3b481e4c90b21e-384eedf561b8c0cd-01
2022-04-21T16:17:34.401Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:34.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-c47b5f99d26c3dc84ab2422cd345a69235836c44-2bd9be94c1e974bb-01 outer:exit 2b-c47b5f99d26c3dc84ab2422cd345a69235836c44-c1756a12c2d8bae6-01
2022-04-21T16:17:34.431Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (318ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:40.177Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:40.177Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:40.177Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:40.178Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:40.238Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:40.358Z appoptics:patching patched crypto 
2022-04-21T16:17:40.376Z appoptics:patching patched https 
2022-04-21T16:17:40.377Z appoptics:patching patched http 
2022-04-21T16:17:40.418Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:40.419Z appoptics:patching patched fs 
2022-04-21T16:17:40.443Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v16.14.2)
2022-04-21T16:17:40.448Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-21T16:17:40.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ee88d47c3ecfedba6c6b9523623552b78ddb037-7bf39d6b00a2a5a8-01 outer:exit 2b-6ee88d47c3ecfedba6c6b9523623552b78ddb037-6b94cef142cdbd68-01
2022-04-21T16:17:40.494Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:40.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-386f32691a044cd3e9e3023f571cf43c79955d56-7c684d634ef6d7be-01 outer:exit 2b-386f32691a044cd3e9e3023f571cf43c79955d56-64e0a242bb36b97e-01
2022-04-21T16:17:40.540Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:40.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8e4af10775ed74352d30f3df7efd1f3b65ba40c-319f32c57c3a17a6-01 outer:exit 2b-a8e4af10775ed74352d30f3df7efd1f3b65ba40c-0d0f7748815fd796-01
2022-04-21T16:17:40.546Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:40.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef25b801dbfdc42041fec35299e2f72e7156ea2b-c1aae7310244cf6f-01 outer:exit 2b-ef25b801dbfdc42041fec35299e2f72e7156ea2b-67380eb0737330ae-01
2022-04-21T16:17:40.549Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:40.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6fac59d5274f896fdbd05a668b0fc1793a32cc2-2bd8246c293912e4-01 outer:exit 2b-d6fac59d5274f896fdbd05a668b0fc1793a32cc2-1a97d13c29d861bb-01
2022-04-21T16:17:40.554Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:40.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-103da1428b0f3304e4afebaf94d83d0c122f3860-19d7ace0b0badaea-01 outer:exit 2b-103da1428b0f3304e4afebaf94d83d0c122f3860-c66210e61403f2ce-01
2022-04-21T16:17:40.557Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:40.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5aeef7b07e900eb0285ed786905d4ae09904c7d-422a02c8804115d1-01 outer:exit 2b-a5aeef7b07e900eb0285ed786905d4ae09904c7d-dde07f51c0a049c6-01
2022-04-21T16:17:40.560Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:40.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-85f16876b656f781f3ee9371fea8ddf6de10a1d4-539e66b9bd3b8408-01 outer:exit 2b-85f16876b656f781f3ee9371fea8ddf6de10a1d4-27b0361afb8ad32e-01
2022-04-21T16:17:40.563Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:40.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-75245bfe25f0d169dfc1a8f4fa6ba450fa0fa954-5e389bd08a34151f-01 outer:exit 2b-75245bfe25f0d169dfc1a8f4fa6ba450fa0fa954-9905a1f8f8624a70-01
2022-04-21T16:17:40.567Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:40.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e41040c60108e2f73de0c4d5a45f6484c03d6a2-b833cb1f3fdc853f-01 outer:exit 2b-2e41040c60108e2f73de0c4d5a45f6484c03d6a2-c97a01ed621075f0-01
2022-04-21T16:17:40.570Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:40.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ddaf484aa123a09a0f9de3a6c926a9f9aae5773-b44c54ef537afcc2-01 outer:exit 2b-7ddaf484aa123a09a0f9de3a6c926a9f9aae5773-70f9b1f77910d58e-01
2022-04-21T16:17:40.574Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:40.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-7045db8bed12e54c33f366d2e09aec0b3ecd97fd-780f6e7ce0111149-01 outer:exit 2b-7045db8bed12e54c33f366d2e09aec0b3ecd97fd-cec1661ce70254ae-01
2022-04-21T16:17:40.582Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:40.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb26467847555084e1b924da15649cbda79fbb51-a4b03258cfb390da-01 outer:exit 2b-cb26467847555084e1b924da15649cbda79fbb51-bd252f64ecf0d3e4-01
2022-04-21T16:17:40.608Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:40.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-21343ec25e873b9b5e427f9d992962ff3be9bea4-9750faf0087bcc96-01 outer:exit 2b-21343ec25e873b9b5e427f9d992962ff3be9bea4-2d60a290c734697b-01
2022-04-21T16:17:40.681Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:40.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a55f8896d499d2443cfc1da2cfcd35bc317d6b8-2f9a6eabfaabcfa5-01 outer:exit 2b-7a55f8896d499d2443cfc1da2cfcd35bc317d6b8-542e723db9f112fc-01
2022-04-21T16:17:40.685Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:40.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-77cb531b6cdcc98c6f900ccca16123b702156333-cd3ce2e0ecc61a4d-01 outer:exit 2b-77cb531b6cdcc98c6f900ccca16123b702156333-7160d0ec32bfc4b0-01
2022-04-21T16:17:40.688Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:40.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aaf57fc47e0797286d83307a5b453401d97ce08-6ebb033bf71e94f2-01 outer:exit 2b-1aaf57fc47e0797286d83307a5b453401d97ce08-3e5af63cdf164324-01
2022-04-21T16:17:40.693Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:40.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-313f48650ff41f0e02c5eed71873ada22a6169d2-371e92dbf4b3e1e6-01 outer:exit 2b-313f48650ff41f0e02c5eed71873ada22a6169d2-620d6f20e1eb9fc6-01
2022-04-21T16:17:40.700Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:40.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c799e7f4bf3331e18478e43314e12f074f45f2a-3aa814d1123523f8-01 outer:exit 2b-2c799e7f4bf3331e18478e43314e12f074f45f2a-f6314fda194f944b-01
2022-04-21T16:17:40.702Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:40.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-67cace5c15fc203f5dfea8f10e6c39944c159009-dd7134ccdb7a72bd-01 outer:exit 2b-67cace5c15fc203f5dfea8f10e6c39944c159009-e25defc8b0c5c842-01
2022-04-21T16:17:40.707Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:40.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-7edff9033d77910492eab782260506c2e373bba4-b5c976c13dd404ea-01 outer:exit 2b-7edff9033d77910492eab782260506c2e373bba4-6b58af383bc96d56-01
2022-04-21T16:17:40.710Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:40.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc5bd914faa4689b24fbec73878964e534d9dd0d-237c0b2b4241cd7f-01 outer:exit 2b-bc5bd914faa4689b24fbec73878964e534d9dd0d-5d029288376e5c80-01
2022-04-21T16:17:40.714Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:40.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b5604ad3c9b57dfccfaaee4963215bd5b1792d4-616b1baefc957e17-01 outer:exit 2b-7b5604ad3c9b57dfccfaaee4963215bd5b1792d4-70c776bd8c6030ff-01
2022-04-21T16:17:40.717Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:40.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b233048d879bbc5811d3210d6badcff2152955-3b16c35986299bb0-01 outer:exit 2b-c6b233048d879bbc5811d3210d6badcff2152955-4cf614c7560e376b-01
2022-04-21T16:17:40.721Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:40.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1b7a3fb1e4c9aa964942090e53595a634da7879-e0e2b4a8d79c5a79-01 outer:exit 2b-c1b7a3fb1e4c9aa964942090e53595a634da7879-751f49d7b9d75f68-01
2022-04-21T16:17:40.726Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:40.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-49e8ee92fed991132b6d01d4006f0a7c2181d86d-17a0939c70f96792-01 outer:exit 2b-49e8ee92fed991132b6d01d4006f0a7c2181d86d-59f3cc5595b8691c-01
2022-04-21T16:17:40.728Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:40.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-81e829ad0c859e8b1dee65930e058eecaa1eccce-08bbbbf899286f5f-01 outer:exit 2b-81e829ad0c859e8b1dee65930e058eecaa1eccce-a063a3957c835c10-01
2022-04-21T16:17:40.738Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:40.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-03e7af0c7415cfb8aaf97ed7eefcabed59fb7e12-f894945738d57e38-01 outer:exit 2b-03e7af0c7415cfb8aaf97ed7eefcabed59fb7e12-8adf2a8f98668549-01
2022-04-21T16:17:40.752Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:40.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7946fad5c611a487d5f8370864a559e95759a1a-ea7eccf5b1bff0cb-01 outer:exit 2b-d7946fad5c611a487d5f8370864a559e95759a1a-aaa2e4b90866ff48-01
2022-04-21T16:17:40.761Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:40.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8345f757c99f8df236aee91c22f4abd2a23636b-d2ec5024954517a0-01 outer:exit 2b-c8345f757c99f8df236aee91c22f4abd2a23636b-ba5d7a47fbcd5926-01
2022-04-21T16:17:40.771Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:40.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-de16b7810984a0ce2aec54730377aa88096a4d02-7c3df1598150fd06-01 outer:exit 2b-de16b7810984a0ce2aec54730377aa88096a4d02-c5becb9d8e0a7c39-01
2022-04-21T16:17:40.777Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:40.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e69837a90a6cc23cd7fd10c73b4b7c8a5a4edf6-f3a8a96360af9c54-01 outer:exit 2b-2e69837a90a6cc23cd7fd10c73b4b7c8a5a4edf6-cbfe65e8bff9243b-01
2022-04-21T16:17:40.781Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:40.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e90392bce3edc40c68bed3a88b10df66af46d2f-8d90b4749cf904c0-01 outer:exit 2b-2e90392bce3edc40c68bed3a88b10df66af46d2f-26f954c40c692c6e-01
2022-04-21T16:17:40.791Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:40.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-aba93953ac626dbcf47510a81e15f86c7f6348e7-510357edf58626ae-01 outer:exit 2b-aba93953ac626dbcf47510a81e15f86c7f6348e7-7e3a29cccb3665a7-01
2022-04-21T16:17:40.803Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:40.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a1e882efa87a63fde71c21e42167a35527525ee-d43b84eef1a0d8db-01 outer:exit 2b-4a1e882efa87a63fde71c21e42167a35527525ee-e1eacb081348b747-01
2022-04-21T16:17:40.805Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:40.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-83fc638092845d3c9e55e468293b338c6bda823b-9f0599903252630e-01 outer:exit 2b-83fc638092845d3c9e55e468293b338c6bda823b-8775cc9ac600a09e-01
2022-04-21T16:17:40.807Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:40.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b648c6e89e7de56d5d9bda49ec05195671a9616-58104b14022c5860-01 outer:exit 2b-5b648c6e89e7de56d5d9bda49ec05195671a9616-cbf45cc4f2f184fb-01
2022-04-21T16:17:40.809Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:40.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c69cd8580aeee86e53091db9d63f6f5888c565f-41d1cc6cf8fd7d51-01 outer:exit 2b-6c69cd8580aeee86e53091db9d63f6f5888c565f-4b73f938ebb94bfb-01
2022-04-21T16:17:40.811Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:40.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fb9f91c82dd74f40c938f1c95497be2aa0e315a-962ab13dc95c19b3-01 outer:exit 2b-1fb9f91c82dd74f40c938f1c95497be2aa0e315a-2fb6c78e4541f5be-01
2022-04-21T16:17:40.819Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:40.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-65d3aa8250cd0ae635b0a02ea82514868da9ab14-2c164b6d95ed140c-01 outer:exit 2b-65d3aa8250cd0ae635b0a02ea82514868da9ab14-c84e4c5c32306580-01
2022-04-21T16:17:40.829Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:40.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfcb4df726bde743dad32383e3af5a84f956bd69-6cbc23fe171f0603-01 outer:exit 2b-bfcb4df726bde743dad32383e3af5a84f956bd69-109061a32a144c16-01
2022-04-21T16:17:40.831Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:40.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-40c00185a4b62d4ce4e8f396cf07652fb43645e7-a2c65241f4fb0771-01 outer:exit 2b-40c00185a4b62d4ce4e8f396cf07652fb43645e7-95b269030fafe9b2-01
2022-04-21T16:17:40.834Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:40.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fc33069d7977d47072ade4833588382cbca6e70-72d695c8e1f76b34-01 outer:exit 2b-2fc33069d7977d47072ade4833588382cbca6e70-db61a0c1ceedff09-01
2022-04-21T16:17:40.838Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:40.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b2883de4b3f753f0db3c8c26feb65660e80dd7d-756bd31ef2a10c65-01 outer:exit 2b-0b2883de4b3f753f0db3c8c26feb65660e80dd7d-25ef2cac5bfcdcf6-01
2022-04-21T16:17:40.865Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (410ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:47.522Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:47.522Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:47.522Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:47.523Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:47.584Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:47.703Z appoptics:patching patched crypto 
2022-04-21T16:17:47.729Z appoptics:patching patched https 
2022-04-21T16:17:47.730Z appoptics:patching patched http 
2022-04-21T16:17:47.771Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:47.771Z appoptics:patching patched fs 
2022-04-21T16:17:47.796Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v16.14.2)
2022-04-21T16:17:47.802Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-21T16:17:47.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-763e83dfb23a9d51d7356eaca3141e37c8ba7b8a-153aef7e1c6049f0-01 outer:exit 2b-763e83dfb23a9d51d7356eaca3141e37c8ba7b8a-16b87844070c7b60-01
2022-04-21T16:17:47.848Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:47.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ceab199b6e6e5ddfef7bf7338bae288a3de8f30-fc38cf95be7dc4af-01 outer:exit 2b-6ceab199b6e6e5ddfef7bf7338bae288a3de8f30-4020af3776614626-01
2022-04-21T16:17:47.893Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:47.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0566542bf988320e286c41b48531796ea819930-b243079f5d28a3a7-01 outer:exit 2b-a0566542bf988320e286c41b48531796ea819930-51fbaff95b497bec-01
2022-04-21T16:17:47.897Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:47.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-29932bc637aab521645363290dff3d0850ef1d95-ec4036b2b961f24d-01 outer:exit 2b-29932bc637aab521645363290dff3d0850ef1d95-da2a1f763deaff9f-01
2022-04-21T16:17:47.901Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:47.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-39728666b3e37d8a2ee14c39b845f5b81f5fd0d5-03420d68a94a9d62-01 outer:exit 2b-39728666b3e37d8a2ee14c39b845f5b81f5fd0d5-3b085a6fd1af3924-01
2022-04-21T16:17:47.905Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:47.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-16d29feda2475ee15db7c2915b7aae5e58ccfc6e-4a9c19d29736c1f6-01 outer:exit 2b-16d29feda2475ee15db7c2915b7aae5e58ccfc6e-01c586987239c52d-01
2022-04-21T16:17:47.910Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:47.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-62bf6e4b498c56ca2268f5b4bd9cc4ccb7caeaf5-36a97b37509aea92-01 outer:exit 2b-62bf6e4b498c56ca2268f5b4bd9cc4ccb7caeaf5-38aab898ec1fd0ee-01
2022-04-21T16:17:47.914Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:47.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e771c20310e54b9e9c5c607698ee26e7fb4fd35-f508b4681281c69c-01 outer:exit 2b-4e771c20310e54b9e9c5c607698ee26e7fb4fd35-c9820634c8de23ad-01
2022-04-21T16:17:47.916Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:47.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f7626baba9d07a68c0f277100b6474df914a1a-05a1f3759fb90538-01 outer:exit 2b-29f7626baba9d07a68c0f277100b6474df914a1a-7c041ee87e7cc439-01
2022-04-21T16:17:47.919Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:47.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7f2d81c950a3ecfe29ebbf8d33d3e0a853e31f2-ae8fab0bfdd69619-01 outer:exit 2b-b7f2d81c950a3ecfe29ebbf8d33d3e0a853e31f2-63fb433983541db0-01
2022-04-21T16:17:47.922Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:47.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-838d17a91ca9c220ffe2e3c6146a4d2ef6e9e15b-e7193da2d2f4c90b-01 outer:exit 2b-838d17a91ca9c220ffe2e3c6146a4d2ef6e9e15b-61f2e2731c530f0b-01
2022-04-21T16:17:47.926Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:47.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d37eaedd042ed2e99342e22681c3dcf1ebf0e58-cd0116e3098b88b0-01 outer:exit 2b-7d37eaedd042ed2e99342e22681c3dcf1ebf0e58-f8a711fc04cabdc5-01
2022-04-21T16:17:47.932Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:47.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-3879003e5fb726720e2fcc7e3a07bc0228fa4051-f43f006c13747114-01 outer:exit 2b-3879003e5fb726720e2fcc7e3a07bc0228fa4051-247b9ab8e8e60122-01
2022-04-21T16:17:47.949Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:47.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a45ea11e1655c03f8d784ddc492bd62098bc862-160bb83b1f605f36-01 outer:exit 2b-3a45ea11e1655c03f8d784ddc492bd62098bc862-9412cbb0657fc762-01
2022-04-21T16:17:47.990Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:47.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-e85a1c216a75c021dc37912396dbb334af15f8a2-e908113ca626dbf4-01 outer:exit 2b-e85a1c216a75c021dc37912396dbb334af15f8a2-0b9e6e49f292f8d3-01
2022-04-21T16:17:47.993Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:47.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f266687015dc262dfc217332b1a97a04a3043ae-7afbcdd11695615d-01 outer:exit 2b-1f266687015dc262dfc217332b1a97a04a3043ae-a9bc049e22bb8acf-01
2022-04-21T16:17:47.995Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:47.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-72fb6246ce592369a88ede021933a0032e9aa7b1-b0e7ceaa1c68801c-01 outer:exit 2b-72fb6246ce592369a88ede021933a0032e9aa7b1-1e45ee6615d84fce-01
2022-04-21T16:17:47.998Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:48.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-1120cdcde237e87bbcc29efed3f72acd216434ad-1d1d5fe31a4a11ba-01 outer:exit 2b-1120cdcde237e87bbcc29efed3f72acd216434ad-ada2ded47760760c-01
2022-04-21T16:17:48.001Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:48.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-de3c078d074afce613791659d715c66f5c28f0c9-74122430f98f49be-01 outer:exit 2b-de3c078d074afce613791659d715c66f5c28f0c9-60128d0a89afce73-01
2022-04-21T16:17:48.003Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:48.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8bc8c8f6747c2ec6135f57952a6bee42c367fef-43100c3100549a2d-01 outer:exit 2b-a8bc8c8f6747c2ec6135f57952a6bee42c367fef-8458d1321f99fb87-01
2022-04-21T16:17:48.005Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:48.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-708bf99a340d29976b7c3cf444c93c41fb8c202c-221666fa39424a6e-01 outer:exit 2b-708bf99a340d29976b7c3cf444c93c41fb8c202c-d6705a661c7b411e-01
2022-04-21T16:17:48.007Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:48.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-f51608a7ac2d05abbf62bc1fe0b9124cc1974e74-78b8731bc9cdeca1-01 outer:exit 2b-f51608a7ac2d05abbf62bc1fe0b9124cc1974e74-bb0ccdbad01e1157-01
2022-04-21T16:17:48.009Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:48.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ba0a6ac6ec046a1081b96652ca036a815384bf0-35b151fa34391bbb-01 outer:exit 2b-8ba0a6ac6ec046a1081b96652ca036a815384bf0-2d369be1578c889f-01
2022-04-21T16:17:48.011Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:48.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-419e312292b8ef6a26ab06a58ed256119458a39a-f622550c6935df24-01 outer:exit 2b-419e312292b8ef6a26ab06a58ed256119458a39a-f1322ddc8ae0d640-01
2022-04-21T16:17:48.014Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:48.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-362eaae673e6f7299fd2399b1c199c9a8a628971-3f519042027bd57f-01 outer:exit 2b-362eaae673e6f7299fd2399b1c199c9a8a628971-22090876dfe47923-01
2022-04-21T16:17:48.016Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:48.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-17b70f09dc2a2396696d4513b408b6338643a9dd-07ed56a832015059-01 outer:exit 2b-17b70f09dc2a2396696d4513b408b6338643a9dd-85d1936e3ce86b8f-01
2022-04-21T16:17:48.019Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:48.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee8853c3c9c6e37f608a16bccb4eb9997b61a112-473be1f9aab5d2fe-01 outer:exit 2b-ee8853c3c9c6e37f608a16bccb4eb9997b61a112-1a36d3836030f511-01
2022-04-21T16:17:48.024Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:48.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c14a055e909e90bc9f62bc9f9d95162b2f77bcf-79ee4df2543ae531-01 outer:exit 2b-7c14a055e909e90bc9f62bc9f9d95162b2f77bcf-888d8ba2e0181e9b-01
2022-04-21T16:17:48.030Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:48.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-1124d10410ace3bab92bd5154c5b05b054060528-55926e0347aa5ae6-01 outer:exit 2b-1124d10410ace3bab92bd5154c5b05b054060528-41fdb0cf0a922f73-01
2022-04-21T16:17:48.037Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:48.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-0288ef4cef20e88d5cb0acb0c059ae5ad35ce460-d8e97c7a2c0dd5ea-01 outer:exit 2b-0288ef4cef20e88d5cb0acb0c059ae5ad35ce460-030d40cc0603d88e-01
2022-04-21T16:17:48.044Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:48.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a3ba964984226ff93ed0f5f3f7c9271097f4f80-809edb2a0847574c-01 outer:exit 2b-9a3ba964984226ff93ed0f5f3f7c9271097f4f80-8c4b8f37a167d373-01
2022-04-21T16:17:48.046Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:48.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9dd78bc499d46e267cd46edb86d498d88ce3796-3a6317f1b6b3d9b4-01 outer:exit 2b-d9dd78bc499d46e267cd46edb86d498d88ce3796-a232a9efda60691e-01
2022-04-21T16:17:48.049Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:48.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-84445c3ecd2d57dacbfee7d69fecceb9b39a2dd9-23c2e78da1a7b29d-01 outer:exit 2b-84445c3ecd2d57dacbfee7d69fecceb9b39a2dd9-81623e65414156c5-01
2022-04-21T16:17:48.055Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:48.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-8677bace01877650059e1d76bba21f41c7782a81-a148da43851c5750-01 outer:exit 2b-8677bace01877650059e1d76bba21f41c7782a81-a062f583ef0892d9-01
2022-04-21T16:17:48.057Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:48.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ad24aabe8fac7e72173c11da60429614ea52159-da630e1cef3096fc-01 outer:exit 2b-7ad24aabe8fac7e72173c11da60429614ea52159-1d7bc67a1526cd24-01
2022-04-21T16:17:48.059Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:48.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d4ad0d8579155b6ced2e34d0062a9e328433e68-743e879e2fd31b12-01 outer:exit 2b-4d4ad0d8579155b6ced2e34d0062a9e328433e68-1e1039ced4997845-01
2022-04-21T16:17:48.061Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:48.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-04884171e06b97ea6791caabecc6c16cc6aecc4f-ce7185edfbe6c890-01 outer:exit 2b-04884171e06b97ea6791caabecc6c16cc6aecc4f-5e5d801074d1da15-01
2022-04-21T16:17:48.063Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:48.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b9b5c3f36bde8a78a14c3db79c9fa0757546671-10cf1f121dbca48f-01 outer:exit 2b-6b9b5c3f36bde8a78a14c3db79c9fa0757546671-616b888226a04aa6-01
2022-04-21T16:17:48.065Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:48.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-8855d9a672dba174a3bfd7f791f7e590909eca8d-7833a6748feda2e9-01 outer:exit 2b-8855d9a672dba174a3bfd7f791f7e590909eca8d-0d1ff212cf70dfc9-01
2022-04-21T16:17:48.075Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:48.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ad58e865882e8fb7e0a0f3106e08be0ff1e7b27-b3a16e4d5b73061c-01 outer:exit 2b-7ad58e865882e8fb7e0a0f3106e08be0ff1e7b27-36d6f354571041cf-01
2022-04-21T16:17:48.083Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:48.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-80c58c9379d0006951a162156d4d296586994a9d-c20eb5ac253415f1-01 outer:exit 2b-80c58c9379d0006951a162156d4d296586994a9d-4fae06435387c523-01
2022-04-21T16:17:48.087Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:48.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17a9edf806cc9f1c1fb341dc5a35b606cdb425a-c0104ef106ff3a36-01 outer:exit 2b-c17a9edf806cc9f1c1fb341dc5a35b606cdb425a-11072725cf8e8473-01
2022-04-21T16:17:48.089Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:48.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-55a0a0d12bc7e31b1ba4e5064d9cdc7f8f22e25f-b8e7cc7687dae938-01 outer:exit 2b-55a0a0d12bc7e31b1ba4e5064d9cdc7f8f22e25f-61d74303e2d3b25e-01
2022-04-21T16:17:48.092Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:48.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-afdeeec6ffeae8a9dfecc80edd09ca08e729f902-9dfac7ad601f2635-01 outer:exit 2b-afdeeec6ffeae8a9dfecc80edd09ca08e729f902-98841862a7c89fb6-01
2022-04-21T16:17:48.117Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (309ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:54.301Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:54.302Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:54.302Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:54.307Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:54.416Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:54.566Z appoptics:patching patched crypto 
2022-04-21T16:17:54.614Z appoptics:patching patched https 
2022-04-21T16:17:54.615Z appoptics:patching patched http 
2022-04-21T16:17:54.659Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:54.659Z appoptics:patching patched fs 
2022-04-21T16:17:54.688Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v16.14.2)
2022-04-21T16:17:54.694Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-21T16:17:54.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-20e22494b520bf9513133213c65cb2236008ea6a-686322dd9d1c3cf5-01 outer:exit 2b-20e22494b520bf9513133213c65cb2236008ea6a-84d429087bab9bc3-01
2022-04-21T16:17:54.756Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:54.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-c85847023a50531a842f653c10c477d8da717db4-efa11c74b34c7e36-01 outer:exit 2b-c85847023a50531a842f653c10c477d8da717db4-c1d92e2576465415-01
2022-04-21T16:17:54.807Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:54.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d03d5edaaaabb7881f1f46e0e15d2bba2cde33d-a67e8c58488ea037-01 outer:exit 2b-0d03d5edaaaabb7881f1f46e0e15d2bba2cde33d-503345ccb3551cb9-01
2022-04-21T16:17:54.810Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:54.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-95f77c345cfb591abe4d3aef874cc9603912b1f4-2f1959820fe58612-01 outer:exit 2b-95f77c345cfb591abe4d3aef874cc9603912b1f4-015011214b5d8a90-01
2022-04-21T16:17:54.814Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:54.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-84fd6351b8d23180b01b99fb3cfef172092efa12-ddf51e478a99c299-01 outer:exit 2b-84fd6351b8d23180b01b99fb3cfef172092efa12-66fadf9acb04e1f5-01
2022-04-21T16:17:54.819Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:54.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-786411f3ae50f3364e5c792fbc6fc6e800d0df67-c2e509f7d5534ed5-01 outer:exit 2b-786411f3ae50f3364e5c792fbc6fc6e800d0df67-899a194c3fa35cdd-01
2022-04-21T16:17:54.841Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:54.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf25e5abc6cdeab81dbbb316244c9e8f59f11eb5-04f7c5327713a904-01 outer:exit 2b-bf25e5abc6cdeab81dbbb316244c9e8f59f11eb5-d060f64e18be62b2-01
2022-04-21T16:17:54.844Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:54.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-91edf1d85de0b87b6b6cf420e4cdcb15447ff19f-f8276141f6c73705-01 outer:exit 2b-91edf1d85de0b87b6b6cf420e4cdcb15447ff19f-9ccf761392719f38-01
2022-04-21T16:17:54.847Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:54.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cf2a7dd103bb57caecb2ea223fe61d55f67cc04-2b1eb3c3c37bde27-01 outer:exit 2b-4cf2a7dd103bb57caecb2ea223fe61d55f67cc04-cb29f6bdd610aa5e-01
2022-04-21T16:17:54.850Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:54.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-01c0b21544092820ab76571a9acc396111822039-6b09345c99a744a1-01 outer:exit 2b-01c0b21544092820ab76571a9acc396111822039-73631fd9134e8fa1-01
2022-04-21T16:17:54.853Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:54.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac78baa1405bcf63fa01d7692528fc5aeba0e473-475e102e285f35fb-01 outer:exit 2b-ac78baa1405bcf63fa01d7692528fc5aeba0e473-32d1371a58d69e60-01
2022-04-21T16:17:54.857Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:54.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-17cbf02ffd0c2b0b8721ccc3a7e1f3c5d5c27849-077cc940281fe990-01 outer:exit 2b-17cbf02ffd0c2b0b8721ccc3a7e1f3c5d5c27849-a095e8c1eed288ef-01
2022-04-21T16:17:54.863Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:54.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-45d3ecce13e0fc17a9f54b77299d72e395b6977c-81d879d8e89913ce-01 outer:exit 2b-45d3ecce13e0fc17a9f54b77299d72e395b6977c-55687d24bed5988c-01
2022-04-21T16:17:54.880Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:54.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-df558f12ac77691af09ee88d1c4bf9abe0147668-cf60011007893a1c-01 outer:exit 2b-df558f12ac77691af09ee88d1c4bf9abe0147668-0c91d1086a2f2efe-01
2022-04-21T16:17:54.925Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:54.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c15f2a60c9f7274290c07d498b5f0beeb93181d-bbb0bf89ea89afb0-01 outer:exit 2b-7c15f2a60c9f7274290c07d498b5f0beeb93181d-bf8a8aa4176b42ba-01
2022-04-21T16:17:54.928Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:54.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-427d9e24becd6ba88c65ae5807677cd76ff5285b-1606c8ed02509cdb-01 outer:exit 2b-427d9e24becd6ba88c65ae5807677cd76ff5285b-37165eb5bc75bb41-01
2022-04-21T16:17:54.931Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:54.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17dd98567b0dfceb674242215450c09559e42a5-79136415bfb2a942-01 outer:exit 2b-c17dd98567b0dfceb674242215450c09559e42a5-4c0d43bb02589213-01
2022-04-21T16:17:54.935Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:54.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-158981a14709f038b3733e459ead82ad08bd92b0-bd98587fc60aa4c1-01 outer:exit 2b-158981a14709f038b3733e459ead82ad08bd92b0-3d18726ba7867053-01
2022-04-21T16:17:54.939Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:54.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-67410460d3aa40c71d933aa92669e52ce7203f4d-c1a4290e4ff59e8a-01 outer:exit 2b-67410460d3aa40c71d933aa92669e52ce7203f4d-7d3720fedec344a0-01
2022-04-21T16:17:54.941Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:54.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-8331132f4f50a1c92a0813b41e68e81425cf95a5-6d277207d3e3edaf-01 outer:exit 2b-8331132f4f50a1c92a0813b41e68e81425cf95a5-068a037abd2bd86b-01
2022-04-21T16:17:54.943Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:54.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b193c75fc69b660e8aa1c0a1635c98397510244-b98c8bf2b055049c-01 outer:exit 2b-5b193c75fc69b660e8aa1c0a1635c98397510244-ca35dc41d1f8ce9d-01
2022-04-21T16:17:54.945Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:54.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e8c78d6c98bc04e63e55c02bd37622b84e17c6f-dd48840d9218c941-01 outer:exit 2b-1e8c78d6c98bc04e63e55c02bd37622b84e17c6f-760a5903ce3ac3e3-01
2022-04-21T16:17:54.947Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:54.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-999071f8bb28f054daa2a1e663fc5f0a0c478fba-7ff703ffda448b3e-01 outer:exit 2b-999071f8bb28f054daa2a1e663fc5f0a0c478fba-0bb681d48137f670-01
2022-04-21T16:17:54.950Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:54.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5ebe0d5c3c10087396a1c0107403d005eec05f-e5699043a8ff6884-01 outer:exit 2b-6a5ebe0d5c3c10087396a1c0107403d005eec05f-98a7e456be8f6474-01
2022-04-21T16:17:54.954Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:54.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd2e34d94e9f0318051176ebc7d00b93f61f9398-243bfaa6a2ed5bcd-01 outer:exit 2b-dd2e34d94e9f0318051176ebc7d00b93f61f9398-27aefa62df402f73-01
2022-04-21T16:17:54.956Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:54.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-c13909b2f7da51344eda3b67aad27f9ad07d7253-92f85ae4e4ce8cea-01 outer:exit 2b-c13909b2f7da51344eda3b67aad27f9ad07d7253-c90bb4c0c9ba77cc-01
2022-04-21T16:17:54.959Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:54.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5d3f047727a9b0f00e84d53157d7427b7bebfe3-d189f098d53f9ed5-01 outer:exit 2b-c5d3f047727a9b0f00e84d53157d7427b7bebfe3-f2e821ca5fb59335-01
2022-04-21T16:17:54.965Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:54.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-6de8ff50b311f89dd861c88f3d34eceff67d1d6c-4068ad367eebd0e1-01 outer:exit 2b-6de8ff50b311f89dd861c88f3d34eceff67d1d6c-f4b21ee1f3b01b4f-01
2022-04-21T16:17:54.973Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:54.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e9a7b2d2ad7830cb81da71072dac570ca3029d8-b331133384b39ca6-01 outer:exit 2b-0e9a7b2d2ad7830cb81da71072dac570ca3029d8-0997bf63308e06e2-01
2022-04-21T16:17:54.984Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:54.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-23d7f0aeb504547ca2da2fa83c988538e89d13f8-740f65265738087c-01 outer:exit 2b-23d7f0aeb504547ca2da2fa83c988538e89d13f8-d8cb3e65a4c318f8-01
2022-04-21T16:17:54.993Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:54.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-03bbb82af397a78a8e9f57be4609352579dbe274-3a0bc376360dc0e0-01 outer:exit 2b-03bbb82af397a78a8e9f57be4609352579dbe274-a39ff92dd3b40cba-01
2022-04-21T16:17:54.995Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:54.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe355e5d4d4d83a688e2d31184895efec9c6db5c-a25f902bfe62b52a-01 outer:exit 2b-fe355e5d4d4d83a688e2d31184895efec9c6db5c-39b0b34d0d1354f7-01
2022-04-21T16:17:54.999Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:55.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad2b52eb6a8b6436b28d0c3acee8ed822dc7499d-9a6216dc9a36d62e-01 outer:exit 2b-ad2b52eb6a8b6436b28d0c3acee8ed822dc7499d-001e9a318d0846d7-01
2022-04-21T16:17:55.007Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:55.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-157f171ce7862d5064cc2809b281283607a6e9e8-6c70defcb9c3eea9-01 outer:exit 2b-157f171ce7862d5064cc2809b281283607a6e9e8-2e29e7784e28d0c7-01
2022-04-21T16:17:55.011Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:55.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-296f23f04c8f257f12f1fcc48651f9b35057ac8b-98e3c9e9dde78780-01 outer:exit 2b-296f23f04c8f257f12f1fcc48651f9b35057ac8b-372047f1dba95a39-01
2022-04-21T16:17:55.014Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:55.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-436536077aeb8e055e0f6e326e2003bd2791d639-c01d3d06c92607ef-01 outer:exit 2b-436536077aeb8e055e0f6e326e2003bd2791d639-880063200ef807f4-01
2022-04-21T16:17:55.018Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:55.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-72f2770dd4966636f5ca9db35554db8430eb6693-43a136380989b1af-01 outer:exit 2b-72f2770dd4966636f5ca9db35554db8430eb6693-6f141d5096eab0d0-01
2022-04-21T16:17:55.022Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:55.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-5417d34b2e76cdeefc99df1a93cf58a3e1ad306d-3bb191a98a937b43-01 outer:exit 2b-5417d34b2e76cdeefc99df1a93cf58a3e1ad306d-d8c2e184be9d69d9-01
2022-04-21T16:17:55.025Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:55.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-b89a75513092f44d29dc4a0930d738ccaafba45c-27b94f4a8ed22225-01 outer:exit 2b-b89a75513092f44d29dc4a0930d738ccaafba45c-bbd2ddfb49524dcd-01
2022-04-21T16:17:55.036Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:55.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea1376ecd8c4b717b8b98734536228954828caf0-5e014bf4d61bbdea-01 outer:exit 2b-ea1376ecd8c4b717b8b98734536228954828caf0-9bf6db12760dc193-01
2022-04-21T16:17:55.047Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:55.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-f87c2eec3df84ae982f4175b7aa5793ff9545693-cff902fb2de034e1-01 outer:exit 2b-f87c2eec3df84ae982f4175b7aa5793ff9545693-fb112e0193f6a763-01
2022-04-21T16:17:55.051Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:55.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-edecda225fb1aaa97ff8438e6ccdfb1137e9a388-404cf40a51000bd4-01 outer:exit 2b-edecda225fb1aaa97ff8438e6ccdfb1137e9a388-2e09c4c9dba14b58-01
2022-04-21T16:17:55.054Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:55.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc0cedfada220b4d8c9b03f0ca73910078fef905-7c83de470c37ad34-01 outer:exit 2b-bc0cedfada220b4d8c9b03f0ca73910078fef905-0f9585838bef1cfe-01
2022-04-21T16:17:55.057Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:55.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fb9c81006ac965db1299b8be7cc0cc124265dbd-6932c99980801c9e-01 outer:exit 2b-3fb9c81006ac965db1299b8be7cc0cc124265dbd-23f21786621b7944-01
2022-04-21T16:17:55.096Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (396ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:01.226Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:01.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:01.227Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:01.227Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:01.293Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:01.415Z appoptics:patching patched crypto 
2022-04-21T16:18:01.439Z appoptics:patching patched https 
2022-04-21T16:18:01.439Z appoptics:patching patched http 
2022-04-21T16:18:01.497Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:01.498Z appoptics:patching patched fs 
2022-04-21T16:18:01.529Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v16.14.2)
2022-04-21T16:18:01.535Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-21T16:18:01.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-afd2327f2c6e54702ae760b47686ee4647b15e46-c67e74674bf558df-01 outer:exit 2b-afd2327f2c6e54702ae760b47686ee4647b15e46-a100210c94404171-01
2022-04-21T16:18:01.581Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:01.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-27aa90f336ddab20ea8df494f3fb5f31f7a201b3-4dfb20ee116e3c68-01 outer:exit 2b-27aa90f336ddab20ea8df494f3fb5f31f7a201b3-67a1249359df846c-01
2022-04-21T16:18:01.635Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:01.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-64053da95318173fda41d85e6c06576f369b9b67-7f1fd9fe495ecc18-01 outer:exit 2b-64053da95318173fda41d85e6c06576f369b9b67-8a98281ade26ccd0-01
2022-04-21T16:18:01.641Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:01.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-c017e78cb101675cc425af447c2ec6f2651e2fb3-b10606990d8e2747-01 outer:exit 2b-c017e78cb101675cc425af447c2ec6f2651e2fb3-86dc9c5bfd4dcaf8-01
2022-04-21T16:18:01.645Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:01.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-c536f4d08a867ee3d534f11636d41bff0993ba0f-ca62403ac3ac4986-01 outer:exit 2b-c536f4d08a867ee3d534f11636d41bff0993ba0f-35d42ca91f365b7b-01
2022-04-21T16:18:01.652Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:01.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-8236b4f188ece7b1a8c31cd03140fb60cb96b0d4-d91e151c22e5383c-01 outer:exit 2b-8236b4f188ece7b1a8c31cd03140fb60cb96b0d4-addd012434c9a04a-01
2022-04-21T16:18:01.664Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:01.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceeee5e408faf9282f4295872ce598fe545abd3d-c71b0f8e96537c0c-01 outer:exit 2b-ceeee5e408faf9282f4295872ce598fe545abd3d-1d1a97be6f17a357-01
2022-04-21T16:18:01.667Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:01.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-76e2e4a6c9224fee2c804cd22a45f134c31f092b-033f9acf91a69719-01 outer:exit 2b-76e2e4a6c9224fee2c804cd22a45f134c31f092b-c96f03c244565027-01
2022-04-21T16:18:01.669Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:01.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a4b356b2da6722e722004304eb3e070c1bcbb0f-64a5ba08092c0c89-01 outer:exit 2b-5a4b356b2da6722e722004304eb3e070c1bcbb0f-98a9fc4ad37b95ba-01
2022-04-21T16:18:01.672Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:01.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-a681f0fd2315921e5457051b374df54775d80657-e393f15f00cf4f63-01 outer:exit 2b-a681f0fd2315921e5457051b374df54775d80657-0a686f0a34176d4a-01
2022-04-21T16:18:01.677Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:01.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a8e89bba25d587b51dd261797ee5afdf2d5e3a6-c55c73036dbc9b3a-01 outer:exit 2b-1a8e89bba25d587b51dd261797ee5afdf2d5e3a6-6e9cf4f6669cb249-01
2022-04-21T16:18:01.681Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:01.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-259309c9d45e8be3904ead243c1b2c9d09297b6a-3d69b4ada1c10c9e-01 outer:exit 2b-259309c9d45e8be3904ead243c1b2c9d09297b6a-a1b868027f764009-01
2022-04-21T16:18:01.688Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:01.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ec9214c9cc744661a29aea5c8a33bfbccd11d9-dbea6ef22768db87-01 outer:exit 2b-b8ec9214c9cc744661a29aea5c8a33bfbccd11d9-7a0d3db77a7fd233-01
2022-04-21T16:18:01.712Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:01.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ed6f70b998f7a3bd1a75b19ccfd3e8c86b0cd4-f89fe312be4ed407-01 outer:exit 2b-d0ed6f70b998f7a3bd1a75b19ccfd3e8c86b0cd4-ef7fb19825de48d3-01
2022-04-21T16:18:01.755Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:01.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-e146ebfab4b03f7e4500425f0c4c2b128218ef0c-fc6282eeb410af16-01 outer:exit 2b-e146ebfab4b03f7e4500425f0c4c2b128218ef0c-47c615cd57d92f0f-01
2022-04-21T16:18:01.758Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:01.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-9837c777ce2d217bc5f00b08950f34cd20fa2655-0e7066938b1eccd9-01 outer:exit 2b-9837c777ce2d217bc5f00b08950f34cd20fa2655-ca69dae77c6a6f2f-01
2022-04-21T16:18:01.761Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:01.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-b09195f51143af2330cb390920eb52811298f75b-4df4146714ef5bcf-01 outer:exit 2b-b09195f51143af2330cb390920eb52811298f75b-e6725455497cc0b9-01
2022-04-21T16:18:01.764Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:01.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-f969d41efba4fccab699c94e04aa3dac844f6b2d-34f89db90592fc33-01 outer:exit 2b-f969d41efba4fccab699c94e04aa3dac844f6b2d-9878bf905d83d608-01
2022-04-21T16:18:01.766Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:01.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-847467764ca28e1037e23dea3295dbfd169a2523-9789ca380b2c91f3-01 outer:exit 2b-847467764ca28e1037e23dea3295dbfd169a2523-d1b8036a2e6a7f16-01
2022-04-21T16:18:01.768Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:01.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8952d8a246b670372a5bae8d0f49015cbf34481-515fe8f97ca301ba-01 outer:exit 2b-e8952d8a246b670372a5bae8d0f49015cbf34481-609ce6780df59fe3-01
2022-04-21T16:18:01.770Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:01.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-65ec0f5df0e7b9cff59357f7a12d405f05807212-6a8835bc87df81ec-01 outer:exit 2b-65ec0f5df0e7b9cff59357f7a12d405f05807212-e8df373cbab48cf4-01
2022-04-21T16:18:01.772Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:01.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf9910a5ef402e9d270a20c0d59d09818d6ea7b7-a12728b39882449d-01 outer:exit 2b-bf9910a5ef402e9d270a20c0d59d09818d6ea7b7-bcf90984dfd99754-01
2022-04-21T16:18:01.774Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:01.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7f8b5c185046b357b8abd5a41f866999405b1e4-db3bbd210170028b-01 outer:exit 2b-a7f8b5c185046b357b8abd5a41f866999405b1e4-aedcec465f3c636a-01
2022-04-21T16:18:01.776Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:01.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad045f6a2e05eeae516254d1951ffef69aa9ee5-b69ca2f69f1c9c68-01 outer:exit 2b-8ad045f6a2e05eeae516254d1951ffef69aa9ee5-8a34f6cd6addeb99-01
2022-04-21T16:18:01.779Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:01.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-e28d7ff65ce9ad068b4ca1a41e69202c35a5d5e6-fcb07bdbd349f310-01 outer:exit 2b-e28d7ff65ce9ad068b4ca1a41e69202c35a5d5e6-ef29733071ab40a3-01
2022-04-21T16:18:01.781Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:01.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6ff6316a6cefa8b5b5f80279cb8cf1646858d6a-78aebad4b603dbd0-01 outer:exit 2b-c6ff6316a6cefa8b5b5f80279cb8cf1646858d6a-da8d096406841a16-01
2022-04-21T16:18:01.783Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:01.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-56733cbf4497aff244cd57a965ecd52fc7ec9d60-723cb4c9d3580930-01 outer:exit 2b-56733cbf4497aff244cd57a965ecd52fc7ec9d60-552729b2998b472c-01
2022-04-21T16:18:01.789Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:01.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-1db423fc4c1679d650b52b67a42c199f8b1a17ca-5ff444793df6e83e-01 outer:exit 2b-1db423fc4c1679d650b52b67a42c199f8b1a17ca-67e39ccc77e2f89e-01
2022-04-21T16:18:01.794Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:01.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-c57334588b75f8a634908285455647736b1535f9-4f1a93d49d6d6733-01 outer:exit 2b-c57334588b75f8a634908285455647736b1535f9-f27a69ceb375ffbb-01
2022-04-21T16:18:01.802Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:01.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-eae71b36ae24c7bf7a76a3b3a3616a1772f65f40-893b4295ae76f626-01 outer:exit 2b-eae71b36ae24c7bf7a76a3b3a3616a1772f65f40-77254f66d941fbba-01
2022-04-21T16:18:01.808Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:01.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-2385ad07d6e07ba9e6877b50a4b3f1b7ca6fa4ef-598be879be923261-01 outer:exit 2b-2385ad07d6e07ba9e6877b50a4b3f1b7ca6fa4ef-8426c4a08e5c101a-01
2022-04-21T16:18:01.810Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:01.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-b11117ad7d601051acd2ef31f8525256ae9467c9-415bb9a2417bd68a-01 outer:exit 2b-b11117ad7d601051acd2ef31f8525256ae9467c9-b5933b94dfc9ef6c-01
2022-04-21T16:18:01.814Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:01.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-acb2ccb0ecfe09434b1532bf31c93b1fceb28f18-3de74779f7e3b5eb-01 outer:exit 2b-acb2ccb0ecfe09434b1532bf31c93b1fceb28f18-603e521838123a68-01
2022-04-21T16:18:01.820Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:01.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-330b74f91c583e65f0a47446ee0a6b6527435ced-95026fd2f063dda2-01 outer:exit 2b-330b74f91c583e65f0a47446ee0a6b6527435ced-e793edde262dc54b-01
2022-04-21T16:18:01.822Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:01.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-d36fd807c56afea914227e04ca0b90a1b5b4a4af-8b975419a336b6d0-01 outer:exit 2b-d36fd807c56afea914227e04ca0b90a1b5b4a4af-795c0814ed6a33a0-01
2022-04-21T16:18:01.824Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:01.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-0758fc84833ae79665818afb1b8b004677746e3e-ecfcc7f15c11d4a7-01 outer:exit 2b-0758fc84833ae79665818afb1b8b004677746e3e-623a9d2750025c02-01
2022-04-21T16:18:01.826Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:01.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-45fcec7aa06d2a090fcf11b33e410d08a75bdb07-e621d1b24273cbf2-01 outer:exit 2b-45fcec7aa06d2a090fcf11b33e410d08a75bdb07-ee03ca3a444ce92c-01
2022-04-21T16:18:01.827Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:01.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-086b530751b31ab139b37ec2c4ed69af9eb43ba5-d14ea62d690087ce-01 outer:exit 2b-086b530751b31ab139b37ec2c4ed69af9eb43ba5-1aa7f50cea520f0a-01
2022-04-21T16:18:01.829Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:01.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-7848e2164313ff90008ab0f8595b174aa6365d4b-2071261915e48fa0-01 outer:exit 2b-7848e2164313ff90008ab0f8595b174aa6365d4b-97a85634a1a75fc3-01
2022-04-21T16:18:01.841Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:01.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed34236c6bb7e5044e2e07b8e4db6af2201258e5-b583eeb9d514d6c1-01 outer:exit 2b-ed34236c6bb7e5044e2e07b8e4db6af2201258e5-03c19957f04630a6-01
2022-04-21T16:18:01.853Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:01.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec333fb8cee22d36ae6417010ab803e0e728a123-d9c62c0bb7e16a32-01 outer:exit 2b-ec333fb8cee22d36ae6417010ab803e0e728a123-a6bd2bf3c74df371-01
2022-04-21T16:18:01.857Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:01.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b59767f3f7d4f1da0393b1b731daf4cc2d8388c-48ce006b1bca3e0e-01 outer:exit 2b-9b59767f3f7d4f1da0393b1b731daf4cc2d8388c-ebd523f34b774b9a-01
2022-04-21T16:18:01.860Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:01.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-c58e5bb6b4f7f2721b6efea59bc084560862eab5-d5bcb517191a8779-01 outer:exit 2b-c58e5bb6b4f7f2721b6efea59bc084560862eab5-8462e3af783d03e2-01
2022-04-21T16:18:01.863Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:01.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f1a7bda517cdd09476f935ff4b026a7503b1e56-2a6bde0d2762a634-01 outer:exit 2b-5f1a7bda517cdd09476f935ff4b026a7503b1e56-24ee832e1426bf3e-01
2022-04-21T16:18:01.889Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (348ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:08.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:08.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:08.013Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:08.014Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:08.075Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:08.193Z appoptics:patching patched crypto 
2022-04-21T16:18:08.225Z appoptics:patching patched https 
2022-04-21T16:18:08.225Z appoptics:patching patched http 
2022-04-21T16:18:08.263Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:08.264Z appoptics:patching patched fs 
2022-04-21T16:18:08.289Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v16.14.2)
2022-04-21T16:18:08.295Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-21T16:18:08.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b15cb6c5526e35b58da07db2d396cf1f2a11cf3-cbc49e9309f1bf80-01 outer:exit 2b-6b15cb6c5526e35b58da07db2d396cf1f2a11cf3-0fb06f4221bf7b8a-01
2022-04-21T16:18:08.340Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:08.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7a947ec0e0072d02abd8d449f3f4d622e67550d-affbaf4567da21b0-01 outer:exit 2b-f7a947ec0e0072d02abd8d449f3f4d622e67550d-de03419e02402bf9-01
2022-04-21T16:18:08.390Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:08.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dca3a234ed44561b278bc86dd4d65111258f104-3bea9f088aa598f5-01 outer:exit 2b-7dca3a234ed44561b278bc86dd4d65111258f104-58048324a5ed08c9-01
2022-04-21T16:18:08.394Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:08.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-15b5154ae24307133caabf53dd55a36c522b828d-b67bd1c65beae875-01 outer:exit 2b-15b5154ae24307133caabf53dd55a36c522b828d-b6e1360f754f09f7-01
2022-04-21T16:18:08.397Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:08.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8154d08e3667df4ad52f100459eea3eb2b9bff8-f9717059684236ae-01 outer:exit 2b-d8154d08e3667df4ad52f100459eea3eb2b9bff8-fb3997b08ce914ca-01
2022-04-21T16:18:08.402Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:08.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b666c6de01360258732a8e1456c5c635f6d5978-83a1043ec5540a1a-01 outer:exit 2b-1b666c6de01360258732a8e1456c5c635f6d5978-ce67bd130850bf55-01
2022-04-21T16:18:08.405Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:08.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-edb740f007bf7454da3b11ed492fdd17cfd1f238-bde323aeb1e6a771-01 outer:exit 2b-edb740f007bf7454da3b11ed492fdd17cfd1f238-b1b04a1e1e8136d4-01
2022-04-21T16:18:08.408Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:08.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-2073cec7eab76f4cadc8e3926e1fc6f8c43c6ead-fd6a05a0c5b0ee69-01 outer:exit 2b-2073cec7eab76f4cadc8e3926e1fc6f8c43c6ead-a79e5624407ce22b-01
2022-04-21T16:18:08.410Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:08.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d5fc55c835ebc6a6c43197b4bca94c0298af414-d76f6ee7e34ade9b-01 outer:exit 2b-1d5fc55c835ebc6a6c43197b4bca94c0298af414-431134eb66a75a44-01
2022-04-21T16:18:08.413Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:08.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8a3516cab503f537fdd48a522e0ed422da554f6-2f4c0c9191e17307-01 outer:exit 2b-c8a3516cab503f537fdd48a522e0ed422da554f6-4e79df3ceb8fc9fe-01
2022-04-21T16:18:08.416Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:08.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ad19f1f425f66a4a8383801a29624764fe8bff9-faa3cb89df0c262d-01 outer:exit 2b-6ad19f1f425f66a4a8383801a29624764fe8bff9-983dfd5b0a51f3f1-01
2022-04-21T16:18:08.420Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:08.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e3f30f9f782d9b99ca6da0f1ae914a6df801922-b837c631a0615b8a-01 outer:exit 2b-6e3f30f9f782d9b99ca6da0f1ae914a6df801922-d865b70c98fe57db-01
2022-04-21T16:18:08.426Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:08.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd39a5dc6f74b34508853e39d30b73fb8519a037-bfafb2bb18449ab7-01 outer:exit 2b-fd39a5dc6f74b34508853e39d30b73fb8519a037-ddfff3f249c5a296-01
2022-04-21T16:18:08.443Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:08.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-f13cced01991a4cdf17cf4fe2b025b9225e0df4c-f378f1d9393dd8d7-01 outer:exit 2b-f13cced01991a4cdf17cf4fe2b025b9225e0df4c-50093a579398b3c3-01
2022-04-21T16:18:08.487Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:08.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-93d3606ed54ea30e5b6ea5447ebcdaeed89b1244-791ca1ba11f2f9ea-01 outer:exit 2b-93d3606ed54ea30e5b6ea5447ebcdaeed89b1244-c8420171607100d4-01
2022-04-21T16:18:08.490Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:08.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f9f13a582138ebeac76ed69bb35c6f91b6dacc0-850a14f556ebd5fc-01 outer:exit 2b-1f9f13a582138ebeac76ed69bb35c6f91b6dacc0-49e98d078c871b6a-01
2022-04-21T16:18:08.493Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:08.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-376031621c3920de5b7cf63d3e2923e0824e73c3-b76762ffae23e9af-01 outer:exit 2b-376031621c3920de5b7cf63d3e2923e0824e73c3-22a540d9f9d6beeb-01
2022-04-21T16:18:08.495Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:08.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-539e1b5f46939843ed6230039a1c9ed1004c6b99-d88e1da01806937f-01 outer:exit 2b-539e1b5f46939843ed6230039a1c9ed1004c6b99-5d89850a331c8eda-01
2022-04-21T16:18:08.498Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:08.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d2139e23a03966d19751a952248ccce2ab9ecde-9a9ecd8dd81e91ec-01 outer:exit 2b-2d2139e23a03966d19751a952248ccce2ab9ecde-27ed62809b9afd8c-01
2022-04-21T16:18:08.500Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:08.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4cb5a6a47ad7113b5e5d3d581e2299b982e4cfe-058a0d3287a1822d-01 outer:exit 2b-c4cb5a6a47ad7113b5e5d3d581e2299b982e4cfe-b4fe01eb9caaef45-01
2022-04-21T16:18:08.502Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:08.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-9802465e14e9c6babe899084e78933051b9ad099-6989bc4e800b456a-01 outer:exit 2b-9802465e14e9c6babe899084e78933051b9ad099-974513af2655c179-01
2022-04-21T16:18:08.504Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:08.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-78a3203e23bcf2d84df888355aa2cffbcaa3eb80-b5b2cc4efd6c88fe-01 outer:exit 2b-78a3203e23bcf2d84df888355aa2cffbcaa3eb80-f506e89356064beb-01
2022-04-21T16:18:08.506Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:08.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e7a02f146b024ee78b895c26cc5526d36a830e3-0d4d53d9184ed47a-01 outer:exit 2b-2e7a02f146b024ee78b895c26cc5526d36a830e3-7cf06d269a381afc-01
2022-04-21T16:18:08.509Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:08.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2ad7b8fc855444dd42d7429bd9d0196bea113cc-133c30a6c9ebe890-01 outer:exit 2b-e2ad7b8fc855444dd42d7429bd9d0196bea113cc-883fccf03a1e8ee2-01
2022-04-21T16:18:08.512Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:08.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8aac130dd718d26026a3c1d2383e37c6cab21e8-d7e9c1dec622fbf1-01 outer:exit 2b-a8aac130dd718d26026a3c1d2383e37c6cab21e8-24353432faa6ae46-01
2022-04-21T16:18:08.514Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:08.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7a76590d0390b3c37af4fac80db2fa6cf113e90-dd6caca05f596166-01 outer:exit 2b-a7a76590d0390b3c37af4fac80db2fa6cf113e90-4292f25ae5cf840b-01
2022-04-21T16:18:08.516Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:08.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-b78be3f220525d67013db3b07b5f3bab8e4e9120-6e7b23535f37bbce-01 outer:exit 2b-b78be3f220525d67013db3b07b5f3bab8e4e9120-d56fec80c81a62c0-01
2022-04-21T16:18:08.522Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:08.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2f0459e1805136bc6938b0953459a454e181247-bf6e2c126a74fd1b-01 outer:exit 2b-f2f0459e1805136bc6938b0953459a454e181247-829bb2e8dfb040ba-01
2022-04-21T16:18:08.527Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:08.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-429b2f856ab30390e02294715cf8183ee669deae-f6eb81bcecee7e49-01 outer:exit 2b-429b2f856ab30390e02294715cf8183ee669deae-b58c7fd9b8c504a7-01
2022-04-21T16:18:08.535Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:08.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4f15704f55b26318f875b64c5f4b3d996e82f9c-d0a84768b70e1844-01 outer:exit 2b-c4f15704f55b26318f875b64c5f4b3d996e82f9c-b5bc2756310cb302-01
2022-04-21T16:18:08.540Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:08.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d915e4ba43bf03aea79c03884a92270e7f129dd-50de789d5fb8128c-01 outer:exit 2b-6d915e4ba43bf03aea79c03884a92270e7f129dd-86e6a8cbf4409b86-01
2022-04-21T16:18:08.543Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:08.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-81e46d4852dc169556326058975b8641e4f2979e-66ca33ced7117b91-01 outer:exit 2b-81e46d4852dc169556326058975b8641e4f2979e-e869c76572f249d1-01
2022-04-21T16:18:08.546Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:08.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fb81457092d5539bbb07c07492f59c98871e137-a95740ecdffeae95-01 outer:exit 2b-0fb81457092d5539bbb07c07492f59c98871e137-703dbb0bfa408f5f-01
2022-04-21T16:18:08.551Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:08.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5a7800c2ca1382871a4351db3970eacac4450c7-60977d33e4dd2582-01 outer:exit 2b-a5a7800c2ca1382871a4351db3970eacac4450c7-3eec191e1cb71c9d-01
2022-04-21T16:18:08.553Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:08.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0610ca248d7faf72e3ff156bb0207ab3f05f50a-ddca9d4cfb88f9ad-01 outer:exit 2b-c0610ca248d7faf72e3ff156bb0207ab3f05f50a-e17741a7010d5482-01
2022-04-21T16:18:08.555Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:08.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-1324bab95a862994e4a28efc24057de676d37082-40e9f29976c77617-01 outer:exit 2b-1324bab95a862994e4a28efc24057de676d37082-a9fe8641c3469971-01
2022-04-21T16:18:08.557Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:08.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b26e85f5571e2d2ed94597dabdab7d4a3ff8cd-2ea2a15a70c1f852-01 outer:exit 2b-a1b26e85f5571e2d2ed94597dabdab7d4a3ff8cd-c899d1cccc9d9250-01
2022-04-21T16:18:08.559Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:08.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-543eea86d87eaa049529914f9900b7bd375a7f58-27b4209e9e8d8c67-01 outer:exit 2b-543eea86d87eaa049529914f9900b7bd375a7f58-23e452b0320be305-01
2022-04-21T16:18:08.561Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:08.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8d901124d0e9e68e6ac69afd966def016480274-12b603fbcaf39684-01 outer:exit 2b-a8d901124d0e9e68e6ac69afd966def016480274-7a98ba4a7bca8572-01
2022-04-21T16:18:08.571Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:08.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef0dc601a340f727ab7a4aceff67600efee766cd-a6047b2381cd331c-01 outer:exit 2b-ef0dc601a340f727ab7a4aceff67600efee766cd-ecd5384114083736-01
2022-04-21T16:18:08.579Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:08.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-92520667d414c903b4179a7c3775fa552c127523-006fabdfcaf99c59-01 outer:exit 2b-92520667d414c903b4179a7c3775fa552c127523-73b977600860c814-01
2022-04-21T16:18:08.581Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:08.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b9d3977d215ed234ee523d5ac9ec6569de79551-3f760fda4935740e-01 outer:exit 2b-6b9d3977d215ed234ee523d5ac9ec6569de79551-777c8eaf6ad55106-01
2022-04-21T16:18:08.584Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:08.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cb0a4cea228f4bb88c0f299b77a64a6bd8c8c2d-ba03eeb9a3f8040c-01 outer:exit 2b-2cb0a4cea228f4bb88c0f299b77a64a6bd8c8c2d-8db398233873b436-01
2022-04-21T16:18:08.586Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:08.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0a54453de135453286731bc947a02a81338fae0-2e29dffaa92a835b-01 outer:exit 2b-f0a54453de135453286731bc947a02a81338fae0-b89bc007e4e97215-01
2022-04-21T16:18:08.613Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (313ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:15.407Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:15.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:15.407Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:15.408Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:15.470Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:15.591Z appoptics:patching patched crypto 
2022-04-21T16:18:15.609Z appoptics:patching patched https 
2022-04-21T16:18:15.609Z appoptics:patching patched http 
2022-04-21T16:18:15.651Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:15.651Z appoptics:patching patched fs 
2022-04-21T16:18:15.675Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v16.14.2)
2022-04-21T16:18:15.681Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-21T16:18:15.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9d9298af5739c0dd3f12a6a0b00c3b596325fe5-57b7d8659a1fa132-01 outer:exit 2b-a9d9298af5739c0dd3f12a6a0b00c3b596325fe5-cff8fd90c5127811-01
2022-04-21T16:18:15.729Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:15.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-6986376b040a1ba3a05e5eaf1eb73f61bd78ba98-78613505da9002d5-01 outer:exit 2b-6986376b040a1ba3a05e5eaf1eb73f61bd78ba98-440a074d5a0d829b-01
2022-04-21T16:18:15.775Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:15.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9450eb2d6ddafae4d97f3286dc326e2ceb9f417-afa59dd4fc768ea7-01 outer:exit 2b-f9450eb2d6ddafae4d97f3286dc326e2ceb9f417-66dbe23c16c23c67-01
2022-04-21T16:18:15.779Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:15.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-c51572cfa0080498a288d20338087a9981be4fa2-dabe723b00a61e50-01 outer:exit 2b-c51572cfa0080498a288d20338087a9981be4fa2-dd94fb6db5a4b73e-01
2022-04-21T16:18:15.783Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:15.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-420c63e00035bd5e8f891c473f658153c60daf8b-4baa691cd275ba5d-01 outer:exit 2b-420c63e00035bd5e8f891c473f658153c60daf8b-0a268b5c6d9c58d6-01
2022-04-21T16:18:15.787Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:15.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-83f6b23db8ba60341698a373359bd033fef300d7-37e9be8feab12e33-01 outer:exit 2b-83f6b23db8ba60341698a373359bd033fef300d7-f620246c5259e86d-01
2022-04-21T16:18:15.791Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:15.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ed4ea4db093e0add5b680c3768eae829e35a711-ea252d3bfb638895-01 outer:exit 2b-1ed4ea4db093e0add5b680c3768eae829e35a711-712c31b62791b515-01
2022-04-21T16:18:15.794Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:15.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-20eb3fdefc798fbcd517508b3d07bfbc4cbcf10b-347b0b888bd031dc-01 outer:exit 2b-20eb3fdefc798fbcd517508b3d07bfbc4cbcf10b-473b33a92c50d22a-01
2022-04-21T16:18:15.799Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:15.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-4abfad13c6f220abdac99567e7cfdcdff244e27c-e8698bcd12d3b9b8-01 outer:exit 2b-4abfad13c6f220abdac99567e7cfdcdff244e27c-6453ec43a341c353-01
2022-04-21T16:18:15.801Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:15.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-b80183d94bdbeab00684ca15b5a97be6d5e71cbe-5c3358070397334a-01 outer:exit 2b-b80183d94bdbeab00684ca15b5a97be6d5e71cbe-c1935d753bfd83a9-01
2022-04-21T16:18:15.804Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:15.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-891eac292659440bd6c43d296c5f10248c942163-78723c251c50deb7-01 outer:exit 2b-891eac292659440bd6c43d296c5f10248c942163-3e31804d3191f6a6-01
2022-04-21T16:18:15.808Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:15.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f73d920c6b1a6a1abf4fe6db333a94277e022d5-f86c5ce4bcb03c86-01 outer:exit 2b-0f73d920c6b1a6a1abf4fe6db333a94277e022d5-9907b1684f4ee17c-01
2022-04-21T16:18:15.815Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:15.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-a70a0a654a65cad743061ea48a0dee6061728234-960181d1d7cefaba-01 outer:exit 2b-a70a0a654a65cad743061ea48a0dee6061728234-277b049048fa3db2-01
2022-04-21T16:18:15.831Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:15.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ef30865b59ba1063495acafac8a32e14287e2b0-125a697150c36fe7-01 outer:exit 2b-8ef30865b59ba1063495acafac8a32e14287e2b0-8b9efeb721dee04a-01
2022-04-21T16:18:15.874Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:15.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fdf4479f4832de562000073ca082eeae987bd14-6130f00294d7ae1e-01 outer:exit 2b-5fdf4479f4832de562000073ca082eeae987bd14-6d9154b18f64fd48-01
2022-04-21T16:18:15.877Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:15.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2e9728eaeee2d668784fa4ac9a7a02d43add6cf-76d4270f354028ec-01 outer:exit 2b-a2e9728eaeee2d668784fa4ac9a7a02d43add6cf-c94a38c779d17cb8-01
2022-04-21T16:18:15.879Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:15.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-09bf9a71cadc6e536e3c8a3c36d4b26388cf062b-62d310a5fc6e3865-01 outer:exit 2b-09bf9a71cadc6e536e3c8a3c36d4b26388cf062b-02bf4aad4ccec2e5-01
2022-04-21T16:18:15.882Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:15.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b1c31ed6b65fd95df9337ff459f7efd0f49064a-76f7049cfca7caef-01 outer:exit 2b-7b1c31ed6b65fd95df9337ff459f7efd0f49064a-d238ce8bfc2c42f3-01
2022-04-21T16:18:15.884Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:15.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ad0d7b1a99c98a0bc5228205c902f0554e809a2-730e0608a847bb01-01 outer:exit 2b-0ad0d7b1a99c98a0bc5228205c902f0554e809a2-427b7c3ac2ec17b4-01
2022-04-21T16:18:15.886Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:15.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-52e2380a9fe004c2acdca2c8fea41012089b99a0-fb2b16800479571a-01 outer:exit 2b-52e2380a9fe004c2acdca2c8fea41012089b99a0-9c09d8236185a36c-01
2022-04-21T16:18:15.888Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:15.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-15ff75c6d4e8969e1ee01ed502fa3c165439f651-8b01a759e3a0798f-01 outer:exit 2b-15ff75c6d4e8969e1ee01ed502fa3c165439f651-8adfacae0e376538-01
2022-04-21T16:18:15.890Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:15.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eb75b7598705eb7aa20a0646d1ba8b294318c08-3562ae7a7892b152-01 outer:exit 2b-3eb75b7598705eb7aa20a0646d1ba8b294318c08-2a50ae5ead81f605-01
2022-04-21T16:18:15.892Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:15.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-726734a615f981c3ed07de4362617ed10f914cef-adacfbf73437daed-01 outer:exit 2b-726734a615f981c3ed07de4362617ed10f914cef-fbf66c391e390908-01
2022-04-21T16:18:15.895Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:15.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-910eb5b82cf335742155b7963a950da14efea0dd-2d0603b196a50fdc-01 outer:exit 2b-910eb5b82cf335742155b7963a950da14efea0dd-c67afe1928a3ead2-01
2022-04-21T16:18:15.898Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:15.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-b054a8e3ffb17fd63aaa70e4d5bb1a4538e506b5-e44d7f77a2c5a5c7-01 outer:exit 2b-b054a8e3ffb17fd63aaa70e4d5bb1a4538e506b5-fdca14f848e0c6eb-01
2022-04-21T16:18:15.900Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:15.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-730424a5e094872a6a59346d2a0777c4b9e1e521-7daca35b9c232614-01 outer:exit 2b-730424a5e094872a6a59346d2a0777c4b9e1e521-857db60f066908e5-01
2022-04-21T16:18:15.902Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:15.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-067513772172d09c618d516a6f195d05a1bfb7d6-63ab67e64a91eadf-01 outer:exit 2b-067513772172d09c618d516a6f195d05a1bfb7d6-9c8409193e6e2c28-01
2022-04-21T16:18:15.908Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:15.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3be731195ae70d09e65a45fb6c23620f51d56f9-df0b3a4504344073-01 outer:exit 2b-e3be731195ae70d09e65a45fb6c23620f51d56f9-dfafa7b5097b67f7-01
2022-04-21T16:18:15.914Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:15.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b5df8c5daa8fbfdfd1baf577898d3dd02cdf0da-84304616146fe9b1-01 outer:exit 2b-8b5df8c5daa8fbfdfd1baf577898d3dd02cdf0da-5748f694d5e312af-01
2022-04-21T16:18:15.923Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:15.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-537f17b3994c9f32c2f95820cd6d52b5249f5786-c04af7dd2e405730-01 outer:exit 2b-537f17b3994c9f32c2f95820cd6d52b5249f5786-59c9ad2e7d2a9851-01
2022-04-21T16:18:15.929Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:15.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e13906926dfc6c1fe099a2f300ab51fe4898ff1-f235f5f59e1dd255-01 outer:exit 2b-3e13906926dfc6c1fe099a2f300ab51fe4898ff1-64ef4a7c76cfe2c9-01
2022-04-21T16:18:15.931Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:15.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-557b2cf4f55a3780ceb8ab1b528da9d9c9c01e80-2fb20f0f67691565-01 outer:exit 2b-557b2cf4f55a3780ceb8ab1b528da9d9c9c01e80-ce952841f83b20aa-01
2022-04-21T16:18:15.934Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:15.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-a04d9d93e481a19b09d2ad768d4fd4b06075ec13-f6ab41064ad52eb3-01 outer:exit 2b-a04d9d93e481a19b09d2ad768d4fd4b06075ec13-3a049952dee64b09-01
2022-04-21T16:18:15.940Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:15.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-01f2681739754749c1dc92ca3ee35f0b3f48f9e4-f0436c5b66eaee7a-01 outer:exit 2b-01f2681739754749c1dc92ca3ee35f0b3f48f9e4-5a351058afe43f8f-01
2022-04-21T16:18:15.942Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:15.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a5140f834311250bf88c2d330fefa6b8a6fff5-6b0cde6ea0d7ecb7-01 outer:exit 2b-a2a5140f834311250bf88c2d330fefa6b8a6fff5-1244c3576064c8c3-01
2022-04-21T16:18:15.944Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:15.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e3413c978645c0b3ee3aa3784c604b5779e6f29-8f4fb9efdafc2292-01 outer:exit 2b-0e3413c978645c0b3ee3aa3784c604b5779e6f29-a5303b2369ab0f18-01
2022-04-21T16:18:15.946Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:15.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc9e4a7c18b296251d6363f2a7fc2b887b5cbdd9-5e541a02fdd5b234-01 outer:exit 2b-dc9e4a7c18b296251d6363f2a7fc2b887b5cbdd9-4c55680d972711f9-01
2022-04-21T16:18:15.948Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:15.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f688e839d5c251724ac9922bf3171bde3f33bdc-0980cc5b2943635c-01 outer:exit 2b-1f688e839d5c251724ac9922bf3171bde3f33bdc-9ef39a61fe7efaa0-01
2022-04-21T16:18:15.963Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:15.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3dcb92c7337ddb62f96de5f3d0432e2c4333539-2d874d51fa9c1ebd-01 outer:exit 2b-a3dcb92c7337ddb62f96de5f3d0432e2c4333539-1f44183bd5b5e4f5-01
2022-04-21T16:18:15.977Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:15.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5c70aebc4ea986280f7f73d02821056ea888366-d557c8cc78e59c0f-01 outer:exit 2b-a5c70aebc4ea986280f7f73d02821056ea888366-07c6e0e9bf1e91ff-01
2022-04-21T16:18:15.993Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:15.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-c561544ef928302622fc1eb71d3dc765ed1fef0b-da6579b65b61e090-01 outer:exit 2b-c561544ef928302622fc1eb71d3dc765ed1fef0b-45a64373f7df76aa-01
2022-04-21T16:18:15.997Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:16.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a6ad3a02ff7e0388db8ae1caac1d31cb6088188-83d88190a4ab1f3a-01 outer:exit 2b-3a6ad3a02ff7e0388db8ae1caac1d31cb6088188-1a4a34ce887bc970-01
2022-04-21T16:18:16.001Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:16.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-47df64c7ee4209953e319205f52c47543423e753-f8743d1c76d6d387-01 outer:exit 2b-47df64c7ee4209953e319205f52c47543423e753-7434563384679544-01
2022-04-21T16:18:16.004Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:16.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-055f593f357ddab1f0c9492d259566172d8b5cbb-d1d7f9a1d6216dad-01 outer:exit 2b-055f593f357ddab1f0c9492d259566172d8b5cbb-832f85f18b1cdeac-01
2022-04-21T16:18:16.031Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (344ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:22.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:22.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:22.326Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:22.327Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:22.388Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:22.508Z appoptics:patching patched crypto 
2022-04-21T16:18:22.526Z appoptics:patching patched https 
2022-04-21T16:18:22.526Z appoptics:patching patched http 
2022-04-21T16:18:22.568Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:22.569Z appoptics:patching patched fs 
2022-04-21T16:18:22.593Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v16.14.2)
2022-04-21T16:18:22.598Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-21T16:18:22.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bdd5f4019c7ad49bd7fb67a2c6597e321ee8432-b3a7e3deec951e8c-01 outer:exit 2b-3bdd5f4019c7ad49bd7fb67a2c6597e321ee8432-4390533967c4e423-01
2022-04-21T16:18:22.642Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:22.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-cec32099203ec794326f966567558aed876c5b4f-19fc23aa9be4c234-01 outer:exit 2b-cec32099203ec794326f966567558aed876c5b4f-fcfa78f768348c43-01
2022-04-21T16:18:22.689Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:22.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d64780c16b2cc792b6eceac91d8f58ff0179030-6ae503688ea33cd9-01 outer:exit 2b-7d64780c16b2cc792b6eceac91d8f58ff0179030-f65d73af81d36cdb-01
2022-04-21T16:18:22.692Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:22.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebefd72a17bcdbadd8744b91bb73e41de39b82bc-f8e6ddcc7fb4b734-01 outer:exit 2b-ebefd72a17bcdbadd8744b91bb73e41de39b82bc-ef9a58cd0eac2b28-01
2022-04-21T16:18:22.696Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:22.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c1806f2c03df821fbe54645e12795f56429f12b-ea5f83aa7e7fef0c-01 outer:exit 2b-1c1806f2c03df821fbe54645e12795f56429f12b-c33f0503b8282a51-01
2022-04-21T16:18:22.700Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:22.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-42bc5842b5931877e0f8cf21337a7d2e65ab32ae-6e7d6f3064ff9706-01 outer:exit 2b-42bc5842b5931877e0f8cf21337a7d2e65ab32ae-36d1a0c0c32520bd-01
2022-04-21T16:18:22.704Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:22.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd94732a077aa7986dce456fbc99f6dcf88c07b9-110d708be776fcd4-01 outer:exit 2b-cd94732a077aa7986dce456fbc99f6dcf88c07b9-051a062e0126f562-01
2022-04-21T16:18:22.706Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:22.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-96005d26c84666066d9a0c1ac66e1e0fea92cc7b-566ad4d9f193940b-01 outer:exit 2b-96005d26c84666066d9a0c1ac66e1e0fea92cc7b-0ec81c37ebc7a513-01
2022-04-21T16:18:22.710Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:22.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3ac987855a6a1f0d5e225b2bc7e205745d34967-a2faa2698b368c10-01 outer:exit 2b-d3ac987855a6a1f0d5e225b2bc7e205745d34967-800354fccfe4db8b-01
2022-04-21T16:18:22.712Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:22.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5a4a91b34e4a8890b95d502d93a24998ba39840-c689c57b64474e30-01 outer:exit 2b-d5a4a91b34e4a8890b95d502d93a24998ba39840-2161c7b670025e32-01
2022-04-21T16:18:22.716Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:22.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-10e99160dd0634d83881f2ba1ba03176c11a412c-4b06b2b9470cbad5-01 outer:exit 2b-10e99160dd0634d83881f2ba1ba03176c11a412c-9e05589f3e4cfd73-01
2022-04-21T16:18:22.720Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:22.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c3620a36849ccf02f862cbf034a6593e8aa2969-a4e55d74ce7f0b67-01 outer:exit 2b-5c3620a36849ccf02f862cbf034a6593e8aa2969-53f2d33f0fe8bb1c-01
2022-04-21T16:18:22.726Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:22.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-903b200e174946824209b6cd86b6e99ae7a85bc8-5623549fa3b72aef-01 outer:exit 2b-903b200e174946824209b6cd86b6e99ae7a85bc8-6d28b9c90b2d4a55-01
2022-04-21T16:18:22.742Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:22.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-a29703eea7c65cdeff578735917b7d1ea0576128-36810a4f90795239-01 outer:exit 2b-a29703eea7c65cdeff578735917b7d1ea0576128-0ad7ebc6056d71ff-01
2022-04-21T16:18:22.787Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:22.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfe68d66f42adc85252029d83e2b69777a6f24d5-14047d52a1d12110-01 outer:exit 2b-dfe68d66f42adc85252029d83e2b69777a6f24d5-13eb39abc56b494e-01
2022-04-21T16:18:22.789Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:22.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-da6e9239daf4374efcfb65ade383a742690fe4e6-cec6c06904a673bc-01 outer:exit 2b-da6e9239daf4374efcfb65ade383a742690fe4e6-ae3aad712b1913e9-01
2022-04-21T16:18:22.792Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:22.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-1655dd609043270d25e999db52305242296465db-3d5a28ef7cbbee36-01 outer:exit 2b-1655dd609043270d25e999db52305242296465db-96af9c6497b3d1aa-01
2022-04-21T16:18:22.795Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:22.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd3d29ac1b1e133512192ad9853d0a896239ac3e-9068e1f3a698ceed-01 outer:exit 2b-fd3d29ac1b1e133512192ad9853d0a896239ac3e-19d3dab4a8821afe-01
2022-04-21T16:18:22.797Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:22.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8a6278095462c979aa165f4cc4c881abad3785d-dd357c109f0c918e-01 outer:exit 2b-b8a6278095462c979aa165f4cc4c881abad3785d-2129fc894f2f93d7-01
2022-04-21T16:18:22.799Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:22.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa44b70948cf784955f13cf6bfc014b280085170-0129287123f7b832-01 outer:exit 2b-fa44b70948cf784955f13cf6bfc014b280085170-6acf7eb0dd9fdeb4-01
2022-04-21T16:18:22.801Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:22.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-3686532ed7ab19afcb26a8ae7ec7e8fd9eca6cf5-238d3a0588fe601a-01 outer:exit 2b-3686532ed7ab19afcb26a8ae7ec7e8fd9eca6cf5-f1e6f8ff10212444-01
2022-04-21T16:18:22.803Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:22.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-220fb5defdfafcd4e8ac39dc126505994c2428e4-6f8c1754b919ae7f-01 outer:exit 2b-220fb5defdfafcd4e8ac39dc126505994c2428e4-5a644d306a4df4f1-01
2022-04-21T16:18:22.805Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:22.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-002b3fe40250ec75c85269dd6648ceddc2a8252f-159c175faa563497-01 outer:exit 2b-002b3fe40250ec75c85269dd6648ceddc2a8252f-48b1647fd2084794-01
2022-04-21T16:18:22.807Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:22.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-98f678c13bef762258cd91e90dc94b740149979e-09f85bf639b07b89-01 outer:exit 2b-98f678c13bef762258cd91e90dc94b740149979e-a650ee40f5edd744-01
2022-04-21T16:18:22.810Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:22.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa7346d73210445cdc881d9a244d9d390f59d39e-a9ca4426b62f89a8-01 outer:exit 2b-aa7346d73210445cdc881d9a244d9d390f59d39e-b3e46d20e72b5e9d-01
2022-04-21T16:18:22.812Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:22.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-52fd6620e14848d38b6a2d6ae1f4d23642a66451-10414ef6c98b2059-01 outer:exit 2b-52fd6620e14848d38b6a2d6ae1f4d23642a66451-a3e1fca82a5e22d9-01
2022-04-21T16:18:22.814Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:22.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8d53b69caea46f8da132d3b360743d82092530e-b1a86a3c066647c5-01 outer:exit 2b-f8d53b69caea46f8da132d3b360743d82092530e-0a6511c814f0f8ca-01
2022-04-21T16:18:22.820Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:22.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-e15fe7320be63274dac67ddc596c1bbb0bb7586c-a8198ae1bfed3cdd-01 outer:exit 2b-e15fe7320be63274dac67ddc596c1bbb0bb7586c-eeae8b396f0611f7-01
2022-04-21T16:18:22.826Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:22.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-e826a49bbcc6e09a0b59bd739a2a07c3808f937e-d3617448af4aa484-01 outer:exit 2b-e826a49bbcc6e09a0b59bd739a2a07c3808f937e-c2131a36e28fe5ce-01
2022-04-21T16:18:22.834Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:22.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-f563faf2d42898271f4ed5a91cf8a9c725316605-3ccffa8744eda8e9-01 outer:exit 2b-f563faf2d42898271f4ed5a91cf8a9c725316605-007e9670a5cb22f1-01
2022-04-21T16:18:22.841Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:22.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-49a2fb3375b16c6a89389bb3e2adf5269f300b3d-c0397c0b3287e261-01 outer:exit 2b-49a2fb3375b16c6a89389bb3e2adf5269f300b3d-4d61faa47a194029-01
2022-04-21T16:18:22.842Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:22.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5c7b40f85e8def920aa282ea6e936bec977a070-5f7b7d05ca62ab32-01 outer:exit 2b-c5c7b40f85e8def920aa282ea6e936bec977a070-b251404f090badfe-01
2022-04-21T16:18:22.845Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:22.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-912fb109271e4c177cb5b95bca7c84d3a8b6f176-0e44561a4da1f86d-01 outer:exit 2b-912fb109271e4c177cb5b95bca7c84d3a8b6f176-c4c4456c68ec0fac-01
2022-04-21T16:18:22.851Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:22.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2d526adc4eb1549de1ae76851d9b257b77cd7d8-e6f8f482ab0f02e9-01 outer:exit 2b-e2d526adc4eb1549de1ae76851d9b257b77cd7d8-1ae4f9d935449f86-01
2022-04-21T16:18:22.853Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:22.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a2342a0e67a851a91778ea4e7e49a59dc0979ad-ad2d266e8f616c4c-01 outer:exit 2b-9a2342a0e67a851a91778ea4e7e49a59dc0979ad-df6484b72e5ff0c6-01
2022-04-21T16:18:22.855Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:22.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e3360f8d63d28a64cafdd2b728729eabd08e86d-a8a428cd05ceb2f3-01 outer:exit 2b-4e3360f8d63d28a64cafdd2b728729eabd08e86d-b24f652114330d33-01
2022-04-21T16:18:22.857Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:22.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4ee293d759ec528c39b4ae9c73a420aa939728b-a77b297e94bb4b73-01 outer:exit 2b-d4ee293d759ec528c39b4ae9c73a420aa939728b-6e961ca45f5bda70-01
2022-04-21T16:18:22.858Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:22.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-af66f0a5ab3b074d214a052766414250d888b556-4dacc629213fef5f-01 outer:exit 2b-af66f0a5ab3b074d214a052766414250d888b556-624ca91f96721ba5-01
2022-04-21T16:18:22.860Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:22.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f3d19d3b8edeca0b678ed5a8e261147e6c2b74b-0b642f345c7281ed-01 outer:exit 2b-5f3d19d3b8edeca0b678ed5a8e261147e6c2b74b-ebd51c857605b2f2-01
2022-04-21T16:18:22.870Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:22.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-87693699ff2ea657ffb9e21a97cb8faae77f1793-5798f1671f65bf28-01 outer:exit 2b-87693699ff2ea657ffb9e21a97cb8faae77f1793-c24b11c819d8d591-01
2022-04-21T16:18:22.878Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:22.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-5084f7044af92da4e2c3a1d5f5b442d2abe2dca7-c7f327d9d7ef2adb-01 outer:exit 2b-5084f7044af92da4e2c3a1d5f5b442d2abe2dca7-e5abef4efd3ef884-01
2022-04-21T16:18:22.881Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:22.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-e29178e190aaf837e7a20ddcfc1b7b49d8ce87ca-120ba78c2866af4e-01 outer:exit 2b-e29178e190aaf837e7a20ddcfc1b7b49d8ce87ca-4b9a9ab343dbdddd-01
2022-04-21T16:18:22.883Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:22.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-59a97658875c4694b1671fb332fbea42d5c7ed9d-ccefd75f763095cf-01 outer:exit 2b-59a97658875c4694b1671fb332fbea42d5c7ed9d-871975f2221fb9a1-01
2022-04-21T16:18:22.885Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:22.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d16b167bb3cbd45f2e4e91d4038ef9476381557-243d6c0cff68a5f7-01 outer:exit 2b-0d16b167bb3cbd45f2e4e91d4038ef9476381557-4e5bbf98499b7e23-01
2022-04-21T16:18:22.913Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (308ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:28.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:28.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:28.675Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:28.675Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:28.736Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:28.854Z appoptics:patching patched crypto 
2022-04-21T16:18:28.872Z appoptics:patching patched https 
2022-04-21T16:18:28.873Z appoptics:patching patched http 
2022-04-21T16:18:28.914Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:28.914Z appoptics:patching patched fs 
2022-04-21T16:18:28.937Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v16.14.2)
2022-04-21T16:18:28.943Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-21T16:18:28.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03a61b2dff54f2dc05930047e8fea3b5df148ce-537647431f62fae8-01 outer:exit 2b-b03a61b2dff54f2dc05930047e8fea3b5df148ce-34366ff750f873f6-01
2022-04-21T16:18:28.997Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:29.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-3853e4bdaa268bcc9476c8bd371ad9c6931240ed-dd2614ecd61ca4f9-01 outer:exit 2b-3853e4bdaa268bcc9476c8bd371ad9c6931240ed-85da97c9aae48bbb-01
2022-04-21T16:18:29.042Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:29.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-527ab054de6a1e022a115b71b9917ccd1a9a4fe9-84f716b3728b69c6-01 outer:exit 2b-527ab054de6a1e022a115b71b9917ccd1a9a4fe9-ec57dc7d5fee4f63-01
2022-04-21T16:18:29.046Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:29.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f6299bd3836a24f1e35a325c7f63ee0b1751a95-6adc6f18e7227bbc-01 outer:exit 2b-5f6299bd3836a24f1e35a325c7f63ee0b1751a95-7fe7550fdd723ce7-01
2022-04-21T16:18:29.049Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:29.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-c54691f71d4d212a60c1e210865332c6c05327fc-acf905b0fe5d6596-01 outer:exit 2b-c54691f71d4d212a60c1e210865332c6c05327fc-8d4e08757e7fdd99-01
2022-04-21T16:18:29.055Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:29.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-b950aec54c20ce6504e5dabe862f6441c4e374fb-dcfa7bf37dac2e62-01 outer:exit 2b-b950aec54c20ce6504e5dabe862f6441c4e374fb-f7d93a07480058b4-01
2022-04-21T16:18:29.058Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:29.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-cadc6a07dc6ebbb9bf9f17871d9816739a97578c-9f6a97cf3af9f870-01 outer:exit 2b-cadc6a07dc6ebbb9bf9f17871d9816739a97578c-12629e78afaadf7e-01
2022-04-21T16:18:29.061Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:29.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6dbaeffce235c70defeb2252c6145ca3720235b-05bda68da1f48661-01 outer:exit 2b-d6dbaeffce235c70defeb2252c6145ca3720235b-d3c3f8e2b424da4b-01
2022-04-21T16:18:29.064Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:29.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-49e36cdc6b47b63f06958afa25c5985e30edd729-f4adc28b603a8225-01 outer:exit 2b-49e36cdc6b47b63f06958afa25c5985e30edd729-6050c7feafe7c150-01
2022-04-21T16:18:29.066Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:29.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-46a5397f6f61d5d190890703b781750ad74dd485-670d6d2286394814-01 outer:exit 2b-46a5397f6f61d5d190890703b781750ad74dd485-ed63615a6f542150-01
2022-04-21T16:18:29.070Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:29.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-95320bc773eded8ad214db5b8f6701fd37277041-76ec2f36a5a3e8e5-01 outer:exit 2b-95320bc773eded8ad214db5b8f6701fd37277041-8ebe099f0f657c5b-01
2022-04-21T16:18:29.074Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:29.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-430fc5b20ce32c4ccb76f070cb230476bcb46f73-dec1dd98ce9c3055-01 outer:exit 2b-430fc5b20ce32c4ccb76f070cb230476bcb46f73-f6d5595dce95a986-01
2022-04-21T16:18:29.080Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:29.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-58df2f17ea20ebaeff496c33ff6c015f366a818c-a019fe78c7d7d0ae-01 outer:exit 2b-58df2f17ea20ebaeff496c33ff6c015f366a818c-134f65c3d23a9523-01
2022-04-21T16:18:29.096Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:29.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7f5c5bd91f229287c8f42a07b9278f43af31e63-8b02444742b16669-01 outer:exit 2b-a7f5c5bd91f229287c8f42a07b9278f43af31e63-cdf52acc31e8b40b-01
2022-04-21T16:18:29.138Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:29.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-970feab1c2d1dbfc44f51c9acda6653a596adac8-69ec775d288a1b64-01 outer:exit 2b-970feab1c2d1dbfc44f51c9acda6653a596adac8-97d65ace8438e4ea-01
2022-04-21T16:18:29.141Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:29.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-4de00e4ed53ae3a7ed65864ed508c33c2f7df099-d39c8d985722b8e9-01 outer:exit 2b-4de00e4ed53ae3a7ed65864ed508c33c2f7df099-b6b31ad8bc3a1e71-01
2022-04-21T16:18:29.144Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:29.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2864e2c3b435e201673b41f4151f49fb70b838a-c0c750c15e3e17ce-01 outer:exit 2b-a2864e2c3b435e201673b41f4151f49fb70b838a-8b84c0aaef92fd07-01
2022-04-21T16:18:29.147Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:29.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-eff9a3b6a8393e70e72e2d8519da9bc6d3c8d1af-1652641e25e863bc-01 outer:exit 2b-eff9a3b6a8393e70e72e2d8519da9bc6d3c8d1af-43e5eba783350728-01
2022-04-21T16:18:29.150Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:29.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-fad771fc8377323cf78de640a2be61384eb0d534-2a4f9cb1ee109303-01 outer:exit 2b-fad771fc8377323cf78de640a2be61384eb0d534-4b872f9148ee81a7-01
2022-04-21T16:18:29.152Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:29.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-73f0dc2854ef6c6ab4b296903445b5b133e7d0a7-49897084d46926e2-01 outer:exit 2b-73f0dc2854ef6c6ab4b296903445b5b133e7d0a7-069fc8ffce3c0a56-01
2022-04-21T16:18:29.154Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:29.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-622e45f4b90de4783b7265697082cfcb823d6540-b80a56711d6a7063-01 outer:exit 2b-622e45f4b90de4783b7265697082cfcb823d6540-51c02e4868572b64-01
2022-04-21T16:18:29.156Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:29.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-2948f8e56f567042abbce62d759cae9fa620f3ed-21252982180b638f-01 outer:exit 2b-2948f8e56f567042abbce62d759cae9fa620f3ed-c6346aee87378e0f-01
2022-04-21T16:18:29.158Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:29.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbeff6755ae4e1831a53cf2a3f1aba8dd8eb01e9-85f8ca003cefdfea-01 outer:exit 2b-bbeff6755ae4e1831a53cf2a3f1aba8dd8eb01e9-fb308a306463f597-01
2022-04-21T16:18:29.161Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:29.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-84cbb7014cde728510a01e1a2f73f2c6090cec6c-6f44190c015f10ac-01 outer:exit 2b-84cbb7014cde728510a01e1a2f73f2c6090cec6c-da7725ddb99ab7e9-01
2022-04-21T16:18:29.164Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:29.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f037ee217b0ca3582dd44e21be229facae77aa0-27d7456a93495d76-01 outer:exit 2b-1f037ee217b0ca3582dd44e21be229facae77aa0-d23a81a5726ba79f-01
2022-04-21T16:18:29.166Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:29.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-945686beb2ea8ce46b8c4dc3d32d8ef2837bd1b5-03c0b67cf637b856-01 outer:exit 2b-945686beb2ea8ce46b8c4dc3d32d8ef2837bd1b5-b0338b7e73c9c817-01
2022-04-21T16:18:29.168Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:29.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-24fa33d4da00643d017a99c377520ba56bdd903d-e0084a29cf89d6ba-01 outer:exit 2b-24fa33d4da00643d017a99c377520ba56bdd903d-e95c1595f747df0e-01
2022-04-21T16:18:29.174Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:29.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-017c7440517d4eb24a3bf5d6366c71e54257898e-735d2bba0c4337e3-01 outer:exit 2b-017c7440517d4eb24a3bf5d6366c71e54257898e-5072b3c3d9b61799-01
2022-04-21T16:18:29.180Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:29.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-277579071aed6a296f876e113c36a33965719ce3-eb582aab48616eb5-01 outer:exit 2b-277579071aed6a296f876e113c36a33965719ce3-1aeba1d8ba76e0c5-01
2022-04-21T16:18:29.188Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:29.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0c5df8db6e31d562480f0b191739d65729ede03-09ddffc362caa163-01 outer:exit 2b-b0c5df8db6e31d562480f0b191739d65729ede03-cce37d9458450a86-01
2022-04-21T16:18:29.193Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:29.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e809fe9d2364be08219ae6045f3ad0c9a0bb05b-f9152558f9c71a1b-01 outer:exit 2b-4e809fe9d2364be08219ae6045f3ad0c9a0bb05b-afe0b11f1927b351-01
2022-04-21T16:18:29.195Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:29.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-29847bf6e5fe4e9df6839122d5594a496b2843f3-7c38a3dbee7ee1c4-01 outer:exit 2b-29847bf6e5fe4e9df6839122d5594a496b2843f3-36cdc34b46f96c71-01
2022-04-21T16:18:29.199Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:29.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e0d270f05ee67f41771f29de74ad19026d4f8a2-ab03bcd0e3feabd3-01 outer:exit 2b-8e0d270f05ee67f41771f29de74ad19026d4f8a2-673bc51a4b64938f-01
2022-04-21T16:18:29.205Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:29.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce053fbc959fce9e41064d82ea9f18d13825d0d6-543877513ae40f4f-01 outer:exit 2b-ce053fbc959fce9e41064d82ea9f18d13825d0d6-4faccbcfe4ae13c9-01
2022-04-21T16:18:29.207Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:29.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-13d65acb8bf4f89de61d5476b134cdf6044c2cff-f1a9e6da78830d6d-01 outer:exit 2b-13d65acb8bf4f89de61d5476b134cdf6044c2cff-877a927d53aaaab7-01
2022-04-21T16:18:29.209Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:29.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac41f23e721c017348edd9b6cedaa2682bb6ac87-ec394f0133770790-01 outer:exit 2b-ac41f23e721c017348edd9b6cedaa2682bb6ac87-c781655b33246422-01
2022-04-21T16:18:29.211Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:29.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-73d96f481f93ab3cff290b2ae9663fc7da8ad341-fbcb6699269db1ad-01 outer:exit 2b-73d96f481f93ab3cff290b2ae9663fc7da8ad341-d3d85903562483fd-01
2022-04-21T16:18:29.216Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:29.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-83fc75e1211ad3795678b83fce15a61dabb83361-10c6dc8352e29347-01 outer:exit 2b-83fc75e1211ad3795678b83fce15a61dabb83361-dbf85472c82b5622-01
2022-04-21T16:18:29.218Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:29.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-956ae2bf6919c9eea2917d5e6972adba69c28894-996b49e8475c394e-01 outer:exit 2b-956ae2bf6919c9eea2917d5e6972adba69c28894-270c30b687ecad8d-01
2022-04-21T16:18:29.227Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:29.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-c650bfdb0ecb0e5604b4e6b6f5acf0d418de5f19-f6de9a568d4e2b1e-01 outer:exit 2b-c650bfdb0ecb0e5604b4e6b6f5acf0d418de5f19-e7f523acb57570bb-01
2022-04-21T16:18:29.236Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:29.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-447eeff420d1d3f55f8dc9761b52fb4ce38e18dc-0e279114dd16cb4d-01 outer:exit 2b-447eeff420d1d3f55f8dc9761b52fb4ce38e18dc-8e708be7b2b2f5a6-01
2022-04-21T16:18:29.239Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:29.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb64e6a21ebe5b8a4b58dc9147a5a99e8c2b68d-7d55d58aa5a3fbca-01 outer:exit 2b-7eb64e6a21ebe5b8a4b58dc9147a5a99e8c2b68d-cefe2b033ddb1721-01
2022-04-21T16:18:29.241Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:29.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-30045a779bdffc7e0ac063aaa6c9177083892d94-30adabc560ae631f-01 outer:exit 2b-30045a779bdffc7e0ac063aaa6c9177083892d94-881de58fda767ca3-01
2022-04-21T16:18:29.244Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:29.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4541b0d1492ff603360d90336bcb70120d287a9-a31154adb4608db5-01 outer:exit 2b-c4541b0d1492ff603360d90336bcb70120d287a9-3da396089fc9578c-01
2022-04-21T16:18:29.269Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (321ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:35.746Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:35.747Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:35.747Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:35.747Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:35.808Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:35.928Z appoptics:patching patched crypto 
2022-04-21T16:18:35.947Z appoptics:patching patched https 
2022-04-21T16:18:35.947Z appoptics:patching patched http 
2022-04-21T16:18:35.990Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:35.991Z appoptics:patching patched fs 
2022-04-21T16:18:36.014Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v16.14.2)
2022-04-21T16:18:36.020Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-21T16:18:36.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7e4945abd650356130829fd03d9402387160ba9-22cad11ac49ff951-01 outer:exit 2b-b7e4945abd650356130829fd03d9402387160ba9-46fdecfef2e7d01b-01
2022-04-21T16:18:36.071Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:36.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf99af3c158d09be97bb76c9cc6cea8e0ed5ff59-e7d9149b6b0b87d4-01 outer:exit 2b-bf99af3c158d09be97bb76c9cc6cea8e0ed5ff59-55b72e882a56580b-01
2022-04-21T16:18:36.118Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:36.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f18e45fe7794f47f8054e039db7817701faf962-a0476f7ea5d4d4bc-01 outer:exit 2b-1f18e45fe7794f47f8054e039db7817701faf962-379a3ecf23e118be-01
2022-04-21T16:18:36.122Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:36.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-2898d84e9daa995e3952c59762fe9f3c2291902c-5befd68343dfcff2-01 outer:exit 2b-2898d84e9daa995e3952c59762fe9f3c2291902c-0a2900f50db7d431-01
2022-04-21T16:18:36.125Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:36.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-76f60f0ba8e6931f6029c8bb9a31b43e8bf774de-c0573def52844f96-01 outer:exit 2b-76f60f0ba8e6931f6029c8bb9a31b43e8bf774de-79ad35b8aacc5a0c-01
2022-04-21T16:18:36.129Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:36.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e591a8c078a2ae52493d8e36e17d2b5180c0653-9d0abe10e1229ad0-01 outer:exit 2b-4e591a8c078a2ae52493d8e36e17d2b5180c0653-0a7b6d4d1123f94e-01
2022-04-21T16:18:36.133Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:36.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a8893a6b0d7954e29dd6eb49a6d4b752e5a1dd4-0aaeda4b6121e4c5-01 outer:exit 2b-0a8893a6b0d7954e29dd6eb49a6d4b752e5a1dd4-2c075fe81783f757-01
2022-04-21T16:18:36.136Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:36.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-df09f785a5e8a8d8f8f4b4321be3a1c51b433161-829ffa7bb6aed13c-01 outer:exit 2b-df09f785a5e8a8d8f8f4b4321be3a1c51b433161-801a7fc76d08a247-01
2022-04-21T16:18:36.139Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:36.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-da9560a68a2415ea69d7a976da9472c79e2608bc-450da5eea62811c9-01 outer:exit 2b-da9560a68a2415ea69d7a976da9472c79e2608bc-2cd1a05b810bb882-01
2022-04-21T16:18:36.142Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:36.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b6f2340d60bb89ef6d58d6878c4713e38bc6f24-195cb6e06fc70906-01 outer:exit 2b-1b6f2340d60bb89ef6d58d6878c4713e38bc6f24-e16e3345522128cf-01
2022-04-21T16:18:36.145Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:36.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-91ff7efb0bd08cbfa8fdd1fa1a06f58b7a8ea6f8-8bb48d82cfbf01c7-01 outer:exit 2b-91ff7efb0bd08cbfa8fdd1fa1a06f58b7a8ea6f8-9a84314fa3f936ae-01
2022-04-21T16:18:36.149Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:36.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6d026897f00b56fcb2c585c63bd8df19b15533c-b3ba78ee52f490f0-01 outer:exit 2b-d6d026897f00b56fcb2c585c63bd8df19b15533c-e175c35634d22c18-01
2022-04-21T16:18:36.156Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:36.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-7965ccaacbb29411ffd7d59d7b2ef7c029372067-a1376ec6ad87a6f7-01 outer:exit 2b-7965ccaacbb29411ffd7d59d7b2ef7c029372067-f14ef389462544c1-01
2022-04-21T16:18:36.175Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:36.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd768713d33da6d0407e131cc0466cc15fd3f9b1-f8436ebc3c788e8e-01 outer:exit 2b-dd768713d33da6d0407e131cc0466cc15fd3f9b1-2c164d584a37abbf-01
2022-04-21T16:18:36.215Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:36.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-405cf863d0f780dadc72edaaa067febb8aa88739-42b1c7e54fa6d2c7-01 outer:exit 2b-405cf863d0f780dadc72edaaa067febb8aa88739-1909d7951881d822-01
2022-04-21T16:18:36.218Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:36.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-48ed34f7a5e070f622bb0c19db21d5b9e860785c-a1352839995114ea-01 outer:exit 2b-48ed34f7a5e070f622bb0c19db21d5b9e860785c-10776ee81893547c-01
2022-04-21T16:18:36.221Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:36.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-def184c2a65768193e45b5080397412a93c7a761-0504c5400bca9ea5-01 outer:exit 2b-def184c2a65768193e45b5080397412a93c7a761-ee010ee6de70e3d1-01
2022-04-21T16:18:36.224Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:36.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-0adbdd28dce046624867967ce414eeb332c88c99-47260b784f547249-01 outer:exit 2b-0adbdd28dce046624867967ce414eeb332c88c99-2b0024978fdd98dc-01
2022-04-21T16:18:36.227Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:36.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-97475277b12c8f38cc060a06b47670982196db05-2bef52e74bead405-01 outer:exit 2b-97475277b12c8f38cc060a06b47670982196db05-20b5bfd7582e07d8-01
2022-04-21T16:18:36.229Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:36.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c453e841826b5384035850545d904f92a02086-a725dd98df59a689-01 outer:exit 2b-65c453e841826b5384035850545d904f92a02086-3dcff22aa14e926d-01
2022-04-21T16:18:36.231Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:36.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-56fffc382b8fba578daa5c7ffb5136ffb3e8cba9-378b2b662f75f3a5-01 outer:exit 2b-56fffc382b8fba578daa5c7ffb5136ffb3e8cba9-cc9a6f040fb56474-01
2022-04-21T16:18:36.233Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:36.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbf8f615257f3fa7416535b59999d9e6a6a004dd-6fe9ffa6267e8bdf-01 outer:exit 2b-fbf8f615257f3fa7416535b59999d9e6a6a004dd-b595b00929c16810-01
2022-04-21T16:18:36.235Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:36.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf48f244fc69d7069761d25e7d02e044ce478002-a9ab009bde6e1ead-01 outer:exit 2b-cf48f244fc69d7069761d25e7d02e044ce478002-77bd0fe43b8c23b9-01
2022-04-21T16:18:36.238Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:36.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-e071daf40c850a66e971aafbb1f72f05daa71216-ef29fdc1aef9e57d-01 outer:exit 2b-e071daf40c850a66e971aafbb1f72f05daa71216-d22847ee00caf074-01
2022-04-21T16:18:36.241Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:36.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-42b45773cc93498c802b6275e50bfabd2e448ac2-b88a89f8788ccbaa-01 outer:exit 2b-42b45773cc93498c802b6275e50bfabd2e448ac2-575409cc072a8f31-01
2022-04-21T16:18:36.243Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:36.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e9f824fcfd1dcbf814c3032bbdd0b9764194ac3-3a13a72a02f1a87b-01 outer:exit 2b-3e9f824fcfd1dcbf814c3032bbdd0b9764194ac3-ac3d7a4f10025321-01
2022-04-21T16:18:36.246Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:36.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-56ccb0782c904b1950dda5cce3c6a5f51e9ca71c-e0432a5eacf9f87d-01 outer:exit 2b-56ccb0782c904b1950dda5cce3c6a5f51e9ca71c-649253e552f5b4ee-01
2022-04-21T16:18:36.252Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:36.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-b374052617c4a32bfa903d6eec29f5882f7d3031-d722ea35cff91191-01 outer:exit 2b-b374052617c4a32bfa903d6eec29f5882f7d3031-4d4070a4758c568e-01
2022-04-21T16:18:36.259Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:36.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a249b70daf923aa8387f5cacbec8c4e01220eaa-0ea9ce63df170db6-01 outer:exit 2b-3a249b70daf923aa8387f5cacbec8c4e01220eaa-4a91e707be132ecd-01
2022-04-21T16:18:36.268Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:36.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d70f7a22d0f191d3fa1c3234c0bc5c9b2e3c93c-dcb00f70e81897d1-01 outer:exit 2b-9d70f7a22d0f191d3fa1c3234c0bc5c9b2e3c93c-19e76bcdefcc383f-01
2022-04-21T16:18:36.278Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:36.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-8af6f8bf7f3a061f26db6594ebdf2dbf1d4acff5-42a76bbc82992b3a-01 outer:exit 2b-8af6f8bf7f3a061f26db6594ebdf2dbf1d4acff5-0ba2e02849cacf41-01
2022-04-21T16:18:36.280Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:36.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-61f715821dee9e6f3002b7fd4a88ec393926cf27-4897246e9ce869e7-01 outer:exit 2b-61f715821dee9e6f3002b7fd4a88ec393926cf27-c1db777ee6521e63-01
2022-04-21T16:18:36.283Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:36.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-1124837d26213c8e82f8d950bd326a6ed34be385-b4e8a53d1b110401-01 outer:exit 2b-1124837d26213c8e82f8d950bd326a6ed34be385-f579dae6c627b1c4-01
2022-04-21T16:18:36.289Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:36.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b2bcf82b6369c2daff4c158f991a83841c70803-fefa8c7541031131-01 outer:exit 2b-5b2bcf82b6369c2daff4c158f991a83841c70803-0961185d28e661f9-01
2022-04-21T16:18:36.291Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:36.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2aab58f15769ff7d1c740cf8270109c8b18482f-fdccbcb09e98948d-01 outer:exit 2b-e2aab58f15769ff7d1c740cf8270109c8b18482f-0c96eae409cf2631-01
2022-04-21T16:18:36.293Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:36.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-42b15e97fb46e59c2cbed9a71c41ac4ffe86a3ed-9f7fe89cb2ffd050-01 outer:exit 2b-42b15e97fb46e59c2cbed9a71c41ac4ffe86a3ed-ea5bd9e03560a2b4-01
2022-04-21T16:18:36.295Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:36.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-94910a6e1ef51c21a3a4cc2ed13859a37fe4802e-50436e8f6f8b08f9-01 outer:exit 2b-94910a6e1ef51c21a3a4cc2ed13859a37fe4802e-c9b321d927ff89f0-01
2022-04-21T16:18:36.297Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:36.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfa155cbe6a51970b9a5f37b8172d5dbd0674bd1-636062ab7257b378-01 outer:exit 2b-bfa155cbe6a51970b9a5f37b8172d5dbd0674bd1-d957dfb02a7a0148-01
2022-04-21T16:18:36.298Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:36.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7ec7bd2ff43dbc65a95afd693e234fc87027df5-4aec3f89a2b6dc1c-01 outer:exit 2b-b7ec7bd2ff43dbc65a95afd693e234fc87027df5-ac597acce7e68da2-01
2022-04-21T16:18:36.307Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:36.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c05d348e06dc44fc5588782c2592e8a2fe8c201-93da99b0507379c4-01 outer:exit 2b-7c05d348e06dc44fc5588782c2592e8a2fe8c201-48c09c24f04c0837-01
2022-04-21T16:18:36.318Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:36.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebcf32991274e33c1ef58aacbaf37a935509c123-7401da38e7f55e13-01 outer:exit 2b-ebcf32991274e33c1ef58aacbaf37a935509c123-e95f044c397d995c-01
2022-04-21T16:18:36.320Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:36.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-1004338b62a3c7785c88340282f49994933098a6-83a4aa87d832b235-01 outer:exit 2b-1004338b62a3c7785c88340282f49994933098a6-cf3e6bc0946ed55e-01
2022-04-21T16:18:36.323Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:36.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-af1d8e01d4b85b4d525ae55231ab8705c44a684a-ba4066c7b649c21f-01 outer:exit 2b-af1d8e01d4b85b4d525ae55231ab8705c44a684a-38a5afebe1ea0788-01
2022-04-21T16:18:36.327Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:36.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-e343e1a4f2b6c2aeadf4ca314cf98ad2e0b0488d-9658f6eca60c6d41-01 outer:exit 2b-e343e1a4f2b6c2aeadf4ca314cf98ad2e0b0488d-eed0775ab49c5859-01
2022-04-21T16:18:36.354Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (328ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:42.216Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:42.217Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:42.217Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:42.217Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:42.298Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:42.512Z appoptics:patching patched crypto 
2022-04-21T16:18:42.541Z appoptics:patching patched https 
2022-04-21T16:18:42.542Z appoptics:patching patched http 
2022-04-21T16:18:42.589Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:42.590Z appoptics:patching patched fs 
2022-04-21T16:18:42.617Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v16.14.2)
2022-04-21T16:18:42.623Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-21T16:18:42.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-6223660c73a67085a9d72a4a60ba4ec550d74383-1fd0956ee30e18b7-01 outer:exit 2b-6223660c73a67085a9d72a4a60ba4ec550d74383-ff72e44d2f2d7e56-01
2022-04-21T16:18:42.673Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:42.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-a39023c167d0b5be3e5c443200d36bb7205925c2-f5dfa58796563ba1-01 outer:exit 2b-a39023c167d0b5be3e5c443200d36bb7205925c2-6354ff622186fddf-01
2022-04-21T16:18:42.725Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:42.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cc226d427447a2eee49bb23f4c6a9ef4890af45-03c2e19874cc8f7d-01 outer:exit 2b-5cc226d427447a2eee49bb23f4c6a9ef4890af45-504182806dfde1b1-01
2022-04-21T16:18:42.730Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:42.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-73594a3816146f0996c47df613a5e7b1ccc8f986-5cfdc59dacf8a33c-01 outer:exit 2b-73594a3816146f0996c47df613a5e7b1ccc8f986-0b042ad792370ef3-01
2022-04-21T16:18:42.735Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:42.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-181ff53a8de1a9ab4ad9713d3ba92b07c4bc05c4-7af80a8f88778e2a-01 outer:exit 2b-181ff53a8de1a9ab4ad9713d3ba92b07c4bc05c4-49b68f4a39215c76-01
2022-04-21T16:18:42.746Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:42.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-26635db8b39336702282a2fcdc276302db46d9b9-e18d9319fb99ce10-01 outer:exit 2b-26635db8b39336702282a2fcdc276302db46d9b9-d149bbf64b7016f0-01
2022-04-21T16:18:42.749Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:42.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-0da9996a97295dcbb93a3047c05d4750521cdbf3-0141ebd5c8bd9fd3-01 outer:exit 2b-0da9996a97295dcbb93a3047c05d4750521cdbf3-bf72b5c61f28e5ac-01
2022-04-21T16:18:42.752Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:42.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d447cbcea03fb0f30424e6f45d761022c4c7f8-e28a897c1a2e9e1a-01 outer:exit 2b-47d447cbcea03fb0f30424e6f45d761022c4c7f8-da140898b76d2774-01
2022-04-21T16:18:42.758Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:42.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-227db139bee5155cbdf44e8c2a2923f9e8f9afc7-18683c91481a7233-01 outer:exit 2b-227db139bee5155cbdf44e8c2a2923f9e8f9afc7-b82210e9370690e3-01
2022-04-21T16:18:42.761Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:42.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d271fe027e8c54a0b2a4510e85617f5be367e96-1862abb496d0b7c2-01 outer:exit 2b-1d271fe027e8c54a0b2a4510e85617f5be367e96-24874ee8cf28b16e-01
2022-04-21T16:18:42.765Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:42.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-161b5f0ffbbc0b5d3d05a0bcd2078dc2c7fc648d-3b0a8ea24a3d658d-01 outer:exit 2b-161b5f0ffbbc0b5d3d05a0bcd2078dc2c7fc648d-a9e342aaa9e59deb-01
2022-04-21T16:18:42.769Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:42.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-17673e23a3280e31c68cf4a820c2ca4b40c39aea-e719813b3360c402-01 outer:exit 2b-17673e23a3280e31c68cf4a820c2ca4b40c39aea-dab579511ad38967-01
2022-04-21T16:18:42.787Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:42.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-09b31994894ae132c9c8f4d0cfd3778ec83e9bf2-3b28e3c9dd955166-01 outer:exit 2b-09b31994894ae132c9c8f4d0cfd3778ec83e9bf2-d68438a015d5ada5-01
2022-04-21T16:18:42.808Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:42.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced7ae8a66182411741b42df9bf12dc20ee9b219-f3b019e55010731e-01 outer:exit 2b-ced7ae8a66182411741b42df9bf12dc20ee9b219-44f2ac0f372d0fb4-01
2022-04-21T16:18:42.851Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:42.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdfff94c40f35ffa71aa56a390f127ec568c0298-2668562eb41c7b9c-01 outer:exit 2b-cdfff94c40f35ffa71aa56a390f127ec568c0298-efd26ad02a55018b-01
2022-04-21T16:18:42.854Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:42.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-6611624c4b8717cb939a8b7748cf876e5472ca3b-2126ca2d39643e7f-01 outer:exit 2b-6611624c4b8717cb939a8b7748cf876e5472ca3b-a00801b1918731e5-01
2022-04-21T16:18:42.857Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:42.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5362ac2237ee2c45e0165004f5a05af0b8fc4bf-06dcd9429f38653b-01 outer:exit 2b-f5362ac2237ee2c45e0165004f5a05af0b8fc4bf-56a09a96364f41b6-01
2022-04-21T16:18:42.863Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:42.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8a90970fa30a3bc4fb8d480569e696939c2c73-26bd567a60c2ad15-01 outer:exit 2b-dd8a90970fa30a3bc4fb8d480569e696939c2c73-8a1b7a1c22330fec-01
2022-04-21T16:18:42.866Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:42.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-80f6104374b21f1444ed125aec2c21554a6885f4-def44cb0ce2c3fc0-01 outer:exit 2b-80f6104374b21f1444ed125aec2c21554a6885f4-d5b6eb6767710d4f-01
2022-04-21T16:18:42.868Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:42.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-36d07513d6568ebebe77e2ea564de2863169541e-e1d8e39691bc798b-01 outer:exit 2b-36d07513d6568ebebe77e2ea564de2863169541e-688ace102b6ee022-01
2022-04-21T16:18:42.873Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:42.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd28ec876ad4167a3ead96c8c44fa63f0264edd2-c6abd3ecabd521f3-01 outer:exit 2b-dd28ec876ad4167a3ead96c8c44fa63f0264edd2-80f6af1c8b0fa6cb-01
2022-04-21T16:18:42.877Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:42.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-da5793e99e2912798f9816f1b032035fcca710a1-c2cf23ab54765a7f-01 outer:exit 2b-da5793e99e2912798f9816f1b032035fcca710a1-9d62731a2e0d68b9-01
2022-04-21T16:18:42.879Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:42.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a4619fe85c7d34a11c639871ec2ef7bd6abe981-848cdc548d952a39-01 outer:exit 2b-9a4619fe85c7d34a11c639871ec2ef7bd6abe981-a34d202872cbf665-01
2022-04-21T16:18:42.884Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:42.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-136a062f0a3c87312bb4a132a6ee5b5c38242fc4-b72dcf324884646d-01 outer:exit 2b-136a062f0a3c87312bb4a132a6ee5b5c38242fc4-b287d6e9b68034fe-01
2022-04-21T16:18:42.889Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:42.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9c989fc6a8a1b5d4fb9b1e450d43d5c812cb963-939a0983936a0012-01 outer:exit 2b-a9c989fc6a8a1b5d4fb9b1e450d43d5c812cb963-585b6b3e1b1d82a6-01
2022-04-21T16:18:42.892Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:42.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-d317295222625ffd42206a69e50cad5909d55655-54d4ff9d418ecbe7-01 outer:exit 2b-d317295222625ffd42206a69e50cad5909d55655-c4dc691f85101fee-01
2022-04-21T16:18:42.896Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:42.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-19a7465bca0d39a06cbf65c9edc2bf3d6c0261eb-4fd5569fa7520121-01 outer:exit 2b-19a7465bca0d39a06cbf65c9edc2bf3d6c0261eb-8e028c26b88719b5-01
2022-04-21T16:18:42.915Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:42.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-55db0c6d95888907018e039290918da5e50e3a92-1b881fdee8b14667-01 outer:exit 2b-55db0c6d95888907018e039290918da5e50e3a92-b04617b0f18d857f-01
2022-04-21T16:18:42.935Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:42.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e1e423431040e251c9ae1982dddec626cdbc24c-dde7b7aa06499f6f-01 outer:exit 2b-3e1e423431040e251c9ae1982dddec626cdbc24c-3564b4fd2517ddbb-01
2022-04-21T16:18:42.945Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:42.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-705af03b958efbeee6f4d88e82b1d19348e83dd9-7ffb0bacceed772e-01 outer:exit 2b-705af03b958efbeee6f4d88e82b1d19348e83dd9-f2315ea8657be444-01
2022-04-21T16:18:42.951Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:42.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-66e51ebd0804b58c65248543527bb28e1a2d2853-8bce270b1e342cb5-01 outer:exit 2b-66e51ebd0804b58c65248543527bb28e1a2d2853-da371ed44515ce8d-01
2022-04-21T16:18:42.954Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:42.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb0024156b8c1cc63ae17dde53a806652efeafe7-ee11654a0faebc3a-01 outer:exit 2b-eb0024156b8c1cc63ae17dde53a806652efeafe7-54ac260459cc8639-01
2022-04-21T16:18:42.958Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:42.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-713d1a11fc34d0ffa49d285125828b535f7d356a-2660e9632c2e2520-01 outer:exit 2b-713d1a11fc34d0ffa49d285125828b535f7d356a-ebb456b3d85eba04-01
2022-04-21T16:18:42.965Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:42.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa70c1364938b0f964f0594610660106b8adf778-cb3fe012e33af063-01 outer:exit 2b-aa70c1364938b0f964f0594610660106b8adf778-ee014771d2f23426-01
2022-04-21T16:18:42.967Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:42.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5e092b9241dc9fd0c83cd0b4fe81a8f937c79e2-a7e7676897afdab7-01 outer:exit 2b-d5e092b9241dc9fd0c83cd0b4fe81a8f937c79e2-de1644b17f144f3c-01
2022-04-21T16:18:42.969Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:42.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-84e7fe3b0050ea3914bdfa348adbc34b41fbb30c-efcd449d8a7c49c4-01 outer:exit 2b-84e7fe3b0050ea3914bdfa348adbc34b41fbb30c-360d625b6917061a-01
2022-04-21T16:18:42.971Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:42.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-15e9f7d7cacfb36d4d35ec3fee4832fe0c0c89a2-0b54625562ff4e22-01 outer:exit 2b-15e9f7d7cacfb36d4d35ec3fee4832fe0c0c89a2-fb165b6a51d7d374-01
2022-04-21T16:18:42.973Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:42.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-74a60657c695852e965b30a2bbdf4e8d6837177e-4d01d38c290a0ddb-01 outer:exit 2b-74a60657c695852e965b30a2bbdf4e8d6837177e-a324d756e9dd63a6-01
2022-04-21T16:18:42.975Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:42.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-3db7324998c2593dd628b140e714908c3429de88-3fd8cbb7cc89f3bc-01 outer:exit 2b-3db7324998c2593dd628b140e714908c3429de88-927f2a2ee787e876-01
2022-04-21T16:18:42.985Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:42.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-52cd72930044b2bdbdd084ee300144a4f8867c92-7e8eab8f66108721-01 outer:exit 2b-52cd72930044b2bdbdd084ee300144a4f8867c92-77b019ada1e3d2e2-01
2022-04-21T16:18:42.994Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:42.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bffb0576757c5faea3d4a91e0f3a5ef52818fb8-59e3e6812419b9df-01 outer:exit 2b-0bffb0576757c5faea3d4a91e0f3a5ef52818fb8-4bd278a9a0d8b574-01
2022-04-21T16:18:42.997Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:43.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba4748325658098f91b1b94db9354e81300989f2-ab5d3fe5c19d8eda-01 outer:exit 2b-ba4748325658098f91b1b94db9354e81300989f2-35026f11c3eb8778-01
2022-04-21T16:18:43.001Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:43.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9c2009e15c8926ccb151513430123623bf0aac3-ebef0ad555c34ca5-01 outer:exit 2b-e9c2009e15c8926ccb151513430123623bf0aac3-cfca6b6aacf8a257-01
2022-04-21T16:18:43.028Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:43.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-d490af5d898822ee843cc2b1acc0f6b6d2a62aef-ecec0673fe402f23-01 outer:exit 2b-d490af5d898822ee843cc2b1acc0f6b6d2a62aef-3752c74f7aaa6d16-01
2022-04-21T16:18:43.075Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (445ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:49.212Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:49.212Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:49.212Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:49.213Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:49.274Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:49.395Z appoptics:patching patched crypto 
2022-04-21T16:18:49.414Z appoptics:patching patched https 
2022-04-21T16:18:49.414Z appoptics:patching patched http 
2022-04-21T16:18:49.456Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:49.457Z appoptics:patching patched fs 
2022-04-21T16:18:49.480Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v16.14.2)
2022-04-21T16:18:49.486Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-21T16:18:49.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-607c9a2fbd0525e99fdb2d2b221065dded48ba8e-95197a8a4d5ce625-01 outer:exit 2b-607c9a2fbd0525e99fdb2d2b221065dded48ba8e-64350b9c0d1e9a89-01
2022-04-21T16:18:49.542Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:49.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-72f193b2a611fceeacb704cde96aa99d549eb365-b9e86b76ef867eb5-01 outer:exit 2b-72f193b2a611fceeacb704cde96aa99d549eb365-06cfb49aaac1e37b-01
2022-04-21T16:18:49.588Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:49.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-1634faade0988493ff04755c461bb39a59f78c4a-38b7f573ef3401da-01 outer:exit 2b-1634faade0988493ff04755c461bb39a59f78c4a-4160e1708677d619-01
2022-04-21T16:18:49.592Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:49.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ea801cedf40e8f2bc4b0d71bfc7f0af82aafbda-34be7a36a9db8443-01 outer:exit 2b-1ea801cedf40e8f2bc4b0d71bfc7f0af82aafbda-e7a11c31ced4ca90-01
2022-04-21T16:18:49.595Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:49.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-5518831a9c440e94fbf5f39777e3f1ed860ff20c-825d1a4a9e0b92fa-01 outer:exit 2b-5518831a9c440e94fbf5f39777e3f1ed860ff20c-0bb16aca9c1a117c-01
2022-04-21T16:18:49.599Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:49.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-90fe7d11dfde732ba55aa902e550f84ed3dd327a-50651e8f3e330c3e-01 outer:exit 2b-90fe7d11dfde732ba55aa902e550f84ed3dd327a-8267e1bdfc22db5b-01
2022-04-21T16:18:49.603Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:49.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-17fda2541eb14978c85bc7f5da5f0a0a3fc9c435-4d94b831d64c8bf1-01 outer:exit 2b-17fda2541eb14978c85bc7f5da5f0a0a3fc9c435-8d39d59775e9ee60-01
2022-04-21T16:18:49.606Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:49.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-0de37f676b0297620a58490d2ff6a92ca3434a5f-4173c98742d5da83-01 outer:exit 2b-0de37f676b0297620a58490d2ff6a92ca3434a5f-3ac5353f7770a14e-01
2022-04-21T16:18:49.608Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:49.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1aa6e1944d4e23d62549c31ee9ba95ac0be3dc5-70073f9ed820b0e4-01 outer:exit 2b-e1aa6e1944d4e23d62549c31ee9ba95ac0be3dc5-a1344de3e0837c15-01
2022-04-21T16:18:49.611Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:49.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-33aa94ef45f229c1514bfb99fa9c9fac37dc4cf6-79ca98b4c4734997-01 outer:exit 2b-33aa94ef45f229c1514bfb99fa9c9fac37dc4cf6-b0a3a6dd3fe02c33-01
2022-04-21T16:18:49.615Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:49.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8b050ac63c8afacb7fb19656bdaf1285867eebf-989593ce7b0f96ff-01 outer:exit 2b-b8b050ac63c8afacb7fb19656bdaf1285867eebf-064a98667b398df8-01
2022-04-21T16:18:49.619Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:49.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7ae7edde8094905334528784a66a9de50b9a1aa-8584369681db4f6c-01 outer:exit 2b-a7ae7edde8094905334528784a66a9de50b9a1aa-38677cfe5f27f121-01
2022-04-21T16:18:49.625Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:49.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c5d5d0750af81376f6436b2d32b04fdb18d83e3-d5cc9915ccee7ac4-01 outer:exit 2b-4c5d5d0750af81376f6436b2d32b04fdb18d83e3-5e094bdd107604ee-01
2022-04-21T16:18:49.643Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:49.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ebd60641dedce31e44ed65b48e2aefd6f89d59f-2e50a3cc70efc479-01 outer:exit 2b-9ebd60641dedce31e44ed65b48e2aefd6f89d59f-1678278fcb8abeed-01
2022-04-21T16:18:49.683Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:49.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc724f372d820fa7c3729ab391d9ac4a260992fa-b9589847672de290-01 outer:exit 2b-dc724f372d820fa7c3729ab391d9ac4a260992fa-d9513d31016aae9e-01
2022-04-21T16:18:49.686Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:49.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-57132a0f90dc1a85b14819b3c6c17d7be1a245b8-28216f2d2609f686-01 outer:exit 2b-57132a0f90dc1a85b14819b3c6c17d7be1a245b8-cec34340c4afe2a6-01
2022-04-21T16:18:49.688Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:49.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ed62853cb07be3faa072aa6cf2a55d796b267d-6ab40d5dea6775dd-01 outer:exit 2b-77ed62853cb07be3faa072aa6cf2a55d796b267d-1a02e363f2ba154f-01
2022-04-21T16:18:49.691Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:49.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-f972962140ab63b9d7df22d8e12aaa557a8f6a6c-5432c101c301d3bf-01 outer:exit 2b-f972962140ab63b9d7df22d8e12aaa557a8f6a6c-63039d2c38b15413-01
2022-04-21T16:18:49.693Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:49.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7aed8bae04275d56255f54c3abbb8beea6db74e-c1569b72cec326f4-01 outer:exit 2b-e7aed8bae04275d56255f54c3abbb8beea6db74e-0fbd2f96e1c84e05-01
2022-04-21T16:18:49.695Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:49.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8009f0d68aadd8bcce806c800c38acc9d3a689a-343c9fa0573e2863-01 outer:exit 2b-d8009f0d68aadd8bcce806c800c38acc9d3a689a-43320213418e351e-01
2022-04-21T16:18:49.697Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:49.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-71d698214035058afb42edac8fa0acd7235429a0-8ac115d60dc1b1f8-01 outer:exit 2b-71d698214035058afb42edac8fa0acd7235429a0-c9a397f259171ea0-01
2022-04-21T16:18:49.699Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:49.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-056e12e5f8174f47164bf530a15972a544bfd7ac-929eaa6cf9cccb12-01 outer:exit 2b-056e12e5f8174f47164bf530a15972a544bfd7ac-40561568ea803d07-01
2022-04-21T16:18:49.701Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:49.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-2baf00ac81b6dfc224e0955abcd46bf0aebf93cd-8b971b8cfd486c2a-01 outer:exit 2b-2baf00ac81b6dfc224e0955abcd46bf0aebf93cd-827de07ad6866562-01
2022-04-21T16:18:49.704Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:49.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d7ff9322c6af9a4c4f847c06f7afa3e6c431c5d-3af8759a60e25f48-01 outer:exit 2b-5d7ff9322c6af9a4c4f847c06f7afa3e6c431c5d-cce852f68edea67c-01
2022-04-21T16:18:49.706Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:49.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d513e6802c3ea53d83148a0ad954df8378ffe04-7ff88779b69e2b27-01 outer:exit 2b-3d513e6802c3ea53d83148a0ad954df8378ffe04-a2c9d7d55c25ebe0-01
2022-04-21T16:18:49.709Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:49.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7f23926981c3e61c08870812a7a1b9ac1f0580a-b2cd75e524bdc509-01 outer:exit 2b-c7f23926981c3e61c08870812a7a1b9ac1f0580a-80ac175976c85eda-01
2022-04-21T16:18:49.711Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:49.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a900dbaac4dc2a663a23dcf85f31ea14d63b8d2-ad73fdb802635445-01 outer:exit 2b-8a900dbaac4dc2a663a23dcf85f31ea14d63b8d2-b23cef7519de21b4-01
2022-04-21T16:18:49.717Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:49.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe9a6d03e6a2fa1b57014169494b5443b13763a7-540384e18082a31d-01 outer:exit 2b-fe9a6d03e6a2fa1b57014169494b5443b13763a7-d1cae1170dc00bee-01
2022-04-21T16:18:49.723Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:49.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9a186b5e3eecccae7d97ae58eca4eaf97afec0a-14c4cf8750964b54-01 outer:exit 2b-d9a186b5e3eecccae7d97ae58eca4eaf97afec0a-196c8797d9a56c29-01
2022-04-21T16:18:49.730Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:49.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-16340a2df0bba0a8821ff050218f77584242a23d-9000f5def6d081c3-01 outer:exit 2b-16340a2df0bba0a8821ff050218f77584242a23d-1edc7fbe2cdb12d0-01
2022-04-21T16:18:49.736Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:49.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b3520a004b4b60cfec2e94a85bd0f7ac5f349f2-7fa7675bcbcacf35-01 outer:exit 2b-2b3520a004b4b60cfec2e94a85bd0f7ac5f349f2-1bc3156a0d3c44a1-01
2022-04-21T16:18:49.738Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:49.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-64d3c13711df6c09b472133ce37019409c4eb9c3-027ddd68ab531509-01 outer:exit 2b-64d3c13711df6c09b472133ce37019409c4eb9c3-2a6f4fea5c752aa1-01
2022-04-21T16:18:49.741Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:49.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-df700e692765ed629107180481cc42d59c1e7ef0-abed74aa2a54486e-01 outer:exit 2b-df700e692765ed629107180481cc42d59c1e7ef0-c17f0f7af12feb16-01
2022-04-21T16:18:49.747Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:49.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-69cbaeaa5cb08ebb1261e9c09eaf330b023c28d9-8de596710738a5d0-01 outer:exit 2b-69cbaeaa5cb08ebb1261e9c09eaf330b023c28d9-e736251f2da23e56-01
2022-04-21T16:18:49.750Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:49.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ddeb258260c4cee1eaeeb704cfb26abb8bae1f-cfb365790cc290ca-01 outer:exit 2b-49ddeb258260c4cee1eaeeb704cfb26abb8bae1f-3569ad263aaf5738-01
2022-04-21T16:18:49.752Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:49.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bb9406fb482fe5d4190a515f7c85d72b0fdf286-dafefe9b906a24ae-01 outer:exit 2b-2bb9406fb482fe5d4190a515f7c85d72b0fdf286-1bf4a4a446a0c887-01
2022-04-21T16:18:49.753Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:49.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-1085c7216a17e9dc730e5abd6fa67e0800162ac5-5c6ad76a80e7fdcd-01 outer:exit 2b-1085c7216a17e9dc730e5abd6fa67e0800162ac5-34ee1bd3b1d6b67c-01
2022-04-21T16:18:49.755Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:49.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ef4bb959e49fe0348036bba2f614643c925ebae-76f5193f32074066-01 outer:exit 2b-7ef4bb959e49fe0348036bba2f614643c925ebae-aed6c47dbdf79c7c-01
2022-04-21T16:18:49.757Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:49.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ae5147fe6bd37b069d22dd8ed7d1f69c37dd553-2cd3457f037cf211-01 outer:exit 2b-0ae5147fe6bd37b069d22dd8ed7d1f69c37dd553-5ec83b8e4b9d3738-01
2022-04-21T16:18:49.765Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:49.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-f241751e4d8e7e44361fd78baabafaecd03dd930-7cdb99c5dbe2b949-01 outer:exit 2b-f241751e4d8e7e44361fd78baabafaecd03dd930-e4631d0c5ee5c543-01
2022-04-21T16:18:49.773Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:49.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-c400b1e420ee83ea66689a01f548ec7f74a1f90a-d771d987bfab4e76-01 outer:exit 2b-c400b1e420ee83ea66689a01f548ec7f74a1f90a-1210816b0644b6dd-01
2022-04-21T16:18:49.775Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:49.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-46049b817ae0172f29c0082ae796792b629cc94a-b43fba3d9610f636-01 outer:exit 2b-46049b817ae0172f29c0082ae796792b629cc94a-f956a054a0361dcb-01
2022-04-21T16:18:49.778Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:49.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d981b98374c4634d6c41935f7a7a10865b22f30-0e2edba434eb8ff8-01 outer:exit 2b-8d981b98374c4634d6c41935f7a7a10865b22f30-7709a47d43accc76-01
2022-04-21T16:18:49.781Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:49.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-840099dd9e079cd199b01e346a1306aabf047518-6362b5b26f4fc993-01 outer:exit 2b-840099dd9e079cd199b01e346a1306aabf047518-c2ec1c99d7d751f5-01
2022-04-21T16:18:49.807Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (315ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:56.209Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:56.210Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:56.210Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:56.210Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:56.275Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:56.427Z appoptics:patching patched crypto 
2022-04-21T16:18:56.469Z appoptics:patching patched https 
2022-04-21T16:18:56.470Z appoptics:patching patched http 
2022-04-21T16:18:56.514Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:56.514Z appoptics:patching patched fs 
2022-04-21T16:18:56.542Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v16.14.2)
2022-04-21T16:18:56.548Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-21T16:18:56.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-38739063a5555945bdb5ebfbb495a05bce588cc6-75af389947fbc131-01 outer:exit 2b-38739063a5555945bdb5ebfbb495a05bce588cc6-ac19768f914635a0-01
2022-04-21T16:18:56.595Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:56.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-33dcc90e5e265f7bb47f247d8514a51317aa599b-989ebf7c154eaebe-01 outer:exit 2b-33dcc90e5e265f7bb47f247d8514a51317aa599b-6a3f87b2adad6e30-01
2022-04-21T16:18:56.642Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:56.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-da05d713954564ab5e6a4be2017b215da6a49928-5ad7bdb331a8fb67-01 outer:exit 2b-da05d713954564ab5e6a4be2017b215da6a49928-a6bdd312e03bd676-01
2022-04-21T16:18:56.646Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:56.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1813c82473f3407a3628e7f10d57c8c0bbac27d-25e0e6bc8cc2e668-01 outer:exit 2b-f1813c82473f3407a3628e7f10d57c8c0bbac27d-cfdb3caf7941f220-01
2022-04-21T16:18:56.650Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:56.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dc1a2237d35a8f01f7f98a0f73219887df91388-ec4af912dd99064d-01 outer:exit 2b-1dc1a2237d35a8f01f7f98a0f73219887df91388-b77a1b544a1c3879-01
2022-04-21T16:18:56.659Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:56.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-1afa13614a8d474e231c504115ce352edfab1b6b-b227ca304c71e3d9-01 outer:exit 2b-1afa13614a8d474e231c504115ce352edfab1b6b-8b0972ebdb6586b6-01
2022-04-21T16:18:56.664Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:56.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-37e5a9fa2cac86325c099f5b4987cc1dd59ac521-c407c2b465a629e6-01 outer:exit 2b-37e5a9fa2cac86325c099f5b4987cc1dd59ac521-ff4b255c782d9438-01
2022-04-21T16:18:56.671Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:56.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd1ace42b1c7d4c89117bc07c695a8e79eff5168-cd3e1ef8893d6b98-01 outer:exit 2b-bd1ace42b1c7d4c89117bc07c695a8e79eff5168-01085e8417d33822-01
2022-04-21T16:18:56.676Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:56.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-588f357a9d084392abf4bd2b12268eb87221768e-352d51463e2ff9f2-01 outer:exit 2b-588f357a9d084392abf4bd2b12268eb87221768e-86a7f63f8259645c-01
2022-04-21T16:18:56.679Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:56.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b009ef79c69bd4f7b3f817366f7ce77e605e8af-e821e86afe43aebb-01 outer:exit 2b-8b009ef79c69bd4f7b3f817366f7ce77e605e8af-43f38350a6b5f5ba-01
2022-04-21T16:18:56.684Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:56.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e15354540bb5e5a682624af98f81fd784aa8208-3a10b9622e75df85-01 outer:exit 2b-4e15354540bb5e5a682624af98f81fd784aa8208-d18955fc4a06a772-01
2022-04-21T16:18:56.689Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:56.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fc9136f1befd869f501832bf722dff15eb96e11-6927c01fd13ce446-01 outer:exit 2b-9fc9136f1befd869f501832bf722dff15eb96e11-0fcc08ee3909ea8f-01
2022-04-21T16:18:56.695Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:56.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-67dc881587731ba996b45aedadc88f8c90092475-86aa188fd4b89631-01 outer:exit 2b-67dc881587731ba996b45aedadc88f8c90092475-473fe155abd74ed4-01
2022-04-21T16:18:56.716Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:56.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-f301d69b4cc1b8e73426e34dd4f87634a4d525de-cb222db26c7cc06f-01 outer:exit 2b-f301d69b4cc1b8e73426e34dd4f87634a4d525de-07cffeb3dc1c1be3-01
2022-04-21T16:18:56.756Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:56.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-9171d075f18abf1ff7272c5bd97d77d265b9ee1c-f1071b5e1d7919e1-01 outer:exit 2b-9171d075f18abf1ff7272c5bd97d77d265b9ee1c-bdd6744b39592213-01
2022-04-21T16:18:56.759Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:56.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-20565701eaac594f34417b5d8bb21a1df8e238a5-32148e76393c2467-01 outer:exit 2b-20565701eaac594f34417b5d8bb21a1df8e238a5-b6d8391451f70ceb-01
2022-04-21T16:18:56.761Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:56.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-f763374f644991265ca004e143697a7d77e354ad-be5b62b90357cb14-01 outer:exit 2b-f763374f644991265ca004e143697a7d77e354ad-def32864fca31242-01
2022-04-21T16:18:56.764Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:56.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-082614c91f20fe0376ef161fba02df86d49b16bc-2ce57776f573f6f6-01 outer:exit 2b-082614c91f20fe0376ef161fba02df86d49b16bc-8252f86b44d10159-01
2022-04-21T16:18:56.766Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:56.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5c3f84d606335caf039d8dc36bf884461d5ef35-78af8b9e1b51b273-01 outer:exit 2b-f5c3f84d606335caf039d8dc36bf884461d5ef35-fbac4dc7c9e10b58-01
2022-04-21T16:18:56.768Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:56.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b25b2573edaec0edd7dd31126995cee6196453a-59d1587eca44ef59-01 outer:exit 2b-6b25b2573edaec0edd7dd31126995cee6196453a-0ffb1f48401cf249-01
2022-04-21T16:18:56.770Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:56.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-faa5db586977f060e1a705547d68899b56239c17-693313d1386d8266-01 outer:exit 2b-faa5db586977f060e1a705547d68899b56239c17-cff95616d6e289fb-01
2022-04-21T16:18:56.772Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:56.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-adeb0b1601a7cca15308219a90e9cb8dac188b07-1c7c4e279c9a5d24-01 outer:exit 2b-adeb0b1601a7cca15308219a90e9cb8dac188b07-e5201c78037db7d6-01
2022-04-21T16:18:56.774Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:56.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-9115e280ffab9ca0e134e152fc034af37cb11270-ec3248d96375d2cc-01 outer:exit 2b-9115e280ffab9ca0e134e152fc034af37cb11270-66786ab781e264dd-01
2022-04-21T16:18:56.777Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:56.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee6606a7c7638b244e3d74805517dbad8212d123-5e841529d268d801-01 outer:exit 2b-ee6606a7c7638b244e3d74805517dbad8212d123-fea81d14c0574d70-01
2022-04-21T16:18:56.780Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:56.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d10190b6b725665f15761fb067e8eee90bed442-2582571ab49cdbbc-01 outer:exit 2b-5d10190b6b725665f15761fb067e8eee90bed442-c81d44847e4544af-01
2022-04-21T16:18:56.782Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:56.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7b14b22f0104fdf9c06a82edbdebd85aaa62e8e-7b7e21c213f2e7bd-01 outer:exit 2b-a7b14b22f0104fdf9c06a82edbdebd85aaa62e8e-7b9061902670810c-01
2022-04-21T16:18:56.785Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:56.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-f01ad821a9ab3a4ffe91a54de011467dcc2c78da-af31c60e4bedfff0-01 outer:exit 2b-f01ad821a9ab3a4ffe91a54de011467dcc2c78da-8b8b494bb131004a-01
2022-04-21T16:18:56.791Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:56.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-17afa8a29cd8cb8d316744d1f34b1ea7e377a68b-354c3991c54ba2ca-01 outer:exit 2b-17afa8a29cd8cb8d316744d1f34b1ea7e377a68b-a701077aa20bf66f-01
2022-04-21T16:18:56.797Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:56.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dc392c972d4912462027f3275f3803c17d39274-2fc3b5dc1829f23e-01 outer:exit 2b-1dc392c972d4912462027f3275f3803c17d39274-d4ca1abf0402b7c2-01
2022-04-21T16:18:56.805Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:56.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-027bb09eb61a4352e762c7696e314743cff63da7-136b82468da1b3bc-01 outer:exit 2b-027bb09eb61a4352e762c7696e314743cff63da7-c60377cd79baf6d4-01
2022-04-21T16:18:56.811Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:56.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b917766881db8a05654effd9fca11026df829ac-a22a72ade5649d0f-01 outer:exit 2b-1b917766881db8a05654effd9fca11026df829ac-65e4369b38887f99-01
2022-04-21T16:18:56.813Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:56.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-34cbab513ba3f41b294141fd12b1edd4dea5e272-7df466dfed9425e1-01 outer:exit 2b-34cbab513ba3f41b294141fd12b1edd4dea5e272-e40c3269dcf39118-01
2022-04-21T16:18:56.816Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:56.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2ea41119eb9504f2bf4403687ee472daa0d1430-a5a3d05b7eaf7944-01 outer:exit 2b-c2ea41119eb9504f2bf4403687ee472daa0d1430-0f0d2f8d381076ba-01
2022-04-21T16:18:56.822Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:56.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8ada2e4821e87d4732e1c9c087c61cb5ead6b30-928b8b9b573b1df2-01 outer:exit 2b-d8ada2e4821e87d4732e1c9c087c61cb5ead6b30-67846ec2b2f22017-01
2022-04-21T16:18:56.824Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:56.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9da5c790c98f74ca130803cd8a4f6dc73f0b74d-31a2de6a74e2ea7e-01 outer:exit 2b-f9da5c790c98f74ca130803cd8a4f6dc73f0b74d-9f62e6d889829114-01
2022-04-21T16:18:56.826Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:56.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-18be698ff3b7413bf4a826f7dc2880aba421d181-8cdae934f2b51609-01 outer:exit 2b-18be698ff3b7413bf4a826f7dc2880aba421d181-6b986d0961785ed9-01
2022-04-21T16:18:56.828Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:56.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-317a43c91a0820f2c8b0a5266cff7944c5c60606-a8696a3a30ec4ed4-01 outer:exit 2b-317a43c91a0820f2c8b0a5266cff7944c5c60606-06842ec949604a7c-01
2022-04-21T16:18:56.830Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:56.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec2dc6033b7b7a79b51259d0d456b0adeb22afd8-955448b60a408e14-01 outer:exit 2b-ec2dc6033b7b7a79b51259d0d456b0adeb22afd8-854adaa8166a6a13-01
2022-04-21T16:18:56.831Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:56.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-64bf16b8098ac3f07bfaad05d6022e84533a221b-8befb0c3f25805d4-01 outer:exit 2b-64bf16b8098ac3f07bfaad05d6022e84533a221b-21b6fcf043bb68dd-01
2022-04-21T16:18:56.840Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:56.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdf1012663590e1dc8da85d09f6f1885b8b440a0-a7345b54befacab6-01 outer:exit 2b-bdf1012663590e1dc8da85d09f6f1885b8b440a0-b37937ea405139a6-01
2022-04-21T16:18:56.850Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:56.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aafefebb89ec36a2de586afbefa4bcea53d3f67-ccd37b76e7517ba1-01 outer:exit 2b-0aafefebb89ec36a2de586afbefa4bcea53d3f67-aeaba38d95ce7abc-01
2022-04-21T16:18:56.853Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:56.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d604398c428ec2949868225179852ccbe04488f-82edfe2110b0224f-01 outer:exit 2b-9d604398c428ec2949868225179852ccbe04488f-bc3fac7deb209466-01
2022-04-21T16:18:56.855Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:56.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-da8ebf3ad8ddef6b0870d0650dbd1c478653627e-dfe315734a723173-01 outer:exit 2b-da8ebf3ad8ddef6b0870d0650dbd1c478653627e-232905a5d8f1b02c-01
2022-04-21T16:18:56.858Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:56.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1f30f4db4cba20ade8b851f3c1521c58b5c1443-a810906c916afa0a-01 outer:exit 2b-e1f30f4db4cba20ade8b851f3c1521c58b5c1443-4b60bde1987407a2-01
2022-04-21T16:18:56.885Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (332ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:02.838Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:02.838Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:02.838Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:02.839Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:02.900Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:03.019Z appoptics:patching patched crypto 
2022-04-21T16:19:03.037Z appoptics:patching patched https 
2022-04-21T16:19:03.038Z appoptics:patching patched http 
2022-04-21T16:19:03.078Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:03.079Z appoptics:patching patched fs 
2022-04-21T16:19:03.104Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v16.14.2)
2022-04-21T16:19:03.110Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-21T16:19:03.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-f47e77bb277c58c8139d063c591ee8583de5bfb5-6b31d74495f5e7b3-01 outer:exit 2b-f47e77bb277c58c8139d063c591ee8583de5bfb5-40e98d864a93f954-01
2022-04-21T16:19:03.155Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:03.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-e614b77a0077f1ef2b357fc929439d41eaa3a8fa-cbd9fd5045a5107c-01 outer:exit 2b-e614b77a0077f1ef2b357fc929439d41eaa3a8fa-82b5122aa79e6426-01
2022-04-21T16:19:03.208Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:03.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f7e604b7542a9cb8749404016042eb339a80d9a-752393104c341ee7-01 outer:exit 2b-7f7e604b7542a9cb8749404016042eb339a80d9a-f1e34747e866655d-01
2022-04-21T16:19:03.212Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:03.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-86f400a13031fd827b4fb034c7bec368358bc2d7-97117664de31efdf-01 outer:exit 2b-86f400a13031fd827b4fb034c7bec368358bc2d7-0dba671508e16af9-01
2022-04-21T16:19:03.215Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:03.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-46289bbd50e10a284880fd1ea911dd5880356de9-40668af0901e6079-01 outer:exit 2b-46289bbd50e10a284880fd1ea911dd5880356de9-e2f5d53d16c3f168-01
2022-04-21T16:19:03.221Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:03.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-6465fe074c197248ff9929c342cbd6884c2e2381-2da86b0df514904d-01 outer:exit 2b-6465fe074c197248ff9929c342cbd6884c2e2381-dedf5d33269a631a-01
2022-04-21T16:19:03.224Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:03.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b041b41f09b3675d2edc4406a00587fb15553b8-d44ce6d89ec0a206-01 outer:exit 2b-6b041b41f09b3675d2edc4406a00587fb15553b8-5151c99a747e3a5f-01
2022-04-21T16:19:03.227Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:03.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-303e37d9cc18d52d03322dce846cb26fcd74b247-92621349406a4650-01 outer:exit 2b-303e37d9cc18d52d03322dce846cb26fcd74b247-b05ddf3e78aec798-01
2022-04-21T16:19:03.229Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:03.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e1b8a76675a5ebaff1ca692c5e23cf693ce3d79-3c0f31e35228fcc1-01 outer:exit 2b-5e1b8a76675a5ebaff1ca692c5e23cf693ce3d79-7d66751e44af3a02-01
2022-04-21T16:19:03.232Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:03.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-a77f848aab379d97ce6c993841b66733605ddccc-6e1296871c169394-01 outer:exit 2b-a77f848aab379d97ce6c993841b66733605ddccc-6a9ad1455cf750d4-01
2022-04-21T16:19:03.237Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:03.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-064bf6a9419f6de9f5eee8c829f57545d2762d42-5f34e43a8d7ae467-01 outer:exit 2b-064bf6a9419f6de9f5eee8c829f57545d2762d42-a9a200e215199d6d-01
2022-04-21T16:19:03.241Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:03.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-e95d53f23dbd67f1aa6c5816ff23c5ad494b3bfc-cd4b52b8b31c5123-01 outer:exit 2b-e95d53f23dbd67f1aa6c5816ff23c5ad494b3bfc-8faf438f0de51d7e-01
2022-04-21T16:19:03.247Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:03.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-3421fd7f30cf49a0042bdb9277812556c5e1e77a-5739487c401b85fb-01 outer:exit 2b-3421fd7f30cf49a0042bdb9277812556c5e1e77a-89c4594231c0a97f-01
2022-04-21T16:19:03.264Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:03.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c59a00083595f56e6b90bb9fb5bf7837aebe1ea-293e64d1056a1f6e-01 outer:exit 2b-8c59a00083595f56e6b90bb9fb5bf7837aebe1ea-a01b672bd092b1c8-01
2022-04-21T16:19:03.305Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:03.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-e59c824de019765d228394cf2581784b8c3e511d-958de89506f063d3-01 outer:exit 2b-e59c824de019765d228394cf2581784b8c3e511d-5e0d52bb5c65c342-01
2022-04-21T16:19:03.308Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:03.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b9bb963d26d570a57fcc31fcf72eae6b8a35ab9-c3622957e3ef5490-01 outer:exit 2b-1b9bb963d26d570a57fcc31fcf72eae6b8a35ab9-6474d26d0e1d7f90-01
2022-04-21T16:19:03.311Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:03.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb1cfe3e0d3338683ec067258d774c1a7454825e-2ab986d784154565-01 outer:exit 2b-fb1cfe3e0d3338683ec067258d774c1a7454825e-2c9d00cf87e55ddc-01
2022-04-21T16:19:03.314Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:03.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-65dffe81276d3d69e6f02c26a3103ffa776b642a-370db4215bc5b13c-01 outer:exit 2b-65dffe81276d3d69e6f02c26a3103ffa776b642a-e9f6813218191838-01
2022-04-21T16:19:03.316Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:03.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ab9a8c78718e138416e332e6631da521bb29105-8e0c1b6f696e0eb9-01 outer:exit 2b-7ab9a8c78718e138416e332e6631da521bb29105-d64ef8845b280d8a-01
2022-04-21T16:19:03.318Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:03.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-815bb461cc30b359beb3cc15cf6038142fb0c748-0c108b454f24f2dc-01 outer:exit 2b-815bb461cc30b359beb3cc15cf6038142fb0c748-be079cf5726c54b4-01
2022-04-21T16:19:03.320Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:03.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-e218c40def103c7ac6381cd712926f5946f4842a-61316a8936cfda25-01 outer:exit 2b-e218c40def103c7ac6381cd712926f5946f4842a-a1860ff073c877ca-01
2022-04-21T16:19:03.322Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:03.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-586e2bc39daba70216bd0875905b0396cc617ae8-4faae99c0d850ef5-01 outer:exit 2b-586e2bc39daba70216bd0875905b0396cc617ae8-0ec986bf5165cfe3-01
2022-04-21T16:19:03.324Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:03.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-56002fc962dd84c029a49e84772fc6449b615efb-9e1177473a703388-01 outer:exit 2b-56002fc962dd84c029a49e84772fc6449b615efb-45408106ebb13795-01
2022-04-21T16:19:03.327Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:03.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-75cdd3b70d8a54159188c6384dc41d58767b59d1-21613de05faf2f78-01 outer:exit 2b-75cdd3b70d8a54159188c6384dc41d58767b59d1-80d09112dd6bab71-01
2022-04-21T16:19:03.330Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:03.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fd57c6db115c0ee7ac49be511d1356840c7fde4-780c2221b8d2be89-01 outer:exit 2b-9fd57c6db115c0ee7ac49be511d1356840c7fde4-7b9c0010224232c1-01
2022-04-21T16:19:03.332Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:03.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd007f9c5c26b916174d2dcf7d4ae165f5275f61-16ec2eb7028f11ca-01 outer:exit 2b-cd007f9c5c26b916174d2dcf7d4ae165f5275f61-0e450ed9a9293a42-01
2022-04-21T16:19:03.334Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:03.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-661738b67aaa378a5d0948c00d8e3c9ca5be9f32-97c4159c8504609b-01 outer:exit 2b-661738b67aaa378a5d0948c00d8e3c9ca5be9f32-219f4885d9099c3e-01
2022-04-21T16:19:03.341Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:03.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ab3009cd63c45f006a00029f60470dd3ba3afe5-936449aeaa2a98fa-01 outer:exit 2b-2ab3009cd63c45f006a00029f60470dd3ba3afe5-b35fc94a69b7407b-01
2022-04-21T16:19:03.347Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:03.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8313e9f78de12b0b86c11c02f65a6a2ea879bca-b4a5ca7a5ff5357b-01 outer:exit 2b-a8313e9f78de12b0b86c11c02f65a6a2ea879bca-bb85279c6b8f6604-01
2022-04-21T16:19:03.355Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:03.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-8144d4033e06a39e809a05532508001409c7e944-2be7f94c329db635-01 outer:exit 2b-8144d4033e06a39e809a05532508001409c7e944-e85bfad4ab3d36d9-01
2022-04-21T16:19:03.361Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:03.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-740ba861e64018b14dcbc38fdd4a949b05a1af63-6c00c920ba614967-01 outer:exit 2b-740ba861e64018b14dcbc38fdd4a949b05a1af63-430dac0c246b346d-01
2022-04-21T16:19:03.363Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:03.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-efd35a18e500331f8871050ecb106e359c55335f-053d6b6bfcdff6df-01 outer:exit 2b-efd35a18e500331f8871050ecb106e359c55335f-1c6b57cb3f4b9a38-01
2022-04-21T16:19:03.366Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:03.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8a23ee465c6101c164b708f7c035956bd002a90-b88775cd6dba558a-01 outer:exit 2b-e8a23ee465c6101c164b708f7c035956bd002a90-bed34edc941d3bf7-01
2022-04-21T16:19:03.373Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:03.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-3866f3ddac72c5bec0a079cb9a58464e09f1cb68-98e883fd430a9fae-01 outer:exit 2b-3866f3ddac72c5bec0a079cb9a58464e09f1cb68-5602d696aa9adce5-01
2022-04-21T16:19:03.375Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:03.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-70a32179aec5152f96702524141e4c10af62d8dc-a86029fc3d60536a-01 outer:exit 2b-70a32179aec5152f96702524141e4c10af62d8dc-73718a068f36d310-01
2022-04-21T16:19:03.377Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:03.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca359fd7d7e461f7e2b14e723f32f431ac6f1880-e013c95f4ce91556-01 outer:exit 2b-ca359fd7d7e461f7e2b14e723f32f431ac6f1880-05d9066a948951a6-01
2022-04-21T16:19:03.379Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:03.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-99e148f9fd7e3575b91d565880d305beb49fe8c6-50bf4fbcc5236c30-01 outer:exit 2b-99e148f9fd7e3575b91d565880d305beb49fe8c6-f3101c34a7e60bb5-01
2022-04-21T16:19:03.381Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:03.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-da75af41232c93a4dcbe9b2fc5094edc61e37f00-79cf783619efc2b6-01 outer:exit 2b-da75af41232c93a4dcbe9b2fc5094edc61e37f00-dcc2ac7df14ecf0a-01
2022-04-21T16:19:03.382Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:03.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a6a462f19f73d008a5ad33b7871102d80ab9aa6-58a09a6d0cfd89f2-01 outer:exit 2b-3a6a462f19f73d008a5ad33b7871102d80ab9aa6-3038e92044d9ea13-01
2022-04-21T16:19:03.397Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:03.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b6c60b61db84cd2b4ea96fd97c3f718331eaeb8-b852cc36a1376456-01 outer:exit 2b-3b6c60b61db84cd2b4ea96fd97c3f718331eaeb8-d5321e8c562149e8-01
2022-04-21T16:19:03.406Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:03.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-978c820df82ecc6f4bfc7af2e101e2ca88a9911f-1643673496445af3-01 outer:exit 2b-978c820df82ecc6f4bfc7af2e101e2ca88a9911f-5ec9acb65f309c7b-01
2022-04-21T16:19:03.409Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:03.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-c105fa77bf426861a051c910a4becc8629901eba-1d22f612363c32c9-01 outer:exit 2b-c105fa77bf426861a051c910a4becc8629901eba-bd06945f3367ca4d-01
2022-04-21T16:19:03.412Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:03.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-6123354df0e1361845b14902929ab67cc07c885d-3b723196078f3ac0-01 outer:exit 2b-6123354df0e1361845b14902929ab67cc07c885d-2a8a9e095cc29e59-01
2022-04-21T16:19:03.414Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:03.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc5e8f3825697d9884721b53322806eacf92b020-e0a6312da486c55e-01 outer:exit 2b-cc5e8f3825697d9884721b53322806eacf92b020-6e954b3081c33f93-01
2022-04-21T16:19:03.441Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (325ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:10.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:10.102Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:10.102Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:10.102Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:10.164Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:10.285Z appoptics:patching patched crypto 
2022-04-21T16:19:10.304Z appoptics:patching patched https 
2022-04-21T16:19:10.304Z appoptics:patching patched http 
2022-04-21T16:19:10.345Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:10.345Z appoptics:patching patched fs 
2022-04-21T16:19:10.371Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v16.14.2)
2022-04-21T16:19:10.377Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-21T16:19:10.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-848a542fa884b16ff5d7faf2e687ee1843abd7dd-04ebb05343fc778b-01 outer:exit 2b-848a542fa884b16ff5d7faf2e687ee1843abd7dd-a9ded254704a2d6c-01
2022-04-21T16:19:10.423Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:10.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2e28a85eddd1a8eead805bc0e2c36d3b95d5a8e-4b295beeaa1d7fc4-01 outer:exit 2b-b2e28a85eddd1a8eead805bc0e2c36d3b95d5a8e-39d3cd72c97e9b4b-01
2022-04-21T16:19:10.470Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:10.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0e345a331a78706176cdaccdb50c0b3652a4d88-b47321d5e5640343-01 outer:exit 2b-d0e345a331a78706176cdaccdb50c0b3652a4d88-e1911f277f395644-01
2022-04-21T16:19:10.475Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:10.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-848888e2aaf11add368ada70c44f7c5032919868-41a8bc9a3d601dc0-01 outer:exit 2b-848888e2aaf11add368ada70c44f7c5032919868-d8693e393e1a7bdb-01
2022-04-21T16:19:10.478Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:10.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3b434fd540c4c09badddecd0b6a395f29dfb4b7-46e7b2d2bc0777f8-01 outer:exit 2b-d3b434fd540c4c09badddecd0b6a395f29dfb4b7-d45ec11dc0adad10-01
2022-04-21T16:19:10.484Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:10.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb9a3f09fc7e08df21909c5897611ed9ac5a58ca-ac43f5444c21a36f-01 outer:exit 2b-eb9a3f09fc7e08df21909c5897611ed9ac5a58ca-a6877031f57b738e-01
2022-04-21T16:19:10.487Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:10.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-db861f80e5ab3cc714af21b8e3e4a71f0a6b270e-70bf08eb72985dc3-01 outer:exit 2b-db861f80e5ab3cc714af21b8e3e4a71f0a6b270e-2098b88fe2f85713-01
2022-04-21T16:19:10.490Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:10.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-1625c86f4c0749885bae2e98eb9f1ca37198ef5f-524be3fdec34f4f3-01 outer:exit 2b-1625c86f4c0749885bae2e98eb9f1ca37198ef5f-69822b7b3f842fd3-01
2022-04-21T16:19:10.493Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:10.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-027b00df15a5b733dc77f7ebfdf8d2849e0e8461-1a8bf6ac68467a91-01 outer:exit 2b-027b00df15a5b733dc77f7ebfdf8d2849e0e8461-ebdccea211ed9be5-01
2022-04-21T16:19:10.498Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:10.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-48b048d57c90f71eec62ca3ca6b4cf9290569ed5-ec15704db72ce4e0-01 outer:exit 2b-48b048d57c90f71eec62ca3ca6b4cf9290569ed5-4ad6a9b000d47ef7-01
2022-04-21T16:19:10.501Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:10.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-add5d396f19109950abfb6a97796a1c24d682a1a-fed929dc001b9697-01 outer:exit 2b-add5d396f19109950abfb6a97796a1c24d682a1a-d610a3262ee1646d-01
2022-04-21T16:19:10.505Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:10.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b03aaf62d5fb8cb895765feb40c23dafa97d67e-7b50b59110692b48-01 outer:exit 2b-0b03aaf62d5fb8cb895765feb40c23dafa97d67e-ebe39f27823b2fa5-01
2022-04-21T16:19:10.512Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:10.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf3baf1b1617530677194e34a89930152e5b1b9c-83086ee932ac8bca-01 outer:exit 2b-cf3baf1b1617530677194e34a89930152e5b1b9c-9210f6e729d998d7-01
2022-04-21T16:19:10.528Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:10.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-f55416ca4111b3e514eace89a12d8abc9264a28c-69923cc1a8fe7847-01 outer:exit 2b-f55416ca4111b3e514eace89a12d8abc9264a28c-ea5f2886785bb3ad-01
2022-04-21T16:19:10.569Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:10.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-7263eb2a5594bd3309726fa87263392d347048fa-5c949cb9671f008b-01 outer:exit 2b-7263eb2a5594bd3309726fa87263392d347048fa-d8dd7f82bf0d6cf4-01
2022-04-21T16:19:10.572Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:10.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4caec8d0240c20c59bdf90641e751bc4fa10904-f958e64411095dba-01 outer:exit 2b-f4caec8d0240c20c59bdf90641e751bc4fa10904-52020f8715665d46-01
2022-04-21T16:19:10.575Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:10.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-217d6595a5877c37c310e176de50ed1d4e069a18-6d22e49ffb5a9283-01 outer:exit 2b-217d6595a5877c37c310e176de50ed1d4e069a18-ef27978d1bed2ce8-01
2022-04-21T16:19:10.578Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:10.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8d2c6a750b18e06217963356d602fc82b179121-4056c3dfd7aeff6b-01 outer:exit 2b-c8d2c6a750b18e06217963356d602fc82b179121-d526eba89eecc38d-01
2022-04-21T16:19:10.581Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:10.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-92a9623705daefffff18eedea3f56dc0335d2d93-e3b7022f6d6c56c5-01 outer:exit 2b-92a9623705daefffff18eedea3f56dc0335d2d93-17a2538e62126836-01
2022-04-21T16:19:10.583Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:10.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aacdb3dc91d3d789b37ef74da379a66b7a16a25-b03742ca113e7d12-01 outer:exit 2b-9aacdb3dc91d3d789b37ef74da379a66b7a16a25-ac1933bd799b1993-01
2022-04-21T16:19:10.585Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:10.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e4756e306cc240cab1fc9f4cc2749c57f457f35-fd5f79930ef8be2f-01 outer:exit 2b-4e4756e306cc240cab1fc9f4cc2749c57f457f35-28397a172eb51975-01
2022-04-21T16:19:10.587Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:10.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-c22caeb5dc3ee5029d9215b2b0cafb2b5763e7fb-4fd79ee49a73caf6-01 outer:exit 2b-c22caeb5dc3ee5029d9215b2b0cafb2b5763e7fb-cd553b86a536a190-01
2022-04-21T16:19:10.589Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:10.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c9027c2ffd832ac5360b2f903d7387640e38acb-b16a2418f2bcd981-01 outer:exit 2b-8c9027c2ffd832ac5360b2f903d7387640e38acb-03eb3b1f52deba1e-01
2022-04-21T16:19:10.593Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:10.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa979746b6da9dc3d31e121751dde10f613859c9-fd9782399c50de37-01 outer:exit 2b-fa979746b6da9dc3d31e121751dde10f613859c9-36909e4a89dd68af-01
2022-04-21T16:19:10.596Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:10.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-24f92150d9688983510fc114173fd39db1be3668-955baac25f615f21-01 outer:exit 2b-24f92150d9688983510fc114173fd39db1be3668-0bbf19f4e1f0b0f3-01
2022-04-21T16:19:10.598Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:10.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-8778aa49e224b3f460e03899f7f931eec4436764-65bcb194c5d5ea4d-01 outer:exit 2b-8778aa49e224b3f460e03899f7f931eec4436764-30325fe070e8a271-01
2022-04-21T16:19:10.601Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:10.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-80de1dbb5261875e06ba4a4574fb1a616653aa84-03fbaf9c49c22606-01 outer:exit 2b-80de1dbb5261875e06ba4a4574fb1a616653aa84-51d32763e2a52044-01
2022-04-21T16:19:10.607Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:10.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-43cbd096d8bbd1eec2a385efcfec6bd7dfb558b2-dfb03ef625cd6b22-01 outer:exit 2b-43cbd096d8bbd1eec2a385efcfec6bd7dfb558b2-1b1920593e067a10-01
2022-04-21T16:19:10.613Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:10.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f7e155e6a4461a24cccab16405371c601b425f2-538e695a7700d18f-01 outer:exit 2b-8f7e155e6a4461a24cccab16405371c601b425f2-27109c763ac4f213-01
2022-04-21T16:19:10.622Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:10.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-17796bf18b0ebc31ff754efacc0e478fe4ea246f-b10e2e8dcea9f289-01 outer:exit 2b-17796bf18b0ebc31ff754efacc0e478fe4ea246f-56d26ad35940e1de-01
2022-04-21T16:19:10.628Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:10.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-735a2cd3406b4930a7077ff0eb0ae3f46a9e2d42-cf716399851a35d8-01 outer:exit 2b-735a2cd3406b4930a7077ff0eb0ae3f46a9e2d42-9d0549e0638cb483-01
2022-04-21T16:19:10.631Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:10.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-dad9950394ac3f44bc1b5f47d5626b4f5b025488-818235706430d8d8-01 outer:exit 2b-dad9950394ac3f44bc1b5f47d5626b4f5b025488-c9241d56d81aa053-01
2022-04-21T16:19:10.634Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:10.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e10a2b03186e56e1dde48ffbede1a8ab2460f1f-605e6b245b69d825-01 outer:exit 2b-6e10a2b03186e56e1dde48ffbede1a8ab2460f1f-d82c7bb4f21b1efb-01
2022-04-21T16:19:10.640Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:10.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-327a620a820514da609396a6eeedf8948c3cb0be-99bf498726e5d167-01 outer:exit 2b-327a620a820514da609396a6eeedf8948c3cb0be-6f18655284546372-01
2022-04-21T16:19:10.643Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:10.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-d740530e7f3e7d62901adaaffb2ed1a1bb97b1f4-e9f2dfd8d73e0150-01 outer:exit 2b-d740530e7f3e7d62901adaaffb2ed1a1bb97b1f4-4f4c11552fe1d5a5-01
2022-04-21T16:19:10.644Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:10.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-54f2de76185075ec045797ec6d83071a403acd73-cdbbe9dd74e309b3-01 outer:exit 2b-54f2de76185075ec045797ec6d83071a403acd73-0645cfe0c45f1d1f-01
2022-04-21T16:19:10.646Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:10.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f1a13c84f736f0810f8f4c5e247c77b3f58bf17-d30e1a2e44b93c3f-01 outer:exit 2b-8f1a13c84f736f0810f8f4c5e247c77b3f58bf17-eb5562a07ec5932a-01
2022-04-21T16:19:10.648Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:10.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb416b7dde38465488e6dd38b62d67bf5c94f7c4-7ba98aabd97b11c4-01 outer:exit 2b-eb416b7dde38465488e6dd38b62d67bf5c94f7c4-1d305cd698b9be97-01
2022-04-21T16:19:10.650Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:10.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-a24b4b831f8428886bd5a4a3e2202b35017a5e85-0fa0d0692ae1e5a6-01 outer:exit 2b-a24b4b831f8428886bd5a4a3e2202b35017a5e85-250140ce0931d941-01
2022-04-21T16:19:10.659Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:10.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-b03f054ca29c4775b1f9c43aabfa5a12398e1939-25f34bfcfcf8d3ba-01 outer:exit 2b-b03f054ca29c4775b1f9c43aabfa5a12398e1939-9bcba5129710f29a-01
2022-04-21T16:19:10.667Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:10.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e713dda01ab8f9b7628f25ecfb107d9cd0d7826-d79b8b6687206bdc-01 outer:exit 2b-9e713dda01ab8f9b7628f25ecfb107d9cd0d7826-558a689eeef5fd5d-01
2022-04-21T16:19:10.671Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:10.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-efefa868a1bc5162c4b49c14367b8245184250a3-af9b64baa5311013-01 outer:exit 2b-efefa868a1bc5162c4b49c14367b8245184250a3-b33c4c8267d20878-01
2022-04-21T16:19:10.681Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:10.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-602645bb076d2eac53a36c458f369b1405d7b1be-30acf69d91ae0937-01 outer:exit 2b-602645bb076d2eac53a36c458f369b1405d7b1be-bdff7874c586dbe6-01
2022-04-21T16:19:10.684Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:10.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7eb482b549957bd698c1a188ca245c85da48f33-a2f0432133d6aae0-01 outer:exit 2b-d7eb482b549957bd698c1a188ca245c85da48f33-adbdcd44aedb377d-01
2022-04-21T16:19:10.724Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (341ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:16.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:16.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:16.743Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:16.744Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:16.806Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:16.929Z appoptics:patching patched crypto 
2022-04-21T16:19:16.947Z appoptics:patching patched https 
2022-04-21T16:19:16.948Z appoptics:patching patched http 
2022-04-21T16:19:16.990Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:16.990Z appoptics:patching patched fs 
2022-04-21T16:19:17.017Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v16.14.2)
2022-04-21T16:19:17.023Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-21T16:19:17.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf26e2462e20e8c3b1bec2e4cb8262e70de7367c-9124ffbfbeff0c59-01 outer:exit 2b-cf26e2462e20e8c3b1bec2e4cb8262e70de7367c-d62cfe05359e7621-01
2022-04-21T16:19:17.071Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:17.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6626ce10767000a58b6dd034e7c58800c13f682-fa81e607ffe6041b-01 outer:exit 2b-c6626ce10767000a58b6dd034e7c58800c13f682-e1037d0508f8f121-01
2022-04-21T16:19:17.116Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:17.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f7557befae506fa6e30d62c710be5d54c076eae-b1e45455dc011688-01 outer:exit 2b-8f7557befae506fa6e30d62c710be5d54c076eae-897eef888a6e3ec7-01
2022-04-21T16:19:17.120Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:17.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c3a68e001adb730e13950165dca7ed97d07c1cf-753ebe4ed583e69e-01 outer:exit 2b-0c3a68e001adb730e13950165dca7ed97d07c1cf-f52ae2682d205a22-01
2022-04-21T16:19:17.123Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:17.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-68316309b72e5fb1489b0ee9426a18f23a1bd931-9ef247c70a6da279-01 outer:exit 2b-68316309b72e5fb1489b0ee9426a18f23a1bd931-1d93e30b2217e3e9-01
2022-04-21T16:19:17.129Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:17.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-17bbee49397546a5ab7d9759f909535671b829a3-643c49945ada37d3-01 outer:exit 2b-17bbee49397546a5ab7d9759f909535671b829a3-a679815c9e9f9dfd-01
2022-04-21T16:19:17.133Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:17.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1428cb941fab0a90025aa53b1733bba09c8305e-157b9ed14fc60682-01 outer:exit 2b-c1428cb941fab0a90025aa53b1733bba09c8305e-21c98af3d3d28ae0-01
2022-04-21T16:19:17.137Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:17.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5dc9ce02aef256ac4e9cd5e62f6d8690f175c05-eca88a2eaa7953df-01 outer:exit 2b-a5dc9ce02aef256ac4e9cd5e62f6d8690f175c05-ef2d04f17c424d63-01
2022-04-21T16:19:17.139Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:17.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-88bb97a3fc8111fe198da289623fbbf628fb8ec8-583765631e9ffe9c-01 outer:exit 2b-88bb97a3fc8111fe198da289623fbbf628fb8ec8-4915d105be07f066-01
2022-04-21T16:19:17.144Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:17.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-16af7db3792f1039e533ae7cecd7694c384d93db-d5657d0a27671276-01 outer:exit 2b-16af7db3792f1039e533ae7cecd7694c384d93db-370f45fb5f6267c3-01
2022-04-21T16:19:17.147Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:17.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a70f7d359b63caf9fe3d3d1b55d7e9c7529cb66-85cd1a02cee7dddc-01 outer:exit 2b-3a70f7d359b63caf9fe3d3d1b55d7e9c7529cb66-2bab8c75eb914c82-01
2022-04-21T16:19:17.152Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:17.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-111a9c3c7d99e580f01fd734eef268ee6cba3411-1dd5c3fbbdae799d-01 outer:exit 2b-111a9c3c7d99e580f01fd734eef268ee6cba3411-36d5b007133cd029-01
2022-04-21T16:19:17.159Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:17.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1ae8248680b4e5682119f52d9286cfd3be8c713-91109b71aae1dff4-01 outer:exit 2b-d1ae8248680b4e5682119f52d9286cfd3be8c713-fc7e73d398d46a99-01
2022-04-21T16:19:17.177Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:17.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-6622676c44b67b6ab7bdf3c3d38bae03d1abf87b-ad4abcaa3bbe270d-01 outer:exit 2b-6622676c44b67b6ab7bdf3c3d38bae03d1abf87b-af86719c64e8a1d5-01
2022-04-21T16:19:17.218Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:17.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e4b5c21d81f812f32b8db577b9c5c46e8954e71-e6c02ca4e60831f9-01 outer:exit 2b-6e4b5c21d81f812f32b8db577b9c5c46e8954e71-81c859e117d80b25-01
2022-04-21T16:19:17.222Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:17.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdacf1e67b3beb0868bd713ac500ddfee3ced203-37c9a41562549d88-01 outer:exit 2b-bdacf1e67b3beb0868bd713ac500ddfee3ced203-d703c7b4e504f11a-01
2022-04-21T16:19:17.225Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:17.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-438a701d62d35c4a1d9c2744c5d0b92acb12db8e-a7f5fb82200c7983-01 outer:exit 2b-438a701d62d35c4a1d9c2744c5d0b92acb12db8e-23bc75d25913c84b-01
2022-04-21T16:19:17.227Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:17.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a833c0daaf0e49088e53ffdc51c26227433e220-db340ec7c7059f51-01 outer:exit 2b-7a833c0daaf0e49088e53ffdc51c26227433e220-39908795c418a929-01
2022-04-21T16:19:17.230Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:17.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-8559feca2f5cc59a68d81db440ece0222e3d2df3-ff718ab9494f1166-01 outer:exit 2b-8559feca2f5cc59a68d81db440ece0222e3d2df3-34f0993e49ee5bbc-01
2022-04-21T16:19:17.232Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:17.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb0356863fa74d384ed4a96e945adf344dcaf225-b4461df9a0fa67e9-01 outer:exit 2b-fb0356863fa74d384ed4a96e945adf344dcaf225-204cda9a8215b2a1-01
2022-04-21T16:19:17.234Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:17.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-a91cab027e9aff2dae7918450ea071ee71cafc65-e2c0d710c3162baa-01 outer:exit 2b-a91cab027e9aff2dae7918450ea071ee71cafc65-fd534b5edbf2fbe2-01
2022-04-21T16:19:17.236Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:17.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab14bce6224528d1d4d205c0aa509fb4980489d8-50ade8d4fb3bb784-01 outer:exit 2b-ab14bce6224528d1d4d205c0aa509fb4980489d8-6a3e5a14df098626-01
2022-04-21T16:19:17.238Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:17.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ef416c3bd9939da0331f7f14bdaabb0a6aeec59-80acecbd1ec4a60f-01 outer:exit 2b-0ef416c3bd9939da0331f7f14bdaabb0a6aeec59-9b9a161eb19d5214-01
2022-04-21T16:19:17.241Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:17.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f0c6a57ed2e45f365b5f50ff0db687e80c8fabf-2d0a928ef9dbbe43-01 outer:exit 2b-6f0c6a57ed2e45f365b5f50ff0db687e80c8fabf-5a05fba8b7044cae-01
2022-04-21T16:19:17.243Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:17.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-96785e131bc259a42b1d32c8f2dfccb5d3fbb615-1e28345ef79c62c8-01 outer:exit 2b-96785e131bc259a42b1d32c8f2dfccb5d3fbb615-72fa76d8fe1b9220-01
2022-04-21T16:19:17.246Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:17.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c551f791a4ab65c2319053a9b2d85cb8b92d28b-19c00073150f0eae-01 outer:exit 2b-2c551f791a4ab65c2319053a9b2d85cb8b92d28b-121aa1ac8e9305b7-01
2022-04-21T16:19:17.248Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:17.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-01ac1d33e1df120ece8c2aa2505e33e9e3d2491b-429ec0e782129ee4-01 outer:exit 2b-01ac1d33e1df120ece8c2aa2505e33e9e3d2491b-73d323984f13242b-01
2022-04-21T16:19:17.254Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:17.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-48cab6f4abf1d1c606347db977ed18c9ac2073ab-411ee0dded1b20e8-01 outer:exit 2b-48cab6f4abf1d1c606347db977ed18c9ac2073ab-2322c533b8b9f832-01
2022-04-21T16:19:17.259Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:17.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-aec2802270df3c2913fadfefddf812e767076f3d-e92366b214caf8cb-01 outer:exit 2b-aec2802270df3c2913fadfefddf812e767076f3d-35db289e3f152286-01
2022-04-21T16:19:17.268Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:17.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fbc79cdf5c767aaa84137d469f53be168b6fb58-2cf5884edf496045-01 outer:exit 2b-6fbc79cdf5c767aaa84137d469f53be168b6fb58-7acc00b98d83c231-01
2022-04-21T16:19:17.274Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:17.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d80399832533c15285c6b016473cbb32126565e-ff1b97812662a618-01 outer:exit 2b-4d80399832533c15285c6b016473cbb32126565e-9c6403e3cdd3fe6d-01
2022-04-21T16:19:17.276Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:17.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c01d4ea0040bf2b845ea58acb6e51cd3a7be444-e6e574cd74eb017e-01 outer:exit 2b-8c01d4ea0040bf2b845ea58acb6e51cd3a7be444-5b06d051c086064c-01
2022-04-21T16:19:17.279Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:17.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-23f94f766edaee3fe6484c80153487fadcb2c7f6-de442f75b905b15a-01 outer:exit 2b-23f94f766edaee3fe6484c80153487fadcb2c7f6-bbb0978c0a5cdaa5-01
2022-04-21T16:19:17.285Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:17.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b3fe4583c1b3ba50f4a24884c7475ea23856e16-ef4d7fc260e29fb1-01 outer:exit 2b-7b3fe4583c1b3ba50f4a24884c7475ea23856e16-86720b8771620903-01
2022-04-21T16:19:17.287Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:17.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-64e65c3fa73c8ede0867490701979c3c1727935a-2908dd29b2b4b4dd-01 outer:exit 2b-64e65c3fa73c8ede0867490701979c3c1727935a-d351d6b2cfbd1acc-01
2022-04-21T16:19:17.289Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:17.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddb0ed6e2ba927d52ebca48d88c74517a84f0335-f58ff7b3eccb16ec-01 outer:exit 2b-ddb0ed6e2ba927d52ebca48d88c74517a84f0335-819a2eb69e8a13b1-01
2022-04-21T16:19:17.291Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:17.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-33c7d5c26ef1035efb02c4bbe01d366af70614df-9588ba5e01c4a368-01 outer:exit 2b-33c7d5c26ef1035efb02c4bbe01d366af70614df-5d945bb91cefa803-01
2022-04-21T16:19:17.293Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:17.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d28f32ceffb5558e152e719d147d8df4156653e-35b62d4b0a9ffc38-01 outer:exit 2b-3d28f32ceffb5558e152e719d147d8df4156653e-950cf598a086d6c8-01
2022-04-21T16:19:17.295Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:17.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-c55e32fc0e847aa91fe69672b9edd0df4b6ca41f-629d44423d7961af-01 outer:exit 2b-c55e32fc0e847aa91fe69672b9edd0df4b6ca41f-74346b454976aab1-01
2022-04-21T16:19:17.304Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:17.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-409adcaf2ce6894679dd71ec1a6caba1a9aec491-ebb224c0b4868811-01 outer:exit 2b-409adcaf2ce6894679dd71ec1a6caba1a9aec491-fd0044fae18bca12-01
2022-04-21T16:19:17.312Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:17.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-073259da3b1562a4c04b0175582b1f55397beb35-fc9c5d11256a6821-01 outer:exit 2b-073259da3b1562a4c04b0175582b1f55397beb35-d3f7b4e7b6a4eab1-01
2022-04-21T16:19:17.315Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:17.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-e186dcfa1f540e43cfedd37a254e1132df3ec632-70fcfa33f029258f-01 outer:exit 2b-e186dcfa1f540e43cfedd37a254e1132df3ec632-35131dba470a8f0f-01
2022-04-21T16:19:17.317Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:17.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-f155d9a4d8c066754ee8c126aa3cdc079e619ef3-e64ec3394a317eb8-01 outer:exit 2b-f155d9a4d8c066754ee8c126aa3cdc079e619ef3-22dcecf7487b5407-01
2022-04-21T16:19:17.319Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:17.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-92b9a75b841d1901369c1210965ec9de5a5445a8-98fd8adb1d7a2024-01 outer:exit 2b-92b9a75b841d1901369c1210965ec9de5a5445a8-83d0e58b13beb5d6-01
2022-04-21T16:19:17.346Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (317ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:24.168Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:24.168Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:24.168Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:24.169Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:24.240Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:24.369Z appoptics:patching patched crypto 
2022-04-21T16:19:24.389Z appoptics:patching patched https 
2022-04-21T16:19:24.389Z appoptics:patching patched http 
2022-04-21T16:19:24.434Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:24.434Z appoptics:patching patched fs 
2022-04-21T16:19:24.461Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v16.14.2)
2022-04-21T16:19:24.467Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-21T16:19:24.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-940e61b2d6688918e32111f0a76d00e4126d5081-a4dc7eedb75c07ca-01 outer:exit 2b-940e61b2d6688918e32111f0a76d00e4126d5081-d2bc0aad228c858e-01
2022-04-21T16:19:24.513Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:24.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-062b524e72447a215444b77bb9d8d17d8f0ec6f8-b7aef14edc3045f1-01 outer:exit 2b-062b524e72447a215444b77bb9d8d17d8f0ec6f8-871e0c7099746a0d-01
2022-04-21T16:19:24.572Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:24.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7c2534e5374ae8d9e479baa6f22d793ec5934e-677aa56c890a1228-01 outer:exit 2b-ed7c2534e5374ae8d9e479baa6f22d793ec5934e-03992d2d1fead18e-01
2022-04-21T16:19:24.576Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:24.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-474df7edf5bcf37684125efe65569b263c1bd9ef-ed425765e08dc87a-01 outer:exit 2b-474df7edf5bcf37684125efe65569b263c1bd9ef-da108fe9d25eea0d-01
2022-04-21T16:19:24.580Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:24.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fb73332a1ccec32ed42a554733d20a2be0a0450-d53f8ed8e68ff43a-01 outer:exit 2b-6fb73332a1ccec32ed42a554733d20a2be0a0450-43c17c447f49bfc7-01
2022-04-21T16:19:24.593Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:24.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-6de0c93d6bb2482d1e6a3b235828278ae4c0cc6b-cdd34dbaad7b7ef1-01 outer:exit 2b-6de0c93d6bb2482d1e6a3b235828278ae4c0cc6b-a06de76cd4f34870-01
2022-04-21T16:19:24.596Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:24.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-0097c51f9ad61e49c45d9f62578f0765851a557f-77a4f0e2009de3bd-01 outer:exit 2b-0097c51f9ad61e49c45d9f62578f0765851a557f-4ca5e0cddff517aa-01
2022-04-21T16:19:24.602Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:24.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a96fd2d64cd036dface44b72b5acc9ef978524-06f22a662a8b89db-01 outer:exit 2b-a2a96fd2d64cd036dface44b72b5acc9ef978524-c086e0d79fd50094-01
2022-04-21T16:19:24.605Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:24.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bbc8bcab181946e92f7ee3cfc0314d3340a56f6-5c44f045cc926e08-01 outer:exit 2b-5bbc8bcab181946e92f7ee3cfc0314d3340a56f6-b7603fece2a66caa-01
2022-04-21T16:19:24.612Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:24.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3fe26cb0a54982673fc6bc2499200fc185c4866-604a2d7d831cd929-01 outer:exit 2b-f3fe26cb0a54982673fc6bc2499200fc185c4866-9bd1e33bbbee745d-01
2022-04-21T16:19:24.618Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:24.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-09299c5d9547b61917801d811cc30cbfd8a51bad-223f94667a746921-01 outer:exit 2b-09299c5d9547b61917801d811cc30cbfd8a51bad-88c2b62e42d1f80b-01
2022-04-21T16:19:24.622Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:24.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8298244a34b371168689ee725c0b13fdb1d9677-406d1307eebc871b-01 outer:exit 2b-f8298244a34b371168689ee725c0b13fdb1d9677-b1077a99ec1d2484-01
2022-04-21T16:19:24.629Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:24.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-735d03c080d9df7a3787b146fc3405a72fbb06fc-f47fd306d9e84bc2-01 outer:exit 2b-735d03c080d9df7a3787b146fc3405a72fbb06fc-f1e819da6bcf877b-01
2022-04-21T16:19:24.645Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:24.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-4892985fc52cf7d28d20529e6196207791dc89db-2660f8593572b185-01 outer:exit 2b-4892985fc52cf7d28d20529e6196207791dc89db-c3dabfdfaf2bc29f-01
2022-04-21T16:19:24.691Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:24.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-b740cecd3080176294247deeaa94cae9be47c46f-e3bfffd7edd383a7-01 outer:exit 2b-b740cecd3080176294247deeaa94cae9be47c46f-9d2f7a5442a15b6c-01
2022-04-21T16:19:24.695Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:24.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-6661c5c22c67b8503023f737911132cfb9bac4b5-a23edc793c9bbcc8-01 outer:exit 2b-6661c5c22c67b8503023f737911132cfb9bac4b5-92f7c0cddbf45193-01
2022-04-21T16:19:24.697Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:24.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-4588d63bae0d27b7813a7e394516bcb914ec8535-bff4008874500c73-01 outer:exit 2b-4588d63bae0d27b7813a7e394516bcb914ec8535-cb00ab9dd58c113e-01
2022-04-21T16:19:24.700Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:24.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-33519d15a1484988f4feae3d6eda72e6db6b2c38-4f267c7ae9cc7714-01 outer:exit 2b-33519d15a1484988f4feae3d6eda72e6db6b2c38-39f491bcd3fef3d8-01
2022-04-21T16:19:24.703Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:24.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f100111f822f95a5bd6d42f2bde9a59a0b8c386-83e0608156726188-01 outer:exit 2b-6f100111f822f95a5bd6d42f2bde9a59a0b8c386-cd6a3cfdb1f3b5ae-01
2022-04-21T16:19:24.705Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:24.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb4d4e8ee765db1651632c4017c0e7268dda9756-224f5466a593c370-01 outer:exit 2b-bb4d4e8ee765db1651632c4017c0e7268dda9756-b0eb892f0b667322-01
2022-04-21T16:19:24.706Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:24.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-077d11a32fcc550b884c91ddb333dea5c2342fef-0f620831a5dda950-01 outer:exit 2b-077d11a32fcc550b884c91ddb333dea5c2342fef-3cddc89ac4791ce5-01
2022-04-21T16:19:24.709Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:24.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdabca3008f6f7ac0a2802435d2d6794c691b0df-ec7770123d44f6db-01 outer:exit 2b-cdabca3008f6f7ac0a2802435d2d6794c691b0df-06cd838bbdd76cba-01
2022-04-21T16:19:24.710Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:24.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8e8a1591a16dc699358d8a948825945380b236e-112f22b7fc11ea55-01 outer:exit 2b-d8e8a1591a16dc699358d8a948825945380b236e-76202036ede7eabb-01
2022-04-21T16:19:24.713Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:24.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-81fc31046dfacefa9001f48facfc85e7a7edcd50-3ef37363a4dd1e3f-01 outer:exit 2b-81fc31046dfacefa9001f48facfc85e7a7edcd50-d80d5643a4de1321-01
2022-04-21T16:19:24.716Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:24.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3e1f9f4ced48b89c272707adb4b3045ea8e6915-3ea8e1ca189c8e9b-01 outer:exit 2b-e3e1f9f4ced48b89c272707adb4b3045ea8e6915-79c45e87dda5c672-01
2022-04-21T16:19:24.718Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:24.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-337081a2df47e4f1769483ae65c8302b5a314cb6-0dc9090cc67e4acc-01 outer:exit 2b-337081a2df47e4f1769483ae65c8302b5a314cb6-a48855a2e69c2c16-01
2022-04-21T16:19:24.720Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:24.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-33b8c64ff40b2016091b166a41ca2d0f2119c746-5aa91dbff4ed1aab-01 outer:exit 2b-33b8c64ff40b2016091b166a41ca2d0f2119c746-5c63d4b817abb5e2-01
2022-04-21T16:19:24.726Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:24.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-26631b38dc9e398fa1baeabff1964eccf4b7e6cf-2f4d6307d08666a9-01 outer:exit 2b-26631b38dc9e398fa1baeabff1964eccf4b7e6cf-83137289e667a91c-01
2022-04-21T16:19:24.732Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:24.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-88703959306cd7bfb44084ed26dfb53caa7d82af-6879cc328d5a2a1a-01 outer:exit 2b-88703959306cd7bfb44084ed26dfb53caa7d82af-40e921f19ef6270f-01
2022-04-21T16:19:24.740Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:24.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-a30301cfe1207801a5de4f3283063124b1720223-674ea2a931eafa5d-01 outer:exit 2b-a30301cfe1207801a5de4f3283063124b1720223-a18a6bcb7c90e0d2-01
2022-04-21T16:19:24.751Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:24.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1e4d2590a16a2d9eae1acb92b9d55a19241caae-f3b6a6140b6ab9ca-01 outer:exit 2b-d1e4d2590a16a2d9eae1acb92b9d55a19241caae-5a3921c5aca4326c-01
2022-04-21T16:19:24.755Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:24.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aea7a34bbbe6ff97d1599cfb6a7aed2ba7b5caa-8ae79d9ef71ce368-01 outer:exit 2b-0aea7a34bbbe6ff97d1599cfb6a7aed2ba7b5caa-1ca9dfec9b1bc8f0-01
2022-04-21T16:19:24.759Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:24.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9adbbecf6dff99e98eec38566b8f6d3a02cc069-54a3ee14343509d9-01 outer:exit 2b-a9adbbecf6dff99e98eec38566b8f6d3a02cc069-9a79c25f1cba39ca-01
2022-04-21T16:19:24.766Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:24.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7f2904c89d4940aa9b1f5000a8e4cedea4e8cd3-5e2d45da55dba4b1-01 outer:exit 2b-e7f2904c89d4940aa9b1f5000a8e4cedea4e8cd3-857c5a78bd6018bd-01
2022-04-21T16:19:24.768Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:24.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bb4dd16d5df13aa8221e3098394db1b4c50011f-0b81b18e54ca349b-01 outer:exit 2b-6bb4dd16d5df13aa8221e3098394db1b4c50011f-c9081e9a4c094f36-01
2022-04-21T16:19:24.770Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:24.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-4097970c13e5a46e18b3d84d75372045809b0afc-d3f044c0facf77e2-01 outer:exit 2b-4097970c13e5a46e18b3d84d75372045809b0afc-b4e6305fe21e6371-01
2022-04-21T16:19:24.772Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:24.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-837c312f92123cb9a8fca6b91157d58fff992c28-fc3d1c6a787f1f31-01 outer:exit 2b-837c312f92123cb9a8fca6b91157d58fff992c28-02cdabee3f6c7506-01
2022-04-21T16:19:24.773Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:24.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-72fd670d3e15c4b8f87219eb8bea4a5405c4f4e2-3fed7889ddd5dbac-01 outer:exit 2b-72fd670d3e15c4b8f87219eb8bea4a5405c4f4e2-c8879e109dedc54d-01
2022-04-21T16:19:24.775Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:24.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-b84c90ca3354c1e3d8f101cbe97bbd1b4ab6e07a-06072e2f63f7bf7d-01 outer:exit 2b-b84c90ca3354c1e3d8f101cbe97bbd1b4ab6e07a-d5267ae24bfc6624-01
2022-04-21T16:19:24.784Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:24.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-fda2b39067d0370df3e5a01d3f376ddca312787b-580a6e43655c81b8-01 outer:exit 2b-fda2b39067d0370df3e5a01d3f376ddca312787b-5ff1a36ccda5c769-01
2022-04-21T16:19:24.793Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:24.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-850ad319599b57d922b2631f6f9dd37e3a668965-24f803254a497a93-01 outer:exit 2b-850ad319599b57d922b2631f6f9dd37e3a668965-cc7be81009c68895-01
2022-04-21T16:19:24.795Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:24.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bfc80bc5bc676e9431d1cac97f0c336d69ca385-2ebe8a2c4724bae4-01 outer:exit 2b-7bfc80bc5bc676e9431d1cac97f0c336d69ca385-f32f7fb3f74b4a4d-01
2022-04-21T16:19:24.798Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:24.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-ada706b1566a40d31fffbe0c703351a15b86b43d-c2d419c7e0d28909-01 outer:exit 2b-ada706b1566a40d31fffbe0c703351a15b86b43d-6b3f67190a771bfb-01
2022-04-21T16:19:24.801Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:24.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9fde96a510993f97b49a9881ca33f286360dd52-c066bca5fe7f6c80-01 outer:exit 2b-b9fde96a510993f97b49a9881ca33f286360dd52-c07a0be4381dcf51-01
2022-04-21T16:19:24.831Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (359ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:30.746Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:30.746Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:30.746Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:30.747Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:30.810Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:30.945Z appoptics:patching patched crypto 
2022-04-21T16:19:30.984Z appoptics:patching patched https 
2022-04-21T16:19:30.984Z appoptics:patching patched http 
2022-04-21T16:19:31.027Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:31.028Z appoptics:patching patched fs 
2022-04-21T16:19:31.057Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v16.14.2)
2022-04-21T16:19:31.063Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-21T16:19:31.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-47e6fc121bba25aa650b985e7644030d5bbf02ce-1c0ad82b3df22bea-01 outer:exit 2b-47e6fc121bba25aa650b985e7644030d5bbf02ce-8dd56006be359f91-01
2022-04-21T16:19:31.120Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:31.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cf8393f17a53194ba1d3378c54e17277083b3ca-e62922717d182280-01 outer:exit 2b-0cf8393f17a53194ba1d3378c54e17277083b3ca-934c3d8dbf606037-01
2022-04-21T16:19:31.168Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:31.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc2488337d3cc36d37100e6cee2c73317dbd4173-76d23f6a7af8b161-01 outer:exit 2b-dc2488337d3cc36d37100e6cee2c73317dbd4173-1ec168836ad0c67f-01
2022-04-21T16:19:31.174Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:31.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-faf020df6c255875cd9bd5b4e601451041205721-fcb551ae60093efc-01 outer:exit 2b-faf020df6c255875cd9bd5b4e601451041205721-e962a6f963d82aa2-01
2022-04-21T16:19:31.179Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:31.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c25f42aac7c0d0c4c75bf78475bf6f7a3290d3-290420fca829dcfb-01 outer:exit 2b-36c25f42aac7c0d0c4c75bf78475bf6f7a3290d3-8c4ee2345a53caa5-01
2022-04-21T16:19:31.189Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:31.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-102a77ae9c2ca6c92d9c62ba3e1800745e6e60a2-8dc0d572afd46323-01 outer:exit 2b-102a77ae9c2ca6c92d9c62ba3e1800745e6e60a2-292063cf4296acd4-01
2022-04-21T16:19:31.201Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:31.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-75fb98a9b2d1165c856a464474f17dea8f21e565-019d01144c4e779a-01 outer:exit 2b-75fb98a9b2d1165c856a464474f17dea8f21e565-6acb39a56c58d35c-01
2022-04-21T16:19:31.204Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:31.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae63e4d07f2b895ee4af90b03b04a33f0c1f5500-2a3d0ef2a4b813e9-01 outer:exit 2b-ae63e4d07f2b895ee4af90b03b04a33f0c1f5500-cdb86b34080e2df8-01
2022-04-21T16:19:31.207Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:31.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-23aa53296cc40198875f294ff3702b2911c367ea-55110918d98f4aff-01 outer:exit 2b-23aa53296cc40198875f294ff3702b2911c367ea-aac3ae2254da5e04-01
2022-04-21T16:19:31.213Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:31.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc2097aac4c477266b00fb2a64347f3e8d8a4a10-45e6b335a1b3e2b4-01 outer:exit 2b-bc2097aac4c477266b00fb2a64347f3e8d8a4a10-2b9e9fc8e34e2959-01
2022-04-21T16:19:31.217Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:31.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac065602c21b9848743f4ea0ac9dec80a99c2f7-fa7a5e08d8c80a16-01 outer:exit 2b-3ac065602c21b9848743f4ea0ac9dec80a99c2f7-03cd52d3e166ab31-01
2022-04-21T16:19:31.221Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:31.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbc484dfbd50224e05d40a956fc7bbeb72d1cc08-eb6fcb94be038f01-01 outer:exit 2b-bbc484dfbd50224e05d40a956fc7bbeb72d1cc08-76dbdde6b31cf27b-01
2022-04-21T16:19:31.227Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:31.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-178c47385d804c2c481a1e8f5d7e9b775b76ee76-55ceaabe3967bf0f-01 outer:exit 2b-178c47385d804c2c481a1e8f5d7e9b775b76ee76-e6e7500980e7aab7-01
2022-04-21T16:19:31.250Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:31.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-b946b43a733c7dee823f98f351b0b03bc1f44f47-b244756244229da6-01 outer:exit 2b-b946b43a733c7dee823f98f351b0b03bc1f44f47-7e188b10ff95199d-01
2022-04-21T16:19:31.304Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:31.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-44b705e7a1d4335bed431c4d9d29b233c56b0d5d-14040a89f4bcc13a-01 outer:exit 2b-44b705e7a1d4335bed431c4d9d29b233c56b0d5d-f621d00a36dd9c55-01
2022-04-21T16:19:31.308Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:31.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca90878da1a8ea6c35ccfd54f4db052615f57510-645e77b541d421a1-01 outer:exit 2b-ca90878da1a8ea6c35ccfd54f4db052615f57510-f7701973d20ccd47-01
2022-04-21T16:19:31.311Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:31.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac483c7a2c7b7f7a1aeac7f159f0a8b67f028e11-fdaa278cddac5e5b-01 outer:exit 2b-ac483c7a2c7b7f7a1aeac7f159f0a8b67f028e11-dc5d65e319a1a743-01
2022-04-21T16:19:31.316Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:31.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-76d6178b8df2badf4c1737c635b9dbe0cfe788b4-3ed7e5b3d16ade7c-01 outer:exit 2b-76d6178b8df2badf4c1737c635b9dbe0cfe788b4-b6817808d84fa4d0-01
2022-04-21T16:19:31.320Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:31.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-85ddbb5b381a128a7628f512cf465fa357110082-a294c9954c110241-01 outer:exit 2b-85ddbb5b381a128a7628f512cf465fa357110082-54b20fb15f66b7e6-01
2022-04-21T16:19:31.322Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:31.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-4393697a83a4aedc2409c1f9bd124d03cb000596-d43b415b79e8598b-01 outer:exit 2b-4393697a83a4aedc2409c1f9bd124d03cb000596-2ae692d6e652d123-01
2022-04-21T16:19:31.324Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:31.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9ddd29509699c2a8406ee3581c7f7ebf7eb7e74-d1eef429317a9bbc-01 outer:exit 2b-c9ddd29509699c2a8406ee3581c7f7ebf7eb7e74-006b31ad1ab3d463-01
2022-04-21T16:19:31.329Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:31.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0af75b0b7e5a441c8e054b38aa9142fe25ce157-a486ba9540902fe9-01 outer:exit 2b-c0af75b0b7e5a441c8e054b38aa9142fe25ce157-a837cbd84e4253b3-01
2022-04-21T16:19:31.331Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:31.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-372eca82385cfc2a404b40b27c45b35fb8dc25d3-b3443b28bc1c7b72-01 outer:exit 2b-372eca82385cfc2a404b40b27c45b35fb8dc25d3-058626201ba00584-01
2022-04-21T16:19:31.336Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:31.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-b97f17b0fc70e6e8085b68dd63cacd4c0e4ea936-32c705799392cbe8-01 outer:exit 2b-b97f17b0fc70e6e8085b68dd63cacd4c0e4ea936-b42105bd9f883c83-01
2022-04-21T16:19:31.339Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:31.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-99455a4c9bff105ea6464108e1130f1ee591f061-7ec5cf19b3f1ada0-01 outer:exit 2b-99455a4c9bff105ea6464108e1130f1ee591f061-8c4711a2c21ad9bc-01
2022-04-21T16:19:31.342Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:31.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-d331e9629f43836f294c997bd84d2bcd87a2487b-c62278cba117d5d6-01 outer:exit 2b-d331e9629f43836f294c997bd84d2bcd87a2487b-221368b638753bd2-01
2022-04-21T16:19:31.344Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:31.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-6024486902938b616a24f9c24639db706f79a0a7-d32e4a5cb63be448-01 outer:exit 2b-6024486902938b616a24f9c24639db706f79a0a7-3ca32c894f0972af-01
2022-04-21T16:19:31.351Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:31.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e4a34757b87d69ed016acd75e6f14d962694def-2cfb55ea8b7b7976-01 outer:exit 2b-2e4a34757b87d69ed016acd75e6f14d962694def-1603f9f9f01ceebe-01
2022-04-21T16:19:31.357Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:31.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-75bb092954e1e5d9a282c8db52717161710ab1d9-532b4dac2e741931-01 outer:exit 2b-75bb092954e1e5d9a282c8db52717161710ab1d9-8592d48ba93972a0-01
2022-04-21T16:19:31.373Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:31.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd56f9152eac717b981ba5cb8502831365d0445b-49dee89fb6f35a0b-01 outer:exit 2b-dd56f9152eac717b981ba5cb8502831365d0445b-61a0a567268bb315-01
2022-04-21T16:19:31.380Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:31.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4259b29285edebffa9cb0f9b778ccb7f037fb65-c2faddcf966364c7-01 outer:exit 2b-b4259b29285edebffa9cb0f9b778ccb7f037fb65-82f3a68bd84fb8c2-01
2022-04-21T16:19:31.382Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:31.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-0285d36e04e84db24c0e643c740f1efc9291d1d3-63e8c96c09365e9b-01 outer:exit 2b-0285d36e04e84db24c0e643c740f1efc9291d1d3-7b6d8cadd756c70c-01
2022-04-21T16:19:31.385Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:31.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-b73c6084f70e8e389ed1b3377caa65020489daa2-25ce5f92f6944d63-01 outer:exit 2b-b73c6084f70e8e389ed1b3377caa65020489daa2-4e96fda42ae73087-01
2022-04-21T16:19:31.393Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:31.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-42f69adb21f339189715736e272087a470000a5d-3679b9fb6ecf1af6-01 outer:exit 2b-42f69adb21f339189715736e272087a470000a5d-77db423ba8369e72-01
2022-04-21T16:19:31.395Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:31.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aa05eaa1ec07dafaf9b7705aeab4472f69faba6-ff345012cf04fa2a-01 outer:exit 2b-2aa05eaa1ec07dafaf9b7705aeab4472f69faba6-e0d85a68a0a889a3-01
2022-04-21T16:19:31.397Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:31.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed0286132a44459c396c1bd9dc5d130027aaa7a-c02f7381449346f6-01 outer:exit 2b-bed0286132a44459c396c1bd9dc5d130027aaa7a-674a82ee258f37de-01
2022-04-21T16:19:31.399Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:31.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd2104b31c0a3dfff1c0ae2a862485fdf6ea43ec-e800d96b23ada9da-01 outer:exit 2b-fd2104b31c0a3dfff1c0ae2a862485fdf6ea43ec-2257bb3c63af27c7-01
2022-04-21T16:19:31.401Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:31.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad19bcc6d5ab3218848f9e13c43e4d2a670ec316-a408cd96c01aadb2-01 outer:exit 2b-ad19bcc6d5ab3218848f9e13c43e4d2a670ec316-dc544ad4b75f203c-01
2022-04-21T16:19:31.403Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:31.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-011f63f5f7854ff714829b8c4f225f2835c8a25f-e2df89b36e669b9b-01 outer:exit 2b-011f63f5f7854ff714829b8c4f225f2835c8a25f-e8fcd01b85b8fcbb-01
2022-04-21T16:19:31.421Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:31.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-69175d57b473f9a79caa721ee2c7e1c541d3eb7b-7912e479dcba9fd0-01 outer:exit 2b-69175d57b473f9a79caa721ee2c7e1c541d3eb7b-0c365f0f679f532d-01
2022-04-21T16:19:31.431Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:31.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-46487e6f5a138bc869a57cd7b98d66d205fa2623-e74c9b3adeddb430-01 outer:exit 2b-46487e6f5a138bc869a57cd7b98d66d205fa2623-77b5c4331c3fc5d6-01
2022-04-21T16:19:31.434Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:31.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-d806296a8a797188aae2e64b6029dc60bcf696d2-cd512c3406f31c07-01 outer:exit 2b-d806296a8a797188aae2e64b6029dc60bcf696d2-8c833350c689d84e-01
2022-04-21T16:19:31.437Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:31.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-b964e1a5be6c4a1de572ecd11421452f14ee3ffd-6a167fd737f8a94b-01 outer:exit 2b-b964e1a5be6c4a1de572ecd11421452f14ee3ffd-30bfcb7804461dae-01
2022-04-21T16:19:31.439Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:31.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ccdf1c805c76b35491c4034118610f5caaddb0c-d5b86c728444479b-01 outer:exit 2b-6ccdf1c805c76b35491c4034118610f5caaddb0c-d349d4925d31eea3-01
2022-04-21T16:19:31.474Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (405ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:37.641Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:37.642Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:37.642Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:37.643Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:37.704Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:37.823Z appoptics:patching patched crypto 
2022-04-21T16:19:37.841Z appoptics:patching patched https 
2022-04-21T16:19:37.842Z appoptics:patching patched http 
2022-04-21T16:19:37.883Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:37.884Z appoptics:patching patched fs 
2022-04-21T16:19:37.910Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v16.14.2)
2022-04-21T16:19:37.916Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-21T16:19:37.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-51587167b04a0d164f8dc7f8ba714bb3195e658e-7dade525782602a9-01 outer:exit 2b-51587167b04a0d164f8dc7f8ba714bb3195e658e-580101ed956d3e1f-01
2022-04-21T16:19:37.965Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:38.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-e16d46e52ee31c779a9e26025e7a9a5c7be85ab0-20346cc119a30621-01 outer:exit 2b-e16d46e52ee31c779a9e26025e7a9a5c7be85ab0-7fdd6618bf581ab3-01
2022-04-21T16:19:38.011Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:38.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4a64c6d74ebd3209f625976299874e4d0a52f03-afeb6682d27e80fa-01 outer:exit 2b-a4a64c6d74ebd3209f625976299874e4d0a52f03-596b87154af6d3ee-01
2022-04-21T16:19:38.014Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:38.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9773bca2c2a9366b9340cbc35ef50ec15162aac-6b69512063efa5b4-01 outer:exit 2b-b9773bca2c2a9366b9340cbc35ef50ec15162aac-51609fbd96c328fd-01
2022-04-21T16:19:38.018Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:38.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-c61cdbd0db9647e1d271e096362764a13351d59d-9f82b35f0d660d10-01 outer:exit 2b-c61cdbd0db9647e1d271e096362764a13351d59d-4e30176af70d750d-01
2022-04-21T16:19:38.022Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:38.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ed1fbf704b62eabb48017e8e20ea020e79a341c-b45bace1fa20fc0e-01 outer:exit 2b-0ed1fbf704b62eabb48017e8e20ea020e79a341c-1166e65b647c7880-01
2022-04-21T16:19:38.026Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:38.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8e5f8695ed41b3b9b4af450104dbb6325e00716-0ff97c41175240be-01 outer:exit 2b-f8e5f8695ed41b3b9b4af450104dbb6325e00716-784362564538ccfd-01
2022-04-21T16:19:38.028Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:38.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-b38033a82312dd6c7fcb5724894321e93f7d4bde-144bf27b29bf6511-01 outer:exit 2b-b38033a82312dd6c7fcb5724894321e93f7d4bde-8f806decd8ed9ad1-01
2022-04-21T16:19:38.031Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:38.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-30a4db982c8bc72835e961ce3abfa020b247610d-fb5ca81fdc34c18f-01 outer:exit 2b-30a4db982c8bc72835e961ce3abfa020b247610d-1761406d08f892da-01
2022-04-21T16:19:38.034Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:38.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc2ccfad8cccc658615946f3756fe3560789f260-efd73f846d8b3ef0-01 outer:exit 2b-dc2ccfad8cccc658615946f3756fe3560789f260-3b3931cc5dc09fa0-01
2022-04-21T16:19:38.037Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:38.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5c93b27fbfd550b96a4e429c9a144c0918f373d-7534d9cd5bd333fc-01 outer:exit 2b-d5c93b27fbfd550b96a4e429c9a144c0918f373d-1d2c5240e080c51b-01
2022-04-21T16:19:38.041Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:38.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2491453cd9c557492d73090f3d52262cd39e8af-29ece80a3c6ae1f1-01 outer:exit 2b-a2491453cd9c557492d73090f3d52262cd39e8af-d8f8ece0325e11d6-01
2022-04-21T16:19:38.047Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:38.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce0073ce12b4c917ddc236feed6aab1e062a5e4f-bafc0404e15d7396-01 outer:exit 2b-ce0073ce12b4c917ddc236feed6aab1e062a5e4f-d509194d32765407-01
2022-04-21T16:19:38.064Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:38.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-22a9fc0387ff978a0edb6a3a8ca1ee1cc9d18966-99d7ab5c7e56d8d5-01 outer:exit 2b-22a9fc0387ff978a0edb6a3a8ca1ee1cc9d18966-5d7aecff13c0153c-01
2022-04-21T16:19:38.108Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:38.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e806156ea1053bae3de63cddebde0e49881cd67-5705213da7b3ec7c-01 outer:exit 2b-4e806156ea1053bae3de63cddebde0e49881cd67-04e78fb7f58f3e4f-01
2022-04-21T16:19:38.111Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:38.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf1980d178518629af176a763df80c999545bdf4-1fe60a0df1d985d1-01 outer:exit 2b-bf1980d178518629af176a763df80c999545bdf4-057c396d5c3ffe6f-01
2022-04-21T16:19:38.113Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:38.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e3fc48ff99369c54cfb8ef16c21004164b2798d-fa72b79ac1bb1360-01 outer:exit 2b-7e3fc48ff99369c54cfb8ef16c21004164b2798d-4d3823d41e00527c-01
2022-04-21T16:19:38.116Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:38.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-4612c34fb3610e4c07a9c3c15d6d4a5ebc554a7e-455779d66d0241c1-01 outer:exit 2b-4612c34fb3610e4c07a9c3c15d6d4a5ebc554a7e-1c3e2aa54a1b3529-01
2022-04-21T16:19:38.120Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:38.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-da048b51727e8d64199d9e2bf6c911597f04ffbd-4714f77dda8deeef-01 outer:exit 2b-da048b51727e8d64199d9e2bf6c911597f04ffbd-8d655dcc331f39e5-01
2022-04-21T16:19:38.122Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:38.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8978eebf17788c8a1fa41525bf7f3b055dc80bd-62dc0585889bcc3a-01 outer:exit 2b-e8978eebf17788c8a1fa41525bf7f3b055dc80bd-8e6a185f63154c3b-01
2022-04-21T16:19:38.124Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:38.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfe039dc6b5c7ae379abac7e6417703ffb76d465-3f4e01750e28147c-01 outer:exit 2b-bfe039dc6b5c7ae379abac7e6417703ffb76d465-f171f6d6b338678c-01
2022-04-21T16:19:38.128Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:38.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-07b5a3ec1b2208069ca21efdb4f2014c6eb6acc6-ece962ac1bb361a1-01 outer:exit 2b-07b5a3ec1b2208069ca21efdb4f2014c6eb6acc6-407bfb8a6bbaf119-01
2022-04-21T16:19:38.135Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:38.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-911eb72210cf2e7816345f65cf9ad7621e3d8ce0-6b0e2c6e165228d1-01 outer:exit 2b-911eb72210cf2e7816345f65cf9ad7621e3d8ce0-dfa80ea3a50f01de-01
2022-04-21T16:19:38.138Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:38.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f4ec28670cb8f4172f397b228d7a912cc23da8d-51b703866610e981-01 outer:exit 2b-5f4ec28670cb8f4172f397b228d7a912cc23da8d-ae021444d23ee46c-01
2022-04-21T16:19:38.141Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:38.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c2c5f7d690ffb2435556297610453e2b7e86f4c-bcda6e30bbfd446e-01 outer:exit 2b-9c2c5f7d690ffb2435556297610453e2b7e86f4c-3fd36dbe7d61b249-01
2022-04-21T16:19:38.150Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:38.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-71cb38be85f8f6a2dc015b2cf6a4e6398f908739-3c70754d50055099-01 outer:exit 2b-71cb38be85f8f6a2dc015b2cf6a4e6398f908739-04bdfe9ae9569255-01
2022-04-21T16:19:38.152Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:38.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-35d63231679ae6f2b1751a8eb56791190d05ae8b-cee7f16f44c2a356-01 outer:exit 2b-35d63231679ae6f2b1751a8eb56791190d05ae8b-18ca4c7387365f25-01
2022-04-21T16:19:38.161Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:38.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1cc7ac7d27a67fce1c693b37507e154eda21ae7-9d42d31f514287f1-01 outer:exit 2b-c1cc7ac7d27a67fce1c693b37507e154eda21ae7-b6ff859a25b629dc-01
2022-04-21T16:19:38.167Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:38.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bf0f8aba4b1f2569137de8f3c4b82aa877e01f3-d944b7f0ad28dc0b-01 outer:exit 2b-9bf0f8aba4b1f2569137de8f3c4b82aa877e01f3-ecc7e434a40ccf20-01
2022-04-21T16:19:38.198Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:38.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-74977aeae020beb336788af9162a391040ced629-838b213d687928fe-01 outer:exit 2b-74977aeae020beb336788af9162a391040ced629-582b0f08fb0c3776-01
2022-04-21T16:19:38.204Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:38.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2d86973232f38c0ccc2abe7c3f5c0a487a303d7-e343817ac7dc682b-01 outer:exit 2b-d2d86973232f38c0ccc2abe7c3f5c0a487a303d7-ddcc3557d4d2164a-01
2022-04-21T16:19:38.206Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:38.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-74e399868ceb1fa98ea8ec09ff17b70ec9e2962d-56174c870975f39c-01 outer:exit 2b-74e399868ceb1fa98ea8ec09ff17b70ec9e2962d-da6603fcf3538df8-01
2022-04-21T16:19:38.209Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:38.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-19848e538e631944b62c680f0a5a18e1049528c5-2329cfa27b8d22db-01 outer:exit 2b-19848e538e631944b62c680f0a5a18e1049528c5-ccda8bea5baf8b56-01
2022-04-21T16:19:38.226Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:38.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-11d64f96fee4c37d4a2e7a2c4e5c88e9a8a28ed5-4615f45c7d2a3327-01 outer:exit 2b-11d64f96fee4c37d4a2e7a2c4e5c88e9a8a28ed5-1519c72bf9729b28-01
2022-04-21T16:19:38.229Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:38.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d81dfd831ff7ccc546ed2807a2727c5f42feccc-fc4744fe6994fd0f-01 outer:exit 2b-2d81dfd831ff7ccc546ed2807a2727c5f42feccc-dd3168b1c1f0b8f5-01
2022-04-21T16:19:38.233Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:38.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb84ec018bfae0d5c86d0fe43a264b46e49d1bc-4b4f523276638055-01 outer:exit 2b-5bb84ec018bfae0d5c86d0fe43a264b46e49d1bc-63424849920fe83c-01
2022-04-21T16:19:38.234Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:38.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-3139c15d5288ae4372543ba84ab510a1cac71076-92ba5a4d64e93ea9-01 outer:exit 2b-3139c15d5288ae4372543ba84ab510a1cac71076-1695a2c092be20c6-01
2022-04-21T16:19:38.236Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:38.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-485bfc90a9c4ad042682e4d98cff74d3ced6ece4-e12baabff51a876b-01 outer:exit 2b-485bfc90a9c4ad042682e4d98cff74d3ced6ece4-724766cfa7eb546c-01
2022-04-21T16:19:38.239Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:38.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a34af0894da2db625f47d7bb4a28a3c02ad49af-a80828d90d138c01-01 outer:exit 2b-8a34af0894da2db625f47d7bb4a28a3c02ad49af-f751ed4adfce5ec0-01
2022-04-21T16:19:38.249Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:38.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ca0470b4cb3c8495524dee36f046a42efbccc68-f224cad3e50877a2-01 outer:exit 2b-6ca0470b4cb3c8495524dee36f046a42efbccc68-050111ed412aa13a-01
2022-04-21T16:19:38.255Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:38.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3a7534ec75c56a2e96c86b661dd09b30c4942e5-e0b327a9c12ab9cd-01 outer:exit 2b-b3a7534ec75c56a2e96c86b661dd09b30c4942e5-008eea5f094d231f-01
2022-04-21T16:19:38.258Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:38.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a9e6a5c00f25cd74771a6e51e096ee0e4303cd8-0bca48f488f0f35f-01 outer:exit 2b-3a9e6a5c00f25cd74771a6e51e096ee0e4303cd8-8dba0ca6fe82dccd-01
2022-04-21T16:19:38.261Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:38.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5b7682390ead46cf0857a9ede530209e27e4db4-867a296c0de2c129-01 outer:exit 2b-a5b7682390ead46cf0857a9ede530209e27e4db4-51520f47b96942e3-01
2022-04-21T16:19:38.263Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:38.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-abdf85d4cac223ec3573d83e79f3da4b37ca1dcc-4d895fa0f4d44ded-01 outer:exit 2b-abdf85d4cac223ec3573d83e79f3da4b37ca1dcc-5c9810608b86ddce-01
2022-04-21T16:19:38.289Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (368ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:45.095Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:45.095Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:45.095Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:45.096Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:45.159Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:45.280Z appoptics:patching patched crypto 
2022-04-21T16:19:45.299Z appoptics:patching patched https 
2022-04-21T16:19:45.299Z appoptics:patching patched http 
2022-04-21T16:19:45.338Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:45.339Z appoptics:patching patched fs 
2022-04-21T16:19:45.364Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v16.14.2)
2022-04-21T16:19:45.370Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-21T16:19:45.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c3c2c1c4e20e57dd46905c46afb59c32731318f-e5dad1ba0cd04488-01 outer:exit 2b-1c3c2c1c4e20e57dd46905c46afb59c32731318f-2742546817028e66-01
2022-04-21T16:19:45.415Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:45.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcd0e878948dac46b527f9492e69a1855ae50c7e-4305c20b69460446-01 outer:exit 2b-dcd0e878948dac46b527f9492e69a1855ae50c7e-83457fb9534a2f82-01
2022-04-21T16:19:45.461Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:45.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-44f710b7a836a56e3965657b7712c619917c58d3-d59d5763b4d51dbf-01 outer:exit 2b-44f710b7a836a56e3965657b7712c619917c58d3-cfaa766790c73484-01
2022-04-21T16:19:45.465Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:45.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-28e1bb2b78c9ca031591e46a983e50d7a52b784b-f3e962cb09003999-01 outer:exit 2b-28e1bb2b78c9ca031591e46a983e50d7a52b784b-65d6abab57e55870-01
2022-04-21T16:19:45.469Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:45.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-517aeb207ab53364d9355a7b36977ccf1b337778-c83e182f7527737b-01 outer:exit 2b-517aeb207ab53364d9355a7b36977ccf1b337778-03e89898ba35dda3-01
2022-04-21T16:19:45.473Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:45.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-f736b1aa2d0e45c6278fcd7f2a041ef83f9c7111-53e0da9bcf8d0915-01 outer:exit 2b-f736b1aa2d0e45c6278fcd7f2a041ef83f9c7111-7c78b54980628360-01
2022-04-21T16:19:45.477Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:45.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-220cd67838212cbada56a0a1109a60132b4b6c44-bfaaee18cfcfa9a4-01 outer:exit 2b-220cd67838212cbada56a0a1109a60132b4b6c44-1d6fa324c568f0a8-01
2022-04-21T16:19:45.480Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:45.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31903baedda629c78d9fe96c07c97ad3130d5aa-58a347f0faf6f717-01 outer:exit 2b-b31903baedda629c78d9fe96c07c97ad3130d5aa-a70e9fcb2a5711b6-01
2022-04-21T16:19:45.482Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:45.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-e89ea0e038f7ce1249ec639d4b34de11e48c4eeb-492d778b5edd389e-01 outer:exit 2b-e89ea0e038f7ce1249ec639d4b34de11e48c4eeb-c56e1e47272dc011-01
2022-04-21T16:19:45.485Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:45.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f8369e3afd597c003600d94cc50adc8620470ae-711813a3998a2c80-01 outer:exit 2b-6f8369e3afd597c003600d94cc50adc8620470ae-e85668a7ada8488c-01
2022-04-21T16:19:45.489Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:45.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-15edd57463b19858039bf1a60940af105febef9d-dc957367052297c3-01 outer:exit 2b-15edd57463b19858039bf1a60940af105febef9d-7d80616ce91eed86-01
2022-04-21T16:19:45.493Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:45.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c50998ea11a056077548200078788edbc8cf2bd-8e0f68067b000139-01 outer:exit 2b-5c50998ea11a056077548200078788edbc8cf2bd-4d5d28eb77f8a6c5-01
2022-04-21T16:19:45.499Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:45.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b20968c0aeb238fb4004fdd10bc8f740764f6f1-035d61f3414a5438-01 outer:exit 2b-1b20968c0aeb238fb4004fdd10bc8f740764f6f1-08817f485713ce06-01
2022-04-21T16:19:45.517Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:45.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc91823ce24780b6e7154100c99700f781df6abf-f0ccf737d8c42668-01 outer:exit 2b-cc91823ce24780b6e7154100c99700f781df6abf-87104b1fceee74bd-01
2022-04-21T16:19:45.557Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:45.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-d86a1debb9cacdc0e9dfd49fbd1ca757ad85528f-b5e131e9c0be53e7-01 outer:exit 2b-d86a1debb9cacdc0e9dfd49fbd1ca757ad85528f-e2cfe9eec26d06c1-01
2022-04-21T16:19:45.560Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:45.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-30e06ef6362e9e5486e98c9db2a648500dacafaa-72d31171860856fe-01 outer:exit 2b-30e06ef6362e9e5486e98c9db2a648500dacafaa-24d442f8b61daf47-01
2022-04-21T16:19:45.563Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:45.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb337c0f892a382eb96508d37ffefd42056c48ae-d6fd0b332a30c1ba-01 outer:exit 2b-cb337c0f892a382eb96508d37ffefd42056c48ae-d3c980ca8041ae02-01
2022-04-21T16:19:45.565Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:45.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-56b5ed93c3e7f6dcd2c0863a11b8a7efc9ad0533-a466f84836a54133-01 outer:exit 2b-56b5ed93c3e7f6dcd2c0863a11b8a7efc9ad0533-861d6f01fa1ce1df-01
2022-04-21T16:19:45.568Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:45.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-d44efc3d786aa1766f049a9c7c32d5318da149ea-3d8dc9548a05126e-01 outer:exit 2b-d44efc3d786aa1766f049a9c7c32d5318da149ea-966c349acc12d515-01
2022-04-21T16:19:45.570Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:45.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-54774d636fe607cd8185be1877a3a064ad61067f-08fdec2267ff7749-01 outer:exit 2b-54774d636fe607cd8185be1877a3a064ad61067f-512d301f0c794eb0-01
2022-04-21T16:19:45.572Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:45.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d5e34d4c1d386d93a18a10390330237affe340f-d3b9ae40a7cb9efe-01 outer:exit 2b-1d5e34d4c1d386d93a18a10390330237affe340f-04391b04d0ea0962-01
2022-04-21T16:19:45.574Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:45.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3036d751159f7e01d6196112249516fc1b407df-fdc16080fca38b4f-01 outer:exit 2b-a3036d751159f7e01d6196112249516fc1b407df-61cd84054b854b72-01
2022-04-21T16:19:45.575Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:45.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-8192dfc898218e8461f1ac7ef258a1dfd51b082c-0149d8db5c7edab6-01 outer:exit 2b-8192dfc898218e8461f1ac7ef258a1dfd51b082c-c8923efd6e1b6dc6-01
2022-04-21T16:19:45.578Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:45.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-a54f38eb112f44b2b166c0a09db8613746d15429-6a0496d3f78055c1-01 outer:exit 2b-a54f38eb112f44b2b166c0a09db8613746d15429-c703252bd7bf9f0e-01
2022-04-21T16:19:45.581Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:45.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb63ce74cf5eddedc0f169af073d4bc1e3909cc3-99f9ed3ab5a70461-01 outer:exit 2b-bb63ce74cf5eddedc0f169af073d4bc1e3909cc3-908ffa3fad6b7258-01
2022-04-21T16:19:45.583Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:45.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-29e65b9a5f21e191a36adb869e6392e8443a5169-360f2a68b1f76998-01 outer:exit 2b-29e65b9a5f21e191a36adb869e6392e8443a5169-32c9c1b7b3ad5b0c-01
2022-04-21T16:19:45.585Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:45.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-95fa92d03ca0586edbf8fe783e0d45f8f41786de-834d6d7726323dda-01 outer:exit 2b-95fa92d03ca0586edbf8fe783e0d45f8f41786de-c202652dc9fe749a-01
2022-04-21T16:19:45.591Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:45.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b0a5db5856df5e8bb2f2d35a092b0a9ac54815f-9ccb2ca4a8b38b80-01 outer:exit 2b-9b0a5db5856df5e8bb2f2d35a092b0a9ac54815f-e01665d2e7298b5f-01
2022-04-21T16:19:45.597Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:45.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-87efda46e87e1ad1e3570c1097d5a7e9a3a5aa3d-aa70700f6e6512eb-01 outer:exit 2b-87efda46e87e1ad1e3570c1097d5a7e9a3a5aa3d-6717256a9f4bdd25-01
2022-04-21T16:19:45.605Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:45.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-031bcb713d87af3f7b0214d9eeaa006bde656fcb-e9079a3ad9f3fc69-01 outer:exit 2b-031bcb713d87af3f7b0214d9eeaa006bde656fcb-687006bed4086b53-01
2022-04-21T16:19:45.611Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:45.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-4baebfce44944401f6d2fc9956aab960cc6ce352-5d9932734de82bd0-01 outer:exit 2b-4baebfce44944401f6d2fc9956aab960cc6ce352-f3b7081b8b70225c-01
2022-04-21T16:19:45.614Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:45.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc743b35fae3eb9c05d8ca696e60b8725cb109e3-794f7f13bf7dec4e-01 outer:exit 2b-bc743b35fae3eb9c05d8ca696e60b8725cb109e3-0d7a4b860373efb6-01
2022-04-21T16:19:45.616Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:45.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-a02bed958a981e7daa4643b9f8953c143ecec79a-06e966d323d2d59b-01 outer:exit 2b-a02bed958a981e7daa4643b9f8953c143ecec79a-c5c94702347d2da2-01
2022-04-21T16:19:45.622Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:45.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ce378070bbcbaf253fbfba4fd09df4f630f97ad-9d13cd1cd7faf52a-01 outer:exit 2b-8ce378070bbcbaf253fbfba4fd09df4f630f97ad-28026dcb8fcbf42b-01
2022-04-21T16:19:45.624Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:45.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa0d1b3f9a82670f24570875eeaf0ec3ffdd72d7-282f00dd32c7c44b-01 outer:exit 2b-aa0d1b3f9a82670f24570875eeaf0ec3ffdd72d7-9feefb5b0e866e0f-01
2022-04-21T16:19:45.626Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:45.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae6134ab484cf62e449b09db73d021e26b72b5ea-b45433a717bf6fbb-01 outer:exit 2b-ae6134ab484cf62e449b09db73d021e26b72b5ea-eb9b927b54afb871-01
2022-04-21T16:19:45.628Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:45.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-4101b5fc3e91f0b1bf86836f3c9017c1c256cdb6-5f97e6940f87a7ac-01 outer:exit 2b-4101b5fc3e91f0b1bf86836f3c9017c1c256cdb6-031d0d2871cbf612-01
2022-04-21T16:19:45.630Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:45.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-63b2ee42754742173e4463c0893cb37d2300de2c-92c74d597cf37300-01 outer:exit 2b-63b2ee42754742173e4463c0893cb37d2300de2c-be9f53a6e50b5311-01
2022-04-21T16:19:45.631Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:45.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd9cedb99bcb5a974552a068635551e4b711dc37-49a3a44ca2cb82a8-01 outer:exit 2b-cd9cedb99bcb5a974552a068635551e4b711dc37-eb71904667d0f2aa-01
2022-04-21T16:19:45.642Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:45.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-0add4196350f5a3923f9bb693da8d3a478161746-7883a1a2b9473ef5-01 outer:exit 2b-0add4196350f5a3923f9bb693da8d3a478161746-b960b703ddab67f1-01
2022-04-21T16:19:45.650Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:45.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-707255d7d07991f4d4195f6bc66a084f32902a6a-9bb9b9555216ee97-01 outer:exit 2b-707255d7d07991f4d4195f6bc66a084f32902a6a-b10a89e54aaefbfe-01
2022-04-21T16:19:45.653Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:45.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-e40fb06b23036897268da208cf6ce2b5b2a35c71-c21fa9236d0a9fd6-01 outer:exit 2b-e40fb06b23036897268da208cf6ce2b5b2a35c71-8215eb8ce6439d74-01
2022-04-21T16:19:45.655Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:45.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeb79804c22e9aaccfc6bdfd655c4e867cc6d64e-756e1996114fdf83-01 outer:exit 2b-aeb79804c22e9aaccfc6bdfd655c4e867cc6d64e-a43576ad802051e6-01
2022-04-21T16:19:45.658Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:45.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e8abdd5d0d9ad71e101727f1350eb326a4c065b-d211e63bdeb469a4-01 outer:exit 2b-3e8abdd5d0d9ad71e101727f1350eb326a4c065b-d3e9c8fb20152e79-01
2022-04-21T16:19:45.684Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (309ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:52.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:52.664Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:52.665Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:52.666Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:52.780Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:52.942Z appoptics:patching patched crypto 
2022-04-21T16:19:52.969Z appoptics:patching patched https 
2022-04-21T16:19:52.969Z appoptics:patching patched http 
2022-04-21T16:19:53.005Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:53.005Z appoptics:patching patched fs 
2022-04-21T16:19:53.031Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v16.14.2)
2022-04-21T16:19:53.037Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-21T16:19:53.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7877f9cd7fda7bfb1f29edf64f2c83eabdfbe1-d72e43558ccb77fe-01 outer:exit 2b-ed7877f9cd7fda7bfb1f29edf64f2c83eabdfbe1-138309e4668b4f37-01
2022-04-21T16:19:53.082Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:53.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb12e413b98f5749fe26e89f16eb2cce18831142-58a49ba3eb2c13af-01 outer:exit 2b-cb12e413b98f5749fe26e89f16eb2cce18831142-7e335fb73b7efc13-01
2022-04-21T16:19:53.129Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:53.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-79e9c7f2e5348665e57d76758236185e90542a0b-3fcd9f179db50057-01 outer:exit 2b-79e9c7f2e5348665e57d76758236185e90542a0b-558539da0896e7db-01
2022-04-21T16:19:53.133Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:53.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0fe7ed352fcacaf33b2456df85365aef42e7df7-b1123ceb7d02b47f-01 outer:exit 2b-c0fe7ed352fcacaf33b2456df85365aef42e7df7-628cbe603af75b51-01
2022-04-21T16:19:53.136Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:53.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dae6fc75ee48736a09d15bf4bd32a346172857a-cdcfab2b5ff5e684-01 outer:exit 2b-0dae6fc75ee48736a09d15bf4bd32a346172857a-f27e025769af95b0-01
2022-04-21T16:19:53.143Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:53.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-aedbeb9626c54d281e9785a02265442ceb23d552-4844ab28f2fd0b51-01 outer:exit 2b-aedbeb9626c54d281e9785a02265442ceb23d552-6bc7d3ebddf41aa2-01
2022-04-21T16:19:53.146Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:53.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-85dfe24d8d08f9c860f7899c4bef1b3a454b9896-fe503df862683e5c-01 outer:exit 2b-85dfe24d8d08f9c860f7899c4bef1b3a454b9896-b02a9561cfb21247-01
2022-04-21T16:19:53.149Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:53.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aa586638fdf4507c11ef324d8ba39180d68d91d-40c6aae4ff958821-01 outer:exit 2b-0aa586638fdf4507c11ef324d8ba39180d68d91d-cc5c2db18ee169bc-01
2022-04-21T16:19:53.151Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:53.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-71389cb3ee2ae1df3d35d759333b500e37b8a7fc-9c5ef58d0b00f332-01 outer:exit 2b-71389cb3ee2ae1df3d35d759333b500e37b8a7fc-04cbd46643a727df-01
2022-04-21T16:19:53.157Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:53.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba4f9dfdd8ca5a93c70b6b919b13f7227a79245e-d86f2aaa91e5ab15-01 outer:exit 2b-ba4f9dfdd8ca5a93c70b6b919b13f7227a79245e-8e1aa966f50bb83d-01
2022-04-21T16:19:53.161Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:53.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb3b35df931e6eb373762100b577cfb86cf297a1-f9a4c514b1e28304-01 outer:exit 2b-bb3b35df931e6eb373762100b577cfb86cf297a1-7b0de199a26b8cf2-01
2022-04-21T16:19:53.165Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:53.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8c0f2ea83ebae9106eba31ebcca6b398a3bfa15-332114d73cd9fb89-01 outer:exit 2b-c8c0f2ea83ebae9106eba31ebcca6b398a3bfa15-cd7d511a828c8c9c-01
2022-04-21T16:19:53.171Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:53.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-756cc8efbc5101c18e7a06a139d73aaba1c07f8c-e29d9208c3803244-01 outer:exit 2b-756cc8efbc5101c18e7a06a139d73aaba1c07f8c-9811672a05e1bf5d-01
2022-04-21T16:19:53.195Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:53.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-c13d7fc44de0f96bca7b3ad431f8595543e0e330-70b226bf45d6821e-01 outer:exit 2b-c13d7fc44de0f96bca7b3ad431f8595543e0e330-bffebc17d2b8628e-01
2022-04-21T16:19:53.243Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:53.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a8132f767d659ad9023044c7bca2892bef251ff-7df8e8338093484b-01 outer:exit 2b-5a8132f767d659ad9023044c7bca2892bef251ff-25a4ae693b884ec6-01
2022-04-21T16:19:53.248Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:53.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-8661848c19692e2c58a55c4e20afe022e587bdb9-6c9842832b6ca006-01 outer:exit 2b-8661848c19692e2c58a55c4e20afe022e587bdb9-2202a2653b9743ee-01
2022-04-21T16:19:53.252Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:53.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a8336c45948dddce0fc88ac0f6893856d85a3f6-1d737bc884d8fba1-01 outer:exit 2b-3a8336c45948dddce0fc88ac0f6893856d85a3f6-9f0239a775ea0442-01
2022-04-21T16:19:53.255Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:53.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-f56c79896f4df6d7b159ce5562fe889780d06a2c-a794b3220248ceb2-01 outer:exit 2b-f56c79896f4df6d7b159ce5562fe889780d06a2c-241e1280493c4467-01
2022-04-21T16:19:53.257Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:53.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4a94794bac5cbb8bc12b61389909de4504fe352-468c8985065f1437-01 outer:exit 2b-d4a94794bac5cbb8bc12b61389909de4504fe352-08c86f972f19c60e-01
2022-04-21T16:19:53.263Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:53.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3ab8f585680b3203362712fac8767203f28f64b-d2b26809923a7e1d-01 outer:exit 2b-d3ab8f585680b3203362712fac8767203f28f64b-43baefdac00c5a1d-01
2022-04-21T16:19:53.270Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:53.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-792555212e1d52fcb56990dec6c0da201b51dc21-30686bee0536a136-01 outer:exit 2b-792555212e1d52fcb56990dec6c0da201b51dc21-a3ee883476816839-01
2022-04-21T16:19:53.274Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:53.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ac6a57d410e464b06aa3edc4e4acecdbd07f61c-339a1c04bff4592d-01 outer:exit 2b-5ac6a57d410e464b06aa3edc4e4acecdbd07f61c-ccddd55c09b3cb6d-01
2022-04-21T16:19:53.279Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:53.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9d6efc10fea39a7992ee93d1035c2d7c780b88d-bcfaf4115b553251-01 outer:exit 2b-e9d6efc10fea39a7992ee93d1035c2d7c780b88d-65d655e61e99009b-01
2022-04-21T16:19:53.282Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:53.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f2708563372b49b953f9d373f971a23d7ff7563-8d8dc1b8cc39aca0-01 outer:exit 2b-3f2708563372b49b953f9d373f971a23d7ff7563-f052cce722f05a88-01
2022-04-21T16:19:53.286Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:53.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-5aee17f404cb18e6e6b58fd8358f647b4f16e1b9-e4d68ac62414df43-01 outer:exit 2b-5aee17f404cb18e6e6b58fd8358f647b4f16e1b9-7df1c82cedeb7927-01
2022-04-21T16:19:53.288Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:53.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bb6eaf3213eb92639e7cad9cf74174e370b43d0-f693f90d803f0198-01 outer:exit 2b-9bb6eaf3213eb92639e7cad9cf74174e370b43d0-09bdf2e9a9628e47-01
2022-04-21T16:19:53.297Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:53.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5b82b470e8b323e86ae5779074df252a8baeefa-b7365c50773c899b-01 outer:exit 2b-f5b82b470e8b323e86ae5779074df252a8baeefa-b04a13133c3a9816-01
2022-04-21T16:19:53.308Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:53.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-727fc473745cbb3f11f6fcf261942cb93afa3d54-7ea80235f8926ad4-01 outer:exit 2b-727fc473745cbb3f11f6fcf261942cb93afa3d54-fd48c65747fd3152-01
2022-04-21T16:19:53.316Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:53.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-e71f61b3f81b54629a38d96296af473c48f3673c-4403e1731b78454f-01 outer:exit 2b-e71f61b3f81b54629a38d96296af473c48f3673c-af97a89c1a46fbd1-01
2022-04-21T16:19:53.331Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:53.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-16d82febe040dd8316bd74d6511cb83626654712-cd392b05f591fa67-01 outer:exit 2b-16d82febe040dd8316bd74d6511cb83626654712-5b2f12e2dbaf195e-01
2022-04-21T16:19:53.337Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:53.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-f617fcda15ce2807303c8ae98890cb54a64d6d0c-b86724038f28841d-01 outer:exit 2b-f617fcda15ce2807303c8ae98890cb54a64d6d0c-40aa9c66d1eb11b1-01
2022-04-21T16:19:53.339Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:53.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-838c73d950b19a9788ddf7a932692251f0bac8f0-8f8514c04ef34cb7-01 outer:exit 2b-838c73d950b19a9788ddf7a932692251f0bac8f0-c4e8e3c12812290b-01
2022-04-21T16:19:53.343Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:53.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-60f95a6ab4afb71279a7612d3f478c142fc42c45-70671ed1f0badad8-01 outer:exit 2b-60f95a6ab4afb71279a7612d3f478c142fc42c45-93aca75b677a7172-01
2022-04-21T16:19:53.350Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:53.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-a732e40ad14f94c176cff8fe290b616eebd45f0a-8743e6af0a66f206-01 outer:exit 2b-a732e40ad14f94c176cff8fe290b616eebd45f0a-f8267b13705f6d41-01
2022-04-21T16:19:53.352Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:53.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-381a1ac0839c01dc30cb82925b9563fbef398711-388c906bb08ce270-01 outer:exit 2b-381a1ac0839c01dc30cb82925b9563fbef398711-7bf926c8cc35536f-01
2022-04-21T16:19:53.354Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:53.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-50c78aad1d718a05880fd063accdffe0ac170c7a-80c8889135ea974a-01 outer:exit 2b-50c78aad1d718a05880fd063accdffe0ac170c7a-31728203e35c3807-01
2022-04-21T16:19:53.357Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:53.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-785180d588fd7f77d154c1c80f67cd6bed23c311-55b768a61898659d-01 outer:exit 2b-785180d588fd7f77d154c1c80f67cd6bed23c311-d5d3edeeed3188b2-01
2022-04-21T16:19:53.359Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:53.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-efad1a9b2052539359285490e84f3e2fab0cfd4f-c70f26300ebe38c2-01 outer:exit 2b-efad1a9b2052539359285490e84f3e2fab0cfd4f-0cf63c84c92c49a3-01
2022-04-21T16:19:53.365Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:53.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-398de8bb15fb56aab64a6cf5cc4cf6431ef9681d-33637967573acbb7-01 outer:exit 2b-398de8bb15fb56aab64a6cf5cc4cf6431ef9681d-13c48b222bdee685-01
2022-04-21T16:19:53.376Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:53.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-bab0edaf3dbf1bee49b5f48ba2e47590c7f218b4-eb9302be322854c3-01 outer:exit 2b-bab0edaf3dbf1bee49b5f48ba2e47590c7f218b4-9e0e94f191167f33-01
2022-04-21T16:19:53.386Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:53.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e7cbb90160f8d44977a363b173d3e4abca7221d-83de0897526d7de7-01 outer:exit 2b-4e7cbb90160f8d44977a363b173d3e4abca7221d-0cfdb8f5a526ccaa-01
2022-04-21T16:19:53.389Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:53.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-55b5b14c4e1665593a54cd9c7f30b0e854c3b5a9-77d5e60418c399b8-01 outer:exit 2b-55b5b14c4e1665593a54cd9c7f30b0e854c3b5a9-38a533f23172f2f2-01
2022-04-21T16:19:53.393Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:53.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ee2609d0e467fcde422e7a8afbc7335c9ec83e0-49b10fc35fe1fef5-01 outer:exit 2b-3ee2609d0e467fcde422e7a8afbc7335c9ec83e0-570f52c37593266e-01
2022-04-21T16:19:53.397Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:53.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c02eb111d833da2be1db7cd796767aa18ec9373-c0b79282eb0358f0-01 outer:exit 2b-3c02eb111d833da2be1db7cd796767aa18ec9373-3c7d220f6e361c8a-01
2022-04-21T16:19:53.429Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (386ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:59.634Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:59.635Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:59.635Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:59.636Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:59.697Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:59.814Z appoptics:patching patched crypto 
2022-04-21T16:19:59.832Z appoptics:patching patched https 
2022-04-21T16:19:59.833Z appoptics:patching patched http 
2022-04-21T16:19:59.872Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:59.873Z appoptics:patching patched fs 
2022-04-21T16:19:59.898Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v16.14.2)
2022-04-21T16:19:59.904Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-21T16:19:59.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-94514a1bad444d291d307485e5711e52eccabf19-c15f6f7bf94fb87d-01 outer:exit 2b-94514a1bad444d291d307485e5711e52eccabf19-18da4050322a3170-01
2022-04-21T16:19:59.960Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:20:00.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ec4c3bf40dea994a7f70523130240d6cbff8fab-36ed4f88a493132e-01 outer:exit 2b-4ec4c3bf40dea994a7f70523130240d6cbff8fab-c85c6c0af7300187-01
2022-04-21T16:20:00.006Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:20:00.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-473f2a61013a78ee66634298e7ee74183a9cab53-18192716ce0818a0-01 outer:exit 2b-473f2a61013a78ee66634298e7ee74183a9cab53-e31a66fd3603c32a-01
2022-04-21T16:20:00.010Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:20:00.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ee58fdfae1472ef3eddc65791e9a23688755c87-f24789d49a2d7fde-01 outer:exit 2b-4ee58fdfae1472ef3eddc65791e9a23688755c87-ed579bf2b1a54bb7-01
2022-04-21T16:20:00.015Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:20:00.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaa71a14d423a76db5fb86da65adaa38f70b7b49-0da2f5570037d5a0-01 outer:exit 2b-eaa71a14d423a76db5fb86da65adaa38f70b7b49-218f240d4c30fdcc-01
2022-04-21T16:20:00.020Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:20:00.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd31a520c85bb59677940fd9a6cd84cb066d54ba-0fe5d76f9641867e-01 outer:exit 2b-fd31a520c85bb59677940fd9a6cd84cb066d54ba-83e22609fba24908-01
2022-04-21T16:20:00.024Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:20:00.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-1834a33605383b323e2489ff98ff588a1e4f4823-c2e5c9aa34942cc5-01 outer:exit 2b-1834a33605383b323e2489ff98ff588a1e4f4823-4e599b0e2b50d46f-01
2022-04-21T16:20:00.027Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:20:00.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d8c25871f77a792e5dda4105c2ddec8d6e78dd3-b31abe80faa93f2b-01 outer:exit 2b-8d8c25871f77a792e5dda4105c2ddec8d6e78dd3-3c692151d40da67e-01
2022-04-21T16:20:00.030Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:20:00.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-91d8ec5bae530a86065d19c85000abcc5a825d2d-8bca50ebb568f6f8-01 outer:exit 2b-91d8ec5bae530a86065d19c85000abcc5a825d2d-cf2abf557d774643-01
2022-04-21T16:20:00.034Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:20:00.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-493abd745d20c8648d2a38e4f1a5388e57b8cee6-9fddcd9843a594ce-01 outer:exit 2b-493abd745d20c8648d2a38e4f1a5388e57b8cee6-040557d07ddb5fc1-01
2022-04-21T16:20:00.038Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:20:00.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfb5320a26b02d858055d1d4467b4661b569cbee-a6cb796a208926dc-01 outer:exit 2b-dfb5320a26b02d858055d1d4467b4661b569cbee-aa7f2b1e83075f1a-01
2022-04-21T16:20:00.042Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:20:00.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-9140fa163df42257a7bc34333647f48d8b26c8c7-3bdd19a397286240-01 outer:exit 2b-9140fa163df42257a7bc34333647f48d8b26c8c7-b31ff3e21b763c8a-01
2022-04-21T16:20:00.048Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:20:00.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe346a7a4e79ad0557a14d7c36162f6803b8cb2d-2d55285390fd0b39-01 outer:exit 2b-fe346a7a4e79ad0557a14d7c36162f6803b8cb2d-250d22272399856c-01
2022-04-21T16:20:00.066Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:20:00.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-b68b8c7eb2321c27c59185b702e3fb4c00033351-e595387d9cb31f83-01 outer:exit 2b-b68b8c7eb2321c27c59185b702e3fb4c00033351-96895843b6a755a4-01
2022-04-21T16:20:00.107Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:20:00.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-db6adacc6ed2c753f4413709273a6cd12aea87a4-47ee972b4124e20b-01 outer:exit 2b-db6adacc6ed2c753f4413709273a6cd12aea87a4-28c83c66b10e8f65-01
2022-04-21T16:20:00.110Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:20:00.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-c290e6d59721b2dbd33c9c4e6c2a414adc1d414d-df64114ff916de26-01 outer:exit 2b-c290e6d59721b2dbd33c9c4e6c2a414adc1d414d-215984bfcf54e8ad-01
2022-04-21T16:20:00.113Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:20:00.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccef3ffb17554701a333601a6d968642c8e1a90c-4e6886d06ceac832-01 outer:exit 2b-ccef3ffb17554701a333601a6d968642c8e1a90c-f51adf63eca7a6a9-01
2022-04-21T16:20:00.116Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:20:00.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ca590c72b7979d57e47ed40e4255101bd7e1ed-593ef2f06a4c29db-01 outer:exit 2b-66ca590c72b7979d57e47ed40e4255101bd7e1ed-fbd01a8b601921df-01
2022-04-21T16:20:00.118Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:20:00.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-28ed1ad4e223102c62609ac8dc03cd4d9078d105-075c1923fd6fe1ec-01 outer:exit 2b-28ed1ad4e223102c62609ac8dc03cd4d9078d105-f1ebbceeabfc7c35-01
2022-04-21T16:20:00.120Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:20:00.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f83f56abf47767f947d9e0f833ea0b34c165b43-76ee2a70170edee6-01 outer:exit 2b-1f83f56abf47767f947d9e0f833ea0b34c165b43-813e5005e8b80ee9-01
2022-04-21T16:20:00.122Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:20:00.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-e51d66099e373f9af8b0a387aa2c34be182a7a01-00e57d23c42a8480-01 outer:exit 2b-e51d66099e373f9af8b0a387aa2c34be182a7a01-583959f9f098edc4-01
2022-04-21T16:20:00.124Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:20:00.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5131e79884521f5cc85cadc1d4a0067a676c2e0-bb01e47179845c79-01 outer:exit 2b-a5131e79884521f5cc85cadc1d4a0067a676c2e0-c04815102ed9ed48-01
2022-04-21T16:20:00.126Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:20:00.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3408135344b79fca0daa36211d2e2c18ed925d5-9dc0f79a57330a3d-01 outer:exit 2b-a3408135344b79fca0daa36211d2e2c18ed925d5-ae5810ed7617ef47-01
2022-04-21T16:20:00.129Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:20:00.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-095f36966f9dcda31ee0899ecb061d1ed7c6fee1-909f1692ed65d30e-01 outer:exit 2b-095f36966f9dcda31ee0899ecb061d1ed7c6fee1-3000139e15720e3d-01
2022-04-21T16:20:00.132Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:20:00.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa57174d1ec055cc63b63eabda0125b7dbe8ecfa-5e066276cc3d52c2-01 outer:exit 2b-aa57174d1ec055cc63b63eabda0125b7dbe8ecfa-75c6deb8e40d8c75-01
2022-04-21T16:20:00.134Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:20:00.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc10b56d5e374c16142e3e4105b4d329afc4252a-002f55d6665ac807-01 outer:exit 2b-fc10b56d5e374c16142e3e4105b4d329afc4252a-484e1cac2d8f2194-01
2022-04-21T16:20:00.136Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:20:00.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3134a2b3c4a2ccd9bc4f14712d77a2c61a69e85-db2d86454b9094a4-01 outer:exit 2b-a3134a2b3c4a2ccd9bc4f14712d77a2c61a69e85-162f4a8e48ea34b8-01
2022-04-21T16:20:00.143Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:20:00.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eb30d7ca821a9bd9d2df36b569b943a1c07d16b-ad69196c57af6505-01 outer:exit 2b-0eb30d7ca821a9bd9d2df36b569b943a1c07d16b-71eae649ec335a44-01
2022-04-21T16:20:00.151Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:20:00.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-8be0061193e7a884893644ef3651f50ac258eaff-f9d82c0d92deeaf9-01 outer:exit 2b-8be0061193e7a884893644ef3651f50ac258eaff-c4ddaada01b7fe85-01
2022-04-21T16:20:00.159Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:20:00.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-204024ee6bd80783cb5d52465807933e15ce1812-836b05e9e59c2512-01 outer:exit 2b-204024ee6bd80783cb5d52465807933e15ce1812-ac34798b2f621f38-01
2022-04-21T16:20:00.164Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:20:00.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-e013a5de2d1602658f88808fff5cd3a03fdf42d4-334c44492d211c31-01 outer:exit 2b-e013a5de2d1602658f88808fff5cd3a03fdf42d4-18eaeef5f5b3363d-01
2022-04-21T16:20:00.167Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:20:00.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-29245ccdb99e1a182f2bfec206e185cdba7124e0-d06d92eab8dc5179-01 outer:exit 2b-29245ccdb99e1a182f2bfec206e185cdba7124e0-74f263e935761f66-01
2022-04-21T16:20:00.170Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:20:00.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-10327ea76afad667e04f6aee9d07698ab365620b-d0eaf707f21ebeaa-01 outer:exit 2b-10327ea76afad667e04f6aee9d07698ab365620b-eb270eef45dc98bd-01
2022-04-21T16:20:00.177Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:20:00.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e2adad9c01322a025a1af915dab63a7c1263cfe-539d9215465e1d38-01 outer:exit 2b-0e2adad9c01322a025a1af915dab63a7c1263cfe-da2d99cc1a101ae5-01
2022-04-21T16:20:00.179Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:20:00.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-50fee32cb9f29e98b4c104a62e26730ee1bac875-c91ee02d923f88f3-01 outer:exit 2b-50fee32cb9f29e98b4c104a62e26730ee1bac875-fbcf0f77682917fb-01
2022-04-21T16:20:00.181Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:20:00.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-26773111cd0f51af327c0a41be4d5765c3f323ee-f856ced2577c4d2d-01 outer:exit 2b-26773111cd0f51af327c0a41be4d5765c3f323ee-1b4e02dbfa14cbf9-01
2022-04-21T16:20:00.183Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:20:00.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c277bb268efc2afa1f1300d7ed1edc8e983fbfd-7573b23d16e11eee-01 outer:exit 2b-7c277bb268efc2afa1f1300d7ed1edc8e983fbfd-f3b66e9653d5e119-01
2022-04-21T16:20:00.184Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:20:00.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-082af65fce2385c6db35c0802c5a7b14acc26547-42d6bdac4383454f-01 outer:exit 2b-082af65fce2385c6db35c0802c5a7b14acc26547-fbb04cf0f2503970-01
2022-04-21T16:20:00.186Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:20:00.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1baacd49ea59a62611aaa88013c92b188311281-d65bf29b1d5a10a6-01 outer:exit 2b-b1baacd49ea59a62611aaa88013c92b188311281-21be730a9edb82e4-01
2022-04-21T16:20:00.195Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:20:00.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3ae10b80d8baff385d27a9ef91f8867f5160044-b21ed033f6ef4f01-01 outer:exit 2b-e3ae10b80d8baff385d27a9ef91f8867f5160044-00a0616b2f92d8b4-01
2022-04-21T16:20:00.203Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:20:00.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c7446471c3df632477d896e897de6d2f4f92ccb-caf1fb71feeb13ed-01 outer:exit 2b-6c7446471c3df632477d896e897de6d2f4f92ccb-d916fcf2978cb11e-01
2022-04-21T16:20:00.206Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:20:00.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-8af3187d842dd3ca4eb672dff9d6fba4c884a7e5-9481212bdc80d840-01 outer:exit 2b-8af3187d842dd3ca4eb672dff9d6fba4c884a7e5-f9563685994575df-01
2022-04-21T16:20:00.208Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:20:00.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-b54286966071c11099833a7e32732eaa84e9da3e-080a326721300d38-01 outer:exit 2b-b54286966071c11099833a7e32732eaa84e9da3e-6be6b192ac2610eb-01
2022-04-21T16:20:00.212Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:20:00.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff0306491f04d26167cbb8cc83c76edd0072449-54bb01a7440e91c4-01 outer:exit 2b-4ff0306491f04d26167cbb8cc83c76edd0072449-32d6ff1870455f13-01
2022-04-21T16:20:00.238Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (329ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:06.595Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:06.595Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:06.595Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:06.596Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:06.655Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:06.777Z appoptics:patching patched crypto 
2022-04-21T16:20:06.795Z appoptics:patching patched https 
2022-04-21T16:20:06.795Z appoptics:patching patched http 
2022-04-21T16:20:06.834Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:06.835Z appoptics:patching patched fs 
2022-04-21T16:20:06.845Z appoptics:patching patched zlib 
2022-04-21T16:20:06.865Z appoptics:patching patched mongodb-core 3.0.0
2022-04-21T16:20:06.870Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (43ms)


  33 passing (336ms)


changed 1 package, and audited 927 packages in 20s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:27.503Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:27.504Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:27.504Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:27.505Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:27.568Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:27.694Z appoptics:patching patched crypto 
2022-04-21T16:20:27.713Z appoptics:patching patched https 
2022-04-21T16:20:27.714Z appoptics:patching patched http 
2022-04-21T16:20:27.762Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:27.763Z appoptics:patching patched fs 
2022-04-21T16:20:27.772Z appoptics:patching patched zlib 
2022-04-21T16:20:27.793Z appoptics:patching patched mongodb-core 3.0.1
2022-04-21T16:20:27.799Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (283ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:34.802Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:34.802Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:34.802Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:34.803Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:34.878Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:35.021Z appoptics:patching patched crypto 
2022-04-21T16:20:35.060Z appoptics:patching patched https 
2022-04-21T16:20:35.070Z appoptics:patching patched http 
2022-04-21T16:20:35.100Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:35.101Z appoptics:patching patched fs 
2022-04-21T16:20:35.110Z appoptics:patching patched zlib 
2022-04-21T16:20:35.137Z appoptics:patching patched mongodb-core 3.0.2
2022-04-21T16:20:35.142Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (284ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:41.125Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:41.126Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:41.126Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:41.127Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:41.189Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:41.309Z appoptics:patching patched crypto 
2022-04-21T16:20:41.328Z appoptics:patching patched https 
2022-04-21T16:20:41.329Z appoptics:patching patched http 
2022-04-21T16:20:41.369Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:41.369Z appoptics:patching patched fs 
2022-04-21T16:20:41.378Z appoptics:patching patched zlib 
2022-04-21T16:20:41.401Z appoptics:patching patched mongodb-core 3.0.3
2022-04-21T16:20:41.406Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (268ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:48.420Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:48.420Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:48.420Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:48.421Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:48.482Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:48.598Z appoptics:patching patched crypto 
2022-04-21T16:20:48.616Z appoptics:patching patched https 
2022-04-21T16:20:48.617Z appoptics:patching patched http 
2022-04-21T16:20:48.657Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:48.658Z appoptics:patching patched fs 
2022-04-21T16:20:48.667Z appoptics:patching patched zlib 
2022-04-21T16:20:48.690Z appoptics:patching patched mongodb-core 3.0.4
2022-04-21T16:20:48.695Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (299ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:54.745Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:54.746Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:54.746Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:54.747Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:54.810Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:54.934Z appoptics:patching patched crypto 
2022-04-21T16:20:54.953Z appoptics:patching patched https 
2022-04-21T16:20:54.954Z appoptics:patching patched http 
2022-04-21T16:20:55.024Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:55.024Z appoptics:patching patched fs 
2022-04-21T16:20:55.036Z appoptics:patching patched zlib 
2022-04-21T16:20:55.061Z appoptics:patching patched mongodb-core 3.0.5
2022-04-21T16:20:55.067Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (43ms)


  33 passing (305ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:01.918Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:01.919Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:01.919Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:01.920Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:01.984Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:02.109Z appoptics:patching patched crypto 
2022-04-21T16:21:02.128Z appoptics:patching patched https 
2022-04-21T16:21:02.129Z appoptics:patching patched http 
2022-04-21T16:21:02.168Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:02.168Z appoptics:patching patched fs 
2022-04-21T16:21:02.178Z appoptics:patching patched zlib 
2022-04-21T16:21:02.202Z appoptics:patching patched mongodb-core 3.0.6
2022-04-21T16:21:02.207Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (279ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:09.204Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:09.205Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:09.205Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:09.206Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:09.286Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:09.436Z appoptics:patching patched crypto 
2022-04-21T16:21:09.480Z appoptics:patching patched https 
2022-04-21T16:21:09.481Z appoptics:patching patched http 
2022-04-21T16:21:09.530Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:09.531Z appoptics:patching patched fs 
2022-04-21T16:21:09.542Z appoptics:patching patched zlib 
2022-04-21T16:21:09.574Z appoptics:patching patched mongodb-core 3.0.7
2022-04-21T16:21:09.581Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (331ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:15.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:15.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:15.744Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:15.744Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:15.807Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:15.928Z appoptics:patching patched crypto 
2022-04-21T16:21:15.946Z appoptics:patching patched https 
2022-04-21T16:21:15.946Z appoptics:patching patched http 
2022-04-21T16:21:15.989Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:15.989Z appoptics:patching patched fs 
2022-04-21T16:21:15.999Z appoptics:patching patched zlib 
2022-04-21T16:21:16.025Z appoptics:patching patched mongodb-core 3.0.8
2022-04-21T16:21:16.031Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (58ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (306ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:22.753Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:22.753Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:22.753Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:22.754Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:22.817Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:22.935Z appoptics:patching patched crypto 
2022-04-21T16:21:22.953Z appoptics:patching patched https 
2022-04-21T16:21:22.954Z appoptics:patching patched http 
2022-04-21T16:21:22.994Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:22.994Z appoptics:patching patched fs 
2022-04-21T16:21:23.003Z appoptics:patching patched zlib 
2022-04-21T16:21:23.027Z appoptics:patching patched mongodb-core 3.0.9
2022-04-21T16:21:23.032Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (282ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:29.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:29.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:29.225Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:29.225Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:29.286Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:29.432Z appoptics:patching patched crypto 
2022-04-21T16:21:29.462Z appoptics:patching patched https 
2022-04-21T16:21:29.462Z appoptics:patching patched http 
2022-04-21T16:21:29.503Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:29.503Z appoptics:patching patched fs 
2022-04-21T16:21:29.514Z appoptics:patching patched zlib 
2022-04-21T16:21:29.539Z appoptics:patching patched mongodb-core 3.0.11
2022-04-21T16:21:29.545Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (329ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:36.381Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:36.381Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:36.381Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:36.382Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:36.464Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:36.596Z appoptics:patching patched crypto 
2022-04-21T16:21:36.614Z appoptics:patching patched https 
2022-04-21T16:21:36.615Z appoptics:patching patched http 
2022-04-21T16:21:36.656Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:36.656Z appoptics:patching patched fs 
2022-04-21T16:21:36.666Z appoptics:patching patched zlib 
2022-04-21T16:21:36.695Z appoptics:patching patched mongodb-core 3.1.0
2022-04-21T16:21:36.701Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (287ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:42.657Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:42.657Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:42.657Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:42.658Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:42.719Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:42.836Z appoptics:patching patched crypto 
2022-04-21T16:21:42.859Z appoptics:patching patched https 
2022-04-21T16:21:42.860Z appoptics:patching patched http 
2022-04-21T16:21:42.897Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:42.898Z appoptics:patching patched fs 
2022-04-21T16:21:42.907Z appoptics:patching patched zlib 
2022-04-21T16:21:42.934Z appoptics:patching patched mongodb-core 3.1.1
2022-04-21T16:21:42.940Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (313ms)


changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:49.732Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:49.732Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:49.732Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:49.733Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:49.795Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:49.918Z appoptics:patching patched crypto 
2022-04-21T16:21:49.947Z appoptics:patching patched https 
2022-04-21T16:21:49.948Z appoptics:patching patched http 
2022-04-21T16:21:49.981Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:49.981Z appoptics:patching patched fs 
2022-04-21T16:21:49.991Z appoptics:patching patched zlib 
2022-04-21T16:21:50.018Z appoptics:patching patched mongodb-core 3.1.2
2022-04-21T16:21:50.023Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (274ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:56.253Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:56.254Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:56.254Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:56.256Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:56.328Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:56.456Z appoptics:patching patched crypto 
2022-04-21T16:21:56.490Z appoptics:patching patched https 
2022-04-21T16:21:56.499Z appoptics:patching patched http 
2022-04-21T16:21:56.535Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:56.536Z appoptics:patching patched fs 
2022-04-21T16:21:56.550Z appoptics:patching patched zlib 
2022-04-21T16:21:56.582Z appoptics:patching patched mongodb-core 3.1.3
2022-04-21T16:21:56.592Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (341ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:03.184Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:03.185Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:03.185Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:03.185Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:03.246Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:03.373Z appoptics:patching patched crypto 
2022-04-21T16:22:03.392Z appoptics:patching patched https 
2022-04-21T16:22:03.392Z appoptics:patching patched http 
2022-04-21T16:22:03.434Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:03.434Z appoptics:patching patched fs 
2022-04-21T16:22:03.445Z appoptics:patching patched zlib 
2022-04-21T16:22:03.472Z appoptics:patching patched mongodb-core 3.1.4
2022-04-21T16:22:03.478Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (752ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:10.568Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:10.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:10.568Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:10.569Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:10.630Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:10.748Z appoptics:patching patched crypto 
2022-04-21T16:22:10.767Z appoptics:patching patched https 
2022-04-21T16:22:10.767Z appoptics:patching patched http 
2022-04-21T16:22:10.805Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:10.806Z appoptics:patching patched fs 
2022-04-21T16:22:10.816Z appoptics:patching patched zlib 
2022-04-21T16:22:10.843Z appoptics:patching patched mongodb-core 3.1.5
2022-04-21T16:22:10.848Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (273ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:17.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:17.545Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:17.545Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:17.546Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:17.607Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:17.726Z appoptics:patching patched crypto 
2022-04-21T16:22:17.745Z appoptics:patching patched https 
2022-04-21T16:22:17.745Z appoptics:patching patched http 
2022-04-21T16:22:17.784Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:17.785Z appoptics:patching patched fs 
2022-04-21T16:22:17.796Z appoptics:patching patched zlib 
2022-04-21T16:22:17.823Z appoptics:patching patched mongodb-core 3.1.6
2022-04-21T16:22:17.828Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (273ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:24.364Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:24.365Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:24.365Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:24.365Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:24.439Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:24.636Z appoptics:patching patched crypto 
2022-04-21T16:22:24.676Z appoptics:patching patched https 
2022-04-21T16:22:24.676Z appoptics:patching patched http 
2022-04-21T16:22:24.718Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:24.719Z appoptics:patching patched fs 
2022-04-21T16:22:24.735Z appoptics:patching patched zlib 
2022-04-21T16:22:24.766Z appoptics:patching patched mongodb-core 3.1.7
2022-04-21T16:22:24.772Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (290ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:30.718Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:30.719Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:30.719Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:30.720Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:30.780Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:30.899Z appoptics:patching patched crypto 
2022-04-21T16:22:30.918Z appoptics:patching patched https 
2022-04-21T16:22:30.919Z appoptics:patching patched http 
2022-04-21T16:22:30.958Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:30.959Z appoptics:patching patched fs 
2022-04-21T16:22:30.969Z appoptics:patching patched zlib 
2022-04-21T16:22:30.996Z appoptics:patching patched mongodb-core 3.1.8
2022-04-21T16:22:31.001Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (279ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:38.009Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:38.009Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:38.009Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:38.010Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:38.071Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:38.189Z appoptics:patching patched crypto 
2022-04-21T16:22:38.206Z appoptics:patching patched https 
2022-04-21T16:22:38.207Z appoptics:patching patched http 
2022-04-21T16:22:38.245Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:38.245Z appoptics:patching patched fs 
2022-04-21T16:22:38.256Z appoptics:patching patched zlib 
2022-04-21T16:22:38.283Z appoptics:patching patched mongodb-core 3.1.9
2022-04-21T16:22:38.289Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (266ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:44.066Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:44.067Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:44.067Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:44.068Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:44.158Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:44.289Z appoptics:patching patched crypto 
2022-04-21T16:22:44.307Z appoptics:patching patched https 
2022-04-21T16:22:44.308Z appoptics:patching patched http 
2022-04-21T16:22:44.346Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:44.346Z appoptics:patching patched fs 
2022-04-21T16:22:44.357Z appoptics:patching patched zlib 
2022-04-21T16:22:44.384Z appoptics:patching patched mongodb-core 3.1.10
2022-04-21T16:22:44.390Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (285ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:51.519Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:51.520Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:51.520Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:51.521Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:51.582Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:51.702Z appoptics:patching patched crypto 
2022-04-21T16:22:51.720Z appoptics:patching patched https 
2022-04-21T16:22:51.721Z appoptics:patching patched http 
2022-04-21T16:22:51.759Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:51.760Z appoptics:patching patched fs 
2022-04-21T16:22:51.770Z appoptics:patching patched zlib 
2022-04-21T16:22:51.797Z appoptics:patching patched mongodb-core 3.1.11
2022-04-21T16:22:51.802Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (42ms)


  33 passing (284ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:58.229Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:58.230Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:58.230Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:58.232Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:58.362Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:58.586Z appoptics:patching patched crypto 
2022-04-21T16:22:58.655Z appoptics:patching patched https 
2022-04-21T16:22:58.677Z appoptics:patching patched http 
2022-04-21T16:22:58.717Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:58.717Z appoptics:patching patched fs 
2022-04-21T16:22:58.731Z appoptics:patching patched zlib 
2022-04-21T16:22:58.769Z appoptics:patching patched mongodb-core 3.2.0
2022-04-21T16:22:58.774Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (304ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:04.771Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:04.772Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:04.772Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:04.773Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:04.839Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:04.968Z appoptics:patching patched crypto 
2022-04-21T16:23:04.991Z appoptics:patching patched https 
2022-04-21T16:23:04.992Z appoptics:patching patched http 
2022-04-21T16:23:05.042Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:05.042Z appoptics:patching patched fs 
2022-04-21T16:23:05.055Z appoptics:patching patched zlib 
2022-04-21T16:23:05.098Z appoptics:patching patched mongodb-core 3.2.1
2022-04-21T16:23:05.103Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (302ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:11.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:11.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:11.893Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:11.894Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:11.972Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:12.098Z appoptics:patching patched crypto 
2022-04-21T16:23:12.117Z appoptics:patching patched https 
2022-04-21T16:23:12.118Z appoptics:patching patched http 
2022-04-21T16:23:12.157Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:12.157Z appoptics:patching patched fs 
2022-04-21T16:23:12.168Z appoptics:patching patched zlib 
2022-04-21T16:23:12.201Z appoptics:patching patched mongodb-core 3.2.2
2022-04-21T16:23:12.206Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (286ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:18.513Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:18.514Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:18.514Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:18.515Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:18.577Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:18.697Z appoptics:patching patched crypto 
2022-04-21T16:23:18.715Z appoptics:patching patched https 
2022-04-21T16:23:18.716Z appoptics:patching patched http 
2022-04-21T16:23:18.756Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:18.756Z appoptics:patching patched fs 
2022-04-21T16:23:18.767Z appoptics:patching patched zlib 
2022-04-21T16:23:18.800Z appoptics:patching patched mongodb-core 3.2.3
2022-04-21T16:23:18.805Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (273ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:25.521Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:25.522Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:25.522Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:25.523Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:25.591Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:25.717Z appoptics:patching patched crypto 
2022-04-21T16:23:25.757Z appoptics:patching patched https 
2022-04-21T16:23:25.758Z appoptics:patching patched http 
2022-04-21T16:23:25.819Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:25.819Z appoptics:patching patched fs 
2022-04-21T16:23:25.830Z appoptics:patching patched zlib 
2022-04-21T16:23:25.863Z appoptics:patching patched mongodb-core 3.2.4
2022-04-21T16:23:25.869Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (274ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:32.231Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:32.232Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:32.232Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:32.233Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:32.294Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:32.414Z appoptics:patching patched crypto 
2022-04-21T16:23:32.462Z appoptics:patching patched https 
2022-04-21T16:23:32.463Z appoptics:patching patched http 
2022-04-21T16:23:32.494Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:32.495Z appoptics:patching patched fs 
2022-04-21T16:23:32.509Z appoptics:patching patched zlib 
2022-04-21T16:23:32.551Z appoptics:patching patched mongodb-core 3.2.5
2022-04-21T16:23:32.556Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (281ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:39.365Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:39.365Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:39.365Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:39.366Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:39.428Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:39.550Z appoptics:patching patched crypto 
2022-04-21T16:23:39.570Z appoptics:patching patched https 
2022-04-21T16:23:39.571Z appoptics:patching patched http 
2022-04-21T16:23:39.606Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:39.606Z appoptics:patching patched fs 
2022-04-21T16:23:39.617Z appoptics:patching patched zlib 
2022-04-21T16:23:39.651Z appoptics:patching patched mongodb-core 3.2.6
2022-04-21T16:23:39.656Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (274ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:45.794Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:45.795Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:45.795Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:45.796Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:45.858Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:45.979Z appoptics:patching patched crypto 
2022-04-21T16:23:46.009Z appoptics:patching patched https 
2022-04-21T16:23:46.016Z appoptics:patching patched http 
2022-04-21T16:23:46.054Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:46.055Z appoptics:patching patched fs 
2022-04-21T16:23:46.067Z appoptics:patching patched zlib 
2022-04-21T16:23:46.102Z appoptics:patching patched mongodb-core 3.2.7
2022-04-21T16:23:46.107Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (305ms)


up to date, audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
