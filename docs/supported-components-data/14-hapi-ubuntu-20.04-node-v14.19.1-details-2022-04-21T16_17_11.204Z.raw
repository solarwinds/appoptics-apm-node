npm WARN deprecated hapi@13.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@7.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.0.0
added 51 packages, removed 5 packages, updated 19 packages and audited 981 packages in 9.384s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
npm WARN deprecated vision@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ vision@4.1.1
removed 1 package, updated 6 packages and audited 980 packages in 7.77s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:31.094Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:31.095Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:31.095Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:31.096Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:31.163Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:31.388Z appoptics:patching patched crypto 
2022-04-21T16:17:31.428Z appoptics:patching patched https 
2022-04-21T16:17:31.429Z appoptics:patching patched http 
2022-04-21T16:17:31.471Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.1.0
removed 32 packages, updated 2 packages, moved 1 package and audited 948 packages in 7.24s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:40.803Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:40.804Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:40.804Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:40.805Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:40.884Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:41.125Z appoptics:patching patched crypto 
2022-04-21T16:17:41.177Z appoptics:patching patched https 
2022-04-21T16:17:41.178Z appoptics:patching patched http 
2022-04-21T16:17:41.228Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.0
updated 1 package and audited 948 packages in 6.146s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:49.097Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:49.099Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:49.099Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:49.100Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:49.165Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:49.418Z appoptics:patching patched crypto 
2022-04-21T16:17:49.477Z appoptics:patching patched https 
2022-04-21T16:17:49.479Z appoptics:patching patched http 
2022-04-21T16:17:49.517Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.1
updated 1 package and audited 948 packages in 7.367s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:58.554Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:58.555Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:58.555Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:58.556Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:58.621Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:58.835Z appoptics:patching patched crypto 
2022-04-21T16:17:58.860Z appoptics:patching patched https 
2022-04-21T16:17:58.861Z appoptics:patching patched http 
2022-04-21T16:17:58.904Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.2
updated 1 package and audited 948 packages in 6.635s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:07.538Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:07.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:07.538Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:07.539Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:07.605Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:07.810Z appoptics:patching patched crypto 
2022-04-21T16:18:07.834Z appoptics:patching patched https 
2022-04-21T16:18:07.834Z appoptics:patching patched http 
2022-04-21T16:18:07.876Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.3.0
updated 1 package and audited 948 packages in 6.659s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:16.011Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:16.012Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:16.012Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:16.013Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:16.078Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:16.289Z appoptics:patching patched crypto 
2022-04-21T16:18:16.313Z appoptics:patching patched https 
2022-04-21T16:18:16.314Z appoptics:patching patched http 
2022-04-21T16:18:16.357Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.0
removed 3 packages, updated 1 package and audited 945 packages in 7.494s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:25.411Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:25.411Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:25.411Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:25.412Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:25.472Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:25.693Z appoptics:patching patched crypto 
2022-04-21T16:18:25.716Z appoptics:patching patched https 
2022-04-21T16:18:25.717Z appoptics:patching patched http 
2022-04-21T16:18:25.765Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.1
updated 1 package and audited 945 packages in 7.585s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:34.983Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:34.984Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:34.984Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:34.986Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:35.070Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:35.305Z appoptics:patching patched crypto 
2022-04-21T16:18:35.351Z appoptics:patching patched https 
2022-04-21T16:18:35.352Z appoptics:patching patched http 
2022-04-21T16:18:35.390Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.2
updated 1 package and audited 945 packages in 5.91s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:42.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:42.866Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:42.866Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:42.867Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:42.936Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:43.151Z appoptics:patching patched crypto 
2022-04-21T16:18:43.174Z appoptics:patching patched https 
2022-04-21T16:18:43.175Z appoptics:patching patched http 
2022-04-21T16:18:43.218Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.5.0
updated 1 package and audited 945 packages in 7.853s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:52.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:52.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:52.744Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:52.745Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:52.809Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:53.030Z appoptics:patching patched crypto 
2022-04-21T16:18:53.054Z appoptics:patching patched https 
2022-04-21T16:18:53.055Z appoptics:patching patched http 
2022-04-21T16:18:53.102Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.5.3
updated 1 package and audited 945 packages in 7.339s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:01.936Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:01.936Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:01.936Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:01.937Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:02.004Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:02.237Z appoptics:patching patched crypto 
2022-04-21T16:19:02.263Z appoptics:patching patched https 
2022-04-21T16:19:02.264Z appoptics:patching patched http 
2022-04-21T16:19:02.310Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.0.0
updated 2 packages and audited 945 packages in 5.991s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:10.057Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:10.058Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:10.058Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:10.060Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:10.145Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:10.354Z appoptics:patching patched crypto 
2022-04-21T16:19:10.378Z appoptics:patching patched https 
2022-04-21T16:19:10.379Z appoptics:patching patched http 
2022-04-21T16:19:10.426Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.1.0
updated 1 package and audited 945 packages in 7.008s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:19.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:19.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:19.180Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:19.181Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:19.244Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:19.457Z appoptics:patching patched crypto 
2022-04-21T16:19:19.480Z appoptics:patching patched https 
2022-04-21T16:19:19.481Z appoptics:patching patched http 
2022-04-21T16:19:19.524Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.2.0
updated 1 package and audited 945 packages in 6.839s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:27.936Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:27.937Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:27.937Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:27.938Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:28.013Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:28.246Z appoptics:patching patched crypto 
2022-04-21T16:19:28.271Z appoptics:patching patched https 
2022-04-21T16:19:28.272Z appoptics:patching patched http 
2022-04-21T16:19:28.320Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@15.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.1
added 4 packages from 1 contributor, removed 3 packages, updated 4 packages and audited 946 packages in 6.866s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:36.749Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:36.750Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:36.750Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:36.751Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:36.811Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:37.058Z appoptics:patching patched crypto 
2022-04-21T16:19:37.108Z appoptics:patching patched https 
2022-04-21T16:19:37.109Z appoptics:patching patched http 
2022-04-21T16:19:37.156Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.2
updated 1 package and audited 946 packages in 7.705s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:46.496Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:46.496Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:46.497Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:46.497Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:46.565Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:46.781Z appoptics:patching patched crypto 
2022-04-21T16:19:46.807Z appoptics:patching patched https 
2022-04-21T16:19:46.807Z appoptics:patching patched http 
2022-04-21T16:19:46.853Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.3
updated 1 package and audited 946 packages in 7.223s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:55.759Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:55.760Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:55.760Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:55.761Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:55.829Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:56.039Z appoptics:patching patched crypto 
2022-04-21T16:19:56.065Z appoptics:patching patched https 
2022-04-21T16:19:56.066Z appoptics:patching patched http 
2022-04-21T16:19:56.111Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.1.0
updated 1 package and audited 946 packages in 6.556s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:04.327Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:04.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:04.328Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:04.329Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:04.493Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:04.810Z appoptics:patching patched crypto 
2022-04-21T16:20:04.871Z appoptics:patching patched https 
2022-04-21T16:20:04.871Z appoptics:patching patched http 
2022-04-21T16:20:04.906Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.1.1
updated 1 package and audited 946 packages in 6.891s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:13.941Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:13.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:13.942Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:13.942Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:14.006Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:14.208Z appoptics:patching patched crypto 
2022-04-21T16:20:14.232Z appoptics:patching patched https 
2022-04-21T16:20:14.233Z appoptics:patching patched http 
2022-04-21T16:20:14.278Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.2.0
updated 1 package and audited 946 packages in 7.423s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:23.305Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:23.306Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:23.306Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:23.307Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:23.375Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:23.613Z appoptics:patching patched crypto 
2022-04-21T16:20:23.674Z appoptics:patching patched https 
2022-04-21T16:20:23.674Z appoptics:patching patched http 
2022-04-21T16:20:23.716Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@16.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.0
added 1 package, removed 1 package, updated 2 packages and audited 946 packages in 6.641s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:32.166Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:32.167Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:32.167Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:32.168Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:32.300Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:32.549Z appoptics:patching patched crypto 
2022-04-21T16:20:32.575Z appoptics:patching patched https 
2022-04-21T16:20:32.575Z appoptics:patching patched http 
2022-04-21T16:20:32.623Z appoptics:patching patched zlib 
2022-04-21T16:20:32.757Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:32.758Z appoptics:patching patched fs 
2022-04-21T16:20:32.783Z appoptics:patching patched hapi 16.0.0
2022-04-21T16:20:32.789Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:20:32.790Z appoptics:patching patched vision 4.1.1
2022-04-21T16:20:32.794Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (72ms)
    1) should forward controller/action data from post request
2022-04-21T16:20:32.927Z appoptics:debug http: ule hapi:exit 2b-fd1f7f5fcf1461db02e3159b10d1ad1497a3cd0a-034b8aed3688508b-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:20:33.045Z appoptics:debug http: ule hapi:exit 2b-290be525100167baf06cfe300325d34f6540afa2-cc921bffeaaf2afd-01


  3 passing (236ms)
  7 failing

  1) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '034B8AED3688508B',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 843,
  Timestamp_u: 1650558032919886,
  'X-Trace': '2BFD1F7F5FCF1461DB02E3159B10D1AD1497A3CD0A7652B06A14EB607401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'C6B4324AB177973F',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 843,
  Timestamp_u: 1650558032946893,
  'X-Trace': '2BFD1F7F5FCF1461DB02E3159B10D1AD1497A3CD0A31F8FA04C358309101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '7E292648F95CAD30',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 843,
  Timestamp_u: 1650558032963479,
  'X-Trace': '2B510B8DD5286DB60B740A3BC4E4E58EE134D4E69ED6E1A7EBE2D952F901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '025BBA7557538498',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 843,
  Timestamp_u: 1650558032998556,
  'X-Trace': '2B9BA4C3821597DF5A0536FC59FEEB3A9B890ADB973B97FC61A4BEEB2801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'CC921BFFEAAF2AFD',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 843,
  Timestamp_u: 1650558033042785,
  'X-Trace': '2B290BE525100167BAF06CFE300325D34F6540AFA2E77E83F0B5EDC64801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.1
updated 1 package and audited 946 packages in 6.282s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:40.820Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:40.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:40.821Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:40.822Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:40.888Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:41.101Z appoptics:patching patched crypto 
2022-04-21T16:20:41.127Z appoptics:patching patched https 
2022-04-21T16:20:41.127Z appoptics:patching patched http 
2022-04-21T16:20:41.169Z appoptics:patching patched zlib 
2022-04-21T16:20:41.295Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:41.296Z appoptics:patching patched fs 
2022-04-21T16:20:41.319Z appoptics:patching patched hapi 16.0.1
2022-04-21T16:20:41.327Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:20:41.327Z appoptics:patching patched vision 4.1.1
2022-04-21T16:20:41.332Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (71ms)
    1) should forward controller/action data from post request
2022-04-21T16:20:41.459Z appoptics:debug http: ule hapi:exit 2b-7ffc097f9096b76a363b99d3ac4f8f27961e4fb1-967c4699ff7d6cff-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension

2022-04-21T16:20:41.579Z appoptics:debug http: ule hapi:exit 2b-8e7928efc03979b554ff34ee0d795de9f58f95c4-595c0d96af74edef-01

  3 passing (233ms)
  7 failing

  1) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '967C4699FF7D6CFF',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 865,
  Timestamp_u: 1650558041453859,
  'X-Trace': '2B7FFC097F9096B76A363B99D3AC4F8F27961E4FB14ABBA6DF8FCAA2B401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '1013002D361C5BED',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 865,
  Timestamp_u: 1650558041479409,
  'X-Trace': '2B7FFC097F9096B76A363B99D3AC4F8F27961E4FB1974C1D8F72C45E6101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'C9689F6DEE10CEBE',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 865,
  Timestamp_u: 1650558041498999,
  'X-Trace': '2BECF494A9D4ECF6A3C1D66D72F14B42DC3ED74B2E07DF87A7009AE75501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.1 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:78:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:271:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: 'D2BDF30813620EE4',
  Hostname: '6446b8a1e603',
  Label: 'entry',
  Layer: 'hapi',
  TID: 865,
  Timestamp_u: 1650558041519736,
  'X-Trace': '2B9FD06D86FACCEAAB0BCE735D4394F4019B99CE8CFC50726BBD422C6501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: 'D2BDF30813620EE4',
    Hostname: '6446b8a1e603',
    Label: 'entry',
    Layer: 'hapi',
    TID: 865,
    Timestamp_u: 1650558041519736,
    'X-Trace': '2B9FD06D86FACCEAAB0BCE735D4394F4019B99CE8CFC50726BBD422C6501',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '595C0D96AF74EDEF',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 865,
  Timestamp_u: 1650558041574725,
  'X-Trace': '2B8E7928EFC03979B554FF34EE0D795DE9F58F95C4B11C8E649DD0E81501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.2
updated 1 package and audited 946 packages in 6.988s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:49.948Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:49.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:49.949Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:49.950Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:50.023Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:50.239Z appoptics:patching patched crypto 
2022-04-21T16:20:50.263Z appoptics:patching patched https 
2022-04-21T16:20:50.264Z appoptics:patching patched http 
2022-04-21T16:20:50.313Z appoptics:patching patched zlib 
2022-04-21T16:20:50.457Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:50.458Z appoptics:patching patched fs 
2022-04-21T16:20:50.482Z appoptics:patching patched hapi 16.0.2
2022-04-21T16:20:50.489Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:20:50.489Z appoptics:patching patched vision 4.1.1
2022-04-21T16:20:50.494Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (79ms)
    1) should forward controller/action data from post request
2022-04-21T16:20:50.645Z appoptics:debug http: ule hapi:exit 2b-d9fa0b5e351d9cad6ada5fd1a56b218a3af374a1-d3ae7c2993912c02-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:20:50.877Z appoptics:debug http: ule hapi:exit 2b-c69598172d5cee3d9f85e4ac960187408f280886-a3387b6c094caf97-01


  3 passing (369ms)
  7 failing

  1) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D3AE7C2993912C02',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 887,
  Timestamp_u: 1650558050632731,
  'X-Trace': '2BD9FA0B5E351D9CAD6ADA5FD1A56B218A3AF374A183E3F19DF9B8598101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '954C8AB3D9097E44',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 887,
  Timestamp_u: 1650558050690096,
  'X-Trace': '2BD9FA0B5E351D9CAD6ADA5FD1A56B218A3AF374A196E1B2BE6011316A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'C53FCBB41C3E84A1',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 887,
  Timestamp_u: 1650558050731015,
  'X-Trace': '2B85C9B30286DBA79190788F17B2C0C790E380ACEA28EB87F1762FCE7F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '2856E808EBA5A50B',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 887,
  Timestamp_u: 1650558050833755,
  'X-Trace': '2B3557D26BF9CDF14DAE1578E1CDBE22B91CCCB22B8758FB6ADD91419B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A3387B6C094CAF97',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 887,
  Timestamp_u: 1650558050872768,
  'X-Trace': '2BC69598172D5CEE3D9F85E4AC960187408F280886FF03F776C611B91201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.3
updated 1 package and audited 946 packages in 6.485s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:58.966Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:58.967Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:58.968Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:58.968Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:59.035Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:59.246Z appoptics:patching patched crypto 
2022-04-21T16:20:59.269Z appoptics:patching patched https 
2022-04-21T16:20:59.270Z appoptics:patching patched http 
2022-04-21T16:20:59.316Z appoptics:patching patched zlib 
2022-04-21T16:20:59.468Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:59.468Z appoptics:patching patched fs 
2022-04-21T16:20:59.513Z appoptics:patching patched hapi 16.0.3
2022-04-21T16:20:59.522Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:20:59.522Z appoptics:patching patched vision 4.1.1
2022-04-21T16:20:59.527Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (94ms)
    1) should forward controller/action data from post request
2022-04-21T16:20:59.683Z appoptics:debug http: ule hapi:exit 2b-1de13858b0dc94382395c02a7dc6ec8d061be0ae-f80463495d674b35-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    4) should skip when disabled
2022-04-21T16:20:59.773Z appoptics:debug http: ule hapi:exit 2b-8fc90291ecc06865bc8589e297f80320eb9b932a-7395e4f8918eb8c4-01
    5) should trace render span with template extension
    6) should trace render span without template extension


  3 passing (270ms)
  6 failing

  1) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F80463495D674B35',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 909,
  Timestamp_u: 1650558059676254,
  'X-Trace': '2B1DE13858B0DC94382395C02A7DC6EC8D061BE0AE5497783E37F8035B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Action: 'post/hello/{name}',
  Controller: 'hapi.hello',
  Edge: '7779713813F59F2C',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'nodejs',
  Status: 200,
  TID: 909,
  Timestamp_u: 1650558059708983,
  TransactionName: 'hapi.hello.post/hello/{name}',
  'X-Trace': '2B1DE13858B0DC94382395C02A7DC6EC8D061BE0AEEDF2501024C6CF3B01',
  _V: '1'
} to have property Action of 'put/hello/{name}' (got 'post/hello/{name}')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:190:25
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  4) probes.hapi 16.0.3 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:284:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '7395E4F8918EB8C4',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3505/hello/world',
  Spec: 'rsc',
  TID: 909,
  Timestamp_u: 1650558059770021,
  'X-Trace': '2B8FC90291ECC06865BC8589E297F80320EB9B932A6C1B9807A91D78BD01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.0.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Edge: 'D1951EBF0CA82479',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'nodejs',
  Status: 200,
  TID: 909,
  Timestamp_u: 1650558059792692,
  TransactionName: '/hello/world',
  'X-Trace': '2B8FC90291ECC06865BC8589E297F80320EB9B932AED3F99D2DBAFDC9301',
  _V: '1'
} to have property Layer of 'hapi' (got 'nodejs')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at hapiEntry (test/probes/hapi/hapi-16-and-below.js:63:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '9BF9D4A2D0F1CA0E',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'nodejs',
  Status: 200,
  TID: 909,
  Timestamp_u: 1650558059807413,
  TransactionName: '/hello/world',
  'X-Trace': '2B4E74274493F54896679889FFC558256B49012DBE1228F458C62AAE1301',
  _V: '1'
} to have property Label of 'entry' (got 'exit')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:56:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.1.0
updated 1 package and audited 946 packages in 6.397s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:07.550Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:07.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:07.551Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:07.552Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:07.615Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:07.832Z appoptics:patching patched crypto 
2022-04-21T16:21:07.861Z appoptics:patching patched https 
2022-04-21T16:21:07.861Z appoptics:patching patched http 
2022-04-21T16:21:07.912Z appoptics:patching patched zlib 
2022-04-21T16:21:08.048Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:08.048Z appoptics:patching patched fs 
2022-04-21T16:21:08.073Z appoptics:patching patched hapi 16.1.0
2022-04-21T16:21:08.078Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:21:08.078Z appoptics:patching patched vision 4.1.1
2022-04-21T16:21:08.083Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (71ms)
    1) should forward controller/action data from post request
2022-04-21T16:21:08.212Z appoptics:debug http: ule hapi:exit 2b-68add62db09e7b551467bdb0100267faa5705d19-8af3050abbc8ca59-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:21:08.330Z appoptics:debug http: ule hapi:exit 2b-f5cc1d1e0411c2c88c3ae665e6e3944aac94df7b-57b15eadd2533ffa-01


  3 passing (234ms)
  7 failing

  1) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '8AF3050ABBC8CA59',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 931,
  Timestamp_u: 1650558068205700,
  'X-Trace': '2B68ADD62DB09E7B551467BDB0100267FAA5705D19DA0E97BF5ABD84E301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'C54A70CEACBA2220',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 931,
  Timestamp_u: 1650558068232528,
  'X-Trace': '2B68ADD62DB09E7B551467BDB0100267FAA5705D19EE548022CBA579FC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '448B83D366ED805D',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 931,
  Timestamp_u: 1650558068253352,
  'X-Trace': '2B76F875BE6FD82961490ADB3447D127E4650DE27F99F73126E931DEA201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.1.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.1.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '1FBC3CF10322EF38',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 931,
  Timestamp_u: 1650558068286554,
  'X-Trace': '2BC03FF888485F2699F5BF594A3D9DBABA131E999DF033B931615350DB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.1.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.1.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.1.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '57B15EADD2533FFA',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 931,
  Timestamp_u: 1650558068326637,
  'X-Trace': '2BF5CC1D1E0411C2C88C3AE665E6E3944AAC94DF7BF7ACFC90A161FB5301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.1.1
updated 1 package and audited 946 packages in 7.134s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:17.021Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:17.022Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:17.022Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:17.023Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:17.089Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:17.296Z appoptics:patching patched crypto 
2022-04-21T16:21:17.321Z appoptics:patching patched https 
2022-04-21T16:21:17.321Z appoptics:patching patched http 
2022-04-21T16:21:17.366Z appoptics:patching patched zlib 
2022-04-21T16:21:17.503Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:17.503Z appoptics:patching patched fs 
2022-04-21T16:21:17.528Z appoptics:patching patched hapi 16.1.1
2022-04-21T16:21:17.534Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:21:17.534Z appoptics:patching patched vision 4.1.1
2022-04-21T16:21:17.539Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (88ms)
    1) should forward controller/action data from post request
2022-04-21T16:21:17.682Z appoptics:debug http: ule hapi:exit 2b-dcdab5be5cc53a77225cafaa296d1a522dcbc032-3fe672eab23cec2a-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:21:17.799Z appoptics:debug http: ule hapi:exit 2b-6e1f116605c222b590e63fdfb530a8bf94e97b66-d8b1ae21d7824275-01


  3 passing (245ms)
  7 failing

  1) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '3FE672EAB23CEC2A',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 953,
  Timestamp_u: 1650558077676093,
  'X-Trace': '2BDCDAB5BE5CC53A77225CAFAA296D1A522DCBC032A105E88AD66385B201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '7876B1099DBD06C4',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 953,
  Timestamp_u: 1650558077703035,
  'X-Trace': '2BDCDAB5BE5CC53A77225CAFAA296D1A522DCBC0321988CB9642D2290A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '5F1D0ABFF0CCDF66',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 953,
  Timestamp_u: 1650558077722377,
  'X-Trace': '2BDBE6F6FD84B0B37D3BB55E5A6CF6F979851CAA87BF557D955EB7DD7601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.1.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.1.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '288318EC6DD8894A',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 953,
  Timestamp_u: 1650558077758065,
  'X-Trace': '2BDCE3E86C597ADA67F9701A8331540B534B9F6C4778007D5E8BC3ABEF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.1.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.1.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.1.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D8B1AE21D7824275',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 953,
  Timestamp_u: 1650558077795790,
  'X-Trace': '2B6E1F116605C222B590E63FDFB530A8BF94E97B66B6D3813E214F7C4301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.2.0
added 1 package, updated 1 package and audited 947 packages in 7.132s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:26.325Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:26.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:26.326Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:26.327Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:26.391Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:26.691Z appoptics:patching patched crypto 
2022-04-21T16:21:26.717Z appoptics:patching patched https 
2022-04-21T16:21:26.718Z appoptics:patching patched http 
2022-04-21T16:21:26.782Z appoptics:patching patched zlib 
2022-04-21T16:21:26.919Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:26.920Z appoptics:patching patched fs 
2022-04-21T16:21:26.945Z appoptics:patching patched hapi 16.2.0
2022-04-21T16:21:26.952Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:21:26.952Z appoptics:patching patched vision 4.1.1
2022-04-21T16:21:26.958Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.2.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (72ms)
    1) should forward controller/action data from post request
2022-04-21T16:21:27.089Z appoptics:debug http: ule hapi:exit 2b-4499bc9e22ec8808de22d89c57f959ea29ece010-61330befab31697e-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:21:27.210Z appoptics:debug http: ule hapi:exit 2b-904e48837d807736d09cf4f34b509099ebcdadbb-8908f6821701e922-01


  3 passing (239ms)
  7 failing

  1) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '61330BEFAB31697E',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 975,
  Timestamp_u: 1650558087082380,
  'X-Trace': '2B4499BC9E22EC8808DE22D89C57F959EA29ECE0105155AE7E020AC66701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '990D83A7BACF8627',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 975,
  Timestamp_u: 1650558087111600,
  'X-Trace': '2B4499BC9E22EC8808DE22D89C57F959EA29ECE010460828182705F06501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '99E8B001843DB869',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 975,
  Timestamp_u: 1650558087130395,
  'X-Trace': '2B64830C1D2F317974751EF3B5DC8AEB40AE0DEECA0547422EC9AB597801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.2.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.2.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '221B1651F09D6D1D',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 975,
  Timestamp_u: 1650558087165311,
  'X-Trace': '2B9C53F09403A4DDA313C9716119FF0ADC692059F4706BDCC2256B8BA001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.2.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.2.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.2.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '8908F6821701E922',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 975,
  Timestamp_u: 1650558087207062,
  'X-Trace': '2B904E48837D807736D09CF4F34B509099EBCDADBB632D11AF7DA66A1501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.3.0
updated 1 package and audited 947 packages in 7.122s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:36.056Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:36.057Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:36.057Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:36.058Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:36.209Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:36.566Z appoptics:patching patched crypto 
2022-04-21T16:21:36.695Z appoptics:patching patched https 
2022-04-21T16:21:36.696Z appoptics:patching patched http 
2022-04-21T16:21:36.850Z appoptics:patching patched zlib 
2022-04-21T16:21:37.156Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:37.157Z appoptics:patching patched fs 
2022-04-21T16:21:37.186Z appoptics:patching patched hapi 16.3.0
2022-04-21T16:21:37.197Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:21:37.197Z appoptics:patching patched vision 4.1.1
2022-04-21T16:21:37.202Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (112ms)
    1) should forward controller/action data from post request
2022-04-21T16:21:37.392Z appoptics:debug http: ule hapi:exit 2b-b986c136c3b8c1a03cee16f9d9b8154ad213fbc6-addd42af498a50d0-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:21:37.671Z appoptics:debug http: ule hapi:exit 2b-b710fe8a526049846fb8c9a2d7343ba051b0134e-7fd1b63b028e440e-01


  3 passing (454ms)
  7 failing

  1) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'ADDD42AF498A50D0',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 997,
  Timestamp_u: 1650558097383130,
  'X-Trace': '2BB986C136C3B8C1A03CEE16F9D9B8154AD213FBC6AA85A040D639813401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '156925A3108BFD6D',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 997,
  Timestamp_u: 1650558097435496,
  'X-Trace': '2BB986C136C3B8C1A03CEE16F9D9B8154AD213FBC6A933F0C6702F5EE601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '5E8680A7DD00E40F',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 997,
  Timestamp_u: 1650558097498049,
  'X-Trace': '2B883D2776BF21C421F3934748615D65CCAA7B6C482423A8C79BEC595B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.3.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.3.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '0589A4018335E1FE',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 997,
  Timestamp_u: 1650558097610269,
  'X-Trace': '2B0D6599EA83ACDA2E3FA7977A2D9FA70A105F1BF27125C5CD3EA197BB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.3.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.3.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.3.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '7FD1B63B028E440E',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 997,
  Timestamp_u: 1650558097664047,
  'X-Trace': '2BB710FE8A526049846FB8C9A2D7343BA051B0134E1D1185A7746DDDDF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.3.1
updated 1 package and audited 947 packages in 6.387s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:45.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:45.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:45.541Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:45.542Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:45.605Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:45.818Z appoptics:patching patched crypto 
2022-04-21T16:21:45.842Z appoptics:patching patched https 
2022-04-21T16:21:45.843Z appoptics:patching patched http 
2022-04-21T16:21:45.887Z appoptics:patching patched zlib 
2022-04-21T16:21:46.020Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:46.021Z appoptics:patching patched fs 
2022-04-21T16:21:46.045Z appoptics:patching patched hapi 16.3.1
2022-04-21T16:21:46.052Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:21:46.052Z appoptics:patching patched vision 4.1.1
2022-04-21T16:21:46.057Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (71ms)
    1) should forward controller/action data from post request
2022-04-21T16:21:46.182Z appoptics:debug http: ule hapi:exit 2b-9065c8fbf6bdef6343f8bfc5edf9c43d398b274f-b7fab903b8c0bce0-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:21:46.297Z appoptics:debug http: ule hapi:exit 2b-965a54011f8c7b9be137d6233feac460eaca0f74-bb2483b7a7dcc522-01


  3 passing (229ms)
  7 failing

  1) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'B7FAB903B8C0BCE0',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1019,
  Timestamp_u: 1650558106176682,
  'X-Trace': '2B9065C8FBF6BDEF6343F8BFC5EDF9C43D398B274FCD42B24B4CA77E3E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '1512DE4023A0E04E',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1019,
  Timestamp_u: 1650558106202684,
  'X-Trace': '2B9065C8FBF6BDEF6343F8BFC5EDF9C43D398B274F9A93CDB4DECCE7FC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'ADD7A25588FBC19E',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1019,
  Timestamp_u: 1650558106222259,
  'X-Trace': '2B025990A620AD2224EE1D464B4622A2A95CCEBEDB4B17A4FDAA83B8FC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.3.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.3.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '9FBB5F39CCE1560B',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1019,
  Timestamp_u: 1650558106256109,
  'X-Trace': '2B40ED329AAE421F594A6F23294A092317526EDF40D589169AAC91A89401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.3.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.3.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.3.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'BB2483B7A7DCC522',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1019,
  Timestamp_u: 1650558106294359,
  'X-Trace': '2B965A54011F8C7B9BE137D6233FEAC460EACA0F7470E74539E2A4472801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.0
updated 1 package and audited 947 packages in 7.681s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:55.380Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:55.381Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:55.381Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:55.382Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:55.455Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:55.667Z appoptics:patching patched crypto 
2022-04-21T16:21:55.693Z appoptics:patching patched https 
2022-04-21T16:21:55.694Z appoptics:patching patched http 
2022-04-21T16:21:55.743Z appoptics:patching patched zlib 
2022-04-21T16:21:55.875Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:55.875Z appoptics:patching patched fs 
2022-04-21T16:21:55.901Z appoptics:patching patched hapi 16.4.0
2022-04-21T16:21:55.908Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:21:55.908Z appoptics:patching patched vision 4.1.1
2022-04-21T16:21:55.913Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (71ms)
    1) should forward controller/action data from post request
2022-04-21T16:21:56.042Z appoptics:debug http: ule hapi:exit 2b-7b24d34b398fbd6f81d29a5978d9c2755489b910-251fb812d44384b5-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:21:56.167Z appoptics:debug http: ule hapi:exit 2b-e6d3ec233728fca6bcd00425f40e987e5c6e2531-2d86653255a60e04-01


  3 passing (239ms)
  7 failing

  1) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '251FB812D44384B5',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1041,
  Timestamp_u: 1650558116036275,
  'X-Trace': '2B7B24D34B398FBD6F81D29A5978D9C2755489B9109E6C491B9A7C823C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '9DB52B5815CAB214',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1041,
  Timestamp_u: 1650558116065466,
  'X-Trace': '2B7B24D34B398FBD6F81D29A5978D9C2755489B91049309BF0B747B7EB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'FD66BE6D2B866505',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1041,
  Timestamp_u: 1650558116085628,
  'X-Trace': '2B8FFD13CEB47EC30DA7B9CE7F34D9B41D15A9206AD267DC0AFD4B625201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'F1FF01A72EA0B826',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1041,
  Timestamp_u: 1650558116123941,
  'X-Trace': '2B5FD936CB26FCCB60C87FF369E667082C924CF1DB1CFB585FDCF71E6201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '2D86653255A60E04',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1041,
  Timestamp_u: 1650558116164439,
  'X-Trace': '2BE6D3EC233728FCA6BCD00425F40E987E5C6E2531B50F64638584DC1601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.5.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.2.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated items@2.1.1: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.1
added 3 packages, removed 4 packages, updated 6 packages and audited 946 packages in 7.447s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:22:05.134Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:05.135Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:05.135Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:05.136Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:05.204Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:05.414Z appoptics:patching patched crypto 
2022-04-21T16:22:05.439Z appoptics:patching patched https 
2022-04-21T16:22:05.440Z appoptics:patching patched http 
2022-04-21T16:22:05.496Z appoptics:patching patched zlib 
2022-04-21T16:22:05.649Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:05.650Z appoptics:patching patched fs 
2022-04-21T16:22:05.674Z appoptics:patching patched hapi 16.4.1
2022-04-21T16:22:05.684Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:22:05.684Z appoptics:patching patched vision 4.1.1
2022-04-21T16:22:05.689Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (77ms)
    1) should forward controller/action data from post request
2022-04-21T16:22:05.825Z appoptics:debug http: ule hapi:exit 2b-aec056b8ece0b2336c026c75ee7a3bf3f5157c60-a867d061b2950b0f-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:22:05.971Z appoptics:debug http: ule hapi:exit 2b-4c3e870dbd44594d29998d99dd97281af3c0afb6-98ed8e8360d07b94-01


  3 passing (269ms)
  7 failing

  1) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:266:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A867D061B2950B0F',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1063,
  Timestamp_u: 1650558125818532,
  'X-Trace': '2BAEC056B8ECE0B2336C026C75EE7A3BF3F5157C601C3CD602FE38443101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '2442C8D8B88AD26E',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1063,
  Timestamp_u: 1650558125845536,
  'X-Trace': '2BAEC056B8ECE0B2336C026C75EE7A3BF3F5157C60276D6D3EA2B016BF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'CC5A3E0F5681097B',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1063,
  Timestamp_u: 1650558125860533,
  'X-Trace': '2B870513386AC137169BBD7492ED2583B272EA84194DB6925EC0FB4E6001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'E0C405A2704B3CB4',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1063,
  Timestamp_u: 1650558125904318,
  'X-Trace': '2BBC81B0484FA2D50FF3BFE9EF5205650E83AE5178702649D85513D98701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:266:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '98ED8E8360D07B94',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1063,
  Timestamp_u: 1650558125968162,
  'X-Trace': '2B4C3E870DBD44594D29998D99DD97281AF3C0AFB62CC6A0300D71E64401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.2
added 4 packages from 1 contributor, removed 3 packages, updated 6 packages and audited 947 packages in 6.359s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:22:13.693Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:13.694Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:13.694Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:13.695Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:13.759Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:13.972Z appoptics:patching patched crypto 
2022-04-21T16:22:13.996Z appoptics:patching patched https 
2022-04-21T16:22:13.997Z appoptics:patching patched http 
2022-04-21T16:22:14.042Z appoptics:patching patched zlib 
2022-04-21T16:22:14.173Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:14.174Z appoptics:patching patched fs 
2022-04-21T16:22:14.197Z appoptics:patching patched hapi 16.4.2
2022-04-21T16:22:14.203Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:22:14.204Z appoptics:patching patched vision 4.1.1
2022-04-21T16:22:14.209Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (70ms)
    1) should forward controller/action data from post request
2022-04-21T16:22:14.334Z appoptics:debug http: ule hapi:exit 2b-ca522d6afe41be23f1569786f38be96f0cabafb5-4c80593df31543f1-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:22:14.450Z appoptics:debug http: ule hapi:exit 2b-03d0d1d9379c108a452813694ec756fc884dd578-4a28285f48235622-01


  3 passing (229ms)
  7 failing

  1) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '4C80593DF31543F1',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1085,
  Timestamp_u: 1650558134327935,
  'X-Trace': '2BCA522D6AFE41BE23F1569786F38BE96F0CABAFB59D81E6DC2F56F72C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '18E73764856FCB80',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1085,
  Timestamp_u: 1650558134354473,
  'X-Trace': '2BCA522D6AFE41BE23F1569786F38BE96F0CABAFB5DC2F617535FEE67801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '9D0DB4E6691C4CBF',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1085,
  Timestamp_u: 1650558134373059,
  'X-Trace': '2B855B3533126A65F114130059E69EA72003D7C3561321B96071E80BA501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '98BD3AD8956601DF',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1085,
  Timestamp_u: 1650558134408205,
  'X-Trace': '2B4736628185798344336A11CDA054D60ABA7BF500D4F78C6915064DFB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '4A28285F48235622',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1085,
  Timestamp_u: 1650558134447383,
  'X-Trace': '2B03D0D1D9379C108A452813694EC756FC884DD5785ED21A2A8F5BECAF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.3
updated 1 package and audited 947 packages in 7.102s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:22:23.167Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:23.167Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:23.168Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:23.168Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:23.238Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:23.447Z appoptics:patching patched crypto 
2022-04-21T16:22:23.471Z appoptics:patching patched https 
2022-04-21T16:22:23.471Z appoptics:patching patched http 
2022-04-21T16:22:23.515Z appoptics:patching patched zlib 
2022-04-21T16:22:23.672Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:23.673Z appoptics:patching patched fs 
2022-04-21T16:22:23.700Z appoptics:patching patched hapi 16.4.3
2022-04-21T16:22:23.706Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:22:23.706Z appoptics:patching patched vision 4.1.1
2022-04-21T16:22:23.711Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (68ms)
    1) should forward controller/action data from post request
2022-04-21T16:22:23.836Z appoptics:debug http: ule hapi:exit 2b-a4a3f9436a535d8045dfe975b492c0c8066a6e2d-c35cc13feefd98ed-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:22:23.954Z appoptics:debug http: ule hapi:exit 2b-daa867dc2cf0aae2f2ef38909ac086debbb71e63-981738d650390bb1-01


  3 passing (231ms)
  7 failing

  1) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'C35CC13FEEFD98ED',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1107,
  Timestamp_u: 1650558143829123,
  'X-Trace': '2BA4A3F9436A535D8045DFE975B492C0C8066A6E2D6C64B4C8A819A8EB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '3C9CD58853EF0B8C',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1107,
  Timestamp_u: 1650558143858308,
  'X-Trace': '2BA4A3F9436A535D8045DFE975B492C0C8066A6E2D2B4D4A46B56A5EAB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'BA7F9A8CA475ED7A',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1107,
  Timestamp_u: 1650558143876171,
  'X-Trace': '2B57443C33F52F26E64FC202531294A8DEC2051EC9BCA00A1ED2998EAA01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.3 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '2E66666C4FDE648C',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1107,
  Timestamp_u: 1650558143911278,
  'X-Trace': '2B8C3BDF9217AE07D2C9F025F7A3FAA11477A444FEEA31EC37BC0F2AE701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.3 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.3 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '981738D650390BB1',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1107,
  Timestamp_u: 1650558143951226,
  'X-Trace': '2BDAA867DC2CF0AAE2F2EF38909AC086DEBBB71E63B5E418336DB2745A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.0
updated 2 packages and audited 947 packages in 7.355s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:22:32.768Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:32.769Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:32.769Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:32.770Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:32.861Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:33.105Z appoptics:patching patched crypto 
2022-04-21T16:22:33.149Z appoptics:patching patched https 
2022-04-21T16:22:33.150Z appoptics:patching patched http 
2022-04-21T16:22:33.197Z appoptics:patching patched zlib 
2022-04-21T16:22:33.339Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:33.339Z appoptics:patching patched fs 
2022-04-21T16:22:33.378Z appoptics:patching patched hapi 16.5.0
2022-04-21T16:22:33.385Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:22:33.385Z appoptics:patching patched vision 4.1.1
2022-04-21T16:22:33.390Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (87ms)
    1) should forward controller/action data from post request
2022-04-21T16:22:33.552Z appoptics:debug http: ule hapi:exit 2b-85f6d95d820e998060670356ba1d74dcb93550b3-af421ee015d5d018-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:22:33.727Z appoptics:debug http: ule hapi:exit 2b-d672bcc7038e011010a6542ffde59493dc540ba9-0ab79e545a325ecf-01


  3 passing (328ms)
  7 failing

  1) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'AF421EE015D5D018',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1129,
  Timestamp_u: 1650558153544595,
  'X-Trace': '2B85F6D95D820E998060670356BA1D74DCB93550B344E25C441675EFDF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'D97C378444ED9BFB',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1129,
  Timestamp_u: 1650558153585138,
  'X-Trace': '2B85F6D95D820E998060670356BA1D74DCB93550B32C53067304D0E6FD01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '418F7D19243DD51F',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1129,
  Timestamp_u: 1650558153601475,
  'X-Trace': '2BF61186F1611331930CEFECBC3DE1116D4903B925E115BBCD169F60DA01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.5.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.5.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '5D4F8BC9F1CB9B7E',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1129,
  Timestamp_u: 1650558153647155,
  'X-Trace': '2BE1C09596FC06BCE7304BCA4809CE9A38E32D90A68BDF5E1CE2B34E4601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '0AB79E545A325ECF',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1129,
  Timestamp_u: 1650558153721237,
  'X-Trace': '2BD672BCC7038E011010A6542FFDE59493DC540BA9939FB3D55497C11C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.1
updated 1 package and audited 947 packages in 6.328s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:22:41.735Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:41.736Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:41.736Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:41.737Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:41.815Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:42.057Z appoptics:patching patched crypto 
2022-04-21T16:22:42.128Z appoptics:patching patched https 
2022-04-21T16:22:42.129Z appoptics:patching patched http 
2022-04-21T16:22:42.168Z appoptics:patching patched zlib 
2022-04-21T16:22:42.340Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:42.340Z appoptics:patching patched fs 
2022-04-21T16:22:42.366Z appoptics:patching patched hapi 16.5.1
2022-04-21T16:22:42.373Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:22:42.373Z appoptics:patching patched vision 4.1.1
2022-04-21T16:22:42.378Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (73ms)
    1) should forward controller/action data from post request
2022-04-21T16:22:42.512Z appoptics:debug http: ule hapi:exit 2b-18426f3317bdcbd8ed7734769e03b9d96b08de52-9bfa227cbcc30e07-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:22:42.702Z appoptics:debug http: ule hapi:exit 2b-7bfac50cc7f91c774b34cfd837415703a4554e3d-0c9378a115dc4a58-01


  3 passing (309ms)
  7 failing

  1) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '9BFA227CBCC30E07',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1151,
  Timestamp_u: 1650558162505005,
  'X-Trace': '2B18426F3317BDCBD8ED7734769E03B9D96B08DE52676341D8F8AC51FD01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '63EA9C13CC3CA337',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1151,
  Timestamp_u: 1650558162545325,
  'X-Trace': '2B18426F3317BDCBD8ED7734769E03B9D96B08DE520CC8EFEDEAF7AC5C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'A42AB121FED973DA',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1151,
  Timestamp_u: 1650558162562265,
  'X-Trace': '2B1D9D2A11E81DCE7C624C77A41EB96C3E039CBC0BA4B3D2CCF5C1E40501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.5.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.5.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'CD70346C079D7019',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1151,
  Timestamp_u: 1650558162651192,
  'X-Trace': '2B7DE7B304E371196762190BDF9F58D8DB6D1B289C1951A9F6101F9CCC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '0C9378A115DC4A58',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1151,
  Timestamp_u: 1650558162699024,
  'X-Trace': '2B7BFAC50CC7F91C774B34CFD837415703A4554E3DE2E392280D7CD65A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.2
updated 1 package and audited 947 packages in 6.689s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:22:50.963Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:50.964Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:50.964Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:50.965Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:51.029Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:51.237Z appoptics:patching patched crypto 
2022-04-21T16:22:51.261Z appoptics:patching patched https 
2022-04-21T16:22:51.261Z appoptics:patching patched http 
2022-04-21T16:22:51.306Z appoptics:patching patched zlib 
2022-04-21T16:22:51.468Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:51.469Z appoptics:patching patched fs 
2022-04-21T16:22:51.498Z appoptics:patching patched hapi 16.5.2
2022-04-21T16:22:51.504Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:22:51.504Z appoptics:patching patched vision 4.1.1
2022-04-21T16:22:51.509Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (68ms)
    1) should forward controller/action data from post request
2022-04-21T16:22:51.635Z appoptics:debug http: ule hapi:exit 2b-1c8e9a860ba7cf11d5733e2d278cc59b2c0c7472-a65deebb7233ffdf-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:22:51.764Z appoptics:debug http: ule hapi:exit 2b-a1345b1d5e12d0259bef2bc1a0d1da72b7e56ba6-f03f3e263be299e3-01


  3 passing (244ms)
  7 failing

  1) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A65DEEBB7233FFDF',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1173,
  Timestamp_u: 1650558171628804,
  'X-Trace': '2B1C8E9A860BA7CF11D5733E2D278CC59B2C0C7472D0189376BC8A14C001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'DA398A20D29302AE',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1173,
  Timestamp_u: 1650558171655707,
  'X-Trace': '2B1C8E9A860BA7CF11D5733E2D278CC59B2C0C7472E9B42841BB7B5E9601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '56FA4BD55C1ADA53',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1173,
  Timestamp_u: 1650558171671057,
  'X-Trace': '2B1C8E9A860BA7CF11D5733E2D278CC59B2C0C74724A5968C286CA11EF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.5.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.5.2 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:275:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:76:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: '9D51AEA2868BA03F',
  Hostname: '6446b8a1e603',
  Label: 'entry',
  Layer: 'hapi',
  TID: 1173,
  Timestamp_u: 1650558171696090,
  'X-Trace': '2BD8130BF85F8E89AB9471A51DDD9BFA06C3E6BA5207AB7A58AF0B3F2101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: '9D51AEA2868BA03F',
    Hostname: '6446b8a1e603',
    Label: 'entry',
    Layer: 'hapi',
    TID: 1173,
    Timestamp_u: 1650558171696090,
    'X-Trace': '2BD8130BF85F8E89AB9471A51DDD9BFA06C3E6BA5207AB7A58AF0B3F2101',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F03F3E263BE299E3',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1173,
  Timestamp_u: 1650558171758313,
  'X-Trace': '2BA1345B1D5E12D0259BEF2BC1A0D1DA72B7E56BA6424245D6C258282901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.0
updated 1 package and audited 947 packages in 7.93s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:23:01.116Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:01.117Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:01.117Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:01.118Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:01.182Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:01.388Z appoptics:patching patched crypto 
2022-04-21T16:23:01.412Z appoptics:patching patched https 
2022-04-21T16:23:01.413Z appoptics:patching patched http 
2022-04-21T16:23:01.477Z appoptics:patching patched zlib 
2022-04-21T16:23:01.623Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:01.623Z appoptics:patching patched fs 
2022-04-21T16:23:01.652Z appoptics:patching patched hapi 16.6.0
2022-04-21T16:23:01.659Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:23:01.659Z appoptics:patching patched vision 4.1.1
2022-04-21T16:23:01.664Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (77ms)
    1) should forward controller/action data from post request
2022-04-21T16:23:01.799Z appoptics:debug http: ule hapi:exit 2b-29107f12a06a0f4b831796aa9e891196a77a5bf1-3fea578fc38d0365-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:23:01.945Z appoptics:debug http: ule hapi:exit 2b-0ed1afa39f969ed40bae5179d4aadb734748726e-d54fad8f2506d2f6-01


  3 passing (268ms)
  7 failing

  1) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '3FEA578FC38D0365',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1195,
  Timestamp_u: 1650558181793247,
  'X-Trace': '2B29107F12A06A0F4B831796AA9E891196A77A5BF1AF2671AB9A3A420901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'E8483FE13880D296',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1195,
  Timestamp_u: 1650558181819964,
  'X-Trace': '2B29107F12A06A0F4B831796AA9E891196A77A5BF1CA559AB9C7F2A8AB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '38DB39AF2632C77D',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1195,
  Timestamp_u: 1650558181849668,
  'X-Trace': '2BDB7C4845B273869B8D40693940FC374D6ADA1C815C0A06B184A1F3E101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '917055D3D727B26D',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1195,
  Timestamp_u: 1650558181867465,
  'X-Trace': '2B5306E655D5C9AE602FD0B672075D73A30C10384559145DD89732B00601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D54FAD8F2506D2F6',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1195,
  Timestamp_u: 1650558181941254,
  'X-Trace': '2B0ED1AFA39F969ED40BAE5179D4AADB734748726EF2F5F2A0DB32D1F401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.1
added 3 packages from 1 contributor, updated 1 package and audited 950 packages in 7.503s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:23:11.131Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:11.132Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:11.132Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:11.133Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:11.199Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:11.408Z appoptics:patching patched crypto 
2022-04-21T16:23:11.434Z appoptics:patching patched https 
2022-04-21T16:23:11.435Z appoptics:patching patched http 
2022-04-21T16:23:11.484Z appoptics:patching patched zlib 
2022-04-21T16:23:11.666Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:11.667Z appoptics:patching patched fs 
2022-04-21T16:23:11.703Z appoptics:patching patched hapi 16.6.1
2022-04-21T16:23:11.716Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:23:11.716Z appoptics:patching patched vision 4.1.1
2022-04-21T16:23:11.720Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (74ms)
    1) should forward controller/action data from post request
2022-04-21T16:23:11.845Z appoptics:debug http: ule hapi:exit 2b-351b685b5aa6d670ead2a988cd01b8ceb62d4609-f745309a80464681-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:23:11.984Z appoptics:debug http: ule hapi:exit 2b-c551fa91952049464cc76568223192b1231539a1-21567f746458fa4c-01


  3 passing (258ms)
  7 failing

  1) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F745309A80464681',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1217,
  Timestamp_u: 1650558191839295,
  'X-Trace': '2B351B685B5AA6D670EAD2A988CD01B8CEB62D4609FDB10BAAB76A653D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '858F24695690D5AE',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1217,
  Timestamp_u: 1650558191869036,
  'X-Trace': '2B351B685B5AA6D670EAD2A988CD01B8CEB62D46096D5EE14161A9D2F401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '429F7B6E7C63C6FA',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1217,
  Timestamp_u: 1650558191884730,
  'X-Trace': '2B5045913B665DFC1ED693D9E7B73B304A1C07D1756958955A6350004301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.1 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:275:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:76:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: '2F12FFA9AEC78078',
  Hostname: '6446b8a1e603',
  Label: 'entry',
  Layer: 'hapi',
  TID: 1217,
  Timestamp_u: 1650558191901995,
  'X-Trace': '2B33F59010BF485EF93677F16087A62DAF7F1102A56F324ADD208A304801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: '2F12FFA9AEC78078',
    Hostname: '6446b8a1e603',
    Label: 'entry',
    Layer: 'hapi',
    TID: 1217,
    Timestamp_u: 1650558191901995,
    'X-Trace': '2B33F59010BF485EF93677F16087A62DAF7F1102A56F324ADD208A304801',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '21567F746458FA4C',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1217,
  Timestamp_u: 1650558191980616,
  'X-Trace': '2BC551FA91952049464CC76568223192B1231539A1877B8BF38B63A26401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.2
updated 1 package and audited 950 packages in 5.853s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:23:19.348Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:19.349Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:19.349Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:19.352Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:19.504Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:19.829Z appoptics:patching patched crypto 
2022-04-21T16:23:19.854Z appoptics:patching patched https 
2022-04-21T16:23:19.854Z appoptics:patching patched http 
2022-04-21T16:23:19.896Z appoptics:patching patched zlib 
2022-04-21T16:23:20.048Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:20.049Z appoptics:patching patched fs 
2022-04-21T16:23:20.080Z appoptics:patching patched hapi 16.6.2
2022-04-21T16:23:20.093Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:23:20.093Z appoptics:patching patched vision 4.1.1
2022-04-21T16:23:20.098Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (73ms)
    1) should forward controller/action data from post request
2022-04-21T16:23:20.221Z appoptics:debug http: ule hapi:exit 2b-41b7ac495ec99d1057413490c5021f38ae5efb45-f2f4e7113a6128b5-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:23:20.365Z appoptics:debug http: ule hapi:exit 2b-6f60227f21f573b063ccce372938195043fc0fb9-a511f0c81e4f53b8-01


  3 passing (262ms)
  7 failing

  1) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F2F4E7113A6128B5',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1239,
  Timestamp_u: 1650558200214023,
  'X-Trace': '2B41B7AC495EC99D1057413490C5021F38AE5EFB450F223824AD989EBC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '53C71649C3014C8F',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1239,
  Timestamp_u: 1650558200241462,
  'X-Trace': '2B41B7AC495EC99D1057413490C5021F38AE5EFB452CB8224FEB84FC5101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'E3FF8C90A6FDBF1A',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1239,
  Timestamp_u: 1650558200264071,
  'X-Trace': '2B4DAC43B479D3E0D8271F02814B6BF56D54D3EC2BC97479266B5E4F5301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '528C3EC9AF37A7C3',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1239,
  Timestamp_u: 1650558200277064,
  'X-Trace': '2BAFB5AC66EC7F069EA9DAC294F01419EC58B1BB90B2911127DCA4F99001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A511F0C81E4F53B8',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1239,
  Timestamp_u: 1650558200362107,
  'X-Trace': '2B6F60227F21F573B063CCCE372938195043FC0FB9562CD28D78F0293101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.3
updated 1 package and audited 950 packages in 7.185s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:23:29.045Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:29.046Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:29.046Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:29.047Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:29.126Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:29.335Z appoptics:patching patched crypto 
2022-04-21T16:23:29.359Z appoptics:patching patched https 
2022-04-21T16:23:29.360Z appoptics:patching patched http 
2022-04-21T16:23:29.406Z appoptics:patching patched zlib 
2022-04-21T16:23:29.565Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:29.565Z appoptics:patching patched fs 
2022-04-21T16:23:29.598Z appoptics:patching patched hapi 16.6.3
2022-04-21T16:23:29.612Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:23:29.612Z appoptics:patching patched vision 4.1.1
2022-04-21T16:23:29.618Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (102ms)
    1) should forward controller/action data from post request
2022-04-21T16:23:29.778Z appoptics:debug http: ule hapi:exit 2b-f63c408c8c407d899e365943a9ec087703f478c5-6ea7f99174b5104d-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from put request
    ✓ should forward controller/action data from delete request (41ms)
    4) should skip when disabled
2022-04-21T16:23:29.968Z appoptics:debug http: ule hapi:exit 2b-67b9e0d569981a68e7cec5252801e5e32a2b41ed-c796d41b80acaf6a-01
    5) should trace render span with template extension
    6) should trace render span without template extension


  3 passing (412ms)
  6 failing

  1) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '6EA7F99174B5104D',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1261,
  Timestamp_u: 1650558209767689,
  'X-Trace': '2BF63C408C8C407D899E365943A9EC087703F478C5F4782C760E22599501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Action: 'post/hello/{name}',
  Controller: 'hapi.hello',
  Edge: 'C9F264D77326689E',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'nodejs',
  Status: 200,
  TID: 1261,
  Timestamp_u: 1650558209824869,
  TransactionName: 'hapi.hello.post/hello/{name}',
  'X-Trace': '2BF63C408C8C407D899E365943A9EC087703F478C55678F08A9A9FA1EB01',
  _V: '1'
} to have property Action of 'put/hello/{name}' (got 'post/hello/{name}')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:190:25
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  4) probes.hapi 16.6.3 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:284:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'C796D41B80ACAF6A',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3505/hello/world',
  Spec: 'rsc',
  TID: 1261,
  Timestamp_u: 1650558209947763,
  'X-Trace': '2B67B9E0D569981A68E7CEC5252801E5E32A2B41ED7D6876ECB45A53C401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.6.3 vision 4.1.1
       should trace render span with template extension:
     Uncaught AssertionError: expected Object {
  Edge: 'DA4CDA41E90EDB63',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'nodejs',
  Status: 200,
  TID: 1261,
  Timestamp_u: 1650558210000982,
  TransactionName: '/hello/world',
  'X-Trace': '2B67B9E0D569981A68E7CEC5252801E5E32A2B41EDA526C75353DEB71601',
  _V: '1'
} to have property Layer of 'hapi' (got 'nodejs')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at hapiEntry (test/probes/hapi/hapi-16-and-below.js:63:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Edge: '4D63354F6DBF8B07',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'nodejs',
  Status: 200,
  TID: 1261,
  Timestamp_u: 1650558210027790,
  TransactionName: '/hello/world',
  'X-Trace': '2BA306E172F474167891F0EE182A7E0427149D5F27D3F73EC94AF553A401',
  _V: '1'
} to have property Label of 'entry' (got 'exit')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:56:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.4
updated 1 package and audited 950 packages in 7.105s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:23:38.640Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:38.641Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:38.641Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:38.642Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:38.710Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:38.912Z appoptics:patching patched crypto 
2022-04-21T16:23:38.935Z appoptics:patching patched https 
2022-04-21T16:23:38.936Z appoptics:patching patched http 
2022-04-21T16:23:38.978Z appoptics:patching patched zlib 
2022-04-21T16:23:39.133Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:39.133Z appoptics:patching patched fs 
2022-04-21T16:23:39.165Z appoptics:patching patched hapi 16.6.4
2022-04-21T16:23:39.177Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:23:39.177Z appoptics:patching patched vision 4.1.1
2022-04-21T16:23:39.182Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.4 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (70ms)
    1) should forward controller/action data from post request
2022-04-21T16:23:39.301Z appoptics:debug http: ule hapi:exit 2b-7b831211b7e09d01c851d4dd5250d1193e7b5fe2-639e586d4e19faee-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:23:39.423Z appoptics:debug http: ule hapi:exit 2b-1f68f07a73500d3f9c6af7dade9d688047a851dc-2cc50dba99b0cb1e-01


  3 passing (236ms)
  7 failing

  1) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '639E586D4E19FAEE',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1283,
  Timestamp_u: 1650558219294360,
  'X-Trace': '2B7B831211B7E09D01C851D4DD5250D1193E7B5FE2A9AA68C549CAE83F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '1477CA12D82469E0',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1283,
  Timestamp_u: 1650558219319896,
  'X-Trace': '2B7B831211B7E09D01C851D4DD5250D1193E7B5FE2AE26851007FFBB0E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '51D749BE7EF4C8CF',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1283,
  Timestamp_u: 1650558219334409,
  'X-Trace': '2B27C83ABE5BB4E84CEDE5969A2A15D76D9F4B23CE29CDB2A0684A38BB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.4 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.4 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '3337CB8E951A3034',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1283,
  Timestamp_u: 1650558219372676,
  'X-Trace': '2B99A9F480743ED187394564D5A865CE3F6BEFC1CC5F0565ECCE89FC4001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.4 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.4 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.4 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '2CC50DBA99B0CB1E',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1283,
  Timestamp_u: 1650558219419522,
  'X-Trace': '2B1F68F07A73500D3F9C6AF7DADE9D688047A851DC61E709FC66CB51A601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.5
updated 1 package and audited 950 packages in 6.262s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:23:47.038Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:47.039Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:47.039Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:47.040Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:47.106Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:47.365Z appoptics:patching patched crypto 
2022-04-21T16:23:47.394Z appoptics:patching patched https 
2022-04-21T16:23:47.395Z appoptics:patching patched http 
2022-04-21T16:23:47.490Z appoptics:patching patched zlib 
2022-04-21T16:23:47.704Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:47.704Z appoptics:patching patched fs 
2022-04-21T16:23:47.776Z appoptics:patching patched hapi 16.6.5
2022-04-21T16:23:47.794Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:23:47.795Z appoptics:patching patched vision 4.1.1
2022-04-21T16:23:47.802Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.5 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (142ms)
    1) should forward controller/action data from post request
2022-04-21T16:23:48.049Z appoptics:debug http: ule hapi:exit 2b-e100dc6c9d0c25e2fec2621faebd609158079ecb-6686b8cb8f5d53af-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:23:48.236Z appoptics:debug http: ule hapi:exit 2b-c7662101820921b0918aa1e8037e631931b28c21-4dbb09ac6427ee41-01


  3 passing (422ms)
  7 failing

  1) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '6686B8CB8F5D53AF',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1305,
  Timestamp_u: 1650558228042041,
  'X-Trace': '2BE100DC6C9D0C25E2FEC2621FAEBD609158079ECB2C868935D1A97FB501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '193DB90C90A76262',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1305,
  Timestamp_u: 1650558228070210,
  'X-Trace': '2BE100DC6C9D0C25E2FEC2621FAEBD609158079ECB57B0A5FB28A272C301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '0627E201EF40CA81',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1305,
  Timestamp_u: 1650558228087460,
  'X-Trace': '2B392DFC0DCA17B774036E342A5F4FA7160ACE58B64F8416259A5CCD4A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.5 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.5 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '83F289CA02BD2CE9',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1305,
  Timestamp_u: 1650558228164336,
  'X-Trace': '2BE278485981B03D29C47F105D7F96D0B106EA4FD13A959729F78B6EEA01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.5 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.5 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.5 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '4DBB09AC6427EE41',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1305,
  Timestamp_u: 1650558228232529,
  'X-Trace': '2BC7662101820921B0918AA1E8037E631931B28C2191054E54124C5F0401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated somever@1.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.7.0
added 1 package, updated 1 package and audited 951 packages in 6.779s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:23:56.555Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:56.556Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:56.556Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:56.557Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:56.623Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:56.841Z appoptics:patching patched crypto 
2022-04-21T16:23:56.868Z appoptics:patching patched https 
2022-04-21T16:23:56.868Z appoptics:patching patched http 
2022-04-21T16:23:56.913Z appoptics:patching patched zlib 
2022-04-21T16:23:57.073Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:57.074Z appoptics:patching patched fs 
2022-04-21T16:23:57.105Z appoptics:patching patched hapi 16.7.0
2022-04-21T16:23:57.111Z appoptics:patching vision instrumentation not active before v5
2022-04-21T16:23:57.111Z appoptics:patching patched vision 4.1.1
2022-04-21T16:23:57.116Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.7.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (74ms)
    1) should forward controller/action data from post request
2022-04-21T16:23:57.243Z appoptics:debug http: ule hapi:exit 2b-bb35896a565250c91561ab8101e8e4d15128a0e2-7ff44b93c79a7f00-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-21T16:23:57.362Z appoptics:debug http: ule hapi:exit 2b-c4528db15941accaf144b5f15b9c3073f0d1769b-8f80935344c281c5-01


  3 passing (234ms)
  7 failing

  1) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:362:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:431:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:354:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '7FF44B93C79A7F00',
  HTTPMethod: 'POST',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1327,
  Timestamp_u: 1650558237237354,
  'X-Trace': '2BBB35896A565250C91561AB8101E8E4D15128A0E2889034F0E7F64F1D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'B4A94185EEB89110',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1327,
  Timestamp_u: 1650558237262853,
  'X-Trace': '2BBB35896A565250C91561AB8101E8E4D15128A0E255FEBB403C8EB41C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '35C3C08EA9408014',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1327,
  Timestamp_u: 1650558237277557,
  'X-Trace': '2BCCBBD98B6DB51C22D9821B75746F6D622FC4F45992E803FE046B9BEA01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.7.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.7.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '27BEE2062426064B',
  Hostname: '6446b8a1e603',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1327,
  Timestamp_u: 1650558237315957,
  'X-Trace': '2B87816A6F610C0580AD33CEC404B4BA022D431AA32A5DC22B1F1F237801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.7.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.7.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.7.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:362:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:431:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:354:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '8F80935344C281C5',
  HTTPMethod: 'GET',
  Hostname: '6446b8a1e603',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1327,
  Timestamp_u: 1650558237358823,
  'X-Trace': '2BC4528DB15941ACCAF144B5F15B9C3073F0D1769BEBC054F46CBC60D601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@17.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.0
added 46 packages from 2 contributors, removed 2 packages, updated 34 packages and audited 995 packages in 8.372s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
npm WARN deprecated vision@5.4.4: This module has moved and is now available at @hapi/vision. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated items@2.1.2: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ vision@5.4.4
added 1 package from 1 contributor, updated 6 packages and audited 996 packages in 6.246s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:24:14.805Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:14.809Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:14.809Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:14.810Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:14.943Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:15.351Z appoptics:patching patched crypto 
2022-04-21T16:24:15.437Z appoptics:patching patched https 
2022-04-21T16:24:15.440Z appoptics:patching patched http 
2022-04-21T16:24:15.523Z appoptics:patching patched zlib 
2022-04-21T16:24:16.257Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:16.257Z appoptics:patching patched fs 
2022-04-21T16:24:16.314Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:24:16.314Z appoptics:patching patched hapi 17.0.0
2022-04-21T16:24:16.353Z appoptics:patching patched vision 5.4.4
2022-04-21T16:24:16.358Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (80ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (278ms)

npm WARN deprecated hapi@17.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.1
removed 59 packages, updated 1 package and audited 937 packages in 6.274s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:24:24.255Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:24.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:24.256Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:24.257Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:24.321Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:24.530Z appoptics:patching patched crypto 
2022-04-21T16:24:24.555Z appoptics:patching patched https 
2022-04-21T16:24:24.555Z appoptics:patching patched http 
2022-04-21T16:24:24.600Z appoptics:patching patched zlib 
2022-04-21T16:24:24.772Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:24.773Z appoptics:patching patched fs 
2022-04-21T16:24:24.790Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:24:24.790Z appoptics:patching patched hapi 17.0.1
2022-04-21T16:24:24.797Z appoptics:patching patched vision 5.4.4
2022-04-21T16:24:24.802Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (65ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (244ms)

npm WARN deprecated hapi@17.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.2
updated 1 package and audited 937 packages in 7.588s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:24:34.090Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:34.091Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:34.091Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:34.092Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:34.153Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:34.369Z appoptics:patching patched crypto 
2022-04-21T16:24:34.394Z appoptics:patching patched https 
2022-04-21T16:24:34.394Z appoptics:patching patched http 
2022-04-21T16:24:34.443Z appoptics:patching patched zlib 
2022-04-21T16:24:34.599Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:34.600Z appoptics:patching patched fs 
2022-04-21T16:24:34.619Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:24:34.619Z appoptics:patching patched hapi 17.0.2
2022-04-21T16:24:34.627Z appoptics:patching patched vision 5.4.4
2022-04-21T16:24:34.636Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (68ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (260ms)

npm WARN deprecated hapi@17.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.1.0
updated 1 package and audited 937 packages in 7.023s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:24:43.582Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:43.583Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:43.583Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:43.584Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:43.674Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:43.877Z appoptics:patching patched crypto 
2022-04-21T16:24:43.902Z appoptics:patching patched https 
2022-04-21T16:24:43.903Z appoptics:patching patched http 
2022-04-21T16:24:43.947Z appoptics:patching patched zlib 
2022-04-21T16:24:44.102Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:44.103Z appoptics:patching patched fs 
2022-04-21T16:24:44.118Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:24:44.118Z appoptics:patching patched hapi 17.1.0
2022-04-21T16:24:44.125Z appoptics:patching patched vision 5.4.4
2022-04-21T16:24:44.131Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.1.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (240ms)

npm WARN deprecated hapi@17.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.1.1
updated 1 package and audited 937 packages in 6.89s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:24:52.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:52.752Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:52.752Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:52.753Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:52.820Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:53.088Z appoptics:patching patched crypto 
2022-04-21T16:24:53.111Z appoptics:patching patched https 
2022-04-21T16:24:53.111Z appoptics:patching patched http 
2022-04-21T16:24:53.177Z appoptics:patching patched zlib 
2022-04-21T16:24:53.344Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:53.344Z appoptics:patching patched fs 
2022-04-21T16:24:53.359Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:24:53.359Z appoptics:patching patched hapi 17.1.1
2022-04-21T16:24:53.368Z appoptics:patching patched vision 5.4.4
2022-04-21T16:24:53.373Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.1.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (70ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled (38ms)
    ✓ should allow a custom TransactionName (40ms)
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (362ms)

npm WARN deprecated hapi@17.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.0
updated 1 package and audited 937 packages in 6.335s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:25:01.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:01.719Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:01.719Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:01.720Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:01.787Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:01.999Z appoptics:patching patched crypto 
2022-04-21T16:25:02.024Z appoptics:patching patched https 
2022-04-21T16:25:02.025Z appoptics:patching patched http 
2022-04-21T16:25:02.069Z appoptics:patching patched zlib 
2022-04-21T16:25:02.264Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:02.264Z appoptics:patching patched fs 
2022-04-21T16:25:02.286Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:25:02.286Z appoptics:patching patched hapi 17.2.0
2022-04-21T16:25:02.294Z appoptics:patching patched vision 5.4.4
2022-04-21T16:25:02.306Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (76ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (277ms)

npm WARN deprecated hapi@17.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.1
updated 1 package and audited 937 packages in 6.813s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:25:10.777Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:10.778Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:10.778Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:10.779Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:10.846Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:11.069Z appoptics:patching patched crypto 
2022-04-21T16:25:11.097Z appoptics:patching patched https 
2022-04-21T16:25:11.098Z appoptics:patching patched http 
2022-04-21T16:25:11.142Z appoptics:patching patched zlib 
2022-04-21T16:25:11.300Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:11.301Z appoptics:patching patched fs 
2022-04-21T16:25:11.315Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:25:11.315Z appoptics:patching patched hapi 17.2.1
2022-04-21T16:25:11.323Z appoptics:patching patched vision 5.4.4
2022-04-21T16:25:11.327Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (69ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (293ms)

npm WARN deprecated hapi@17.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.2
updated 1 package and audited 937 packages in 6.436s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:25:19.676Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:19.678Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:19.678Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:19.678Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:19.760Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:20.084Z appoptics:patching patched crypto 
2022-04-21T16:25:20.146Z appoptics:patching patched https 
2022-04-21T16:25:20.146Z appoptics:patching patched http 
2022-04-21T16:25:20.182Z appoptics:patching patched zlib 
2022-04-21T16:25:20.370Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:20.371Z appoptics:patching patched fs 
2022-04-21T16:25:20.385Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:25:20.385Z appoptics:patching patched hapi 17.2.2
2022-04-21T16:25:20.404Z appoptics:patching patched vision 5.4.4
2022-04-21T16:25:20.408Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (68ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (304ms)

npm WARN deprecated hapi@17.2.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.3
updated 1 package and audited 937 packages in 6.555s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:25:28.889Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:28.889Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:28.889Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:28.890Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:28.954Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:29.174Z appoptics:patching patched crypto 
2022-04-21T16:25:29.201Z appoptics:patching patched https 
2022-04-21T16:25:29.202Z appoptics:patching patched http 
2022-04-21T16:25:29.331Z appoptics:patching patched zlib 
2022-04-21T16:25:29.526Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:29.526Z appoptics:patching patched fs 
2022-04-21T16:25:29.539Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:25:29.539Z appoptics:patching patched hapi 17.2.3
2022-04-21T16:25:29.555Z appoptics:patching patched vision 5.4.4
2022-04-21T16:25:29.560Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (68ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (237ms)

npm WARN deprecated hapi@17.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.3.0
updated 1 package and audited 937 packages in 7.537s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:25:38.734Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:38.735Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:38.735Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:38.736Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:38.800Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:39.010Z appoptics:patching patched crypto 
2022-04-21T16:25:39.035Z appoptics:patching patched https 
2022-04-21T16:25:39.036Z appoptics:patching patched http 
2022-04-21T16:25:39.084Z appoptics:patching patched zlib 
2022-04-21T16:25:39.234Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:39.234Z appoptics:patching patched fs 
2022-04-21T16:25:39.248Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:25:39.249Z appoptics:patching patched hapi 17.3.0
2022-04-21T16:25:39.257Z appoptics:patching patched vision 5.4.4
2022-04-21T16:25:39.262Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.3.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (272ms)

npm WARN deprecated hapi@17.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.3.1
updated 1 package and audited 937 packages in 7.575s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:25:48.534Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:48.535Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:48.535Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:48.535Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:48.601Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:48.809Z appoptics:patching patched crypto 
2022-04-21T16:25:48.834Z appoptics:patching patched https 
2022-04-21T16:25:48.834Z appoptics:patching patched http 
2022-04-21T16:25:48.877Z appoptics:patching patched zlib 
2022-04-21T16:25:49.025Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:49.026Z appoptics:patching patched fs 
2022-04-21T16:25:49.038Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:25:49.039Z appoptics:patching patched hapi 17.3.1
2022-04-21T16:25:49.046Z appoptics:patching patched vision 5.4.4
2022-04-21T16:25:49.051Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.3.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (63ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (238ms)

npm WARN deprecated hapi@17.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.4.0
updated 1 package and audited 937 packages in 5.985s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:25:56.772Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:56.773Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:56.773Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:56.774Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:56.837Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:57.040Z appoptics:patching patched crypto 
2022-04-21T16:25:57.064Z appoptics:patching patched https 
2022-04-21T16:25:57.064Z appoptics:patching patched http 
2022-04-21T16:25:57.116Z appoptics:patching patched zlib 
2022-04-21T16:25:57.267Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:57.267Z appoptics:patching patched fs 
2022-04-21T16:25:57.281Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:25:57.281Z appoptics:patching patched hapi 17.4.0
2022-04-21T16:25:57.289Z appoptics:patching patched vision 5.4.4
2022-04-21T16:25:57.294Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.4.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (66ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (271ms)

npm WARN deprecated hapi@17.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.0
updated 1 package and audited 937 packages in 7.277s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:26:06.612Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:06.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:06.614Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:06.615Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:06.699Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:06.909Z appoptics:patching patched crypto 
2022-04-21T16:26:06.946Z appoptics:patching patched https 
2022-04-21T16:26:06.946Z appoptics:patching patched http 
2022-04-21T16:26:06.986Z appoptics:patching patched zlib 
2022-04-21T16:26:07.137Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:07.138Z appoptics:patching patched fs 
2022-04-21T16:26:07.150Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:26:07.150Z appoptics:patching patched hapi 17.5.0
2022-04-21T16:26:07.164Z appoptics:patching patched vision 5.4.4
2022-04-21T16:26:07.170Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (234ms)

npm WARN deprecated hapi@17.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.1
updated 1 package and audited 937 packages in 6.816s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:26:15.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:15.545Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:15.545Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:15.546Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:15.611Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:15.819Z appoptics:patching patched crypto 
2022-04-21T16:26:15.842Z appoptics:patching patched https 
2022-04-21T16:26:15.843Z appoptics:patching patched http 
2022-04-21T16:26:15.904Z appoptics:patching patched zlib 
2022-04-21T16:26:16.055Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:16.056Z appoptics:patching patched fs 
2022-04-21T16:26:16.070Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:26:16.070Z appoptics:patching patched hapi 17.5.1
2022-04-21T16:26:16.078Z appoptics:patching patched vision 5.4.4
2022-04-21T16:26:16.083Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (75ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (247ms)

npm WARN deprecated hapi@17.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.2
updated 1 package and audited 937 packages in 5.988s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:26:23.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:23.765Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:23.766Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:23.766Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:23.829Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:24.049Z appoptics:patching patched crypto 
2022-04-21T16:26:24.075Z appoptics:patching patched https 
2022-04-21T16:26:24.075Z appoptics:patching patched http 
2022-04-21T16:26:24.138Z appoptics:patching patched zlib 
2022-04-21T16:26:24.381Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:24.383Z appoptics:patching patched fs 
2022-04-21T16:26:24.410Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:26:24.410Z appoptics:patching patched hapi 17.5.2
2022-04-21T16:26:24.426Z appoptics:patching patched vision 5.4.4
2022-04-21T16:26:24.455Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (147ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (399ms)

npm WARN deprecated hapi@17.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.3
updated 1 package and audited 937 packages in 6.655s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:26:33.117Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:33.118Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:33.118Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:33.119Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:33.184Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:33.398Z appoptics:patching patched crypto 
2022-04-21T16:26:33.422Z appoptics:patching patched https 
2022-04-21T16:26:33.423Z appoptics:patching patched http 
2022-04-21T16:26:33.466Z appoptics:patching patched zlib 
2022-04-21T16:26:33.617Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:33.618Z appoptics:patching patched fs 
2022-04-21T16:26:33.631Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:26:33.631Z appoptics:patching patched hapi 17.5.3
2022-04-21T16:26:33.638Z appoptics:patching patched vision 5.4.4
2022-04-21T16:26:33.643Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (66ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (239ms)

npm WARN deprecated hapi@17.5.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.4
updated 1 package and audited 937 packages in 7.087s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:26:42.386Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:42.387Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:42.387Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:42.388Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:42.479Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:42.691Z appoptics:patching patched crypto 
2022-04-21T16:26:42.741Z appoptics:patching patched https 
2022-04-21T16:26:42.741Z appoptics:patching patched http 
2022-04-21T16:26:42.786Z appoptics:patching patched zlib 
2022-04-21T16:26:42.955Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:42.956Z appoptics:patching patched fs 
2022-04-21T16:26:42.967Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:26:42.967Z appoptics:patching patched hapi 17.5.4
2022-04-21T16:26:42.982Z appoptics:patching patched vision 5.4.4
2022-04-21T16:26:42.987Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (60ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (271ms)

npm WARN deprecated hapi@17.5.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.5
updated 1 package and audited 937 packages in 6.854s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:26:51.884Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:51.884Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:51.884Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:51.885Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:51.982Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:52.295Z appoptics:patching patched crypto 
2022-04-21T16:26:52.378Z appoptics:patching patched https 
2022-04-21T16:26:52.379Z appoptics:patching patched http 
2022-04-21T16:26:52.418Z appoptics:patching patched zlib 
2022-04-21T16:26:52.566Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:52.566Z appoptics:patching patched fs 
2022-04-21T16:26:52.581Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:26:52.581Z appoptics:patching patched hapi 17.5.5
2022-04-21T16:26:52.595Z appoptics:patching patched vision 5.4.4
2022-04-21T16:26:52.600Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.5 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (65ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (242ms)

npm WARN deprecated hapi@17.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.0
updated 1 package and audited 937 packages in 6.23s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:27:00.452Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:00.453Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:00.453Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:00.454Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:00.519Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:00.726Z appoptics:patching patched crypto 
2022-04-21T16:27:00.750Z appoptics:patching patched https 
2022-04-21T16:27:00.750Z appoptics:patching patched http 
2022-04-21T16:27:00.792Z appoptics:patching patched zlib 
2022-04-21T16:27:00.970Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:00.970Z appoptics:patching patched fs 
2022-04-21T16:27:00.982Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:27:00.983Z appoptics:patching patched hapi 17.6.0
2022-04-21T16:27:00.990Z appoptics:patching patched vision 5.4.4
2022-04-21T16:27:00.995Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (68ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (272ms)

npm WARN deprecated hapi@17.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.1
removed 2 packages, updated 1 package and audited 935 packages in 7.177s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:27:09.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:09.801Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:09.801Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:09.802Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:09.864Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:10.077Z appoptics:patching patched crypto 
2022-04-21T16:27:10.102Z appoptics:patching patched https 
2022-04-21T16:27:10.103Z appoptics:patching patched http 
2022-04-21T16:27:10.154Z appoptics:patching patched zlib 
2022-04-21T16:27:10.273Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:10.273Z appoptics:patching patched fs 
2022-04-21T16:27:10.286Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:27:10.287Z appoptics:patching patched hapi 17.6.1
2022-04-21T16:27:10.293Z appoptics:patching patched vision 5.4.4
2022-04-21T16:27:10.298Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (250ms)

npm WARN deprecated hapi@17.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.2
updated 1 package and audited 935 packages in 6.674s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:27:18.983Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:18.985Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:18.985Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:18.986Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:19.087Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:19.363Z appoptics:patching patched crypto 
2022-04-21T16:27:19.416Z appoptics:patching patched https 
2022-04-21T16:27:19.417Z appoptics:patching patched http 
2022-04-21T16:27:19.456Z appoptics:patching patched zlib 
2022-04-21T16:27:19.578Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:19.578Z appoptics:patching patched fs 
2022-04-21T16:27:19.590Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:27:19.590Z appoptics:patching patched hapi 17.6.2
2022-04-21T16:27:19.596Z appoptics:patching patched vision 5.4.4
2022-04-21T16:27:19.601Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (61ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (253ms)

npm WARN deprecated hapi@17.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.3
updated 1 package and audited 935 packages in 6.14s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:27:27.355Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:27.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:27.356Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:27.357Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:27.422Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:27.668Z appoptics:patching patched crypto 
2022-04-21T16:27:27.691Z appoptics:patching patched https 
2022-04-21T16:27:27.692Z appoptics:patching patched http 
2022-04-21T16:27:27.738Z appoptics:patching patched zlib 
2022-04-21T16:27:27.860Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:27.861Z appoptics:patching patched fs 
2022-04-21T16:27:27.873Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:27:27.873Z appoptics:patching patched hapi 17.6.3
2022-04-21T16:27:27.881Z appoptics:patching patched vision 5.4.4
2022-04-21T16:27:27.888Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (286ms)

npm WARN deprecated hapi@17.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.4
updated 1 package and audited 935 packages in 7.285s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:27:37.065Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:37.066Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:37.066Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:37.067Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:37.137Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:37.351Z appoptics:patching patched crypto 
2022-04-21T16:27:37.374Z appoptics:patching patched https 
2022-04-21T16:27:37.375Z appoptics:patching patched http 
2022-04-21T16:27:37.419Z appoptics:patching patched zlib 
2022-04-21T16:27:37.539Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:37.539Z appoptics:patching patched fs 
2022-04-21T16:27:37.552Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:27:37.552Z appoptics:patching patched hapi 17.6.4
2022-04-21T16:27:37.558Z appoptics:patching patched vision 5.4.4
2022-04-21T16:27:37.563Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (66ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (257ms)

npm WARN deprecated hapi@17.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.7.0
added 1 package, updated 1 package and audited 936 packages in 6.82s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:27:46.120Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:46.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:46.121Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:46.122Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:46.188Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:46.398Z appoptics:patching patched crypto 
2022-04-21T16:27:46.423Z appoptics:patching patched https 
2022-04-21T16:27:46.424Z appoptics:patching patched http 
2022-04-21T16:27:46.470Z appoptics:patching patched zlib 
2022-04-21T16:27:46.600Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:46.601Z appoptics:patching patched fs 
2022-04-21T16:27:46.614Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:27:46.614Z appoptics:patching patched hapi 17.7.0
2022-04-21T16:27:46.620Z appoptics:patching patched vision 5.4.4
2022-04-21T16:27:46.630Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.7.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (182ms)
    ✓ should forward controller/action data from post request (43ms)
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (437ms)

npm WARN deprecated hapi@17.8.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.0
updated 1 package and audited 936 packages in 6.238s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:27:54.645Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:54.646Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:54.646Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:54.647Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:54.707Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:54.926Z appoptics:patching patched crypto 
2022-04-21T16:27:54.951Z appoptics:patching patched https 
2022-04-21T16:27:54.951Z appoptics:patching patched http 
2022-04-21T16:27:54.997Z appoptics:patching patched zlib 
2022-04-21T16:27:55.119Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:55.120Z appoptics:patching patched fs 
2022-04-21T16:27:55.132Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:27:55.132Z appoptics:patching patched hapi 17.8.0
2022-04-21T16:27:55.139Z appoptics:patching patched vision 5.4.4
2022-04-21T16:27:55.144Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (74ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (305ms)

npm WARN deprecated hapi@17.8.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.1
updated 1 package and audited 936 packages in 7.445s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:28:04.309Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:04.310Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:04.310Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:04.311Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:04.376Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:04.589Z appoptics:patching patched crypto 
2022-04-21T16:28:04.613Z appoptics:patching patched https 
2022-04-21T16:28:04.614Z appoptics:patching patched http 
2022-04-21T16:28:04.675Z appoptics:patching patched zlib 
2022-04-21T16:28:04.799Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:04.799Z appoptics:patching patched fs 
2022-04-21T16:28:04.811Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:28:04.812Z appoptics:patching patched hapi 17.8.1
2022-04-21T16:28:04.817Z appoptics:patching patched vision 5.4.4
2022-04-21T16:28:04.822Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (249ms)

npm WARN deprecated hapi@17.8.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.2
updated 1 package and audited 936 packages in 6.712s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:28:13.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:13.204Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:13.204Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:13.205Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:13.270Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:13.508Z appoptics:patching patched crypto 
2022-04-21T16:28:13.560Z appoptics:patching patched https 
2022-04-21T16:28:13.560Z appoptics:patching patched http 
2022-04-21T16:28:13.610Z appoptics:patching patched zlib 
2022-04-21T16:28:13.784Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:13.784Z appoptics:patching patched fs 
2022-04-21T16:28:13.799Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:28:13.799Z appoptics:patching patched hapi 17.8.2
2022-04-21T16:28:13.805Z appoptics:patching patched vision 5.4.4
2022-04-21T16:28:13.810Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (72ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled (38ms)
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (310ms)

npm WARN deprecated hapi@17.8.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.3
updated 1 package and audited 936 packages in 6.334s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:28:22.064Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:22.065Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:22.065Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:22.066Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:22.172Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:22.453Z appoptics:patching patched crypto 
2022-04-21T16:28:22.505Z appoptics:patching patched https 
2022-04-21T16:28:22.506Z appoptics:patching patched http 
2022-04-21T16:28:22.555Z appoptics:patching patched zlib 
2022-04-21T16:28:22.763Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:22.763Z appoptics:patching patched fs 
2022-04-21T16:28:22.786Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:28:22.786Z appoptics:patching patched hapi 17.8.3
2022-04-21T16:28:22.802Z appoptics:patching patched vision 5.4.4
2022-04-21T16:28:22.816Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (84ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled (38ms)
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (369ms)

npm WARN deprecated hapi@17.8.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.4
updated 1 package and audited 936 packages in 6.55s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:28:31.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:31.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:31.352Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:31.353Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:31.419Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:31.659Z appoptics:patching patched crypto 
2022-04-21T16:28:31.685Z appoptics:patching patched https 
2022-04-21T16:28:31.686Z appoptics:patching patched http 
2022-04-21T16:28:31.733Z appoptics:patching patched zlib 
2022-04-21T16:28:31.860Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:31.860Z appoptics:patching patched fs 
2022-04-21T16:28:31.873Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:28:31.873Z appoptics:patching patched hapi 17.8.4
2022-04-21T16:28:31.879Z appoptics:patching patched vision 5.4.4
2022-04-21T16:28:31.884Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (64ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (268ms)

npm WARN deprecated hapi@17.8.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.5
updated 1 package and audited 936 packages in 7.535s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:28:41.095Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:41.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:41.096Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:41.097Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:41.163Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:41.366Z appoptics:patching patched crypto 
2022-04-21T16:28:41.392Z appoptics:patching patched https 
2022-04-21T16:28:41.392Z appoptics:patching patched http 
2022-04-21T16:28:41.439Z appoptics:patching patched zlib 
2022-04-21T16:28:41.560Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:41.560Z appoptics:patching patched fs 
2022-04-21T16:28:41.573Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:28:41.574Z appoptics:patching patched hapi 17.8.5
2022-04-21T16:28:41.579Z appoptics:patching patched vision 5.4.4
2022-04-21T16:28:41.584Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.5 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (61ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (254ms)

npm WARN deprecated hapi@18.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.0.0
removed 1 package, updated 2 packages and audited 935 packages in 6.021s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:28:50.248Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:50.249Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:50.249Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:50.250Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:50.310Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:50.566Z appoptics:patching patched crypto 
2022-04-21T16:28:50.618Z appoptics:patching patched https 
2022-04-21T16:28:50.618Z appoptics:patching patched http 
2022-04-21T16:28:50.671Z appoptics:patching patched zlib 
2022-04-21T16:28:50.882Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:50.882Z appoptics:patching patched fs 
2022-04-21T16:28:50.894Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:28:50.894Z appoptics:patching patched hapi 18.0.0
2022-04-21T16:28:50.902Z appoptics:patching patched vision 5.4.4
2022-04-21T16:28:50.907Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.0.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (70ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled (41ms)
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function (39ms)


  11 passing (354ms)

npm WARN deprecated hapi@18.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.0.1
updated 1 package and audited 935 packages in 5.998s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:28:58.807Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:58.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:58.808Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:58.808Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:58.893Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:59.183Z appoptics:patching patched crypto 
2022-04-21T16:28:59.208Z appoptics:patching patched https 
2022-04-21T16:28:59.209Z appoptics:patching patched http 
2022-04-21T16:28:59.261Z appoptics:patching patched zlib 
2022-04-21T16:28:59.389Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:59.389Z appoptics:patching patched fs 
2022-04-21T16:28:59.402Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:28:59.402Z appoptics:patching patched hapi 18.0.1
2022-04-21T16:28:59.410Z appoptics:patching patched vision 5.4.4
2022-04-21T16:28:59.415Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.0.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (68ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (267ms)

npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.1.0
updated 1 package and audited 935 packages in 8.314s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:29:09.576Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:09.577Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:09.577Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:09.578Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:09.645Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:09.873Z appoptics:patching patched crypto 
2022-04-21T16:29:09.917Z appoptics:patching patched https 
2022-04-21T16:29:09.918Z appoptics:patching patched http 
2022-04-21T16:29:09.976Z appoptics:patching patched zlib 
2022-04-21T16:29:10.114Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:10.115Z appoptics:patching patched fs 
2022-04-21T16:29:10.127Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-21T16:29:10.127Z appoptics:patching patched hapi 18.1.0
2022-04-21T16:29:10.134Z appoptics:patching patched vision 5.4.4
2022-04-21T16:29:10.140Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.1.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (61ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (243ms)

npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.1.0
updated 1 package and audited 935 packages in 7.018s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
