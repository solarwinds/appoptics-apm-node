npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:12.790Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:12.791Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:12.791Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:12.792Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:12.861Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:13.003Z appoptics:patching patched crypto 
2022-04-21T21:04:13.056Z appoptics:patching patched https 
2022-04-21T21:04:13.057Z appoptics:patching patched http 
2022-04-21T21:04:13.113Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:13.113Z appoptics:patching patched fs 
2022-04-21T21:04:13.129Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v16.14.2)
2022-04-21T21:04:13.136Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-21T21:04:13.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-902dbfdea7ed9dd2e3a256127963fc0580e3a235-f6e83cd948590f09-01 outer:exit 2b-902dbfdea7ed9dd2e3a256127963fc0580e3a235-9dc04fa100a42c42-01
2022-04-21T21:04:13.197Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:04:13.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cedf40a62685a997c4c1053af4f8c45fa3e5844-cce1a745ba88840f-01 outer:exit 2b-2cedf40a62685a997c4c1053af4f8c45fa3e5844-7a5b390b48eed154-01
2022-04-21T21:04:13.259Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:04:13.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-e990b7caf207b1471f9b79c1df89bdf927544de2-0c08aa281d50b464-01 outer:exit 2b-e990b7caf207b1471f9b79c1df89bdf927544de2-fcc9e70886253f92-01
2022-04-21T21:04:13.266Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:04:13.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-102ec59394d65c16109818582923a71265605bca-87192961c369a7ee-01 outer:exit 2b-102ec59394d65c16109818582923a71265605bca-1090a32890a02dc3-01
2022-04-21T21:04:13.270Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:04:13.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c0ae6caa858721fe14e65458262805bd4f9a3ee-814f83d58ffc4ff3-01 outer:exit 2b-8c0ae6caa858721fe14e65458262805bd4f9a3ee-d5d9cbb495a102b5-01
2022-04-21T21:04:13.278Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:04:13.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-22819c6040e7fdc9c9da79a1f3fdd6ab9b1354ed-4342be7e6095bef1-01 outer:exit 2b-22819c6040e7fdc9c9da79a1f3fdd6ab9b1354ed-a7afc84b919dcecf-01
2022-04-21T21:04:13.284Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:04:13.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc0e1f3f98d049ea882ec8fdf3669cdaa771dab2-868b7d4612fdec4c-01 outer:exit 2b-cc0e1f3f98d049ea882ec8fdf3669cdaa771dab2-4ea18724d03208c9-01
2022-04-21T21:04:13.287Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:04:13.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-80e29b6127960df4ebb138465e79d4ed8ba3a914-ac8eeae6ed3c57bd-01 outer:exit 2b-80e29b6127960df4ebb138465e79d4ed8ba3a914-d73bb92cfc7d7359-01
2022-04-21T21:04:13.292Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:04:13.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-29841f34964fd6d5757eeca2aca2e658968bf9e8-5598f4ca0d0bb8c4-01 outer:exit 2b-29841f34964fd6d5757eeca2aca2e658968bf9e8-f66d90b7ac52e9e0-01
2022-04-21T21:04:13.294Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:04:13.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f6f08a346db1ee2127b1c2e6b84207de12d7e40-9a5a3ecfefa1cb94-01 outer:exit 2b-1f6f08a346db1ee2127b1c2e6b84207de12d7e40-118045186c424206-01
2022-04-21T21:04:13.298Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:04:13.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-9af91766d35a6b05b3d4fbf6b98b45c74d7b1edb-ff927f5815c31f58-01 outer:exit 2b-9af91766d35a6b05b3d4fbf6b98b45c74d7b1edb-78a824eb17da62a4-01
2022-04-21T21:04:13.305Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:04:13.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ed1a26e30da7b710e3ca5981f78603d6f39d3ca-1bce3a5fe8b0492f-01 outer:exit 2b-4ed1a26e30da7b710e3ca5981f78603d6f39d3ca-cc3f9620af5e975f-01
2022-04-21T21:04:13.351Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:04:13.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead70f8f9312a4e27c1dfe78ab6f593b4f56255a-af8c49aa86f05612-01 outer:exit 2b-ead70f8f9312a4e27c1dfe78ab6f593b4f56255a-57abe28c1cf57c00-01
2022-04-21T21:04:13.378Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:04:13.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2e31ac8ca74e9ca529777dadc128c2fa0eb4c7d-fc8210744673bad0-01 outer:exit 2b-b2e31ac8ca74e9ca529777dadc128c2fa0eb4c7d-b43fddd4b45def8e-01
2022-04-21T21:04:13.434Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:04:13.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-49dc20edbec2db1034035ecd9c2b32b7b56933d6-eeba5297c30dd025-01 outer:exit 2b-49dc20edbec2db1034035ecd9c2b32b7b56933d6-f110e1c2d31fb0ea-01
2022-04-21T21:04:13.440Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:04:13.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-87310ed588a31c880f39cfd65ec1439d190b8477-d7661f29835b51ca-01 outer:exit 2b-87310ed588a31c880f39cfd65ec1439d190b8477-ca1cdb69d0c8a7f7-01
2022-04-21T21:04:13.443Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:04:13.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-959b01947a76adf4aa406af83bef57610667ef46-c87c1a0de3a613dd-01 outer:exit 2b-959b01947a76adf4aa406af83bef57610667ef46-a7af604763a89d39-01
2022-04-21T21:04:13.449Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:04:13.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-162abb6d0515c25443a2ef4f6bbb9390537ff838-aef8dc063ab2e0d1-01 outer:exit 2b-162abb6d0515c25443a2ef4f6bbb9390537ff838-522817f6c62defdc-01
2022-04-21T21:04:13.455Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:04:13.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-21ab7a6aee76f270df0a3ae17d68ce0e1f1e11d5-0b7962f2d7a242a1-01 outer:exit 2b-21ab7a6aee76f270df0a3ae17d68ce0e1f1e11d5-89f810cdfbbc6f5a-01
2022-04-21T21:04:13.458Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:04:13.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-30daa7f49340e95f6038b08ffea384f89c0370e7-b37a0c2b3e157ce8-01 outer:exit 2b-30daa7f49340e95f6038b08ffea384f89c0370e7-a200e8d30765492f-01
2022-04-21T21:04:13.462Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:04:13.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee035547bc1a64256b5bd7ec8f99f56ff127e08a-c0b8941e9229fd54-01 outer:exit 2b-ee035547bc1a64256b5bd7ec8f99f56ff127e08a-1f82e1f788a589eb-01
2022-04-21T21:04:13.464Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:04:13.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-07aa5f756496ea47c1bfa23b204bc1e63750ac83-c81b821aceaf8fc3-01 outer:exit 2b-07aa5f756496ea47c1bfa23b204bc1e63750ac83-49ffcf4a1ecbfe57-01
2022-04-21T21:04:13.466Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:04:13.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-d051025496497a6cb67e918275d3a0dc8f4579ac-60ed26f1fa199836-01 outer:exit 2b-d051025496497a6cb67e918275d3a0dc8f4579ac-ab4329da2f57207e-01
2022-04-21T21:04:13.475Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:04:13.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-9879e82756b061a28f8164fafd57356500f87e3e-516a01856224327f-01 outer:exit 2b-9879e82756b061a28f8164fafd57356500f87e3e-cdb3aeecbc0b8776-01
2022-04-21T21:04:13.478Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:04:13.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7ded2c3ebfc59ca09ba2283c661e942de7cce58-21e7c21d17d84efc-01 outer:exit 2b-b7ded2c3ebfc59ca09ba2283c661e942de7cce58-14058c7957f7fc7c-01
2022-04-21T21:04:13.481Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:04:13.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aa506625174a473b212d98a28713a8fdf53781d-565fbb419aefaf18-01 outer:exit 2b-1aa506625174a473b212d98a28713a8fdf53781d-98205fb9ca10e2b1-01
2022-04-21T21:04:13.484Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:04:13.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-cca43c8e04577102dec2560ef3dabf1c5e5765c2-02304c1e5f8b0738-01 outer:exit 2b-cca43c8e04577102dec2560ef3dabf1c5e5765c2-429f35264df19655-01
2022-04-21T21:04:13.534Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:04:13.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-10a7f915044470d00510707148e6131846347bf8-2a5c7f7b696f0dda-01 outer:exit 2b-10a7f915044470d00510707148e6131846347bf8-2414b6bfb610d589-01
2022-04-21T21:04:13.558Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:04:13.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6bc499d0889ed73f56ee429c765f08e7f7cff3c-3ad7c5795ebf5514-01 outer:exit 2b-e6bc499d0889ed73f56ee429c765f08e7f7cff3c-d98c881fff55db51-01
2022-04-21T21:04:13.569Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:04:13.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-315f1f289f4bab7ac118ddfa9668b100dba75ff8-1fe2b166e9e23359-01 outer:exit 2b-315f1f289f4bab7ac118ddfa9668b100dba75ff8-a556a30fd6794cca-01
2022-04-21T21:04:13.604Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:04:13.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e508ae824d4712d0df1f87b201bdc42534e91c0-371db94ebaeb2930-01 outer:exit 2b-1e508ae824d4712d0df1f87b201bdc42534e91c0-b0a830697a602837-01
2022-04-21T21:04:13.609Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:04:13.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecd27b3d66e749d6fa155dc681e009e8db2d50a6-f95c2b8c25566099-01 outer:exit 2b-ecd27b3d66e749d6fa155dc681e009e8db2d50a6-ab6cd7e66314306e-01
2022-04-21T21:04:13.613Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:04:13.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-65758294399ab9f5eb54c97626ecfaf16de11b2a-6ebd1e5768d8797b-01 outer:exit 2b-65758294399ab9f5eb54c97626ecfaf16de11b2a-cb6319ffdc1a0577-01
2022-04-21T21:04:13.624Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:04:13.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-9763dbe47ef7c0038290d945140284395091957b-bf51b874312b7106-01 outer:exit 2b-9763dbe47ef7c0038290d945140284395091957b-8a277a8be272affc-01
2022-04-21T21:04:13.633Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:04:13.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-2886bc82fd6210817cc00f1e2f13340a3172ac29-9b5eafe7dfe8712f-01 outer:exit 2b-2886bc82fd6210817cc00f1e2f13340a3172ac29-9e91cba427bda432-01
2022-04-21T21:04:13.636Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:04:13.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dd365dd83fa13cf96843c3083b3a1329cf05a6d-43bb1bc8fc321c86-01 outer:exit 2b-4dd365dd83fa13cf96843c3083b3a1329cf05a6d-e3b6aa7947f271ea-01
2022-04-21T21:04:13.650Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:04:13.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbb34061914b5c3f3b6f2e6bc39509a0937a625b-d29994c27bd15098-01 outer:exit 2b-bbb34061914b5c3f3b6f2e6bc39509a0937a625b-9ad12c26b03a7c1a-01
2022-04-21T21:04:13.657Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:04:13.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-3930506084775fd63f74f6d373208670d71e774d-97066683ce424982-01 outer:exit 2b-3930506084775fd63f74f6d373208670d71e774d-73a5fbb964108528-01
2022-04-21T21:04:13.659Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:04:13.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-19441d22d687eb07fe4ca09e6d80c5811560d7c1-2288453207c7fb13-01 outer:exit 2b-19441d22d687eb07fe4ca09e6d80c5811560d7c1-29b69cc56ec35324-01
2022-04-21T21:04:13.671Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:04:13.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1bfbe33115ffd33afa340ca79be47a3a00c0fdc-da7d54672d00d6f1-01 outer:exit 2b-b1bfbe33115ffd33afa340ca79be47a3a00c0fdc-e8e9b9b6ccb96cf1-01
2022-04-21T21:04:13.682Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:04:13.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd0d6fae82bea9ed2a5472680303cfb693dbcf0f-0971555174dd85c2-01 outer:exit 2b-dd0d6fae82bea9ed2a5472680303cfb693dbcf0f-97532730009ab945-01
2022-04-21T21:04:13.685Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:04:13.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-55285cae1e7e18bdae7e3e498278c082d95483c0-e71703e5baef9c22-01 outer:exit 2b-55285cae1e7e18bdae7e3e498278c082d95483c0-1768a3273257c154-01
2022-04-21T21:04:13.689Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:04:13.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-c860446988da542e50c328e1b46cb4f33749ff61-1b9bb4fed58ea959-01 outer:exit 2b-c860446988da542e50c328e1b46cb4f33749ff61-ca2437db7601bcc1-01
2022-04-21T21:04:13.759Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:04:13.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-efbf0fd1d68963d9c25e7c44d64ac04612daa3c5-9a1cea9eb28ea250-01 outer:exit 2b-efbf0fd1d68963d9c25e7c44d64ac04612daa3c5-00d3b10e97f01d4e-01
2022-04-21T21:04:13.797Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (652ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:22.775Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:22.776Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:22.776Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:22.777Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:22.870Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:23.039Z appoptics:patching patched crypto 
2022-04-21T21:04:23.094Z appoptics:patching patched https 
2022-04-21T21:04:23.094Z appoptics:patching patched http 
2022-04-21T21:04:23.137Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:23.138Z appoptics:patching patched fs 
2022-04-21T21:04:23.162Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v16.14.2)
2022-04-21T21:04:23.169Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-21T21:04:23.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-d95febf9be51b0fe391002790c38abf4565e0e20-9fa58cbf80da0abf-01 outer:exit 2b-d95febf9be51b0fe391002790c38abf4565e0e20-7f2d6fa01c4e17a6-01
2022-04-21T21:04:23.271Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:04:23.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0f9b032ef70f7931cdfae91b9419bed187aad7c-d8f166e957590e0d-01 outer:exit 2b-c0f9b032ef70f7931cdfae91b9419bed187aad7c-9bfd886d66e28b45-01
2022-04-21T21:04:23.332Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:04:23.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b44b54ede8eb30313436ced3a064c74e17f9bd-c481049a2d2e4ede-01 outer:exit 2b-c6b44b54ede8eb30313436ced3a064c74e17f9bd-b7af4ae2b84b7d09-01
2022-04-21T21:04:23.340Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:04:23.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd98aa928f06a644f7899f83725ec0cbb8d5fec1-52b27737a7bc95dd-01 outer:exit 2b-fd98aa928f06a644f7899f83725ec0cbb8d5fec1-4011b667bc3370ee-01
2022-04-21T21:04:23.345Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:04:23.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be570e74398a9c75d720553641a5fc201425948-41a4cd0016d9a168-01 outer:exit 2b-6be570e74398a9c75d720553641a5fc201425948-966dd221487c5a7e-01
2022-04-21T21:04:23.356Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:04:23.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-50d96fd5c2fc7d23ff775af1926f7ed51bf79a06-cf670da179303184-01 outer:exit 2b-50d96fd5c2fc7d23ff775af1926f7ed51bf79a06-0a5c6ed712d020b8-01
2022-04-21T21:04:23.360Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:04:23.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-b59a62f2fbfcfabdbb498660091993eb81dbb0c2-daa61c7f00d779af-01 outer:exit 2b-b59a62f2fbfcfabdbb498660091993eb81dbb0c2-11fad33950ffd249-01
2022-04-21T21:04:23.366Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:04:23.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-b186b30af5b305977ec4bf3806224b6cc1409915-fdbf470f5a9b81f8-01 outer:exit 2b-b186b30af5b305977ec4bf3806224b6cc1409915-1c86d65900b4ed42-01
2022-04-21T21:04:23.369Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:04:23.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-f69a3f6688d3bc1f2868ddafccbbf27cd32f3496-bf545345dcac6922-01 outer:exit 2b-f69a3f6688d3bc1f2868ddafccbbf27cd32f3496-b0cc4182472f0b9d-01
2022-04-21T21:04:23.372Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:04:23.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-546b2e6bb02c78244af4a3abcdb1a939d9c8e02c-34bb850ecd349b37-01 outer:exit 2b-546b2e6bb02c78244af4a3abcdb1a939d9c8e02c-7c2365685fa794e5-01
2022-04-21T21:04:23.376Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:04:23.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-6364cec4a822b80534589241abc67438270b8b7a-54050926b45eb7b5-01 outer:exit 2b-6364cec4a822b80534589241abc67438270b8b7a-b98a3f91bbf8c9c2-01
2022-04-21T21:04:23.381Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:04:23.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc0f1e853743d019c3886f23ff62377071daa21f-42528506639bc50d-01 outer:exit 2b-fc0f1e853743d019c3886f23ff62377071daa21f-35054637f7845977-01
2022-04-21T21:04:23.388Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:04:23.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-12163db9d53892ac136c0e2ec6cbc7dfc37b9b0c-1b430b251180cdc5-01 outer:exit 2b-12163db9d53892ac136c0e2ec6cbc7dfc37b9b0c-dcf5998b96412011-01
2022-04-21T21:04:23.407Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:04:23.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-386f4dd3f0c9d2a0c6c9d950ea6beb88458d2025-4aa1ac814d4028eb-01 outer:exit 2b-386f4dd3f0c9d2a0c6c9d950ea6beb88458d2025-fde69b316cf6aa01-01
2022-04-21T21:04:23.454Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:04:23.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c8f2936561237e2d537b95dfadcf4e95c01c4d4-8d527c4fe774bb29-01 outer:exit 2b-4c8f2936561237e2d537b95dfadcf4e95c01c4d4-19c701c5a3544b74-01
2022-04-21T21:04:23.458Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:04:23.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d0978a3d1a96ec31ca1975fcbd35b5500321266-77f79e9a51d4862c-01 outer:exit 2b-4d0978a3d1a96ec31ca1975fcbd35b5500321266-093868dd9c3115b8-01
2022-04-21T21:04:23.461Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:04:23.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f7567ca22b31c5a7bc0e853ca9ca3f785472589-cb1bed68e3ec144f-01 outer:exit 2b-1f7567ca22b31c5a7bc0e853ca9ca3f785472589-c0b78e08b706ea1c-01
2022-04-21T21:04:23.464Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:04:23.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-d427650be43b5f144763273121f4ef685d1313c0-405fafbd9e24c088-01 outer:exit 2b-d427650be43b5f144763273121f4ef685d1313c0-adf74d1d0761d567-01
2022-04-21T21:04:23.466Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:04:23.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-86b2734e092c186b13463f631ad0b73f298e7a74-894d1934120d862f-01 outer:exit 2b-86b2734e092c186b13463f631ad0b73f298e7a74-cc57d10df5643b8b-01
2022-04-21T21:04:23.468Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:04:23.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-521919f2bb464e272fd9758868690b2ea13e1ee8-6b40a0c8d79d89ef-01 outer:exit 2b-521919f2bb464e272fd9758868690b2ea13e1ee8-2e735f6a32bf1992-01
2022-04-21T21:04:23.471Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:04:23.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-e984630c6982e33c5dcd2c6d25d7d0395b1b69f2-e52d6088c7a31dd6-01 outer:exit 2b-e984630c6982e33c5dcd2c6d25d7d0395b1b69f2-ece3e2c4f473d5c3-01
2022-04-21T21:04:23.473Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:04:23.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-efb68b119854f18ce1c8da1ca9e7d18c6bf76105-b469877ba8512d46-01 outer:exit 2b-efb68b119854f18ce1c8da1ca9e7d18c6bf76105-121186c963d3258d-01
2022-04-21T21:04:23.476Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:04:23.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-d07454a73dc29288e81f97d86fa466ef1e7ee4ee-d45daccbfc28cd40-01 outer:exit 2b-d07454a73dc29288e81f97d86fa466ef1e7ee4ee-f728cf3e142ba5f0-01
2022-04-21T21:04:23.479Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:04:23.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8c72cd098836228a91d7a32b21ecff22c87b0ea-07c4a4208fdf929d-01 outer:exit 2b-d8c72cd098836228a91d7a32b21ecff22c87b0ea-d3f2df2492bc671c-01
2022-04-21T21:04:23.483Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:04:23.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-038cf1009baf32ff3e29bb3abbd6a8f6bc5636f6-e0b9d4340d8eda4d-01 outer:exit 2b-038cf1009baf32ff3e29bb3abbd6a8f6bc5636f6-5d88b8b295958608-01
2022-04-21T21:04:23.486Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:04:23.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9295e544253775f2f638ab6feca17c4b9467be7-438c5d16260ce09d-01 outer:exit 2b-a9295e544253775f2f638ab6feca17c4b9467be7-64cc05060ff54882-01
2022-04-21T21:04:23.489Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:04:23.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-40300a149f4172e68994b5a1278595678193f670-04065c7d2f7e9d23-01 outer:exit 2b-40300a149f4172e68994b5a1278595678193f670-3c7cfcc19cf5bd2d-01
2022-04-21T21:04:23.496Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:04:23.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-4030787841ba59f2f3a79e5ffd8643aabb2bd154-24340002e82eca0e-01 outer:exit 2b-4030787841ba59f2f3a79e5ffd8643aabb2bd154-55dca725fd220998-01
2022-04-21T21:04:23.502Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:04:23.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bee93d1f34ca8ad7c00c4408b0c00b3da22d78f-241dd39a9f8807c6-01 outer:exit 2b-7bee93d1f34ca8ad7c00c4408b0c00b3da22d78f-12b3087cc129c491-01
2022-04-21T21:04:23.513Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:04:23.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba9f6435c7b91a8d296d95391fe173fcef7cceb8-48b8f0076109e74b-01 outer:exit 2b-ba9f6435c7b91a8d296d95391fe173fcef7cceb8-3b60c5cd2c995d25-01
2022-04-21T21:04:23.523Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:04:23.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-070057f6419efd55741eb7975b83195fe1424b76-d693e1e7144a94fc-01 outer:exit 2b-070057f6419efd55741eb7975b83195fe1424b76-8fd14308f581eb21-01
2022-04-21T21:04:23.526Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:04:23.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-aefc24cfec5720ce94feb2214e30a9a0528a9923-58a86504720a1b54-01 outer:exit 2b-aefc24cfec5720ce94feb2214e30a9a0528a9923-341afac20c65a4cb-01
2022-04-21T21:04:23.532Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:04:23.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-49e672d58743001a2d11a3109baa4921243d2021-e458e9b76b584b60-01 outer:exit 2b-49e672d58743001a2d11a3109baa4921243d2021-77419a087e30f398-01
2022-04-21T21:04:23.545Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:04:23.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-414fe12b4c09f3106953dccb00eb54d813579346-c8eb2d60183c38f1-01 outer:exit 2b-414fe12b4c09f3106953dccb00eb54d813579346-5255e0a4071ebe31-01
2022-04-21T21:04:23.548Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:04:23.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d646dc2a7cb4d4509d0db242b424898ceac5173-7eb2731660760c73-01 outer:exit 2b-9d646dc2a7cb4d4509d0db242b424898ceac5173-9b2db2fc92ea106d-01
2022-04-21T21:04:23.551Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:04:23.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-352997dd69e07ab5ab38a5ef59d42f70736d77d0-2a5fe14a4f3f33d8-01 outer:exit 2b-352997dd69e07ab5ab38a5ef59d42f70736d77d0-78116a59b3d898a8-01
2022-04-21T21:04:23.554Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:04:23.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b4a6b99f4bcd98d67a5a0e06a94e329f48b7477-2bb7c1bfacdc9874-01 outer:exit 2b-1b4a6b99f4bcd98d67a5a0e06a94e329f48b7477-4792efb5017f0eab-01
2022-04-21T21:04:23.558Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:04:23.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbf34f623ee3dacc4bd6130b5aad939356954dbe-e05b9c29def3fd85-01 outer:exit 2b-bbf34f623ee3dacc4bd6130b5aad939356954dbe-cd78daf1145f6a78-01
2022-04-21T21:04:23.562Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:04:23.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-05b5e050ebdbabc8715cdc213101aebc31cb5d95-6049392efd5c77c1-01 outer:exit 2b-05b5e050ebdbabc8715cdc213101aebc31cb5d95-9cc02f31483913d0-01
2022-04-21T21:04:23.575Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:04:23.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-42f15a5a72f9ece005d3899506a7b5a3c7100f04-32a0bc57e195f64d-01 outer:exit 2b-42f15a5a72f9ece005d3899506a7b5a3c7100f04-0c9738809c19fa45-01
2022-04-21T21:04:23.588Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:04:23.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-b148c14a2f67f1b98f9ace238491b25475e238bc-7c95571ddc55099e-01 outer:exit 2b-b148c14a2f67f1b98f9ace238491b25475e238bc-5b42638a9337e997-01
2022-04-21T21:04:23.591Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:04:23.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14ff532117f10d0080fc9f0f140afd018cdfcef-a7529d9ae22aa309-01 outer:exit 2b-e14ff532117f10d0080fc9f0f140afd018cdfcef-d92cb01f59f3e8b8-01
2022-04-21T21:04:23.594Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:04:23.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d3d97116ad21d99ed01a2fc92a76a0a0b28f263-881a4a691b044166-01 outer:exit 2b-5d3d97116ad21d99ed01a2fc92a76a0a0b28f263-7dd26a5fd812bff6-01
2022-04-21T21:04:23.597Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:04:23.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3516d908c5ace46b271b3a31567555c3f3e08ef-e5a512fb9d20e2ee-01 outer:exit 2b-a3516d908c5ace46b271b3a31567555c3f3e08ef-0ec07d23a8ea8bcf-01
2022-04-21T21:04:23.631Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (447ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:31.355Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:31.356Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:31.356Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:31.357Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:31.430Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:31.578Z appoptics:patching patched crypto 
2022-04-21T21:04:31.599Z appoptics:patching patched https 
2022-04-21T21:04:31.600Z appoptics:patching patched http 
2022-04-21T21:04:31.652Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:31.653Z appoptics:patching patched fs 
2022-04-21T21:04:31.675Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v16.14.2)
2022-04-21T21:04:31.682Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-21T21:04:31.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9b44a10b48051d62b3279ef3e001447e08e0224-c49326d2b6151c4e-01 outer:exit 2b-f9b44a10b48051d62b3279ef3e001447e08e0224-cbedaef4fd0a44e3-01
2022-04-21T21:04:31.759Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:04:31.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9198a4872aa15627e3661be8c525f5172a2109e-465fe2322d1ee64d-01 outer:exit 2b-d9198a4872aa15627e3661be8c525f5172a2109e-d1b52468ba74d4ef-01
2022-04-21T21:04:31.810Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:04:31.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c406e136381448e3057da73975c9373e1cd419c-7d33394ab0c648dd-01 outer:exit 2b-8c406e136381448e3057da73975c9373e1cd419c-da0731d934d88e35-01
2022-04-21T21:04:31.814Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:04:31.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe89357ed32154e9d5688e15f533907762cb6fb2-d67cd0b02c39b739-01 outer:exit 2b-fe89357ed32154e9d5688e15f533907762cb6fb2-25ba31f00bcd2d71-01
2022-04-21T21:04:31.818Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:04:31.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-18df1787257f8c3b76eb6d6ff14174892f8f8e79-c4cf23a929c9b957-01 outer:exit 2b-18df1787257f8c3b76eb6d6ff14174892f8f8e79-4ab01442b68b1267-01
2022-04-21T21:04:31.824Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:04:31.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-e91b4626f5d34645f9f562e556682859d4ef01fe-2305b439ea9b5508-01 outer:exit 2b-e91b4626f5d34645f9f562e556682859d4ef01fe-bf1dd244638cd912-01
2022-04-21T21:04:31.827Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:04:31.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f586a6426490da07932f133711d91b00d77b023-8776c93d57bf56e5-01 outer:exit 2b-5f586a6426490da07932f133711d91b00d77b023-1c8bf7a02cd56b5e-01
2022-04-21T21:04:31.831Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:04:31.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d24f3fa5a96671c76632d3a7702f1f91219053c-6f4411c994dbe613-01 outer:exit 2b-7d24f3fa5a96671c76632d3a7702f1f91219053c-6f2aa37f55f30338-01
2022-04-21T21:04:31.833Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:04:31.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-52e8d941c6506f7b3f7559c300209d8a5384893c-620339dd101d4241-01 outer:exit 2b-52e8d941c6506f7b3f7559c300209d8a5384893c-22306d2f4d5b44f3-01
2022-04-21T21:04:31.836Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:04:31.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceb4ad3a10b1a0f9d654d98d104541a37acda068-fa181fac2632559f-01 outer:exit 2b-ceb4ad3a10b1a0f9d654d98d104541a37acda068-86a130f28670f2d9-01
2022-04-21T21:04:31.840Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:04:31.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7d5c6703f4c83044b4182303798b6c968da94ee-445c2f69b3f00cb9-01 outer:exit 2b-c7d5c6703f4c83044b4182303798b6c968da94ee-3e659c86e5220529-01
2022-04-21T21:04:31.846Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:04:31.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-facf8646fd4f7da7cb369d17188e47eab2249f06-fa74a6a990746483-01 outer:exit 2b-facf8646fd4f7da7cb369d17188e47eab2249f06-055cb9120f3e8daa-01
2022-04-21T21:04:31.853Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:04:31.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-d24900e460026ccfdb0ded804f7283b28d8bdbdb-f1cc25ded0e78cbf-01 outer:exit 2b-d24900e460026ccfdb0ded804f7283b28d8bdbdb-9d79535304040461-01
2022-04-21T21:04:31.875Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:04:31.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c28228fe9d70761c51f2af3d637c07320c8f74c-184a9fefac720a01-01 outer:exit 2b-3c28228fe9d70761c51f2af3d637c07320c8f74c-621e152f5d3a5917-01
2022-04-21T21:04:31.923Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:04:31.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4229bb78ccdb89502877d949ddfb0a88e14da8d-8465c25db2df7d9f-01 outer:exit 2b-b4229bb78ccdb89502877d949ddfb0a88e14da8d-74ad4325161e9ded-01
2022-04-21T21:04:31.927Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:04:31.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a60457ba3ac2164895aee4b93c173af3a83d4c6-1fa4b8b84703e28b-01 outer:exit 2b-4a60457ba3ac2164895aee4b93c173af3a83d4c6-cb3f4ad18fb52b2f-01
2022-04-21T21:04:31.929Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:04:31.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ba4774c094f3d73f8825133f507d67c4375a1b-5b8471fef22e1918-01 outer:exit 2b-d0ba4774c094f3d73f8825133f507d67c4375a1b-d0d620bb7d46a0cf-01
2022-04-21T21:04:31.936Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:04:31.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5fc5b411acea4d8c61131b0197b50b2441b9770-134b37f4cfcc59c1-01 outer:exit 2b-e5fc5b411acea4d8c61131b0197b50b2441b9770-aa8f8b1bd7b382d3-01
2022-04-21T21:04:31.938Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:04:31.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe8fbbfd60da6bdcdce5460841f377b07a491bcd-b918c63e4d9680bc-01 outer:exit 2b-fe8fbbfd60da6bdcdce5460841f377b07a491bcd-c68cf203a65c286d-01
2022-04-21T21:04:31.941Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:04:31.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-940e601b2712e90925fe72dfe18f0182d6f3688a-8768a0f06eb0d84c-01 outer:exit 2b-940e601b2712e90925fe72dfe18f0182d6f3688a-cef9b2aa446b6277-01
2022-04-21T21:04:31.948Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:04:31.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6f30d3ff2b63833274bffd6d13ca99abc5a994a-e7ce62499977dcaf-01 outer:exit 2b-b6f30d3ff2b63833274bffd6d13ca99abc5a994a-5ba116778cefb153-01
2022-04-21T21:04:31.951Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:04:31.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-86201300143d48e67e303ebaa55209cef66db375-12275bc758c94238-01 outer:exit 2b-86201300143d48e67e303ebaa55209cef66db375-49eb11738ab4cb8a-01
2022-04-21T21:04:31.953Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:04:31.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-835cf56f8025b6da6229954db3f49570d9caf52e-467a7bad0330fbd2-01 outer:exit 2b-835cf56f8025b6da6229954db3f49570d9caf52e-ab0e6123803eacdb-01
2022-04-21T21:04:31.956Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:04:31.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-91698142eab9489e95e62b05b56498583100d9a5-b8dfc66d1abe5e2c-01 outer:exit 2b-91698142eab9489e95e62b05b56498583100d9a5-d6950f8dceecb999-01
2022-04-21T21:04:31.960Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:04:31.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f157b835ac58d2b06bb05c7ee6927b0b1fd10b1-1ea8d3fc8aa4418e-01 outer:exit 2b-3f157b835ac58d2b06bb05c7ee6927b0b1fd10b1-39b134ff480660ca-01
2022-04-21T21:04:31.962Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:04:31.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-843193bd5d3000db208efb546bd270ca7ea1ef01-b6199b0aeadea6d0-01 outer:exit 2b-843193bd5d3000db208efb546bd270ca7ea1ef01-41a4046c9c1f64df-01
2022-04-21T21:04:31.969Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:04:31.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8d5ec470dd7ca4bd6d9fbcf127fb3fd78f56c38-8bdb1a8ff1bab92a-01 outer:exit 2b-f8d5ec470dd7ca4bd6d9fbcf127fb3fd78f56c38-901993dc6d32bba7-01
2022-04-21T21:04:31.979Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:04:31.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-78c7e4154352d8fd53ba879f2549e1a41fad4b42-b55a4ec68544a0d0-01 outer:exit 2b-78c7e4154352d8fd53ba879f2549e1a41fad4b42-122db24e542f9bf7-01
2022-04-21T21:04:31.984Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:04:32.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-c62faa4e0a4e8e88667a148685a558fadca237b0-f6aea3b20ad40761-01 outer:exit 2b-c62faa4e0a4e8e88667a148685a558fadca237b0-5c06fc37ef229ee4-01
2022-04-21T21:04:32.009Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:04:32.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-57c00fc0c2f965614adb15eaef9dc8d58951aeb8-a89107e39aafa0e9-01 outer:exit 2b-57c00fc0c2f965614adb15eaef9dc8d58951aeb8-c7dd26424474db2c-01
2022-04-21T21:04:32.028Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:04:32.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-845825e9f7fa1e32dcd8015e38a9aa24e45f748f-bcbebbd8ccc4e13b-01 outer:exit 2b-845825e9f7fa1e32dcd8015e38a9aa24e45f748f-0f3c4dc85247bdeb-01
2022-04-21T21:04:32.038Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:04:32.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-83092eb70bd3ca014cbeb68083ba84cf56c3a884-d5e4b34ab65da4a8-01 outer:exit 2b-83092eb70bd3ca014cbeb68083ba84cf56c3a884-799baf32887efd82-01
2022-04-21T21:04:32.044Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:04:32.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-1449930bb58acb98aea7fc0e0e6edae3cbf28d62-296c0a1449f1d551-01 outer:exit 2b-1449930bb58acb98aea7fc0e0e6edae3cbf28d62-66ad5ffd8c527c8c-01
2022-04-21T21:04:32.057Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:04:32.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-6acb6847118b225b090bade9ab9a9f505da4abdc-0eae1ee912903717-01 outer:exit 2b-6acb6847118b225b090bade9ab9a9f505da4abdc-92ae91fce9f63d5b-01
2022-04-21T21:04:32.060Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:04:32.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-12fc69a50680a4afaf69279eaa8171ba9bee4147-b74ad5ead83782db-01 outer:exit 2b-12fc69a50680a4afaf69279eaa8171ba9bee4147-9c5651cb6de854c7-01
2022-04-21T21:04:32.062Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:04:32.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-752baaa301ae35d45dc8aca563666d0709abf98f-9c80dd13ebdff37c-01 outer:exit 2b-752baaa301ae35d45dc8aca563666d0709abf98f-863e899a7c61c0c7-01
2022-04-21T21:04:32.064Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:04:32.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c01949623e37d38bb8ef3b3972586aa5d28677a-fef1b3fc122b784c-01 outer:exit 2b-4c01949623e37d38bb8ef3b3972586aa5d28677a-623e0ae5667cab36-01
2022-04-21T21:04:32.069Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:04:32.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bc48f5ff1d01952e31adc8386683dff78c5c94c-e3180d361847dbab-01 outer:exit 2b-0bc48f5ff1d01952e31adc8386683dff78c5c94c-fbd1000d54a8da1d-01
2022-04-21T21:04:32.072Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:04:32.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae05cac2dfd9c184ea1e363dc459f85bee711258-3473f72583eac42a-01 outer:exit 2b-ae05cac2dfd9c184ea1e363dc459f85bee711258-1efa18aa450a7659-01
2022-04-21T21:04:32.093Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:04:32.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6a34ca10748b0c3ba976980170639afb5999b77-2fe7fb187052fa72-01 outer:exit 2b-f6a34ca10748b0c3ba976980170639afb5999b77-df50ff41a65534ca-01
2022-04-21T21:04:32.109Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:04:32.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-55e6ee126e88e93ddd210daf3c59978d78a52532-c6d749a33ab402b8-01 outer:exit 2b-55e6ee126e88e93ddd210daf3c59978d78a52532-21972486d14e9e4e-01
2022-04-21T21:04:32.113Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:04:32.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a3e7364869d6289a65ad71345e41737085c20f-b2c226a952e98724-01 outer:exit 2b-c0a3e7364869d6289a65ad71345e41737085c20f-ee1c7cef1791a0c7-01
2022-04-21T21:04:32.116Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:04:32.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-428f62943e701f56b5f25b834ba15f783e1890b0-8ebe8a46bdcc68fc-01 outer:exit 2b-428f62943e701f56b5f25b834ba15f783e1890b0-9916bb00894cc641-01
2022-04-21T21:04:32.120Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:04:32.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed8860277b0a65ea4d4fe5a077c0ddfd0be7a184-72263fcd00d7f74f-01 outer:exit 2b-ed8860277b0a65ea4d4fe5a077c0ddfd0be7a184-f7c595d13cd31a02-01
2022-04-21T21:04:32.167Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (471ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:38.773Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:38.773Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:38.773Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:38.774Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:38.851Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:38.991Z appoptics:patching patched crypto 
2022-04-21T21:04:39.012Z appoptics:patching patched https 
2022-04-21T21:04:39.013Z appoptics:patching patched http 
2022-04-21T21:04:39.065Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:39.065Z appoptics:patching patched fs 
2022-04-21T21:04:39.082Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v16.14.2)
2022-04-21T21:04:39.088Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-21T21:04:39.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceffdf0e2a61246b1a44777554f27bf68ac73878-9bf4dc319e3a38e3-01 outer:exit 2b-ceffdf0e2a61246b1a44777554f27bf68ac73878-146d3cd65245d059-01
2022-04-21T21:04:39.139Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:04:39.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f4e0175673e00f8c5882ced04ba0eeaa0f23f9f-9ed31cb57bbeb032-01 outer:exit 2b-8f4e0175673e00f8c5882ced04ba0eeaa0f23f9f-c1c0c19083315fa0-01
2022-04-21T21:04:39.199Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:04:39.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-cecd07bf63ebf2e63c4c47009808775507ca2c27-099ec391523bf364-01 outer:exit 2b-cecd07bf63ebf2e63c4c47009808775507ca2c27-b371ed1a5524a197-01
2022-04-21T21:04:39.203Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:04:39.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6357f186f77c4d4c83d027c099ae3f73047f8d4-eb2633ff5b9cf2b0-01 outer:exit 2b-c6357f186f77c4d4c83d027c099ae3f73047f8d4-6313182003a55bc0-01
2022-04-21T21:04:39.207Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:04:39.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-2139dc69f2da31c6111f39293604b0c603ef421c-3eddbb392b03cc23-01 outer:exit 2b-2139dc69f2da31c6111f39293604b0c603ef421c-566c1413a9773b43-01
2022-04-21T21:04:39.212Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:04:39.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd3e032b360435b71540fa804b9185bbaa349081-aeaf436af8f91928-01 outer:exit 2b-dd3e032b360435b71540fa804b9185bbaa349081-fb3cefc05e804f43-01
2022-04-21T21:04:39.216Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:04:39.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-93c39e59e046d043e1334368d0e05a5efac73da7-c40c01a3c45353a7-01 outer:exit 2b-93c39e59e046d043e1334368d0e05a5efac73da7-a8d1533c2791fdd1-01
2022-04-21T21:04:39.219Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:04:39.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-645d73e712a37a31b6c49137f94893a02ca45e28-3175233e93fcee65-01 outer:exit 2b-645d73e712a37a31b6c49137f94893a02ca45e28-3da79022888693ad-01
2022-04-21T21:04:39.222Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:04:39.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-527bb01dd63141e3d33d26f575ed39793ef81e9a-9f5666b7bb781f3f-01 outer:exit 2b-527bb01dd63141e3d33d26f575ed39793ef81e9a-4fcbb41666806f97-01
2022-04-21T21:04:39.225Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:04:39.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab74c52c67f5e832d74d50c1bc416dbc08f19e04-9235f602207be056-01 outer:exit 2b-ab74c52c67f5e832d74d50c1bc416dbc08f19e04-d1bf04e8542bf615-01
2022-04-21T21:04:39.229Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:04:39.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-35d960ec0a010186b84a2ec20234004e68bac2d5-8f6d3db5abff5732-01 outer:exit 2b-35d960ec0a010186b84a2ec20234004e68bac2d5-92ca1de09d149c79-01
2022-04-21T21:04:39.233Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:04:39.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-438b46fb4d0627dde65270b24718c606af945c15-487fa925094aed75-01 outer:exit 2b-438b46fb4d0627dde65270b24718c606af945c15-771fc281e5fc30a9-01
2022-04-21T21:04:39.241Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:04:39.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb50bcfa8d4bea6c3a658580b4fc194a80bdbcef-ccf890e8d9a86a53-01 outer:exit 2b-eb50bcfa8d4bea6c3a658580b4fc194a80bdbcef-b1a324982f0b534e-01
2022-04-21T21:04:39.268Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:04:39.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c9ba854acffdb36373370855ad55f27d76dd77-8efed0e6b07fe77a-01 outer:exit 2b-65c9ba854acffdb36373370855ad55f27d76dd77-d5bf9b293a1caea4-01
2022-04-21T21:04:39.316Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:04:39.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-33631f0e96ab1c545079b3c18614d4f93e999bc8-f9def883347b7c68-01 outer:exit 2b-33631f0e96ab1c545079b3c18614d4f93e999bc8-b1143a2b6a1a664c-01
2022-04-21T21:04:39.321Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:04:39.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-632505d8dc3431dede32643bfed8acaf6a28cc8e-f47dbcacb8fcb5e4-01 outer:exit 2b-632505d8dc3431dede32643bfed8acaf6a28cc8e-8356f8c0cdeac435-01
2022-04-21T21:04:39.329Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:04:39.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-28512d9f5479e756a710bcc9f1b9260bda998317-4e1728935a489c78-01 outer:exit 2b-28512d9f5479e756a710bcc9f1b9260bda998317-7bce280c77acced0-01
2022-04-21T21:04:39.334Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:04:39.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-5826a7b3ddff531c299abb9fa7b78bb8598d4d58-62459ecb5017064f-01 outer:exit 2b-5826a7b3ddff531c299abb9fa7b78bb8598d4d58-a41f30a85fa66c1f-01
2022-04-21T21:04:39.343Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:04:39.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-c054caea3b4d22114c2ea38c2de0d1d161ca8b12-f93635ba10f9bc4a-01 outer:exit 2b-c054caea3b4d22114c2ea38c2de0d1d161ca8b12-5cf7bc3b9dc5a837-01
2022-04-21T21:04:39.346Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:04:39.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-65aacb2a6e703cfdbbe6b2c1071b085ae199903b-5d6ea4851b5d80c5-01 outer:exit 2b-65aacb2a6e703cfdbbe6b2c1071b085ae199903b-7da0daee9e5969d6-01
2022-04-21T21:04:39.352Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:04:39.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-d10874c59311853c56f04050a27413d0de857369-23ab23bff2b7efa3-01 outer:exit 2b-d10874c59311853c56f04050a27413d0de857369-814be0d57f378be7-01
2022-04-21T21:04:39.354Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:04:39.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef98be8e801d6a1b96a1ef597985dc29008fc0bb-9693ae15116a1d88-01 outer:exit 2b-ef98be8e801d6a1b96a1ef597985dc29008fc0bb-eb3e1ec0f0a2f24e-01
2022-04-21T21:04:39.359Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:04:39.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c013af293113e24331ed51dc6bcde846e0c0050-06c6c27ffd26ccb4-01 outer:exit 2b-4c013af293113e24331ed51dc6bcde846e0c0050-9a54f7058e068122-01
2022-04-21T21:04:39.362Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:04:39.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-9735d35b3e78b1ec2cbdfdbe23dd42c477c30e95-d0a5ff471bb00932-01 outer:exit 2b-9735d35b3e78b1ec2cbdfdbe23dd42c477c30e95-be10d18e59dae215-01
2022-04-21T21:04:39.366Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:04:39.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d454526bcf315abd1ced319238e11938eec2a9a-36aa8382ea13d717-01 outer:exit 2b-7d454526bcf315abd1ced319238e11938eec2a9a-50a5ff1468241a96-01
2022-04-21T21:04:39.371Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:04:39.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-4864443661eeb38e8101ddad054b396eb14c2f7d-0f19589a61edcefc-01 outer:exit 2b-4864443661eeb38e8101ddad054b396eb14c2f7d-46e69c7e5c266f1b-01
2022-04-21T21:04:39.374Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:04:39.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-94578f63710f6c8fc6c381ea27d8b29f4547da31-8c960815d53c2b4d-01 outer:exit 2b-94578f63710f6c8fc6c381ea27d8b29f4547da31-8ba43b9b09432422-01
2022-04-21T21:04:39.384Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:04:39.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7ee2272f5106e3423486e1d7e61da53f18fa09e-49e60fc6dcf68ce8-01 outer:exit 2b-a7ee2272f5106e3423486e1d7e61da53f18fa09e-013db05c14cf28f6-01
2022-04-21T21:04:39.390Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:04:39.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-5581ade7db21c46bc0d5cfa943402731a209a8d6-01df6528c7568432-01 outer:exit 2b-5581ade7db21c46bc0d5cfa943402731a209a8d6-949ed32feb744efc-01
2022-04-21T21:04:39.399Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:04:39.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-246c499e26717a56576576b8325168999f9fe0d5-1324d141f458fabb-01 outer:exit 2b-246c499e26717a56576576b8325168999f9fe0d5-4eceed709932dedc-01
2022-04-21T21:04:39.407Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:04:39.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-874d161aae057b7f4dad5070b1da07a568c089f2-83717940657de301-01 outer:exit 2b-874d161aae057b7f4dad5070b1da07a568c089f2-0a76fc9b987c9849-01
2022-04-21T21:04:39.409Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:04:39.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-5630d941f4ca82f63d4ad1e8661654c9c482c51e-82b9b9c906f62bee-01 outer:exit 2b-5630d941f4ca82f63d4ad1e8661654c9c482c51e-eebce9f2a24fba81-01
2022-04-21T21:04:39.412Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:04:39.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-456e79d8c7ba4b4e8cc7218c227ec2374fb2baf3-0e54f7b483221941-01 outer:exit 2b-456e79d8c7ba4b4e8cc7218c227ec2374fb2baf3-ad86fa1a2f7cf174-01
2022-04-21T21:04:39.420Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:04:39.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0dce052574ed87d35cf530363c4881b02657143-beff90ac1bc7fc68-01 outer:exit 2b-b0dce052574ed87d35cf530363c4881b02657143-a9dfbb7a9c510aea-01
2022-04-21T21:04:39.423Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:04:39.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea7e901407c9302bfa30983e46020ccef2c3960a-21ae69cd1aa7eb9b-01 outer:exit 2b-ea7e901407c9302bfa30983e46020ccef2c3960a-f6ed54abb80f4734-01
2022-04-21T21:04:39.427Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:04:39.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb34c840850d5b6ecf09f86d2dec9254cc2bc53-16f4676479aff45c-01 outer:exit 2b-5bb34c840850d5b6ecf09f86d2dec9254cc2bc53-4b16e2f6442eb708-01
2022-04-21T21:04:39.430Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:04:39.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-507b87b75ca13238f8e75827964b150a0024d236-7f876a3b6c6df077-01 outer:exit 2b-507b87b75ca13238f8e75827964b150a0024d236-ad70efbd3818c5ca-01
2022-04-21T21:04:39.432Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:04:39.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-4460d2d6e89b8073e9534169ebce3334052ee8e8-52ffb2da7235d73b-01 outer:exit 2b-4460d2d6e89b8073e9534169ebce3334052ee8e8-ec97edd74cd687ca-01
2022-04-21T21:04:39.435Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:04:39.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-5297ce9096960489f434b56d7c7435c60781a79e-921ea531f2138409-01 outer:exit 2b-5297ce9096960489f434b56d7c7435c60781a79e-1da4bfb3e8689513-01
2022-04-21T21:04:39.449Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:04:39.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fa7c9c11a37803a434a9a997f143e0c3087ff7b-dbc49172a4f7536c-01 outer:exit 2b-7fa7c9c11a37803a434a9a997f143e0c3087ff7b-45469d1eafa017cc-01
2022-04-21T21:04:39.462Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:04:39.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-ace26dd5f0b024f15501b1c010d69aeddfe3d368-d88be8ac459bcb81-01 outer:exit 2b-ace26dd5f0b024f15501b1c010d69aeddfe3d368-7fa69fd385ac3f3c-01
2022-04-21T21:04:39.466Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:04:39.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd34b494e3017451e15e693561b826db131b956a-279d25be0c16b470-01 outer:exit 2b-cd34b494e3017451e15e693561b826db131b956a-024ab9a83d5b3bcc-01
2022-04-21T21:04:39.469Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:04:39.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae519d569193fbc9299053817dcf91adb67538d9-6f0b15dfaffd65a5-01 outer:exit 2b-ae519d569193fbc9299053817dcf91adb67538d9-2f1943a53adc94ea-01
2022-04-21T21:04:39.472Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:04:39.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-9720bedc2d51cdc17612cfdfa32e6043ea26652e-d580267b15b98522-01 outer:exit 2b-9720bedc2d51cdc17612cfdfa32e6043ea26652e-d9d7e1402ebfbc69-01
2022-04-21T21:04:39.509Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (414ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:47.156Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:47.157Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:47.157Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:47.158Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:47.227Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:47.362Z appoptics:patching patched crypto 
2022-04-21T21:04:47.382Z appoptics:patching patched https 
2022-04-21T21:04:47.383Z appoptics:patching patched http 
2022-04-21T21:04:47.436Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:47.436Z appoptics:patching patched fs 
2022-04-21T21:04:47.452Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v16.14.2)
2022-04-21T21:04:47.459Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-21T21:04:47.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-8525d2b93c6b616ea3a2fe7d96874d15f73812eb-0823ba30e4fd43e3-01 outer:exit 2b-8525d2b93c6b616ea3a2fe7d96874d15f73812eb-63c01d77d9182a13-01
2022-04-21T21:04:47.508Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:04:47.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-708dbed3637e39133ede462360f7cf860dfb79d5-46902ed64748eac2-01 outer:exit 2b-708dbed3637e39133ede462360f7cf860dfb79d5-8d657c7f1df3bba0-01
2022-04-21T21:04:47.557Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:04:47.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-5163d5192dc864752d006fac7d4fa9b7a2c82b64-c3ab87af819ebd0e-01 outer:exit 2b-5163d5192dc864752d006fac7d4fa9b7a2c82b64-1a9a1616a134bfbd-01
2022-04-21T21:04:47.562Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:04:47.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-32e3fbe5a8a589db041b5b2579bdabdb1fbd413e-9c76811ac1e3920f-01 outer:exit 2b-32e3fbe5a8a589db041b5b2579bdabdb1fbd413e-e8d84dd163b18078-01
2022-04-21T21:04:47.566Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:04:47.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5c31f61775f15ab6f8badcd4a420a01b3b5879d-a56a13d5be8f0854-01 outer:exit 2b-a5c31f61775f15ab6f8badcd4a420a01b3b5879d-6acdec46c4fcc58f-01
2022-04-21T21:04:47.571Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:04:47.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-03b7e21b43173b6736ec09b43379867c6f0369e1-8123bc1489d363d6-01 outer:exit 2b-03b7e21b43173b6736ec09b43379867c6f0369e1-e523d6d8bd104ac2-01
2022-04-21T21:04:47.575Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:04:47.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a34d3f5e6df2b612c23e6e50d8dce13872dfe16-3e0836cb91669d4f-01 outer:exit 2b-2a34d3f5e6df2b612c23e6e50d8dce13872dfe16-87261ce08c9a66bd-01
2022-04-21T21:04:47.578Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:04:47.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b3dac3029b5c84849f913f8fc4b2abfdb92a544-f7848d54ebf545e4-01 outer:exit 2b-4b3dac3029b5c84849f913f8fc4b2abfdb92a544-2108b9175cddede0-01
2022-04-21T21:04:47.581Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:04:47.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef34f1bf76f854ff84f82432140b2a8b613aecd4-6e65708ea64bf50d-01 outer:exit 2b-ef34f1bf76f854ff84f82432140b2a8b613aecd4-cd1954138feca694-01
2022-04-21T21:04:47.584Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:04:47.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfb74cce15ec3ac4d7c4aab4ccffaeb34d177bbd-32b404d584c9db04-01 outer:exit 2b-bfb74cce15ec3ac4d7c4aab4ccffaeb34d177bbd-59ebea5f229397fe-01
2022-04-21T21:04:47.588Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:04:47.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a36f3ff48c2db6f2aac1027fbba41cb581ae6ea-d5b611a1a5d3d064-01 outer:exit 2b-2a36f3ff48c2db6f2aac1027fbba41cb581ae6ea-847ef6880a0df10a-01
2022-04-21T21:04:47.592Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:04:47.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f67609c6e3aa6f368bb02ba9bb13e739ba52df8-20b3a5e7152f9b50-01 outer:exit 2b-2f67609c6e3aa6f368bb02ba9bb13e739ba52df8-bf2144bad19ec7c1-01
2022-04-21T21:04:47.600Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:04:47.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8aa034225bc9b5c2b7dd997a247499b208ed151-e454ba29688ff497-01 outer:exit 2b-b8aa034225bc9b5c2b7dd997a247499b208ed151-0ce7e62865c8535e-01
2022-04-21T21:04:47.618Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:04:47.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-03403c58314cca1d562b54e976ef03a9a6970c87-d46d3e70712d3309-01 outer:exit 2b-03403c58314cca1d562b54e976ef03a9a6970c87-b6d238789fe3ccf6-01
2022-04-21T21:04:47.661Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:04:47.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe4f27c000303fb7c8bb4bcd3f0ea248c7608001-c0f662ad4bdff680-01 outer:exit 2b-fe4f27c000303fb7c8bb4bcd3f0ea248c7608001-774429f654268e59-01
2022-04-21T21:04:47.665Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:04:47.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-21be529398697b5e637f03c6a2176b4a27d5f681-ff84f60cc2cb4f64-01 outer:exit 2b-21be529398697b5e637f03c6a2176b4a27d5f681-34b82b9cafde2dfd-01
2022-04-21T21:04:47.667Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:04:47.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d8d9e498056b80148e4ebd1825da46ed935faae-5039b84ae07cdf9b-01 outer:exit 2b-8d8d9e498056b80148e4ebd1825da46ed935faae-1a0c20e857d96f2b-01
2022-04-21T21:04:47.671Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:04:47.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-f03a7901404e3b928c822777ea620bce83c63491-98bc7adc27ef1208-01 outer:exit 2b-f03a7901404e3b928c822777ea620bce83c63491-2863f1ba05a2465f-01
2022-04-21T21:04:47.673Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:04:47.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-33957f015ae828de67346da34ad57b87a804de32-2b7d3f06828691e0-01 outer:exit 2b-33957f015ae828de67346da34ad57b87a804de32-8f1e802bc33fc49d-01
2022-04-21T21:04:47.675Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:04:47.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-657aa79478460fb9adb1093153b2f291e256c2d6-b24e9d1f838b6569-01 outer:exit 2b-657aa79478460fb9adb1093153b2f291e256c2d6-5e1e96f3b235b878-01
2022-04-21T21:04:47.678Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:04:47.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaf679e09d49772174ff6521a69a723f06759530-285fe145076fb7cc-01 outer:exit 2b-aaf679e09d49772174ff6521a69a723f06759530-129787bacfdb31e0-01
2022-04-21T21:04:47.680Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:04:47.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-07dfe1c34656c478441032798d3f9dfb4141006e-617ddd4fd42be956-01 outer:exit 2b-07dfe1c34656c478441032798d3f9dfb4141006e-331ab22e55b47839-01
2022-04-21T21:04:47.682Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:04:47.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-9847d4f9af6b00f5d2c2c4536782175fe9f3bd03-920155a97531fe54-01 outer:exit 2b-9847d4f9af6b00f5d2c2c4536782175fe9f3bd03-1cc1ac1abdfcd728-01
2022-04-21T21:04:47.685Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:04:47.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-06c5af0519c0ebb5177a036785cea338ba1d7ec1-05c0787aa4d617a7-01 outer:exit 2b-06c5af0519c0ebb5177a036785cea338ba1d7ec1-70806cb79fbde40a-01
2022-04-21T21:04:47.688Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:04:47.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-9967dca4dff5907ce3faf17f4485d914de9fda13-d35f37317fa71a6c-01 outer:exit 2b-9967dca4dff5907ce3faf17f4485d914de9fda13-ed22472b37bff374-01
2022-04-21T21:04:47.691Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:04:47.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ed8a2f7a6c14d2e59d425083b87555efd8d281d-f3fe11138f3aeb34-01 outer:exit 2b-9ed8a2f7a6c14d2e59d425083b87555efd8d281d-27ba6143300a62e0-01
2022-04-21T21:04:47.693Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:04:47.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-1424269f0c3f055205ceaa0bb561a1f045a47c5a-1167ee803ea39c2d-01 outer:exit 2b-1424269f0c3f055205ceaa0bb561a1f045a47c5a-e529d50491ee0f1d-01
2022-04-21T21:04:47.700Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:04:47.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-372a285b0da9eadc0d976b4422b7e888250b6320-9f535d7d6b54b2a4-01 outer:exit 2b-372a285b0da9eadc0d976b4422b7e888250b6320-96325cd940aabab0-01
2022-04-21T21:04:47.705Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:04:47.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-e46aa8d56fef98e6296c2a1db0fa114a8283ab23-10ace064a377d1ea-01 outer:exit 2b-e46aa8d56fef98e6296c2a1db0fa114a8283ab23-7d3b97a8ea26fba9-01
2022-04-21T21:04:47.713Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:04:47.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e762ad4747113f8f114265803a85a3be3b7da5-5e3e9e5504675b37-01 outer:exit 2b-70e762ad4747113f8f114265803a85a3be3b7da5-d998ab290525522d-01
2022-04-21T21:04:47.720Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:04:47.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-89540f2c5db66488c57985aaba9b2a89fa6169a1-c11b995efe649496-01 outer:exit 2b-89540f2c5db66488c57985aaba9b2a89fa6169a1-4de534435a2b35fc-01
2022-04-21T21:04:47.723Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:04:47.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-f03451bcecaaba110da4191341b833b20d25f4bc-b5286376fd5d3358-01 outer:exit 2b-f03451bcecaaba110da4191341b833b20d25f4bc-eae1bc92c2b12686-01
2022-04-21T21:04:47.726Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:04:47.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f090b0332db96a356e8447d68e0d21270f9cfd3-941a737ba44e4887-01 outer:exit 2b-1f090b0332db96a356e8447d68e0d21270f9cfd3-9c0ee807d27c8770-01
2022-04-21T21:04:47.734Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:04:47.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4c73a4320e033501ae945134130bfd7f4fd4818-c9628416303db23e-01 outer:exit 2b-d4c73a4320e033501ae945134130bfd7f4fd4818-2c86eadf698bba39-01
2022-04-21T21:04:47.736Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:04:47.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f46565cce214d9ecbe5038bb65b09199f989576-204433dc0a8631a9-01 outer:exit 2b-5f46565cce214d9ecbe5038bb65b09199f989576-5d25484dce92f586-01
2022-04-21T21:04:47.738Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:04:47.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-a64aa7d1244b03ebbf27e3db3d2877533a0cd0a7-a0dcd2ab7d3b0aa3-01 outer:exit 2b-a64aa7d1244b03ebbf27e3db3d2877533a0cd0a7-c2e0bdba28779fdc-01
2022-04-21T21:04:47.740Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:04:47.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-81ec27fbebe99e09ab0afde82e88def6232878ab-169b4f305ca6c9d9-01 outer:exit 2b-81ec27fbebe99e09ab0afde82e88def6232878ab-c9da952cc8703cce-01
2022-04-21T21:04:47.742Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:04:47.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c1be57fef1df34bda8dadd45a3cd540fc24702-7deae452aa07c9fd-01 outer:exit 2b-71c1be57fef1df34bda8dadd45a3cd540fc24702-f1e76f73de9f2783-01
2022-04-21T21:04:47.744Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:04:47.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad1362c06c4cf48b4366f2362bd01a9f25e597e-858154696105551b-01 outer:exit 2b-8ad1362c06c4cf48b4366f2362bd01a9f25e597e-aa85970ec95fef8b-01
2022-04-21T21:04:47.755Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:04:47.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-75000b2fca06dc72a123e51cdce9e586ec917bcc-c5d6ed1526097f33-01 outer:exit 2b-75000b2fca06dc72a123e51cdce9e586ec917bcc-4e140acaed268ae1-01
2022-04-21T21:04:47.764Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:04:47.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb9a09187fd73ba2d3fee972953f88f3524600eb-adddd7b154663468-01 outer:exit 2b-cb9a09187fd73ba2d3fee972953f88f3524600eb-733c20ae39b0730d-01
2022-04-21T21:04:47.767Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:04:47.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e9ae7e37a1a81100c49c3318d31445cf9c03054-d569fe8b27fd50c5-01 outer:exit 2b-0e9ae7e37a1a81100c49c3318d31445cf9c03054-c47c627010d66eb5-01
2022-04-21T21:04:47.770Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:04:47.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-4721f0990c7a2388b35b86e27c3285b79ada0949-6858eebbe8a5e757-01 outer:exit 2b-4721f0990c7a2388b35b86e27c3285b79ada0949-1438c431dc9a9a93-01
2022-04-21T21:04:47.773Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:04:47.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-289ecd9f4476d5bdf9c8200ca434962bf483c33c-796de39c93704bfc-01 outer:exit 2b-289ecd9f4476d5bdf9c8200ca434962bf483c33c-197802d326cd6f57-01
2022-04-21T21:04:47.808Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (343ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:04:55.597Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:04:55.598Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:04:55.598Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:04:55.599Z appoptics:debug using context provider: ace-context
2022-04-21T21:04:55.670Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:04:55.805Z appoptics:patching patched crypto 
2022-04-21T21:04:55.825Z appoptics:patching patched https 
2022-04-21T21:04:55.826Z appoptics:patching patched http 
2022-04-21T21:04:55.881Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:04:55.881Z appoptics:patching patched fs 
2022-04-21T21:04:55.897Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v16.14.2)
2022-04-21T21:04:55.903Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-21T21:04:55.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-b86e025b11717b07407766fa47eb26516cf5f801-c1dfaa8e7c81da0c-01 outer:exit 2b-b86e025b11717b07407766fa47eb26516cf5f801-2024af6ac850bf2e-01
2022-04-21T21:04:55.953Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:04:56.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-867830e020e2fccffef7fd53c2667acf88664919-50b631995ef5c1a0-01 outer:exit 2b-867830e020e2fccffef7fd53c2667acf88664919-8670cfcc2aa9952d-01
2022-04-21T21:04:56.001Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:04:56.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-efd1070df6758800483c6c244bfa48ae1d1736f3-afc1d3946d299362-01 outer:exit 2b-efd1070df6758800483c6c244bfa48ae1d1736f3-9c59b1a73c949076-01
2022-04-21T21:04:56.006Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:04:56.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c2397ff6d0ab6b61c54d7c2f5821996f4c5dd32-9755877b7e4d7447-01 outer:exit 2b-9c2397ff6d0ab6b61c54d7c2f5821996f4c5dd32-19d05783d06e10f9-01
2022-04-21T21:04:56.010Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:04:56.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-3606a27d6890a7447eb5e3fb6977e8f1cd7be65b-e03c2d0f1f4c0153-01 outer:exit 2b-3606a27d6890a7447eb5e3fb6977e8f1cd7be65b-9f4023792cdbfcea-01
2022-04-21T21:04:56.015Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:04:56.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ab62cfe04abd0e5963d06caa92800e21ae56c9-1bf49839e1f4876c-01 outer:exit 2b-75ab62cfe04abd0e5963d06caa92800e21ae56c9-663eb25cb91fc59e-01
2022-04-21T21:04:56.019Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:04:56.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d981a02ed8a9bf63d42d23e8a838933cdc1b988-0a4cb474a3bdda83-01 outer:exit 2b-3d981a02ed8a9bf63d42d23e8a838933cdc1b988-c249b00b15711b9a-01
2022-04-21T21:04:56.022Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:04:56.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5fa1cbb4d9dd026f5c2beea3b648da6fa340402-c8330322cc824eda-01 outer:exit 2b-e5fa1cbb4d9dd026f5c2beea3b648da6fa340402-c94697f9674bb822-01
2022-04-21T21:04:56.025Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:04:56.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-86e1e2286fe53a7949a023b5d69466af851df106-f23886f272660998-01 outer:exit 2b-86e1e2286fe53a7949a023b5d69466af851df106-1ebbd7ea13ed66cf-01
2022-04-21T21:04:56.027Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:04:56.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-27e308fa4c7d4594030da99a001f7768e3c45a60-6ef72626f1d17659-01 outer:exit 2b-27e308fa4c7d4594030da99a001f7768e3c45a60-2ea0018098f14478-01
2022-04-21T21:04:56.031Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:04:56.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc9ad10f2c89669b21292578dad94f5fd99aed57-7f45f1fa5449804e-01 outer:exit 2b-cc9ad10f2c89669b21292578dad94f5fd99aed57-dc67b6784affc826-01
2022-04-21T21:04:56.037Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:04:56.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-aefe58db8a4e1fdc8138c6b9c0e9bba9698e3daf-1224bd9163c3c725-01 outer:exit 2b-aefe58db8a4e1fdc8138c6b9c0e9bba9698e3daf-56d189a0e7480f90-01
2022-04-21T21:04:56.044Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:04:56.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0aaf93c0c6641a753f8c5c943e103d763597289-bfee41a78d4bdca3-01 outer:exit 2b-b0aaf93c0c6641a753f8c5c943e103d763597289-385238c26fe9c2a6-01
2022-04-21T21:04:56.061Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:04:56.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cd8cf7de92f54e98d44d23f9233fc67c4147449-0fe6642599865cd3-01 outer:exit 2b-5cd8cf7de92f54e98d44d23f9233fc67c4147449-ba5d7aec79b7476c-01
2022-04-21T21:04:56.106Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:04:56.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff3fb88972dabf532ac2f9012a7a98bc7d46a822-889cbd13b3556344-01 outer:exit 2b-ff3fb88972dabf532ac2f9012a7a98bc7d46a822-c4e7e8b78fdce3f1-01
2022-04-21T21:04:56.109Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:04:56.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-847f06f0247f9093e09ec2b76910a8d18d624381-70978f95d1fb64e0-01 outer:exit 2b-847f06f0247f9093e09ec2b76910a8d18d624381-e671113ae6d28687-01
2022-04-21T21:04:56.114Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:04:56.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-51699b570541b0a78099733870d04df37e1a2e6c-551f5ada18bfaa46-01 outer:exit 2b-51699b570541b0a78099733870d04df37e1a2e6c-ac67c22a2f533e84-01
2022-04-21T21:04:56.118Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:04:56.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-21d6727b62249eae366801d1bbd5cc6b5b3542e4-7b094fe4cb55aec9-01 outer:exit 2b-21d6727b62249eae366801d1bbd5cc6b5b3542e4-ffeceded60c954d2-01
2022-04-21T21:04:56.121Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:04:56.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-26f6202ace61e34f76a2314447e2db6d782358cf-147a43a66b0110c5-01 outer:exit 2b-26f6202ace61e34f76a2314447e2db6d782358cf-14256959ac89ca86-01
2022-04-21T21:04:56.123Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:04:56.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d01212a2c3d589e8f8ac95f8036ff970590b200-7a6dcb1610851429-01 outer:exit 2b-8d01212a2c3d589e8f8ac95f8036ff970590b200-56944795f8d38c92-01
2022-04-21T21:04:56.125Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:04:56.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb3c5ce716b36ef19a0dc06294cee2043acdbbf5-13fd465a9f628248-01 outer:exit 2b-eb3c5ce716b36ef19a0dc06294cee2043acdbbf5-88f3f00f91c07c54-01
2022-04-21T21:04:56.128Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:04:56.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-09fccb2ad6f8d3cbd9f3686879d9a17a807240c9-1d21f1afee74ea4a-01 outer:exit 2b-09fccb2ad6f8d3cbd9f3686879d9a17a807240c9-6d8137184ae4ad0a-01
2022-04-21T21:04:56.130Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:04:56.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e6ebe551a2ffe5ee8a0433e3c7ea248cf7e08ba-480af42d2807f6c1-01 outer:exit 2b-1e6ebe551a2ffe5ee8a0433e3c7ea248cf7e08ba-a1f27d633a1a84d6-01
2022-04-21T21:04:56.134Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:04:56.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-49c3cd03973af04ac77df3bcb5d86987ab62bbba-3414aec94ebe1dcf-01 outer:exit 2b-49c3cd03973af04ac77df3bcb5d86987ab62bbba-3a276447ea1c2101-01
2022-04-21T21:04:56.137Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:04:56.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9ee2256467720b62630397f62c552ad1f74d973-2ada73c93a34728a-01 outer:exit 2b-b9ee2256467720b62630397f62c552ad1f74d973-ee9693c1779d50c2-01
2022-04-21T21:04:56.140Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:04:56.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fb74a2b8f12b6537f80ee165b2f8234debd44ac-c26a34647f614abb-01 outer:exit 2b-1fb74a2b8f12b6537f80ee165b2f8234debd44ac-a52a400f8e01c91d-01
2022-04-21T21:04:56.142Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:04:56.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-c65bcbd868d61c55b94c28453930a05a618697f0-0e06dcbd842e47ae-01 outer:exit 2b-c65bcbd868d61c55b94c28453930a05a618697f0-cdb8eeb01e86486b-01
2022-04-21T21:04:56.149Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:04:56.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc29ced9d46389a2b7dbe31cac4825a9febe4acc-2c4e6d55d8904d42-01 outer:exit 2b-fc29ced9d46389a2b7dbe31cac4825a9febe4acc-9f110cae4a8269b7-01
2022-04-21T21:04:56.154Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:04:56.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7435f26adfa9990a5eca0411c05ea4df19436d6-8a77da33a071fed1-01 outer:exit 2b-a7435f26adfa9990a5eca0411c05ea4df19436d6-f6b1f8fb07161820-01
2022-04-21T21:04:56.162Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:04:56.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-48aeb387205699122659632e663d8aa75eef4ecd-b42cddc5761588dd-01 outer:exit 2b-48aeb387205699122659632e663d8aa75eef4ecd-887e25a7d0223483-01
2022-04-21T21:04:56.171Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:04:56.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-061cdb41b2db8c6f0d8a396d1ed68b750010ccf5-f8903f740f6e7e49-01 outer:exit 2b-061cdb41b2db8c6f0d8a396d1ed68b750010ccf5-6f8333d650e45bd9-01
2022-04-21T21:04:56.173Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:04:56.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b644953108ca843cae47e7d11466d80c505f299-56d51ff977bb1887-01 outer:exit 2b-8b644953108ca843cae47e7d11466d80c505f299-d23330e2fd8b1678-01
2022-04-21T21:04:56.176Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:04:56.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-b99f0f7219dad3eb3f64f02b86dcdf2da35af885-0900c80a0691b231-01 outer:exit 2b-b99f0f7219dad3eb3f64f02b86dcdf2da35af885-d49c33513048da61-01
2022-04-21T21:04:56.184Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:04:56.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-00f1750a06ad648dd72c15effc88559a468275a6-727b38c2620ee3c7-01 outer:exit 2b-00f1750a06ad648dd72c15effc88559a468275a6-2dee394d71fa8877-01
2022-04-21T21:04:56.186Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:04:56.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-bce70ad39d881e94755d282eec768319f06f75c9-323c2904293b7c7e-01 outer:exit 2b-bce70ad39d881e94755d282eec768319f06f75c9-3d04f6cec2d3e83a-01
2022-04-21T21:04:56.188Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:04:56.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f125dcb455974a059c4087529734b5fe286d266-2d7f679d6101a838-01 outer:exit 2b-6f125dcb455974a059c4087529734b5fe286d266-fc066de846a9383a-01
2022-04-21T21:04:56.190Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:04:56.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8ef4615bcd5ea1b9d693ae5770f351957cca156-c3adc881df7ecb51-01 outer:exit 2b-a8ef4615bcd5ea1b9d693ae5770f351957cca156-b7cd507e7be905ca-01
2022-04-21T21:04:56.192Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:04:56.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-b60dfc689c46e957877e6efcbe8bfb15373bfc3a-86fb107c27d07602-01 outer:exit 2b-b60dfc689c46e957877e6efcbe8bfb15373bfc3a-a8b394859502cbcf-01
2022-04-21T21:04:56.195Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:04:56.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-7296bc2e3772b4706b4e6243ebc5e99e4c005d61-141177953e72fe65-01 outer:exit 2b-7296bc2e3772b4706b4e6243ebc5e99e4c005d61-6af74c994c83b576-01
2022-04-21T21:04:56.206Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:04:56.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-37e7dbc415aa0ea2c4ad5aee6ecba3c92e973f37-419936c797b73bf5-01 outer:exit 2b-37e7dbc415aa0ea2c4ad5aee6ecba3c92e973f37-1fe2e0576e1ab4cc-01
2022-04-21T21:04:56.216Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:04:56.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb577f6f6e27877b4333f0c6bbe1b7c8f952f362-6cc7f7aa8db397da-01 outer:exit 2b-eb577f6f6e27877b4333f0c6bbe1b7c8f952f362-edf9809373af7353-01
2022-04-21T21:04:56.219Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:04:56.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba3f38e063bd39caf970f9718200b4401ab9ed1e-a27142740e6ba27f-01 outer:exit 2b-ba3f38e063bd39caf970f9718200b4401ab9ed1e-738e0b72daf4db7f-01
2022-04-21T21:04:56.223Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:04:56.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a61debdaeb227cfab33e186bc1052700d564caf-2942ca0650838d02-01 outer:exit 2b-7a61debdaeb227cfab33e186bc1052700d564caf-869dbcd6af5c4c79-01
2022-04-21T21:04:56.226Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:04:56.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-8244426b782dcb0407bd5ad12c252b064916e55c-2d8ce019eb439462-01 outer:exit 2b-8244426b782dcb0407bd5ad12c252b064916e55c-954a402f710ddf81-01
2022-04-21T21:04:56.261Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (352ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:02.398Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:02.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:02.399Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:02.400Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:02.469Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:02.607Z appoptics:patching patched crypto 
2022-04-21T21:05:02.654Z appoptics:patching patched https 
2022-04-21T21:05:02.667Z appoptics:patching patched http 
2022-04-21T21:05:02.713Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:02.713Z appoptics:patching patched fs 
2022-04-21T21:05:02.746Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v16.14.2)
2022-04-21T21:05:02.757Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-21T21:05:02.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-d10e179d3dcbadf093f18bdec23fb7dfd4cb7e6f-304641ace11a0b21-01 outer:exit 2b-d10e179d3dcbadf093f18bdec23fb7dfd4cb7e6f-87a99f25044d30e5-01
2022-04-21T21:05:02.812Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:05:02.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-220d74a43c00cffc5e66053edc4e1fe0edba2213-5f04f00e102d88f5-01 outer:exit 2b-220d74a43c00cffc5e66053edc4e1fe0edba2213-ba096614212b0947-01
2022-04-21T21:05:02.859Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:05:02.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-38b09f742d3748abfa15b6e7c9a57c956c68e293-908a0862fb5c60bd-01 outer:exit 2b-38b09f742d3748abfa15b6e7c9a57c956c68e293-7c73d279bcce1446-01
2022-04-21T21:05:02.864Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:05:02.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-12ce4cfb70e3ecc50f5db33afc448114e4393eef-25d560f4910dd258-01 outer:exit 2b-12ce4cfb70e3ecc50f5db33afc448114e4393eef-ae40c33851a71854-01
2022-04-21T21:05:02.868Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:05:02.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c8614421f1fa7b93cf8c16fa938604041c5091d-b4974c14ef7ec193-01 outer:exit 2b-5c8614421f1fa7b93cf8c16fa938604041c5091d-34937df901bd00fb-01
2022-04-21T21:05:02.873Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:05:02.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-de499df52993149fa0ec942faea8fe43f70edd2a-80e6b3bb81f17c85-01 outer:exit 2b-de499df52993149fa0ec942faea8fe43f70edd2a-ad2e9a654713fd16-01
2022-04-21T21:05:02.878Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:05:02.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-3af4c066d0cb64c68a78327459a21cb06057cd37-453fa90b2dc82842-01 outer:exit 2b-3af4c066d0cb64c68a78327459a21cb06057cd37-86a39c26ef1c95a5-01
2022-04-21T21:05:02.881Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:05:02.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ae3a9b4390a237a7e3a3906e90c05036a541ec8-adc5db9cb1e03e61-01 outer:exit 2b-0ae3a9b4390a237a7e3a3906e90c05036a541ec8-6d128f9e63e5ada3-01
2022-04-21T21:05:02.884Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:05:02.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-36be4fe88406252ae8773d0cf898f05308ba3662-46141124cfaeb63e-01 outer:exit 2b-36be4fe88406252ae8773d0cf898f05308ba3662-d5c4161694eccc30-01
2022-04-21T21:05:02.887Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:05:02.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-881166fef821b5d1bd094a5918096b7530f0c7c3-9b0f363a35339da2-01 outer:exit 2b-881166fef821b5d1bd094a5918096b7530f0c7c3-f1ad3ae2969eff03-01
2022-04-21T21:05:02.890Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:05:02.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad348dd4b1229cc73a600376195d53f8cff4b859-7d2986d7b5f1e99a-01 outer:exit 2b-ad348dd4b1229cc73a600376195d53f8cff4b859-0d88dcf677142eef-01
2022-04-21T21:05:02.895Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:05:02.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-4771e7691c61ebe30fd4f8db2d7856fd113ec485-c4694be2126a4e37-01 outer:exit 2b-4771e7691c61ebe30fd4f8db2d7856fd113ec485-ce01f8a3a447280a-01
2022-04-21T21:05:02.902Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:05:02.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ede231005bda6040ca8899de14ed14075f1090e-c228256ecffcf4dd-01 outer:exit 2b-1ede231005bda6040ca8899de14ed14075f1090e-97ee3ed764513c4c-01
2022-04-21T21:05:02.918Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:05:02.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-80aa0f3621de33d87baf097ebbb32cc0bb262abb-582d2a1887ac0624-01 outer:exit 2b-80aa0f3621de33d87baf097ebbb32cc0bb262abb-fd7aadd3203a94de-01
2022-04-21T21:05:02.960Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:05:02.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-e38594ac7aa4376501e36b8f9970b5282858039f-82b4b50f735a5f9b-01 outer:exit 2b-e38594ac7aa4376501e36b8f9970b5282858039f-ab0bdf6155d33967-01
2022-04-21T21:05:02.963Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:05:02.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-cceaf8345280fe71fc6c0c0ed0df3830a53becd1-465aa4a12ab4110e-01 outer:exit 2b-cceaf8345280fe71fc6c0c0ed0df3830a53becd1-9452090912ae5051-01
2022-04-21T21:05:02.965Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:05:02.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce4a6e3ad3328c8716678615cceb9c493ab55d2f-45b4975b37af80a5-01 outer:exit 2b-ce4a6e3ad3328c8716678615cceb9c493ab55d2f-fff3819e37ee96a7-01
2022-04-21T21:05:02.970Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:05:02.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-16489676947f014eb049f2089d7d4bd8f5ec3c42-fb66d19517baeefe-01 outer:exit 2b-16489676947f014eb049f2089d7d4bd8f5ec3c42-e23285bd7d1da1db-01
2022-04-21T21:05:02.972Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:05:02.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-d643feebb807a91873d06b924a30e136cde46b69-4be935f9b705472d-01 outer:exit 2b-d643feebb807a91873d06b924a30e136cde46b69-08e44f939dd7f222-01
2022-04-21T21:05:02.974Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:05:02.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-889c4530a48599eaa020de0771ff9508521dd700-1a977ffc6847a2d6-01 outer:exit 2b-889c4530a48599eaa020de0771ff9508521dd700-d51ef83dc2fc011f-01
2022-04-21T21:05:02.977Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:05:02.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8c6162313cec140284841021d88073d6749f61c-37e9bdc079c83b6d-01 outer:exit 2b-e8c6162313cec140284841021d88073d6749f61c-9afd80223a982086-01
2022-04-21T21:05:02.979Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:05:02.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1a7e08d3061a95fa79f6bdc878d02b63a757cb7-3d521ac8140fd6ce-01 outer:exit 2b-f1a7e08d3061a95fa79f6bdc878d02b63a757cb7-381e9286a09a5aba-01
2022-04-21T21:05:02.981Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:05:02.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e854766a006781d28541d1e006c79c453bff321-6e2590adc32a3961-01 outer:exit 2b-7e854766a006781d28541d1e006c79c453bff321-0f955d54e22c1430-01
2022-04-21T21:05:02.985Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:05:02.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-7970ea924454c3ab5a41f2513bf45174d60b3cb7-20356169ad6bcf6f-01 outer:exit 2b-7970ea924454c3ab5a41f2513bf45174d60b3cb7-d954dd190c8d8171-01
2022-04-21T21:05:02.988Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:05:02.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-bccdda299f1ea471fb344f6f5236bec493704f9f-6176d6119ae04e32-01 outer:exit 2b-bccdda299f1ea471fb344f6f5236bec493704f9f-765fb15cba4893a1-01
2022-04-21T21:05:02.990Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:05:02.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91028f2b2ce103813c15392711a400eae049718-d033c0fc73b83426-01 outer:exit 2b-b91028f2b2ce103813c15392711a400eae049718-594ed4651ab831f1-01
2022-04-21T21:05:02.993Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:05:02.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2ae44c84d478e3978837f34158d9da1d080b6ef-1122018c16d74069-01 outer:exit 2b-f2ae44c84d478e3978837f34158d9da1d080b6ef-6cc8fa46b913dc86-01
2022-04-21T21:05:02.999Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:05:03.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-177f8b87dbec356a3461219ddce2e02c650fb03f-316baa196a1cf395-01 outer:exit 2b-177f8b87dbec356a3461219ddce2e02c650fb03f-fc9a039aa8112ad0-01
2022-04-21T21:05:03.005Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:05:03.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-eafb74447424cf6580348f8bd1dd6deb6178254c-34c5615d83c0fd2c-01 outer:exit 2b-eafb74447424cf6580348f8bd1dd6deb6178254c-8cf0017ccc1b290e-01
2022-04-21T21:05:03.014Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:05:03.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-516bb86a6dd43b5539c6d3c9062c5f3713a73f4d-3e0d695e5a413001-01 outer:exit 2b-516bb86a6dd43b5539c6d3c9062c5f3713a73f4d-68be91a6c246a8e4-01
2022-04-21T21:05:03.021Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:05:03.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ed13dbb4e656373b0b2006f6cff9a426c68c5f6-178eb22b31dbbcd8-01 outer:exit 2b-4ed13dbb4e656373b0b2006f6cff9a426c68c5f6-9bd5796de1121f75-01
2022-04-21T21:05:03.024Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:05:03.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-b585eadbbecc85f59711ec811c511f45e7d5d47d-1325c98752a028be-01 outer:exit 2b-b585eadbbecc85f59711ec811c511f45e7d5d47d-f2c733cb4b16b88f-01
2022-04-21T21:05:03.027Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:05:03.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3ae8ef5035b5528a215fa40a09e7ecca08a1e50-c19fde0248a313a7-01 outer:exit 2b-f3ae8ef5035b5528a215fa40a09e7ecca08a1e50-2881db9e3c1d13f8-01
2022-04-21T21:05:03.038Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:05:03.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-d909d5e53e7c0980c6dd0a3787c55f59367f21f8-9c10e3df4f0f8550-01 outer:exit 2b-d909d5e53e7c0980c6dd0a3787c55f59367f21f8-acf143afa6bdfbe5-01
2022-04-21T21:05:03.042Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:05:03.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea2d650285620cb5128ff309ecca43447735dd6e-2bd4cbeb0bf9496d-01 outer:exit 2b-ea2d650285620cb5128ff309ecca43447735dd6e-83339115c9450ed4-01
2022-04-21T21:05:03.045Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:05:03.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-279821eb2371c1836420ebdfc619ea3db628594c-6352e5a6118eabe0-01 outer:exit 2b-279821eb2371c1836420ebdfc619ea3db628594c-516892b6380ccc73-01
2022-04-21T21:05:03.047Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:05:03.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4a3c4d5edb84388a3667ddcd91b0de87627deec-ad55f5ee95122a46-01 outer:exit 2b-f4a3c4d5edb84388a3667ddcd91b0de87627deec-cafb8a7bbdd4ee50-01
2022-04-21T21:05:03.053Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:05:03.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-8052389e73ec7668c8e632464e81e2dcf5473326-f12b04188a5dab64-01 outer:exit 2b-8052389e73ec7668c8e632464e81e2dcf5473326-963072b5b9e1aee5-01
2022-04-21T21:05:03.056Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:05:03.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e3244a32c1d75bc5844d1a7e5954b37d4bb295f-292dfe8fe4756c0a-01 outer:exit 2b-3e3244a32c1d75bc5844d1a7e5954b37d4bb295f-9969f712a7f63cf0-01
2022-04-21T21:05:03.070Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:05:03.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-3038d3a2bff4020f83495a05e657109b7612e06a-93c6dcadfae0894f-01 outer:exit 2b-3038d3a2bff4020f83495a05e657109b7612e06a-602b6657c60bcaa2-01
2022-04-21T21:05:03.079Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:05:03.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-b30044d540b4c2b8c07416779ca08414ae9e7d08-50ff3b11af3cb1a7-01 outer:exit 2b-b30044d540b4c2b8c07416779ca08414ae9e7d08-3c337841afcbc50e-01
2022-04-21T21:05:03.083Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:05:03.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-432bcb6a6741f7b867d84d367a5b1fbb24867bc8-01144bc0b40cfcf6-01 outer:exit 2b-432bcb6a6741f7b867d84d367a5b1fbb24867bc8-6734621025dc9db7-01
2022-04-21T21:05:03.086Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:05:03.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-650b47c58a84a2c85ec4245084b5431186a6343d-ab12c9f26e3e8bd5-01 outer:exit 2b-650b47c58a84a2c85ec4245084b5431186a6343d-bbd884ef372cd4c6-01
2022-04-21T21:05:03.092Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:05:03.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-991565187039a259febdd48064ad77729c9c0bf3-c321cb6de97f5f2b-01 outer:exit 2b-991565187039a259febdd48064ad77729c9c0bf3-f7f48e038bbb652a-01
2022-04-21T21:05:03.136Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (372ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:10.239Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:10.239Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:10.239Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:10.240Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:10.309Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:10.443Z appoptics:patching patched crypto 
2022-04-21T21:05:10.464Z appoptics:patching patched https 
2022-04-21T21:05:10.464Z appoptics:patching patched http 
2022-04-21T21:05:10.515Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:10.515Z appoptics:patching patched fs 
2022-04-21T21:05:10.531Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v16.14.2)
2022-04-21T21:05:10.537Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-21T21:05:10.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-6152d64a1d9302b4477e32ba2702f26f5df2d8f3-234868d090adf612-01 outer:exit 2b-6152d64a1d9302b4477e32ba2702f26f5df2d8f3-f3c999ff69e0cddc-01
2022-04-21T21:05:10.591Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:05:10.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-759ed70e689cd5203374f1f1c8a7f29935c4ff69-489a96fe54c3fe2b-01 outer:exit 2b-759ed70e689cd5203374f1f1c8a7f29935c4ff69-cbc1f625552710aa-01
2022-04-21T21:05:10.639Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:05:10.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f37c29087d412f1393fad4972d849f985c82aed-55be59fe905c206c-01 outer:exit 2b-6f37c29087d412f1393fad4972d849f985c82aed-b445e4f589de9dfc-01
2022-04-21T21:05:10.644Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:05:10.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e4e5d01ab1d4bdcfb807d7dd341aa7f0f430f60-ae73e1be5189a4ed-01 outer:exit 2b-2e4e5d01ab1d4bdcfb807d7dd341aa7f0f430f60-8742962d68f528ff-01
2022-04-21T21:05:10.648Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:05:10.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d8ebe0590a03170bf7260d1dfd0b92066397046-0922414ac6722739-01 outer:exit 2b-4d8ebe0590a03170bf7260d1dfd0b92066397046-6e1cfbb364037430-01
2022-04-21T21:05:10.653Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:05:10.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bc0ec3323e83407ba6e5473edf5e5ddbee6ea73-b6ae8c613a76a0ff-01 outer:exit 2b-7bc0ec3323e83407ba6e5473edf5e5ddbee6ea73-60b95dea67d69471-01
2022-04-21T21:05:10.657Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:05:10.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-286bceb58ea2d2f527fe886034cfb69c819f0db1-fcafc25c030c3305-01 outer:exit 2b-286bceb58ea2d2f527fe886034cfb69c819f0db1-54914fdc89752cf3-01
2022-04-21T21:05:10.661Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:05:10.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-45784339bec5fc769eff7e59fadb36e449d02b58-559d07fe11c405ec-01 outer:exit 2b-45784339bec5fc769eff7e59fadb36e449d02b58-0eadb1c3ffd196fe-01
2022-04-21T21:05:10.663Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:05:10.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5c8437e24b0d36d9938df4004d2c91853a6d82f-adc23369d36d1165-01 outer:exit 2b-d5c8437e24b0d36d9938df4004d2c91853a6d82f-a2fd814ff7de4be9-01
2022-04-21T21:05:10.666Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:05:10.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6707937047c273fb58567712156fb0c9900c143-a26a3d7ef6922f58-01 outer:exit 2b-e6707937047c273fb58567712156fb0c9900c143-59ba4cd37b6f512d-01
2022-04-21T21:05:10.670Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:05:10.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b11a22902107e50cbac0cba131cd0f92345c0a0-be01288e2c4d1a2c-01 outer:exit 2b-6b11a22902107e50cbac0cba131cd0f92345c0a0-43077b95a6dceec4-01
2022-04-21T21:05:10.675Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:05:10.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-41e419d37394693be09bb4118df5a8927215efc3-ffcddccdf623d6fb-01 outer:exit 2b-41e419d37394693be09bb4118df5a8927215efc3-5418fbc270999e16-01
2022-04-21T21:05:10.682Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:05:10.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c8521723b3650f39a8e8f3e5fd684b7b869b214-fbb3918e75ccac26-01 outer:exit 2b-9c8521723b3650f39a8e8f3e5fd684b7b869b214-7e32686d7928a3b2-01
2022-04-21T21:05:10.701Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:05:10.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f0017aa9cdcb450ca2f0957ef859aaee34ed534-07f182c71557d875-01 outer:exit 2b-3f0017aa9cdcb450ca2f0957ef859aaee34ed534-2a5e723964c9c70c-01
2022-04-21T21:05:10.744Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:05:10.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d22bce309117c1430ef43c407e8968554ad2ba0-0129c848d3744c09-01 outer:exit 2b-2d22bce309117c1430ef43c407e8968554ad2ba0-bc4d8424c3b3b17a-01
2022-04-21T21:05:10.747Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:05:10.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-02df2cda266d929053a6211940d17563cf8f2680-62211bca6f27d9f8-01 outer:exit 2b-02df2cda266d929053a6211940d17563cf8f2680-1633f6cb46e3a7e4-01
2022-04-21T21:05:10.751Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:05:10.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-33e852d3d525787d3a263314ebcc87777c544f0b-00d60416902af9fc-01 outer:exit 2b-33e852d3d525787d3a263314ebcc87777c544f0b-3aef815e25fad8a5-01
2022-04-21T21:05:10.754Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:05:10.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-549f25b420daa0b9bb5e4abd88844e4bb24c24fb-02d268b500013fbe-01 outer:exit 2b-549f25b420daa0b9bb5e4abd88844e4bb24c24fb-9e19c06cc7ac7850-01
2022-04-21T21:05:10.756Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:05:10.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd1288f76fe989cd8b0e73fc659caa635422c05e-616b1244121da58f-01 outer:exit 2b-cd1288f76fe989cd8b0e73fc659caa635422c05e-3e2e188828525e40-01
2022-04-21T21:05:10.758Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:05:10.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-caec178766015a592228a104eb71946031d4566d-0432a89703786f05-01 outer:exit 2b-caec178766015a592228a104eb71946031d4566d-e52d4d4e2885b54a-01
2022-04-21T21:05:10.760Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:05:10.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-4893d12457fc555b1650411681ff75ba9254a957-db024b43b30290b9-01 outer:exit 2b-4893d12457fc555b1650411681ff75ba9254a957-451d1b2f06269a10-01
2022-04-21T21:05:10.763Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:05:10.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-67c8f8eb7366a86827cbd823f98c9aa4a3f0c744-5d9ec5dec9e09a9f-01 outer:exit 2b-67c8f8eb7366a86827cbd823f98c9aa4a3f0c744-fa086aa5917f8fe5-01
2022-04-21T21:05:10.765Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:05:10.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0a1bc13bf5259f2f5532a13be01243f0973ba11-bba63d01e72b6b95-01 outer:exit 2b-d0a1bc13bf5259f2f5532a13be01243f0973ba11-8feca6c1c01b922f-01
2022-04-21T21:05:10.768Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:05:10.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-cda8180d386955091d18b76bfead3774906d5bc4-e02a3364e21a80b6-01 outer:exit 2b-cda8180d386955091d18b76bfead3774906d5bc4-08d69ed9241aaa33-01
2022-04-21T21:05:10.771Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:05:10.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad3d73d163acd4a368ed7fcbc9f69ffc4147de56-5553cd31075bf65a-01 outer:exit 2b-ad3d73d163acd4a368ed7fcbc9f69ffc4147de56-179c75914f4c2e1d-01
2022-04-21T21:05:10.773Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:05:10.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-7331c7b52628bf0c4a4d933c0b9b87154e8bef9b-0f0c0c0fd4dcf98f-01 outer:exit 2b-7331c7b52628bf0c4a4d933c0b9b87154e8bef9b-7f5cf5f04b4af1eb-01
2022-04-21T21:05:10.775Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:05:10.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf8e02d78ab685dffa6a4fdeb6dd620dc3f1088d-54d5f5ff5354e9f5-01 outer:exit 2b-cf8e02d78ab685dffa6a4fdeb6dd620dc3f1088d-eee7d13efac1a889-01
2022-04-21T21:05:10.782Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:05:10.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-02244a1c342d4f7856f92075d94a911d03fddf4c-8a1b37a096ff61de-01 outer:exit 2b-02244a1c342d4f7856f92075d94a911d03fddf4c-31c4c21f811b382e-01
2022-04-21T21:05:10.786Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:05:10.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead547e20105da9253e7324c54d385bd6b938700-ce45432f78ec99e6-01 outer:exit 2b-ead547e20105da9253e7324c54d385bd6b938700-d97d94f4cd9849fa-01
2022-04-21T21:05:10.795Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:05:10.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-05127236b1c902c96d4c11e8a2f63078c1bc2f68-29a9fbb82d42109b-01 outer:exit 2b-05127236b1c902c96d4c11e8a2f63078c1bc2f68-ed575eb21d850762-01
2022-04-21T21:05:10.804Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:05:10.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f5381df5868c370c41f1efb49721c3d970f232-957c3a4539f54497-01 outer:exit 2b-c5f5381df5868c370c41f1efb49721c3d970f232-256464dabf878fd1-01
2022-04-21T21:05:10.806Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:05:10.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed69404ed75e8369740ec17a61d14a10e2eaefa6-6923b58f13c83a04-01 outer:exit 2b-ed69404ed75e8369740ec17a61d14a10e2eaefa6-68cf06241f26d3f2-01
2022-04-21T21:05:10.809Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:05:10.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e3015a569fb774b2983698c9df7222df5458f61-e996b50e5b8d5ed1-01 outer:exit 2b-7e3015a569fb774b2983698c9df7222df5458f61-1aab0265e570132a-01
2022-04-21T21:05:10.818Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:05:10.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd48390198b6ab96a904cc97bd1b1a6aabb3bb1c-4d12604d0d79cc37-01 outer:exit 2b-bd48390198b6ab96a904cc97bd1b1a6aabb3bb1c-feec2522cc732eac-01
2022-04-21T21:05:10.820Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:05:10.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee071c786f161671354724a15313b257b1afae8a-f145caa96eb57c7c-01 outer:exit 2b-ee071c786f161671354724a15313b257b1afae8a-a577702842e1a2a6-01
2022-04-21T21:05:10.822Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:05:10.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d69aa76ed8e4ab2a0ff61288e993899e17fffbc-264d145f0bb4baf0-01 outer:exit 2b-1d69aa76ed8e4ab2a0ff61288e993899e17fffbc-8edd2c728bc07705-01
2022-04-21T21:05:10.824Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:05:10.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d7d926e7fbce0ceae7ef655a1592ea680b5b8d-f64158c415459b44-01 outer:exit 2b-d8d7d926e7fbce0ceae7ef655a1592ea680b5b8d-301664d43b6d4061-01
2022-04-21T21:05:10.826Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:05:10.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b0d2d2aca39c6e66d065ba46de2904b15c08ed5-7002eb47a53b79fc-01 outer:exit 2b-5b0d2d2aca39c6e66d065ba46de2904b15c08ed5-203415a97e44ee23-01
2022-04-21T21:05:10.828Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:05:10.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-793a81ef807fe698d51ead3a1e8a960e5e8dc537-e204afad2721e715-01 outer:exit 2b-793a81ef807fe698d51ead3a1e8a960e5e8dc537-50aec7030a0bd5e1-01
2022-04-21T21:05:10.839Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:05:10.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-64ac6aedc8ce202660496f026ae38c278efef510-e3b0f47d98d6e8aa-01 outer:exit 2b-64ac6aedc8ce202660496f026ae38c278efef510-13d6b58f99719dcd-01
2022-04-21T21:05:10.849Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:05:10.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-f29ae339e93abd014cd8bde606ee14f413a7b676-6e627b8d132e0651-01 outer:exit 2b-f29ae339e93abd014cd8bde606ee14f413a7b676-7fcc0c49e100f40a-01
2022-04-21T21:05:10.852Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:05:10.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aeca34affa2d8f611dee8f80daa56b8477baaf8-8db5203d16d275be-01 outer:exit 2b-8aeca34affa2d8f611dee8f80daa56b8477baaf8-947f9f65c9535381-01
2022-04-21T21:05:10.855Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:05:10.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-08a79f9884e5345afd7f00599c8515cf8e887d68-fa98b66eaa96bfca-01 outer:exit 2b-08a79f9884e5345afd7f00599c8515cf8e887d68-8d4552b1caeea593-01
2022-04-21T21:05:10.858Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:05:10.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-8645471b2f13aebc3779984ceb17fd232dcc4dda-432e4fa83328285e-01 outer:exit 2b-8645471b2f13aebc3779984ceb17fd232dcc4dda-cfa4558414b1b675-01
2022-04-21T21:05:10.891Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (346ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:17.453Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:17.453Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:17.453Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:17.454Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:17.524Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:17.660Z appoptics:patching patched crypto 
2022-04-21T21:05:17.684Z appoptics:patching patched https 
2022-04-21T21:05:17.685Z appoptics:patching patched http 
2022-04-21T21:05:17.764Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:17.764Z appoptics:patching patched fs 
2022-04-21T21:05:17.786Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v16.14.2)
2022-04-21T21:05:17.793Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-21T21:05:17.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-8be769f0c2b3307180af94f0f9a3fd1049e473a3-397cf18184d24fb3-01 outer:exit 2b-8be769f0c2b3307180af94f0f9a3fd1049e473a3-cbd6b6b0b0109d90-01
2022-04-21T21:05:17.847Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:05:17.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c916c6b652be4060f76c7284649d8a5278ac939-7504b529fb84933e-01 outer:exit 2b-7c916c6b652be4060f76c7284649d8a5278ac939-b6f6d7c891b96e29-01
2022-04-21T21:05:17.901Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:05:17.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-16879e4bb1061380745a8d43f496e0d0bed0f9fa-c706a0e4f0bccde4-01 outer:exit 2b-16879e4bb1061380745a8d43f496e0d0bed0f9fa-7082f197d6dcaaa5-01
2022-04-21T21:05:17.906Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:05:17.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-affaf2a91cc3b0bc734fa57e575a9089c96aae5b-cfcb1879ab4df173-01 outer:exit 2b-affaf2a91cc3b0bc734fa57e575a9089c96aae5b-76446700719243e5-01
2022-04-21T21:05:17.910Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:05:17.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cef59f37170d91aa253b979b20d8e3c0aed2866-57494f111cf48730-01 outer:exit 2b-1cef59f37170d91aa253b979b20d8e3c0aed2866-99e0e7337c0cfe09-01
2022-04-21T21:05:17.917Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:05:17.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-a24a908c802c11a391fb3206f7e6e646af8d302b-77a49bce5be96ab7-01 outer:exit 2b-a24a908c802c11a391fb3206f7e6e646af8d302b-888393b16d29b08f-01
2022-04-21T21:05:17.921Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:05:17.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-b17de246c0ec69273e6e340c9211d1c0c60e53b8-2e34f6290949bfe5-01 outer:exit 2b-b17de246c0ec69273e6e340c9211d1c0c60e53b8-4a5bc2109f7e5a06-01
2022-04-21T21:05:17.925Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:05:17.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d3ac3aeaa81724611cd1a50244da3e4c5e0193f-f15be5237c5d999a-01 outer:exit 2b-5d3ac3aeaa81724611cd1a50244da3e4c5e0193f-d2a4b439da30396b-01
2022-04-21T21:05:17.928Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:05:17.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee1dc9f5e9513d7a5edf1a4338732628fdf25e4b-3170a93275a970d7-01 outer:exit 2b-ee1dc9f5e9513d7a5edf1a4338732628fdf25e4b-8ac94fe4ef145aaf-01
2022-04-21T21:05:17.931Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:05:17.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fa91e4712872687e5d61f89d6c52803fe877135-cf5c062ea32109a9-01 outer:exit 2b-4fa91e4712872687e5d61f89d6c52803fe877135-671ed45d62a05f78-01
2022-04-21T21:05:17.936Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:05:17.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-08e14572ea2601b3a8c27edc4e2608f73df669e5-f98755c37ec1ee31-01 outer:exit 2b-08e14572ea2601b3a8c27edc4e2608f73df669e5-8bd9c119075fe301-01
2022-04-21T21:05:17.940Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:05:17.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbd421c26ec5be4a5e3b60c5c877192cd9a23e39-600b7a1a76602eac-01 outer:exit 2b-fbd421c26ec5be4a5e3b60c5c877192cd9a23e39-f4260a5c92a2c889-01
2022-04-21T21:05:17.948Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:05:17.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-083ec39eb22e3aa25301a763ee89964e0b767f33-0497fa99e5fe3e1d-01 outer:exit 2b-083ec39eb22e3aa25301a763ee89964e0b767f33-9213c53cad490747-01
2022-04-21T21:05:17.970Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:05:18.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-14fe181bec91d1735d3e5c503bdc6c7149e1af98-3b03285f1d3df087-01 outer:exit 2b-14fe181bec91d1735d3e5c503bdc6c7149e1af98-68ebedd181fc1795-01
2022-04-21T21:05:18.015Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:05:18.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-3380e6b46f76414f6f8cde82104ea24d23f60920-f15cce10c945adca-01 outer:exit 2b-3380e6b46f76414f6f8cde82104ea24d23f60920-b7d41f78a4c8c47c-01
2022-04-21T21:05:18.019Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:05:18.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-efbd3f85b8988e7da85ac6bf3ba66836b9c7417c-f00e23c5c8828b01-01 outer:exit 2b-efbd3f85b8988e7da85ac6bf3ba66836b9c7417c-22cda4c7bb9199c4-01
2022-04-21T21:05:18.025Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:05:18.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-981179aacf8fbe36be5a9eddeaf0f58bd02f35d8-173711d481a416f3-01 outer:exit 2b-981179aacf8fbe36be5a9eddeaf0f58bd02f35d8-583d4c60b1c6e7dc-01
2022-04-21T21:05:18.029Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:05:18.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0ff90350fd5ad0a0c058f6ae476c341960fcea2-6d0b6e884d303151-01 outer:exit 2b-e0ff90350fd5ad0a0c058f6ae476c341960fcea2-8d3a00175fab149c-01
2022-04-21T21:05:18.032Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:05:18.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-d81480e15459397288b4195c77217bc9a3377cfb-eb20794b17379173-01 outer:exit 2b-d81480e15459397288b4195c77217bc9a3377cfb-84f40aa56666ce9a-01
2022-04-21T21:05:18.034Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:05:18.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-2871c9caa9551280a526c24582fc73f3f503bdf7-b8598f97f37217fe-01 outer:exit 2b-2871c9caa9551280a526c24582fc73f3f503bdf7-7952adcca9ffb83f-01
2022-04-21T21:05:18.037Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:05:18.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-266a05b3659b8acf4ffd7f08b6790ea885d8a494-add2651819a1946b-01 outer:exit 2b-266a05b3659b8acf4ffd7f08b6790ea885d8a494-b2b68df15bce381b-01
2022-04-21T21:05:18.039Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:05:18.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eeaa95440bfc8c6a14501ff57fbf21c485e5c0b-ac967d2259712917-01 outer:exit 2b-9eeaa95440bfc8c6a14501ff57fbf21c485e5c0b-af909c5c944932b2-01
2022-04-21T21:05:18.042Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:05:18.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aa28b07c1c9c0796f3ddf2ae09645466931bd3f-4e66a88d7bd0a536-01 outer:exit 2b-8aa28b07c1c9c0796f3ddf2ae09645466931bd3f-1c61ea807f7d82fa-01
2022-04-21T21:05:18.046Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:05:18.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-6973059cd4b697697a356c609e3464d0fa9a0225-05fc3339a0b16a90-01 outer:exit 2b-6973059cd4b697697a356c609e3464d0fa9a0225-966f4fc7df9ea7ed-01
2022-04-21T21:05:18.050Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:05:18.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fa8b6c0b83575c493361fad66207163ec7367ff-83bb140c0f3f7228-01 outer:exit 2b-7fa8b6c0b83575c493361fad66207163ec7367ff-bea03d8067250bd1-01
2022-04-21T21:05:18.053Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:05:18.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-119d6d75854ca031c418925181ffae12966c9629-d1dc44de8c2e3ae4-01 outer:exit 2b-119d6d75854ca031c418925181ffae12966c9629-3e4290e09a88814f-01
2022-04-21T21:05:18.055Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:05:18.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-65b4f9eff5bba19e74f3ef29edeec92ad897cf7e-2a8db15a7c50c3be-01 outer:exit 2b-65b4f9eff5bba19e74f3ef29edeec92ad897cf7e-fdd5a28c327f1a5a-01
2022-04-21T21:05:18.062Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:05:18.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f449b259ba283cf5c96948bf75de7c17c506565-e0db3d2774074b69-01 outer:exit 2b-4f449b259ba283cf5c96948bf75de7c17c506565-a7f543d90eaac811-01
2022-04-21T21:05:18.068Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:05:18.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bf5fc5654c7a5fd5ffc8f7324025257eb18f321-73f518515c4ed86a-01 outer:exit 2b-0bf5fc5654c7a5fd5ffc8f7324025257eb18f321-ae03c82697571f01-01
2022-04-21T21:05:18.081Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:05:18.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c10a142524303ac390b1559f46937a7029937ba-4d0c543dee8c9608-01 outer:exit 2b-3c10a142524303ac390b1559f46937a7029937ba-4c9c1938ef9009ed-01
2022-04-21T21:05:18.089Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:05:18.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bb2a2b613eb684937c6784233f1629d08172eba-c72be6811fc8087a-01 outer:exit 2b-5bb2a2b613eb684937c6784233f1629d08172eba-654f155db7212da9-01
2022-04-21T21:05:18.091Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:05:18.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ec98c6c8c0091b0734f23fb786c679b11a0afed-b0db45c76a89563e-01 outer:exit 2b-5ec98c6c8c0091b0734f23fb786c679b11a0afed-97e2a566fe49137b-01
2022-04-21T21:05:18.095Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:05:18.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-50685c59a02ae6726ad0ecf2df5f0fe1a2ad3ce8-90c1e8f6a0e01c56-01 outer:exit 2b-50685c59a02ae6726ad0ecf2df5f0fe1a2ad3ce8-c712d78cffd34205-01
2022-04-21T21:05:18.106Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:05:18.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-21e0c3ab51f9ecbca637afa1d7d609fd72b51cc3-fac34264dbc4b8fc-01 outer:exit 2b-21e0c3ab51f9ecbca637afa1d7d609fd72b51cc3-966e7d2922fabef0-01
2022-04-21T21:05:18.108Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:05:18.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa6cb12abe33dd46d540f8bc39eb648544f2f58d-d550d763835db819-01 outer:exit 2b-fa6cb12abe33dd46d540f8bc39eb648544f2f58d-6f15223a93abe423-01
2022-04-21T21:05:18.110Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:05:18.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d252e67115b397070869cc70c7a3e26206165f3-a6fe9fc063e93408-01 outer:exit 2b-3d252e67115b397070869cc70c7a3e26206165f3-12d25ed6fabf3d8d-01
2022-04-21T21:05:18.117Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:05:18.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fbe39c75a4aefe41eb6bd007ec537f701c91e0e-00716d278b264616-01 outer:exit 2b-6fbe39c75a4aefe41eb6bd007ec537f701c91e0e-36b0c367d5177ced-01
2022-04-21T21:05:18.119Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:05:18.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-0571bec08ff329d2d79c599494cefda130ebe246-30ab0b3759fb9ec1-01 outer:exit 2b-0571bec08ff329d2d79c599494cefda130ebe246-4c098c42082900c3-01
2022-04-21T21:05:18.121Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:05:18.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-03be2ee644e72f34145c2a289d7367fb7d68ce00-6e70b668a431932b-01 outer:exit 2b-03be2ee644e72f34145c2a289d7367fb7d68ce00-8614d4b744537e18-01
2022-04-21T21:05:18.132Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:05:18.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb54bc4aa8c463ef963da929ee6a2f28262e908e-fb5355c98b80bf0e-01 outer:exit 2b-cb54bc4aa8c463ef963da929ee6a2f28262e908e-374a1982db98c8de-01
2022-04-21T21:05:18.143Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:05:18.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-be1adb1279c220617f2f3b3542943c88aa9a1d1b-e69464783742ea48-01 outer:exit 2b-be1adb1279c220617f2f3b3542943c88aa9a1d1b-0c0585070866589e-01
2022-04-21T21:05:18.147Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:05:18.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5e2238d0cea5db431d656cb42efdf9779a9e9e0-0ead4e2112378032-01 outer:exit 2b-b5e2238d0cea5db431d656cb42efdf9779a9e9e0-4b113a009344aa2c-01
2022-04-21T21:05:18.150Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:05:18.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-94243553563f88723c591b505e8bfa987905054b-b0c2b1b4b2eca834-01 outer:exit 2b-94243553563f88723c591b505e8bfa987905054b-22adf3a27dcb1eb2-01
2022-04-21T21:05:18.153Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:05:18.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-42ec3ad992b95201ca831b14bda3419d38a49c20-a4957dfe3c14875d-01 outer:exit 2b-42ec3ad992b95201ca831b14bda3419d38a49c20-041fa46dab5db58b-01
2022-04-21T21:05:18.191Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (391ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:25.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:25.107Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:25.107Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:25.108Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:25.178Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:25.315Z appoptics:patching patched crypto 
2022-04-21T21:05:25.335Z appoptics:patching patched https 
2022-04-21T21:05:25.336Z appoptics:patching patched http 
2022-04-21T21:05:25.389Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:25.389Z appoptics:patching patched fs 
2022-04-21T21:05:25.405Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v16.14.2)
2022-04-21T21:05:25.412Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-21T21:05:25.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8093da7f5491f17c62d3182e36fa0c7c209a786-0a6855007f3fbdb8-01 outer:exit 2b-d8093da7f5491f17c62d3182e36fa0c7c209a786-eff51c8edc4010ab-01
2022-04-21T21:05:25.460Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:05:25.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-348e4357333773a2078ca01fc14adefc798814b4-32b6df1ff994ae35-01 outer:exit 2b-348e4357333773a2078ca01fc14adefc798814b4-fc993754ec4f057e-01
2022-04-21T21:05:25.511Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:05:25.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-4607e7870afef020569f171b56642a68674e1269-5d72eae768b1d18e-01 outer:exit 2b-4607e7870afef020569f171b56642a68674e1269-4d1851445bdc6deb-01
2022-04-21T21:05:25.515Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:05:25.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5171d1c7c27b0349e80e26f062291e44433114f-95c414b5915a106e-01 outer:exit 2b-e5171d1c7c27b0349e80e26f062291e44433114f-5c4b2600c731135a-01
2022-04-21T21:05:25.519Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:05:25.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ced88696c1f445759636155fdf880aa607ad507-2ffbdc54feb6e08c-01 outer:exit 2b-2ced88696c1f445759636155fdf880aa607ad507-bb5501dada74831b-01
2022-04-21T21:05:25.525Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:05:25.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-0027d0ed3836662d7da281355f65bca5f65f22d7-02d293ee335104df-01 outer:exit 2b-0027d0ed3836662d7da281355f65bca5f65f22d7-5cf9ab57746f3f47-01
2022-04-21T21:05:25.528Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:05:25.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-714c1fc92bcf04161fa8d7533129327cf7cf75a4-ce6f786f11a9e4e8-01 outer:exit 2b-714c1fc92bcf04161fa8d7533129327cf7cf75a4-673ecb87b9de912a-01
2022-04-21T21:05:25.532Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:05:25.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc871f7635f5efd450f54c6e7c06862444baacdd-0527e68087882828-01 outer:exit 2b-dc871f7635f5efd450f54c6e7c06862444baacdd-de26541f2a91c1b0-01
2022-04-21T21:05:25.535Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:05:25.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-a59fe099f018821f7ca364bb8474198b270dcd2f-582b7a68ef803692-01 outer:exit 2b-a59fe099f018821f7ca364bb8474198b270dcd2f-fa435ef59ee6648e-01
2022-04-21T21:05:25.538Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:05:25.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ddb8091535f09af272c8e878fecd26c4762a891-04e410ba73947af5-01 outer:exit 2b-4ddb8091535f09af272c8e878fecd26c4762a891-d9581ffbcac1dff5-01
2022-04-21T21:05:25.542Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:05:25.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba0951b1b1c1163955ff32d7bcd71675e7ac0567-8b5239003cd540cf-01 outer:exit 2b-ba0951b1b1c1163955ff32d7bcd71675e7ac0567-893b567f7fc7179b-01
2022-04-21T21:05:25.546Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:05:25.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3089d9685b38aaeec681681018a3dbe8d8467cf-5f6c051c71029796-01 outer:exit 2b-f3089d9685b38aaeec681681018a3dbe8d8467cf-b33e25e2830877da-01
2022-04-21T21:05:25.554Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:05:25.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-cad7d4229ada47078611744090c8bcbf38cadd97-2fed00ccb79d3a7e-01 outer:exit 2b-cad7d4229ada47078611744090c8bcbf38cadd97-8cc6278b3a09be11-01
2022-04-21T21:05:25.571Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:05:25.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-9feb3f550d3a35652fe8a1b14b17dac1f7d1b16b-2a6c62ea078869f2-01 outer:exit 2b-9feb3f550d3a35652fe8a1b14b17dac1f7d1b16b-8953c762d4cb0c1d-01
2022-04-21T21:05:25.618Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:05:25.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-afed8d762bf2ed27b6b447d19c9a31b3ef91364c-bfed07314e7300f0-01 outer:exit 2b-afed8d762bf2ed27b6b447d19c9a31b3ef91364c-2b6f57a59cf89b74-01
2022-04-21T21:05:25.622Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:05:25.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-8954ee9125ac35e33184cbf50f8c5df48e9da7f3-2894ef5ec919618a-01 outer:exit 2b-8954ee9125ac35e33184cbf50f8c5df48e9da7f3-3e7d561c03b0b209-01
2022-04-21T21:05:25.627Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:05:25.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-a19197d8bc68037dad2b6610b392856865686e0d-bb6e226625ac044b-01 outer:exit 2b-a19197d8bc68037dad2b6610b392856865686e0d-581562b404f983cd-01
2022-04-21T21:05:25.630Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:05:25.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d2ab61b02ee377e3bc5b6eea8d13cd116f47539-88333bebac3b6985-01 outer:exit 2b-2d2ab61b02ee377e3bc5b6eea8d13cd116f47539-6eb09c908dc45dce-01
2022-04-21T21:05:25.633Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:05:25.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ebe4bc8f819e0147173ae056ef8cc53c508d617-4f157ea1b8b02172-01 outer:exit 2b-3ebe4bc8f819e0147173ae056ef8cc53c508d617-77f38c8899b2c325-01
2022-04-21T21:05:25.635Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:05:25.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3797974a49a450dd36c3cf42fd2580abd11b125-3a9adfc4875c4db6-01 outer:exit 2b-a3797974a49a450dd36c3cf42fd2580abd11b125-2378c22a1eb43ea0-01
2022-04-21T21:05:25.637Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:05:25.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-e41a33d3d51b69dad8a0d73b63af3b8e20648d3f-94bcc8065dba5e27-01 outer:exit 2b-e41a33d3d51b69dad8a0d73b63af3b8e20648d3f-a572c5c047a9adc2-01
2022-04-21T21:05:25.640Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:05:25.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-4be74008d9b09e6ea9cedaa8702462161e2a25e4-3713450c4752343d-01 outer:exit 2b-4be74008d9b09e6ea9cedaa8702462161e2a25e4-c922c3206756bb84-01
2022-04-21T21:05:25.642Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:05:25.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0bad724d5009b15c15e524fa70d48c00b544dda-87dd020fe82d901c-01 outer:exit 2b-e0bad724d5009b15c15e524fa70d48c00b544dda-343d3d949cedbba2-01
2022-04-21T21:05:25.645Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:05:25.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-c59dc308e7e4c35adeaea6f0beee2c4867048e6c-cedcfb646f4db1ad-01 outer:exit 2b-c59dc308e7e4c35adeaea6f0beee2c4867048e6c-9e7645fbf2e36ac2-01
2022-04-21T21:05:25.649Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:05:25.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-5414f29c24d834f69a84b31f08f8fc6b6df74718-b1a291f2e9b33c37-01 outer:exit 2b-5414f29c24d834f69a84b31f08f8fc6b6df74718-b188c983c2477ea6-01
2022-04-21T21:05:25.651Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:05:25.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-87bdc6c76766fa0ed7a7388ec1d63693b957ce4b-94e55336f8b78771-01 outer:exit 2b-87bdc6c76766fa0ed7a7388ec1d63693b957ce4b-0f83baeb0969dd5d-01
2022-04-21T21:05:25.654Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:05:25.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbd4252a13a5d95bdd787bf36d94b48a2cf8b243-e20447066f904080-01 outer:exit 2b-cbd4252a13a5d95bdd787bf36d94b48a2cf8b243-9968e5c19ac2f6ae-01
2022-04-21T21:05:25.660Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:05:25.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-64a1de5bd68b640e83e7c4f6cce40cd24ae98cdf-03e545ec08b189ce-01 outer:exit 2b-64a1de5bd68b640e83e7c4f6cce40cd24ae98cdf-885a4f6242f5c8d7-01
2022-04-21T21:05:25.665Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:05:25.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-42f1e1067d6e52851aad2c5cbce50490ff3cdaa5-d8d958e83885e4fe-01 outer:exit 2b-42f1e1067d6e52851aad2c5cbce50490ff3cdaa5-051da3e3fc52053c-01
2022-04-21T21:05:25.675Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:05:25.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-e27185592ec1f672587ca218110052da12fbb1c1-feb3b49ad76a5897-01 outer:exit 2b-e27185592ec1f672587ca218110052da12fbb1c1-88aeb98f3e8e454a-01
2022-04-21T21:05:25.683Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:05:25.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2311ff57c9fe519e50eac4eb9b9912588830698-26a0ca8eec7df87d-01 outer:exit 2b-b2311ff57c9fe519e50eac4eb9b9912588830698-4351f161da9af61f-01
2022-04-21T21:05:25.685Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:05:25.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf7fe1a48179badcf3269ca1dd3f5af772fb2171-aa0c9972b0f079c9-01 outer:exit 2b-cf7fe1a48179badcf3269ca1dd3f5af772fb2171-5a2a8e9b041b296f-01
2022-04-21T21:05:25.689Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:05:25.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e14e25fdfcff7bdc655831edb0ec6c95e8aee7d-611bcbed1a18fe0e-01 outer:exit 2b-5e14e25fdfcff7bdc655831edb0ec6c95e8aee7d-edf9d156e843bae0-01
2022-04-21T21:05:25.696Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:05:25.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b0e4795687e5c0a62a543c5e9c9d946f52b6fdc-ff352b14d0a6e483-01 outer:exit 2b-3b0e4795687e5c0a62a543c5e9c9d946f52b6fdc-cd2763a7d7d19e3a-01
2022-04-21T21:05:25.698Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:05:25.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f135d50b1b613cc84cabfa331fc0d79c095fef1-ceb39fc6f5683060-01 outer:exit 2b-3f135d50b1b613cc84cabfa331fc0d79c095fef1-937ec784b8dc2c5b-01
2022-04-21T21:05:25.700Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:05:25.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-1480e43a60f1eb02842dabf549d99ccdd2ea4d95-68db30876503e1a9-01 outer:exit 2b-1480e43a60f1eb02842dabf549d99ccdd2ea4d95-4eb9757d94cc3255-01
2022-04-21T21:05:25.702Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:05:25.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-b99cf2a1b5179ff5d5d26cc90eaef9534f637972-826b4fcdc69ce0b1-01 outer:exit 2b-b99cf2a1b5179ff5d5d26cc90eaef9534f637972-a8a4405540aeaea8-01
2022-04-21T21:05:25.704Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:05:25.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a110e392f4263e64873f16df247fa0b1c1f3d60-afbe26ebe80f1ced-01 outer:exit 2b-4a110e392f4263e64873f16df247fa0b1c1f3d60-92651ddd08bef839-01
2022-04-21T21:05:25.706Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:05:25.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-857643e98a2fc28516298235bac7ba98d4427fda-362bb3b54dc7acac-01 outer:exit 2b-857643e98a2fc28516298235bac7ba98d4427fda-233e632ef048f42a-01
2022-04-21T21:05:25.717Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:05:25.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-50f9ba428da9d9c2f28bcb041c9134952c00b212-02975abb72135c34-01 outer:exit 2b-50f9ba428da9d9c2f28bcb041c9134952c00b212-dbe90f3b39e439b5-01
2022-04-21T21:05:25.727Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:05:25.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-df459e7b03ea22b7b39fb00c27a145b86a3a4023-0ba0cee921ce256e-01 outer:exit 2b-df459e7b03ea22b7b39fb00c27a145b86a3a4023-bdaa321824b2dbde-01
2022-04-21T21:05:25.730Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:05:25.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-7254ef0125ba92206832bb224c1a5147a31bbe08-ef51bcf80c0d0c0c-01 outer:exit 2b-7254ef0125ba92206832bb224c1a5147a31bbe08-7928060a5f6e6700-01
2022-04-21T21:05:25.733Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:05:25.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e6bbe8166f3af399919a2c9590466d3c7d08400-25b233d42312a2cd-01 outer:exit 2b-0e6bbe8166f3af399919a2c9590466d3c7d08400-10e295e7d2bb0e86-01
2022-04-21T21:05:25.735Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:05:25.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-4471b594847a9438cbee42f09f81750b12d72ca6-8eae5ffadd80a53d-01 outer:exit 2b-4471b594847a9438cbee42f09f81750b12d72ca6-0751a98ad4218888-01
2022-04-21T21:05:25.778Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (360ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:33.107Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:33.108Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:33.108Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:33.109Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:33.183Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:33.351Z appoptics:patching patched crypto 
2022-04-21T21:05:33.395Z appoptics:patching patched https 
2022-04-21T21:05:33.396Z appoptics:patching patched http 
2022-04-21T21:05:33.446Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:33.446Z appoptics:patching patched fs 
2022-04-21T21:05:33.462Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v16.14.2)
2022-04-21T21:05:33.469Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-21T21:05:33.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e2c9280cd10b2039ccfd6ac67e633f24596c062-38d6d46c03d7e24b-01 outer:exit 2b-5e2c9280cd10b2039ccfd6ac67e633f24596c062-a5235915811f6b4c-01
2022-04-21T21:05:33.518Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:05:33.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-5059de64b6c5673302ed0aaaa32bb5c76895dcaa-c790ff538d44e996-01 outer:exit 2b-5059de64b6c5673302ed0aaaa32bb5c76895dcaa-58f95e3c51654f0c-01
2022-04-21T21:05:33.567Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:05:33.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-86817474a20243852b82a3be931ccd3320d1985a-60ea56bf2cfa44cb-01 outer:exit 2b-86817474a20243852b82a3be931ccd3320d1985a-d8ebe42ea062380e-01
2022-04-21T21:05:33.571Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:05:33.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-1867b6e8aa78d3b8d57e576ba351b1db016cc306-f6627b412d9c16ab-01 outer:exit 2b-1867b6e8aa78d3b8d57e576ba351b1db016cc306-7630010af3af695c-01
2022-04-21T21:05:33.575Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:05:33.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-067ec96b722d45e6b0d2b3a678c95c231d0446a9-492cb873e98c898e-01 outer:exit 2b-067ec96b722d45e6b0d2b3a678c95c231d0446a9-e80588c4fa5498c3-01
2022-04-21T21:05:33.583Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:05:33.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dbf06566efe7e0a1b71e0515c1510497e4b46a7-0b770dd5c21591bb-01 outer:exit 2b-7dbf06566efe7e0a1b71e0515c1510497e4b46a7-0a545f94c4983856-01
2022-04-21T21:05:33.586Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:05:33.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-56fa255dd604ddb6fddea39e697567dc937f78b9-bbd63227646596a7-01 outer:exit 2b-56fa255dd604ddb6fddea39e697567dc937f78b9-4cc517a75c4db5a9-01
2022-04-21T21:05:33.589Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:05:33.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-943eaf2cb7650d499636f47304592825acab1d6f-f0f9d60156764a29-01 outer:exit 2b-943eaf2cb7650d499636f47304592825acab1d6f-bebd97c7d1321b6b-01
2022-04-21T21:05:33.592Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:05:33.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-5730f19acb80da38ccfd9bd997964d1a4728e28c-e60e5fef8b75459a-01 outer:exit 2b-5730f19acb80da38ccfd9bd997964d1a4728e28c-b3663e6a658f9193-01
2022-04-21T21:05:33.595Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:05:33.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4715834f33c59037dd2b7d6ef2904ba2d1f7c7d-7a813db61fed8e53-01 outer:exit 2b-d4715834f33c59037dd2b7d6ef2904ba2d1f7c7d-b870de3e85c05887-01
2022-04-21T21:05:33.599Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:05:33.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-a39c361817a2f4fca9a13a64f11ece5321792fb3-74df2a09e524d27e-01 outer:exit 2b-a39c361817a2f4fca9a13a64f11ece5321792fb3-d7ab5f7ef885d9f0-01
2022-04-21T21:05:33.603Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:05:33.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eb96b8c0224d3f9163dc932bf0b6e10fcaa6b44-af9e97567cd9a3c5-01 outer:exit 2b-6eb96b8c0224d3f9163dc932bf0b6e10fcaa6b44-73b2ce05d0b9538b-01
2022-04-21T21:05:33.611Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:05:33.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebab6f7e2d4bdad19b989b9229c0da1186f58686-fb6a0a3434aafc8b-01 outer:exit 2b-ebab6f7e2d4bdad19b989b9229c0da1186f58686-c429940c019c894d-01
2022-04-21T21:05:33.626Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:05:33.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-603312a7d2b31a9af03bd858de762e6cf4e6dee2-a8642f03678f840d-01 outer:exit 2b-603312a7d2b31a9af03bd858de762e6cf4e6dee2-f5abf224a45c6b13-01
2022-04-21T21:05:33.669Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:05:33.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f363583ec91fa4412e9904252debddf2e016dc-4f637a59b9599b0e-01 outer:exit 2b-29f363583ec91fa4412e9904252debddf2e016dc-199a79fd630862ae-01
2022-04-21T21:05:33.672Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:05:33.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-da0a43678132806f20c0d6a56efcf4d618108c9b-bf8be7288e48ef86-01 outer:exit 2b-da0a43678132806f20c0d6a56efcf4d618108c9b-9b6f1b5b709e8c00-01
2022-04-21T21:05:33.675Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:05:33.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-be4b0f1cd2b85d1b255688d2e31a2a7e9dfda2ed-50ce2644958073d7-01 outer:exit 2b-be4b0f1cd2b85d1b255688d2e31a2a7e9dfda2ed-a7e208678ed83b03-01
2022-04-21T21:05:33.678Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:05:33.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-a759175f32f49998a9398b623506312d3e8062fc-6a2a708b6f041f30-01 outer:exit 2b-a759175f32f49998a9398b623506312d3e8062fc-4a5d6723067c150a-01
2022-04-21T21:05:33.681Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:05:33.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5af928d814a004503197cd58a62ed91c99ab6b-a12cb6fdfb0a9375-01 outer:exit 2b-6a5af928d814a004503197cd58a62ed91c99ab6b-5dde29f5a0eb3235-01
2022-04-21T21:05:33.683Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:05:33.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb05014c3ad2d6ce8a19318df6cad4564790a3ff-b0e1d3272e210067-01 outer:exit 2b-fb05014c3ad2d6ce8a19318df6cad4564790a3ff-253b4b347d15f32f-01
2022-04-21T21:05:33.685Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:05:33.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-3365f6519b31719c782960d637d20354147bc89b-25b1895d6c90f622-01 outer:exit 2b-3365f6519b31719c782960d637d20354147bc89b-8cfbc818062d203a-01
2022-04-21T21:05:33.688Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:05:33.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c7f41403abf8caa544438576942d7e08682c95d-e72f9f42f50f0abb-01 outer:exit 2b-4c7f41403abf8caa544438576942d7e08682c95d-49be03eebfc03ae4-01
2022-04-21T21:05:33.690Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:05:33.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-18b8aa75fe39bbb13876bd155f4ed12c0f024b4b-06b13ace4c67837e-01 outer:exit 2b-18b8aa75fe39bbb13876bd155f4ed12c0f024b4b-16365a2919df7aca-01
2022-04-21T21:05:33.693Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:05:33.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-988723fcab691be4db53fac54c1d240b5e71dea1-c71f72720cc8ad18-01 outer:exit 2b-988723fcab691be4db53fac54c1d240b5e71dea1-935f95554d258b42-01
2022-04-21T21:05:33.696Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:05:33.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-da9dcb57e6fe059c424cb469598df633f5af472e-5fad4bad744c6f47-01 outer:exit 2b-da9dcb57e6fe059c424cb469598df633f5af472e-9ac6b3da32759357-01
2022-04-21T21:05:33.698Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:05:33.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6ed9e4ea289846918da5ea01a191a9e31b1042d-c2421f808ac7ccde-01 outer:exit 2b-f6ed9e4ea289846918da5ea01a191a9e31b1042d-770456eadd2d8f2e-01
2022-04-21T21:05:33.701Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:05:33.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-551f1a8f9579376eb7b7d8016d5e9e1c5f3b2fcf-0101dec914566ce3-01 outer:exit 2b-551f1a8f9579376eb7b7d8016d5e9e1c5f3b2fcf-a897d9c98d4c71c3-01
2022-04-21T21:05:33.707Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:05:33.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc867ac67206409054ba468b2e1fc460221cbf38-bd1fa4e6d75e8cce-01 outer:exit 2b-cc867ac67206409054ba468b2e1fc460221cbf38-45305cc394f52805-01
2022-04-21T21:05:33.712Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:05:33.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5416896e363fd26b3cac1c9c0954e796e592612-cd50a37aab278c54-01 outer:exit 2b-a5416896e363fd26b3cac1c9c0954e796e592612-073f555e8594ff29-01
2022-04-21T21:05:33.722Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:05:33.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-95304b2cdc73e9f5e390826204a5b3dc6a8c1321-ac7915e30ddaa824-01 outer:exit 2b-95304b2cdc73e9f5e390826204a5b3dc6a8c1321-553b44d50139f43b-01
2022-04-21T21:05:33.731Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:05:33.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-56bc145454b23cfd934654aad2ef4413d9a846fa-539cc3a4cd64b4c5-01 outer:exit 2b-56bc145454b23cfd934654aad2ef4413d9a846fa-2c5e7fd05656a280-01
2022-04-21T21:05:33.733Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:05:33.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-e086891e6642fddefc533f40cb95703555f7d1da-09cb73dfa8b534f7-01 outer:exit 2b-e086891e6642fddefc533f40cb95703555f7d1da-a9757227719a2f1a-01
2022-04-21T21:05:33.736Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:05:33.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-efa92be3cb20899e3ec65cea448eaddf2fae20a9-12cf7b63db64be79-01 outer:exit 2b-efa92be3cb20899e3ec65cea448eaddf2fae20a9-139a723a9a638163-01
2022-04-21T21:05:33.744Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:05:33.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-917cb36a4a0f747c44e34a3123ef81f8ed19c5a3-12fcf8e18e073d93-01 outer:exit 2b-917cb36a4a0f747c44e34a3123ef81f8ed19c5a3-c0a05f6b58dba653-01
2022-04-21T21:05:33.747Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:05:33.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bee69dadd7873c11b95a900819cf0ca5887738f-4f90d2acdf8be8c4-01 outer:exit 2b-7bee69dadd7873c11b95a900819cf0ca5887738f-e00f16ae50b30556-01
2022-04-21T21:05:33.749Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:05:33.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-13bc982e52ece8f83e50cd0f257d111c4c335637-d591621f963acec8-01 outer:exit 2b-13bc982e52ece8f83e50cd0f257d111c4c335637-e69bb9a8013ad48f-01
2022-04-21T21:05:33.751Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:05:33.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c7c6521df87f5e389d20620b80bd9aeef8db58-c6d3664bb53d5bb4-01 outer:exit 2b-71c7c6521df87f5e389d20620b80bd9aeef8db58-963e9104a9b85831-01
2022-04-21T21:05:33.753Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:05:33.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9755ee6ad3e3ffb5f2a6a415a397d9340933da1-65988879c7709390-01 outer:exit 2b-b9755ee6ad3e3ffb5f2a6a415a397d9340933da1-ebd82913734edcb5-01
2022-04-21T21:05:33.756Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:05:33.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbf0af8295a29328401ae135913ec023fdbbcd90-fb20612551cee224-01 outer:exit 2b-bbf0af8295a29328401ae135913ec023fdbbcd90-d563be488ab379cb-01
2022-04-21T21:05:33.766Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:05:33.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-93e1398442eb234921b1711315aa6d4328bcc08c-43e02e714ed28c07-01 outer:exit 2b-93e1398442eb234921b1711315aa6d4328bcc08c-28aa3fcf055ac931-01
2022-04-21T21:05:33.777Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:05:33.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-81142657ab48b0048039594e8fa2127e866c0c9f-733b6404c41d7292-01 outer:exit 2b-81142657ab48b0048039594e8fa2127e866c0c9f-0b17caddabe8239d-01
2022-04-21T21:05:33.781Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:05:33.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb075860924b5c2285409431af7bbd8065f1a963-5dfde85bdbbe6f7d-01 outer:exit 2b-fb075860924b5c2285409431af7bbd8065f1a963-9d67e6dfb490a05c-01
2022-04-21T21:05:33.784Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:05:33.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b6f87b4551967ed7b3b1bfd726e08d2d68122a0-645ff6eaedaee698-01 outer:exit 2b-3b6f87b4551967ed7b3b1bfd726e08d2d68122a0-e55dec865514058a-01
2022-04-21T21:05:33.787Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:05:33.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b94696bcc836ed8a9dcdc02f93fc708961179b6-916243daaacc8a5c-01 outer:exit 2b-7b94696bcc836ed8a9dcdc02f93fc708961179b6-fd0c4588cc9e7353-01
2022-04-21T21:05:33.819Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (343ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:40.308Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:40.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:40.309Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:40.310Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:40.381Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:40.519Z appoptics:patching patched crypto 
2022-04-21T21:05:40.539Z appoptics:patching patched https 
2022-04-21T21:05:40.540Z appoptics:patching patched http 
2022-04-21T21:05:40.594Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:40.594Z appoptics:patching patched fs 
2022-04-21T21:05:40.610Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v16.14.2)
2022-04-21T21:05:40.617Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-21T21:05:40.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb3e6fdfd66d87855301870a4e4f0c18dafd6728-1936b4b60dcf72da-01 outer:exit 2b-cb3e6fdfd66d87855301870a4e4f0c18dafd6728-480abe94418cc7b1-01
2022-04-21T21:05:40.669Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:05:40.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a0753371d4d5b40869c5afb8eb898d47844bb81-ed8ef9edb8b056e5-01 outer:exit 2b-0a0753371d4d5b40869c5afb8eb898d47844bb81-35854a8be086119a-01
2022-04-21T21:05:40.719Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:05:40.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0b8e149a08e8e2a6ae87e0d2c745ba122b5c79a-7645de27033df80a-01 outer:exit 2b-b0b8e149a08e8e2a6ae87e0d2c745ba122b5c79a-4a6c75c9a0d3c4ec-01
2022-04-21T21:05:40.724Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:05:40.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-b74a06053caf6575dfe99fa8c94c2562fb47eed0-1f61d9b1b890162c-01 outer:exit 2b-b74a06053caf6575dfe99fa8c94c2562fb47eed0-088f657d5029caf4-01
2022-04-21T21:05:40.727Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:05:40.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-01805c2b08e192371401d144de76f9df42e428ac-8a4ff093142a1d1d-01 outer:exit 2b-01805c2b08e192371401d144de76f9df42e428ac-f624605cc60f962b-01
2022-04-21T21:05:40.733Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:05:40.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cf9ca0d63f1417e2eba9fc5e088bd2e0c8c29ea-8d640ec823cf9268-01 outer:exit 2b-3cf9ca0d63f1417e2eba9fc5e088bd2e0c8c29ea-694a2527993fecad-01
2022-04-21T21:05:40.737Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:05:40.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d1b88a43dfbe3ca041a253edcf6ba11f0f70dc2-44d7ad8a4a358bbb-01 outer:exit 2b-6d1b88a43dfbe3ca041a253edcf6ba11f0f70dc2-e31d2804e8075c12-01
2022-04-21T21:05:40.741Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:05:40.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-f43e726fb283aaf9169d3c12e806665d0c6cae9f-000c6162e2890726-01 outer:exit 2b-f43e726fb283aaf9169d3c12e806665d0c6cae9f-fc41785192625764-01
2022-04-21T21:05:40.744Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:05:40.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-7409421d72ca708becfac84b25d53c9e38017deb-158353fa5a58a639-01 outer:exit 2b-7409421d72ca708becfac84b25d53c9e38017deb-3be07b6b4554edf8-01
2022-04-21T21:05:40.747Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:05:40.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-15972dcfb4350a9b73612a2ba39ee2624aa5f9ca-b302c36563ff7e6c-01 outer:exit 2b-15972dcfb4350a9b73612a2ba39ee2624aa5f9ca-57075cc0197ac4c8-01
2022-04-21T21:05:40.751Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:05:40.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6765bfd56d49faa300b2711c01df50a8f7d6180-0b38c0e2508f21eb-01 outer:exit 2b-b6765bfd56d49faa300b2711c01df50a8f7d6180-ab7ff688a6bb5d94-01
2022-04-21T21:05:40.755Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:05:40.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-47441c3f94a96e2bcfa5b9a824f9379aa60abb48-90571a552dfac73a-01 outer:exit 2b-47441c3f94a96e2bcfa5b9a824f9379aa60abb48-f6785fced8bfb73a-01
2022-04-21T21:05:40.763Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:05:40.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-adae5671e078e635a27712a313e9f49b069abb08-f0b4643485dd10ec-01 outer:exit 2b-adae5671e078e635a27712a313e9f49b069abb08-a3dddb81601f6724-01
2022-04-21T21:05:40.783Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:05:40.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bd9a980ed209c6c712338fd70f87c3fac612136-67db7dde9e2d36f8-01 outer:exit 2b-7bd9a980ed209c6c712338fd70f87c3fac612136-cc3c9f0f32bd8d5b-01
2022-04-21T21:05:40.825Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:05:40.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-76a891b03b4d4886dc1bad523ac5d04190cfd393-6a816c278e95f3bc-01 outer:exit 2b-76a891b03b4d4886dc1bad523ac5d04190cfd393-929bc89bd2f3c743-01
2022-04-21T21:05:40.828Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:05:40.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e2c8795de8adac44a40a02aac1a93aeedded311-6f8042028ba4281a-01 outer:exit 2b-2e2c8795de8adac44a40a02aac1a93aeedded311-3ea633b412587227-01
2022-04-21T21:05:40.831Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:05:40.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-2819f113734a165a835e72158787f44b29d1c209-f92b13ff4ff93933-01 outer:exit 2b-2819f113734a165a835e72158787f44b29d1c209-7f28e4d55e97cd51-01
2022-04-21T21:05:40.834Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:05:40.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a7d4d07f20f59bdf31cb89b1bb0e4fac16cc4ed-165ab0c0593686b2-01 outer:exit 2b-6a7d4d07f20f59bdf31cb89b1bb0e4fac16cc4ed-96287dd3c80157d4-01
2022-04-21T21:05:40.836Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:05:40.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8e2ec6bed8728fac9abb6b23428b931af8b6633-c4a7d1806e48d85a-01 outer:exit 2b-e8e2ec6bed8728fac9abb6b23428b931af8b6633-b2d11cde24a6cad9-01
2022-04-21T21:05:40.838Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:05:40.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-aef0a49178d44d8854a4087472dea44f40084902-c9feafa82101032e-01 outer:exit 2b-aef0a49178d44d8854a4087472dea44f40084902-8369b9176135491d-01
2022-04-21T21:05:40.841Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:05:40.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-301fd12aa7c18982de99bbdb7abbb976aabbb691-cdf8e5df80c287dd-01 outer:exit 2b-301fd12aa7c18982de99bbdb7abbb976aabbb691-896cd8d547d1996f-01
2022-04-21T21:05:40.843Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:05:40.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f2e57beb860b2f894e7f76fbc5b666e14ed2856-b030f7568cd25f78-01 outer:exit 2b-1f2e57beb860b2f894e7f76fbc5b666e14ed2856-dc1397687dc86041-01
2022-04-21T21:05:40.845Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:05:40.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-d78cb914a75339f897ac29908995503a409e4e7b-c562810718c480b9-01 outer:exit 2b-d78cb914a75339f897ac29908995503a409e4e7b-77eb5e50db20c575-01
2022-04-21T21:05:40.848Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:05:40.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ea5f12c28e9ce691190ba51873719c920a78856-9c0a4e0d6abfabdd-01 outer:exit 2b-0ea5f12c28e9ce691190ba51873719c920a78856-42349ec49bc5924f-01
2022-04-21T21:05:40.851Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:05:40.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-6766e0c64d059227d29a5d86f54232048075667a-4c870e45845373af-01 outer:exit 2b-6766e0c64d059227d29a5d86f54232048075667a-eb08d5745d399a09-01
2022-04-21T21:05:40.854Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:05:40.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-f70211a536e1a4c99431c19e81db347d702afa47-2c27423008559f36-01 outer:exit 2b-f70211a536e1a4c99431c19e81db347d702afa47-27948c3f24acecf2-01
2022-04-21T21:05:40.856Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:05:40.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-210fc57283c7668c74a76c0bb2e4d311f7811601-4df861b5f15ec357-01 outer:exit 2b-210fc57283c7668c74a76c0bb2e4d311f7811601-f79004ee72cb50fb-01
2022-04-21T21:05:40.863Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:05:40.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-03aee6ea6ea7dc1af6d376f1409e2bb44b42a14f-ac0f059a2d2bece0-01 outer:exit 2b-03aee6ea6ea7dc1af6d376f1409e2bb44b42a14f-95871b8d39199619-01
2022-04-21T21:05:40.869Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:05:40.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ddd453c238442a6041422bcbf0e049a03f2cb39-ff52b3c31beb87d6-01 outer:exit 2b-0ddd453c238442a6041422bcbf0e049a03f2cb39-1fb28df303b91c6e-01
2022-04-21T21:05:40.879Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:05:40.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-f19e5620351c4babe431deb972c450e06d628ad2-36addb33bca29f61-01 outer:exit 2b-f19e5620351c4babe431deb972c450e06d628ad2-dad2e4741b8a4ccb-01
2022-04-21T21:05:40.888Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:05:40.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a2e2fcd7d4f889f7ce3c0647b3842b6e35d30b2-94d4436c4747286a-01 outer:exit 2b-9a2e2fcd7d4f889f7ce3c0647b3842b6e35d30b2-0fa3cab3d31ae7fd-01
2022-04-21T21:05:40.891Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:05:40.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e5d4593310cfb0cfdc5bd4d3c2eb85877af5c4e-1202ce7e76dbcc18-01 outer:exit 2b-9e5d4593310cfb0cfdc5bd4d3c2eb85877af5c4e-6064dec1442261cf-01
2022-04-21T21:05:40.894Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:05:40.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ad72ecb32cd7c50bf1c9156aeb6acfa4c1f982-b668b5b14904f76f-01 outer:exit 2b-d7ad72ecb32cd7c50bf1c9156aeb6acfa4c1f982-070ad034c1a20b61-01
2022-04-21T21:05:40.902Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:05:40.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-56ae2d5db6aaae3ba07d3711c8826400520fb8e1-5b7b451d59c5f86d-01 outer:exit 2b-56ae2d5db6aaae3ba07d3711c8826400520fb8e1-536ad40b6fbdd365-01
2022-04-21T21:05:40.904Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:05:40.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-a18d6e51be77c23c97d762d61028b88a6c38fd5d-fbe42b312f3935df-01 outer:exit 2b-a18d6e51be77c23c97d762d61028b88a6c38fd5d-96b5f34b6063ba81-01
2022-04-21T21:05:40.906Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:05:40.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-2da13853467b26883aa9946c8a33ef5437b27631-0f14befbabdfb003-01 outer:exit 2b-2da13853467b26883aa9946c8a33ef5437b27631-b4ba3ef2d9ba92ad-01
2022-04-21T21:05:40.908Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:05:40.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a002c63f00145f8a47e9b33ea5dc353778c297a-1cb5c7540ae6cc7b-01 outer:exit 2b-1a002c63f00145f8a47e9b33ea5dc353778c297a-eb51add4f7fb85d0-01
2022-04-21T21:05:40.910Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:05:40.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a957755e7e5beae0d953546da5d9dff3a9efbc-72974b7dc5c40bfe-01 outer:exit 2b-53a957755e7e5beae0d953546da5d9dff3a9efbc-6d7643e4d273e320-01
2022-04-21T21:05:40.913Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:05:40.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-92d51db909ad6ca735c1b547a04bf67437bdf1fe-fb3257b87c4ff6cf-01 outer:exit 2b-92d51db909ad6ca735c1b547a04bf67437bdf1fe-52013343108bebc9-01
2022-04-21T21:05:40.923Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:05:40.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-15a096d9da4df92ad61947a660318a402cb991c3-cdcd5bada46b70ca-01 outer:exit 2b-15a096d9da4df92ad61947a660318a402cb991c3-a1128e19133f3750-01
2022-04-21T21:05:40.933Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:05:40.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-8091410156a4fb609b93b1826c8d865aedc9f131-8ae6e92478de72a6-01 outer:exit 2b-8091410156a4fb609b93b1826c8d865aedc9f131-8bf98557a93ac13b-01
2022-04-21T21:05:40.936Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:05:40.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fa42b8bd1c6d2db7759356c18a12baf4c295470-3b90ea57037463de-01 outer:exit 2b-7fa42b8bd1c6d2db7759356c18a12baf4c295470-fe33e55ba4b4db2c-01
2022-04-21T21:05:40.939Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:05:40.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bcf60421cd41be36af5e0b5f3c8c3f7d4c1c52c-c6dec56e7f884563-01 outer:exit 2b-1bcf60421cd41be36af5e0b5f3c8c3f7d4c1c52c-1d3390d524ae1ba8-01
2022-04-21T21:05:40.943Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:05:40.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-d217c3428a41206fb0fe449b9523f4f6a56864ff-94d6c0778d8d9087-01 outer:exit 2b-d217c3428a41206fb0fe449b9523f4f6a56864ff-6eae9fdc016bc207-01
2022-04-21T21:05:40.975Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (352ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:48.108Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:48.109Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:48.109Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:48.109Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:48.179Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:48.317Z appoptics:patching patched crypto 
2022-04-21T21:05:48.341Z appoptics:patching patched https 
2022-04-21T21:05:48.341Z appoptics:patching patched http 
2022-04-21T21:05:48.391Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:48.392Z appoptics:patching patched fs 
2022-04-21T21:05:48.408Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v16.14.2)
2022-04-21T21:05:48.415Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-21T21:05:48.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-620bd044a776716116e2918fc5554b2986f9dda8-a78b0c3aaf7b49b8-01 outer:exit 2b-620bd044a776716116e2918fc5554b2986f9dda8-7ebb7f202755b4bf-01
2022-04-21T21:05:48.472Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:05:48.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2de0b9da23e27e6a9d086366203d77d5b98f74b-1a49e5b6daa88969-01 outer:exit 2b-a2de0b9da23e27e6a9d086366203d77d5b98f74b-dec62b6605650a3f-01
2022-04-21T21:05:48.532Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:05:48.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb3073ddca212ec6ece94d29ee911797120d96b1-8e8e719dad324a92-01 outer:exit 2b-bb3073ddca212ec6ece94d29ee911797120d96b1-6f624f6a9273710d-01
2022-04-21T21:05:48.538Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:05:48.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2fbce503d905b150fe50e75afcb9fbed5702359-3eb857be13b5fdae-01 outer:exit 2b-f2fbce503d905b150fe50e75afcb9fbed5702359-b3f4daf9a9aa026d-01
2022-04-21T21:05:48.542Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:05:48.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-56c0b052c015df403b8bf4e71657910f8e963167-cb2583ef8bf5a14a-01 outer:exit 2b-56c0b052c015df403b8bf4e71657910f8e963167-15fa18779f888350-01
2022-04-21T21:05:48.548Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:05:48.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a11bc3370f13f418deefbab2279bfc478538bc8-1ae4f3cf33090f16-01 outer:exit 2b-8a11bc3370f13f418deefbab2279bfc478538bc8-4b0f1b8a3f29fd55-01
2022-04-21T21:05:48.551Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:05:48.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-1604321921934dfeeb8f242b82b0069feff58899-d081d01688938a94-01 outer:exit 2b-1604321921934dfeeb8f242b82b0069feff58899-0d95628efd57b7e2-01
2022-04-21T21:05:48.555Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:05:48.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-48b9a6f05fa6aa1987a1b5f029275aa11c6b7e7b-4caa6cb663985497-01 outer:exit 2b-48b9a6f05fa6aa1987a1b5f029275aa11c6b7e7b-2872d7bd71bc864e-01
2022-04-21T21:05:48.559Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:05:48.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1dbcae7f6a7bf083dd4c54407c809c670619cd0-4f241e981c0c83c0-01 outer:exit 2b-e1dbcae7f6a7bf083dd4c54407c809c670619cd0-d0958f70b33624d8-01
2022-04-21T21:05:48.562Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:05:48.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f8a876958b50487e7f72c73e4245767e0609add-32ab12ca944f0532-01 outer:exit 2b-5f8a876958b50487e7f72c73e4245767e0609add-ef496b978ac415a7-01
2022-04-21T21:05:48.570Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:05:48.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-40c5b9fff399c77943263c84f0610fb5c28e4fe3-198659e30c150d02-01 outer:exit 2b-40c5b9fff399c77943263c84f0610fb5c28e4fe3-eab8e73197885267-01
2022-04-21T21:05:48.574Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:05:48.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cad6f07ca32a24fee86569575dcddab31a46324-549d8a28b7914d4f-01 outer:exit 2b-2cad6f07ca32a24fee86569575dcddab31a46324-2caa6ef3a35554b4-01
2022-04-21T21:05:48.596Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:05:48.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7c7439754f5a7b2f70f334805067476976b4d77-a8eae3f63445802a-01 outer:exit 2b-e7c7439754f5a7b2f70f334805067476976b4d77-81e406218edc6a00-01
2022-04-21T21:05:48.617Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:05:48.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa3ca56957a31cf42a12c946e507d746eba874fa-0c76495394383f26-01 outer:exit 2b-fa3ca56957a31cf42a12c946e507d746eba874fa-e81057e585ca3ba1-01
2022-04-21T21:05:48.660Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:05:48.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-7586cb1358a5ed1df26451b4039a1dbab02c4752-f1e633a2710b59bb-01 outer:exit 2b-7586cb1358a5ed1df26451b4039a1dbab02c4752-5dfd098c90c9fe53-01
2022-04-21T21:05:48.663Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:05:48.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-0096303217451916fb340783310a9eb00177253c-f6f59a9d3cdedeef-01 outer:exit 2b-0096303217451916fb340783310a9eb00177253c-75d148bf5b818b41-01
2022-04-21T21:05:48.669Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:05:48.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b0a9b9efdcd17ddbb0a725dcb2b101ba6ee1607-5f968ae0382c08cc-01 outer:exit 2b-6b0a9b9efdcd17ddbb0a725dcb2b101ba6ee1607-3983e7f906ac016b-01
2022-04-21T21:05:48.673Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:05:48.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-44fa3262ea4ea7729316944487d9834637553cb2-82ce3e6a1f5c7ebb-01 outer:exit 2b-44fa3262ea4ea7729316944487d9834637553cb2-a9b402a5aa6e9214-01
2022-04-21T21:05:48.675Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:05:48.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e9efaf022993e804027051819ce4496326a4a31-30e3c7b8077d335c-01 outer:exit 2b-6e9efaf022993e804027051819ce4496326a4a31-e9a90b46f63e144d-01
2022-04-21T21:05:48.677Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:05:48.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fac48c27d71d808d00701785aefb8978936dfb4-46fe8e5c9531c3b5-01 outer:exit 2b-4fac48c27d71d808d00701785aefb8978936dfb4-c616f7104cf7f27f-01
2022-04-21T21:05:48.680Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:05:48.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-98cbf92add0beae509892ab515a53fb194c21beb-d8194e40da139e0b-01 outer:exit 2b-98cbf92add0beae509892ab515a53fb194c21beb-dd5c19c0f15753e3-01
2022-04-21T21:05:48.682Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:05:48.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-f86649fddecfc9109cc3e4f754ec00923c02539e-830eafaed2d78f6b-01 outer:exit 2b-f86649fddecfc9109cc3e4f754ec00923c02539e-b39857927d6d730e-01
2022-04-21T21:05:48.684Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:05:48.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-45bb6e5d70991a4798361cf68281b09cc914b6f3-b399b45ee4dfae30-01 outer:exit 2b-45bb6e5d70991a4798361cf68281b09cc914b6f3-9fc2b70e5b105dba-01
2022-04-21T21:05:48.688Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:05:48.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e4d12a9e826ea5e4b4cb75eb260db1cb4317a0c-20631e853246ef62-01 outer:exit 2b-5e4d12a9e826ea5e4b4cb75eb260db1cb4317a0c-826dcfae02e79dc9-01
2022-04-21T21:05:48.690Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:05:48.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-faf61a09a80f969b92955979449ae8ee2bcafe1a-6eea410239c74429-01 outer:exit 2b-faf61a09a80f969b92955979449ae8ee2bcafe1a-dc94cdec1fc4ff95-01
2022-04-21T21:05:48.693Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:05:48.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-37be1fc191e0edef1560dcce80a4e73bdbe04bd0-20e116f773e64bf5-01 outer:exit 2b-37be1fc191e0edef1560dcce80a4e73bdbe04bd0-ec287255ca821925-01
2022-04-21T21:05:48.696Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:05:48.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-f01c6a7773e7785d6fc39a9890b4d9375bcda15a-826246bb157cefee-01 outer:exit 2b-f01c6a7773e7785d6fc39a9890b4d9375bcda15a-e5781e1289607504-01
2022-04-21T21:05:48.716Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:05:48.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-570d0de5e4333cb28feae5708ebd7c1d0936e4f2-c3149375b16bb6c4-01 outer:exit 2b-570d0de5e4333cb28feae5708ebd7c1d0936e4f2-b2083846c34322ec-01
2022-04-21T21:05:48.739Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:05:48.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-f564d6509af052f84c6fad870bd3e5ac3b936464-536dd69c732dd77e-01 outer:exit 2b-f564d6509af052f84c6fad870bd3e5ac3b936464-41566f02a981ef71-01
2022-04-21T21:05:48.757Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:05:48.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d42ad41fc505671a44e8fa8a45e601f25c3d78-ce4acf0dd3ee27ac-01 outer:exit 2b-47d42ad41fc505671a44e8fa8a45e601f25c3d78-b5a9d627da600099-01
2022-04-21T21:05:48.774Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:05:48.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-b701970aa8e87d75c5d96e36124e4b89cf9c8e01-67a37ef0500dfac2-01 outer:exit 2b-b701970aa8e87d75c5d96e36124e4b89cf9c8e01-bc5f17e6f288be16-01
2022-04-21T21:05:48.778Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:05:48.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0c8b9d7e28369aa26240daf5ee5d7af7f7a0767-c0aed4cbf77b5c24-01 outer:exit 2b-b0c8b9d7e28369aa26240daf5ee5d7af7f7a0767-5c492d0655f16a15-01
2022-04-21T21:05:48.784Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:05:48.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-62b28fb3c0aec18353ce8060778655c504de2483-486200a0815914c5-01 outer:exit 2b-62b28fb3c0aec18353ce8060778655c504de2483-4df2e202534535aa-01
2022-04-21T21:05:48.794Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:05:48.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-04f5bd58f232a480aebd05a0feb0708cbb34d21e-8328a380c0209bce-01 outer:exit 2b-04f5bd58f232a480aebd05a0feb0708cbb34d21e-877bfaf001375ca9-01
2022-04-21T21:05:48.798Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:05:48.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad37ec9609454183f8706e28d85749725ce30b99-de42ba1585cfd4f0-01 outer:exit 2b-ad37ec9609454183f8706e28d85749725ce30b99-2ddada7c911ab024-01
2022-04-21T21:05:48.801Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:05:48.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-92eaaf0e9c9790540906c5bff8b0bbafa6664752-c83651281071468b-01 outer:exit 2b-92eaaf0e9c9790540906c5bff8b0bbafa6664752-3bed8d5e80af8e38-01
2022-04-21T21:05:48.803Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:05:48.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dbcb48c88387e8201ad85940918683270d1b158-eafc7368fea86f3e-01 outer:exit 2b-5dbcb48c88387e8201ad85940918683270d1b158-1cdbf06cf5fd7479-01
2022-04-21T21:05:48.805Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:05:48.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d9641b4ae44e5462251bcc5df9f74d75b28f8c1-d4040f62570ef4ee-01 outer:exit 2b-8d9641b4ae44e5462251bcc5df9f74d75b28f8c1-27036b39d86b71c6-01
2022-04-21T21:05:48.807Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:05:48.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-b88bb62ceb5b615c8bcc71c4618d695e8e6a8e52-e86bb29aca686324-01 outer:exit 2b-b88bb62ceb5b615c8bcc71c4618d695e8e6a8e52-93efee2ed42b442b-01
2022-04-21T21:05:48.819Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:05:48.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-c25b3e538bb6895380dcae9b5ffffe98a0f88af4-02e18cdeae875296-01 outer:exit 2b-c25b3e538bb6895380dcae9b5ffffe98a0f88af4-0d6bb5bcc83150fe-01
2022-04-21T21:05:48.834Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:05:48.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-56ed63bc970c2c0d384ed93854f79e522d7b4aa4-3422087f99f08e1e-01 outer:exit 2b-56ed63bc970c2c0d384ed93854f79e522d7b4aa4-8efda5f862b85d79-01
2022-04-21T21:05:48.839Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:05:48.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac0e23e3699a7b36b23e3a9275ee89b6df919da2-195f1a529d67095c-01 outer:exit 2b-ac0e23e3699a7b36b23e3a9275ee89b6df919da2-71a05b62d2ef0a2c-01
2022-04-21T21:05:48.843Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:05:48.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a6572ddf4f3bb11a978f3afb931fd32c4612a0a-66decc0d272669b2-01 outer:exit 2b-6a6572ddf4f3bb11a978f3afb931fd32c4612a0a-b2e944ae35fa91d1-01
2022-04-21T21:05:48.862Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:05:48.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-c43676957afbbe9ed22b8f00f107a2e29a8b5195-8255995c255ff34d-01 outer:exit 2b-c43676957afbbe9ed22b8f00f107a2e29a8b5195-25d1a9bbc7c27513-01
2022-04-21T21:05:48.917Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (495ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:05:55.394Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:05:55.395Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:05:55.395Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:05:55.396Z appoptics:debug using context provider: ace-context
2022-04-21T21:05:55.471Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:05:55.631Z appoptics:patching patched crypto 
2022-04-21T21:05:55.676Z appoptics:patching patched https 
2022-04-21T21:05:55.677Z appoptics:patching patched http 
2022-04-21T21:05:55.735Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:05:55.735Z appoptics:patching patched fs 
2022-04-21T21:05:55.755Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v16.14.2)
2022-04-21T21:05:55.762Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-21T21:05:55.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-d67fdc0866c3bfaab934b6e7d6197f97d7be0422-8b46c064e44859c0-01 outer:exit 2b-d67fdc0866c3bfaab934b6e7d6197f97d7be0422-2256b998ef4da398-01
2022-04-21T21:05:55.817Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:05:55.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aa1004843630e419e1b12eec0d32d129bc07ea2-4778ac87624428ba-01 outer:exit 2b-0aa1004843630e419e1b12eec0d32d129bc07ea2-fea610ffabf7ac9f-01
2022-04-21T21:05:55.868Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:05:55.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d9a5883906a24d07f9aab0be520696a474b75df-0a3411d2d85ded40-01 outer:exit 2b-0d9a5883906a24d07f9aab0be520696a474b75df-73c55a3e492b8306-01
2022-04-21T21:05:55.876Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:05:55.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-3948f623fed312bcef87873bbe5dd7ba0b4ae96a-bd62254927f53c3a-01 outer:exit 2b-3948f623fed312bcef87873bbe5dd7ba0b4ae96a-f0c72237313cf47d-01
2022-04-21T21:05:55.880Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:05:55.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-793d5df4369f1e7178f4de23679c06bc8e055bb1-21c0c965caed7e44-01 outer:exit 2b-793d5df4369f1e7178f4de23679c06bc8e055bb1-33fd6a07ed84ed96-01
2022-04-21T21:05:55.888Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:05:55.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-18c7c867c1e6e92c42750bd3a2e12fdb3049d506-c2734ffa6ba1564c-01 outer:exit 2b-18c7c867c1e6e92c42750bd3a2e12fdb3049d506-c178ab43609143eb-01
2022-04-21T21:05:55.891Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:05:55.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-364caba1c2ae348a5c47ae79ded7c3cabf2a78cd-d6021c7da7d5f815-01 outer:exit 2b-364caba1c2ae348a5c47ae79ded7c3cabf2a78cd-0f5ae3cf4ae3dcb2-01
2022-04-21T21:05:55.894Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:05:55.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-80f6cc3b1a45b9c764ed692789d7e1dbacdb7b84-3860c00de0445275-01 outer:exit 2b-80f6cc3b1a45b9c764ed692789d7e1dbacdb7b84-06513714afa7b2f8-01
2022-04-21T21:05:55.898Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:05:55.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e610c75024fd94ad4c7221fcd680df538e234a2-ddf3673ff7e84a97-01 outer:exit 2b-5e610c75024fd94ad4c7221fcd680df538e234a2-a4468ae6197f12b9-01
2022-04-21T21:05:55.901Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:05:55.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-292202c5ad52c6f43d9ad5b79a62096d9a06a0da-6fbb81594b464fcd-01 outer:exit 2b-292202c5ad52c6f43d9ad5b79a62096d9a06a0da-506c522a91bc7515-01
2022-04-21T21:05:55.904Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:05:55.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-2456753a657c11e282437f3b34eae53309b544c8-22fd90b99d89cedc-01 outer:exit 2b-2456753a657c11e282437f3b34eae53309b544c8-597ef5a38d5c2871-01
2022-04-21T21:05:55.909Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:05:55.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-f51fec30e8ec87cad2528eeba3872818b5f68b37-c010c94c710861a1-01 outer:exit 2b-f51fec30e8ec87cad2528eeba3872818b5f68b37-a2e5d6dbf3c38a5f-01
2022-04-21T21:05:55.916Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:05:55.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b199acef78351b9d79d48bd0c95f8331a8f210f-095bea055bc468d8-01 outer:exit 2b-5b199acef78351b9d79d48bd0c95f8331a8f210f-a517c82e35921cc9-01
2022-04-21T21:05:55.936Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:05:55.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-86f48f3a2984ea11c3a2922fd8a13bd1d4bc7ace-f916fa1b30fc69eb-01 outer:exit 2b-86f48f3a2984ea11c3a2922fd8a13bd1d4bc7ace-b8fb1312de25061e-01
2022-04-21T21:05:55.989Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:05:55.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0c945bba4b3079c73d8fc00ae7217cee178d1b8-a7d10059ae202a34-01 outer:exit 2b-d0c945bba4b3079c73d8fc00ae7217cee178d1b8-1ebf9bfecfc66ede-01
2022-04-21T21:05:55.994Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:05:55.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d4cb5862e4bdb57570ad6057a3a132851a8f3ec-e518a037b182cf74-01 outer:exit 2b-6d4cb5862e4bdb57570ad6057a3a132851a8f3ec-29baab297995ab0d-01
2022-04-21T21:05:55.997Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:05:56.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e5b8ab66e91217eb75a636067ff1fe1f5b24600-5085ff6327ffd52e-01 outer:exit 2b-6e5b8ab66e91217eb75a636067ff1fe1f5b24600-6e8a28c553e71278-01
2022-04-21T21:05:56.008Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:05:56.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9849c814c395ce7b5f4632d2fc7bd1705b90035-702bd309a4badd5f-01 outer:exit 2b-a9849c814c395ce7b5f4632d2fc7bd1705b90035-35d829b90940b998-01
2022-04-21T21:05:56.012Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:05:56.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7ba73a8377c8c290f8cf50f4091c846cff84b0a-86ff29a4ccc71f86-01 outer:exit 2b-b7ba73a8377c8c290f8cf50f4091c846cff84b0a-ca464d5bad148394-01
2022-04-21T21:05:56.016Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:05:56.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f1191a9a6d0c73aab541eef2a5a5350a15cda8b-266abaf39a9f9179-01 outer:exit 2b-1f1191a9a6d0c73aab541eef2a5a5350a15cda8b-8fb5c097005a99e8-01
2022-04-21T21:05:56.021Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:05:56.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-b79c674133e34f80687ae53461d092f84e234d84-a152c2c6806e8889-01 outer:exit 2b-b79c674133e34f80687ae53461d092f84e234d84-d74b9507cfdb72c8-01
2022-04-21T21:05:56.023Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:05:56.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-580f72134f2dddec1d7df5555436ba2bd4ea85d6-3260141384a7e6cf-01 outer:exit 2b-580f72134f2dddec1d7df5555436ba2bd4ea85d6-e47baa4a9f05434a-01
2022-04-21T21:05:56.026Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:05:56.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-de387271df3f07afc4e7c3b4a2686ffdf4d97250-d46657d75649b817-01 outer:exit 2b-de387271df3f07afc4e7c3b4a2686ffdf4d97250-00957afdffb71f82-01
2022-04-21T21:05:56.031Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:05:56.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-81920887da3db278e80fe7768bebbb8bfe55711f-36cb88cc7394dd05-01 outer:exit 2b-81920887da3db278e80fe7768bebbb8bfe55711f-25a43593395449f0-01
2022-04-21T21:05:56.034Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:05:56.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7b58da19a7d2bcf8a2365dea465048340f95fac-ca26aec4d1070950-01 outer:exit 2b-f7b58da19a7d2bcf8a2365dea465048340f95fac-69a7294cb8789b68-01
2022-04-21T21:05:56.037Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:05:56.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f243b5d80cf22aa8ed5b88a0e148c2df49afc7e-3cf7588a2034e786-01 outer:exit 2b-5f243b5d80cf22aa8ed5b88a0e148c2df49afc7e-07b93145ec42d98f-01
2022-04-21T21:05:56.040Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:05:56.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-f59d58d4e0df3d2f262ad101e399e2f862ca39c0-5e115d1e135c8b57-01 outer:exit 2b-f59d58d4e0df3d2f262ad101e399e2f862ca39c0-da0ad006dde63a9f-01
2022-04-21T21:05:56.047Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:05:56.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ba280b92611680af2c7e75c6787588dfc0b1e4f-e9a78ebef7c1ba50-01 outer:exit 2b-3ba280b92611680af2c7e75c6787588dfc0b1e4f-9232347db1b9a42f-01
2022-04-21T21:05:56.055Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:05:56.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-7890181a69b0dd2234d37ca55e64156cec1718d0-462bde9457f38bc8-01 outer:exit 2b-7890181a69b0dd2234d37ca55e64156cec1718d0-1d1fb8a2da5ffcf2-01
2022-04-21T21:05:56.072Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:05:56.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-129458424a9a6574428e09fdc6551b8fa8ad50c4-ee0a41a2be0637d9-01 outer:exit 2b-129458424a9a6574428e09fdc6551b8fa8ad50c4-1305f6f1c5d6a944-01
2022-04-21T21:05:56.080Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:05:56.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c2b2d5475a5d50ea0b5f1cc1121e6066a37d295-eb5f3c69566193e5-01 outer:exit 2b-3c2b2d5475a5d50ea0b5f1cc1121e6066a37d295-5cb3fcea21ffbab0-01
2022-04-21T21:05:56.082Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:05:56.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9cbbd25ef08b557dd8c438d00708c40cd1d2af8-5065646a35fa9115-01 outer:exit 2b-c9cbbd25ef08b557dd8c438d00708c40cd1d2af8-4a05e2ac592bbf19-01
2022-04-21T21:05:56.085Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:05:56.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b66bd1fbd5a09c9d1cd21eba47d41dc473cabfe-deefebdffc7724a8-01 outer:exit 2b-8b66bd1fbd5a09c9d1cd21eba47d41dc473cabfe-deb6512f533acad2-01
2022-04-21T21:05:56.092Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:05:56.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b716d8352eef8e64a6e5654513e31af1ed096bb-2ddf6052595d874b-01 outer:exit 2b-6b716d8352eef8e64a6e5654513e31af1ed096bb-aa686495c7c732c8-01
2022-04-21T21:05:56.095Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:05:56.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-1358ecba42889682dcde840d4525b100e0ee20ea-814b38c08b62e29a-01 outer:exit 2b-1358ecba42889682dcde840d4525b100e0ee20ea-d50c3a4902c75771-01
2022-04-21T21:05:56.097Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:05:56.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ffef65e21274c838b1181d46616c10a668efe82-878de6aa088284c2-01 outer:exit 2b-3ffef65e21274c838b1181d46616c10a668efe82-30ee60ecff434178-01
2022-04-21T21:05:56.099Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:05:56.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b9f3d1c958402cb39c5cf4129ffb5baeec2fde6-f80c03007543e4ae-01 outer:exit 2b-3b9f3d1c958402cb39c5cf4129ffb5baeec2fde6-bc095558f429b71d-01
2022-04-21T21:05:56.102Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:05:56.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-d82536354eda45de3dd5329f36b832b5f676e0a2-8c60777c0c048d9b-01 outer:exit 2b-d82536354eda45de3dd5329f36b832b5f676e0a2-b3cc4105902a761c-01
2022-04-21T21:05:56.104Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:05:56.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-950853f7ea7b444e48657615ad5fd30b04d501b4-95176dad611fce9c-01 outer:exit 2b-950853f7ea7b444e48657615ad5fd30b04d501b4-d3c4f88fbc8c4a3d-01
2022-04-21T21:05:56.114Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:05:56.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf815c362cd761bdf6fa9f10bafd798a3afe8e34-a0fd510ef5df7b9b-01 outer:exit 2b-cf815c362cd761bdf6fa9f10bafd798a3afe8e34-90acc3d92db315fc-01
2022-04-21T21:05:56.125Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:05:56.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-2070287a806852aa79890439a1a875349c381d5e-cd0352797435defc-01 outer:exit 2b-2070287a806852aa79890439a1a875349c381d5e-0df937ab6c123671-01
2022-04-21T21:05:56.128Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:05:56.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce1427e821b12ffc641d878165164f9642bdda36-58562d65dd04316b-01 outer:exit 2b-ce1427e821b12ffc641d878165164f9642bdda36-cc0beb83fa8dd240-01
2022-04-21T21:05:56.131Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:05:56.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-51066e602e1ee2c68a94bc2f95cd6e11d4723257-d35d03fbce774b5b-01 outer:exit 2b-51066e602e1ee2c68a94bc2f95cd6e11d4723257-814dfca6e329f8b1-01
2022-04-21T21:05:56.134Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:05:56.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-31634c5eb57cc6ea5f4dea44fe2223b47ff899f5-e9b5bbdda996951b-01 outer:exit 2b-31634c5eb57cc6ea5f4dea44fe2223b47ff899f5-df9265e1df2604e7-01
2022-04-21T21:05:56.174Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (405ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:03.060Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:03.061Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:03.061Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:03.062Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:03.132Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:03.303Z appoptics:patching patched crypto 
2022-04-21T21:06:03.335Z appoptics:patching patched https 
2022-04-21T21:06:03.342Z appoptics:patching patched http 
2022-04-21T21:06:03.384Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:03.384Z appoptics:patching patched fs 
2022-04-21T21:06:03.400Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v16.14.2)
2022-04-21T21:06:03.407Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-21T21:06:03.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-188832f627d6766d139712cbcaa963f3eb31a76b-2a15e9fb8c4d4b7e-01 outer:exit 2b-188832f627d6766d139712cbcaa963f3eb31a76b-cbdc7fd918c5ca81-01
2022-04-21T21:06:03.464Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:06:03.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-664a034d54cefbc5da9fedbaad9c7e3a101105f3-0250fbc4c174973d-01 outer:exit 2b-664a034d54cefbc5da9fedbaad9c7e3a101105f3-c92afea7a7da55dc-01
2022-04-21T21:06:03.516Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:06:03.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eacf45c311913bcb26f312becc25ba27a6d2095-b70a008497d149c8-01 outer:exit 2b-6eacf45c311913bcb26f312becc25ba27a6d2095-9819602be4e8db12-01
2022-04-21T21:06:03.521Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:06:03.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-f77858a7cc7ce60ef38e6df410021b97b0f4befb-4a1522dcc7347b1c-01 outer:exit 2b-f77858a7cc7ce60ef38e6df410021b97b0f4befb-e8d52d923901bd87-01
2022-04-21T21:06:03.525Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:06:03.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2669bb1235ca7094db7151b0031b54acb9c41a5-36cfb6e23de3259f-01 outer:exit 2b-d2669bb1235ca7094db7151b0031b54acb9c41a5-9bd670e9f3344af2-01
2022-04-21T21:06:03.535Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:06:03.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb653b3c800542aa46d809adc6bf2f9f99e84ec7-825c7495e03f8449-01 outer:exit 2b-fb653b3c800542aa46d809adc6bf2f9f99e84ec7-743f81befcc31df3-01
2022-04-21T21:06:03.538Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:06:03.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba222e675ea43a38652141c66fb77d95cd8552f3-c3ae4c3093c72bad-01 outer:exit 2b-ba222e675ea43a38652141c66fb77d95cd8552f3-5dd7424ed11073db-01
2022-04-21T21:06:03.542Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:06:03.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-da5415b4f1f5851585352a82ed52d7212aadedb3-6297a5b80e971595-01 outer:exit 2b-da5415b4f1f5851585352a82ed52d7212aadedb3-1091014524a4422d-01
2022-04-21T21:06:03.549Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:06:03.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-798099252bcf3fb6b883ea23eb5c1f1c7022fe2e-9b7f2d8fbfc0cf85-01 outer:exit 2b-798099252bcf3fb6b883ea23eb5c1f1c7022fe2e-d37c297603c3496e-01
2022-04-21T21:06:03.554Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:06:03.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd1bd501c24c93ab954897a7ec5d4d7d2fadf183-13c5d34443a32677-01 outer:exit 2b-cd1bd501c24c93ab954897a7ec5d4d7d2fadf183-68a911ea83625caa-01
2022-04-21T21:06:03.558Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:06:03.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-1248f6989a58fe2ce6893427b8e98c974fcefb97-d444211c9c9a4589-01 outer:exit 2b-1248f6989a58fe2ce6893427b8e98c974fcefb97-4dfcf0cd3a05f1b1-01
2022-04-21T21:06:03.567Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:06:03.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdaac483ba58f17d2f394913883a3e9196c75d29-e7700475f18a8a70-01 outer:exit 2b-cdaac483ba58f17d2f394913883a3e9196c75d29-6fa33f3b8c174ec0-01
2022-04-21T21:06:03.575Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:06:03.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a7c3d991c40bd2b887723af204e91e0ea3a5e11-535907169e012c64-01 outer:exit 2b-5a7c3d991c40bd2b887723af204e91e0ea3a5e11-bdeba893d765c52f-01
2022-04-21T21:06:03.593Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:06:03.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-f36cb077cc45100a378b7e30f7067da38948bcf2-df2654ab11bc181d-01 outer:exit 2b-f36cb077cc45100a378b7e30f7067da38948bcf2-344f29ab9005ed22-01
2022-04-21T21:06:03.639Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:06:03.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-243dd31d4c6b657853274afd91e55f0776db22fa-e8a2bbd1bf20362d-01 outer:exit 2b-243dd31d4c6b657853274afd91e55f0776db22fa-109c737927858bd2-01
2022-04-21T21:06:03.647Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:06:03.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb00870ff65286249287563f1d1ec7fe72d6350f-564dc46d3854be99-01 outer:exit 2b-eb00870ff65286249287563f1d1ec7fe72d6350f-681237b7757b268b-01
2022-04-21T21:06:03.650Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:06:03.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ccd3c0d6a58759f47adc1ffa6672a9328fb5bad-1897d4800509a37d-01 outer:exit 2b-3ccd3c0d6a58759f47adc1ffa6672a9328fb5bad-c8b36dd612200476-01
2022-04-21T21:06:03.654Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:06:03.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdd4242264b82532304df689b22795b9d01e543a-d9543133265f4b54-01 outer:exit 2b-cdd4242264b82532304df689b22795b9d01e543a-d12188c98ae2e791-01
2022-04-21T21:06:03.657Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:06:03.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b537a427765b1761676d6c3336e10e0133273d5-ed0c6616399a43b8-01 outer:exit 2b-1b537a427765b1761676d6c3336e10e0133273d5-9a170a279fa4209e-01
2022-04-21T21:06:03.663Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:06:03.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f4ac049c48d5a4f936af3693f21702de036f3ca-66246155734d0903-01 outer:exit 2b-3f4ac049c48d5a4f936af3693f21702de036f3ca-da960336c64f6c0f-01
2022-04-21T21:06:03.666Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:06:03.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d47ae012df09976cfc5c6c4617edce9d8f5b51f-68a6efc58e2aad2c-01 outer:exit 2b-9d47ae012df09976cfc5c6c4617edce9d8f5b51f-58d0bc3c779c54b9-01
2022-04-21T21:06:03.668Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:06:03.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-46d08dbca20d1805851d6d9c14d24a05d4cc86aa-c3138f44f1a24d5d-01 outer:exit 2b-46d08dbca20d1805851d6d9c14d24a05d4cc86aa-b35e9bad9a0da161-01
2022-04-21T21:06:03.673Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:06:03.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4e399d0a57895df61f50780fdbf027a356d771b-d55d513f78cb90dc-01 outer:exit 2b-f4e399d0a57895df61f50780fdbf027a356d771b-127d2715e4e1cdab-01
2022-04-21T21:06:03.680Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:06:03.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d29f8a62734673b45347ace8f05fefff351877-aee9aeb6b1bc0b84-01 outer:exit 2b-60d29f8a62734673b45347ace8f05fefff351877-42e7480bf2a5926f-01
2022-04-21T21:06:03.683Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:06:03.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ce6493306f51054055d793f798e0dfababb4e0d-2fb9c54c4763343f-01 outer:exit 2b-1ce6493306f51054055d793f798e0dfababb4e0d-612d509e2492195a-01
2022-04-21T21:06:03.685Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:06:03.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-348387bec9443ea959da0abd6994b4414fa600c6-b857cf1834e7bd03-01 outer:exit 2b-348387bec9443ea959da0abd6994b4414fa600c6-c1e742cfd3c46e87-01
2022-04-21T21:06:03.688Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:06:03.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-84b87abdb93795f734473ce87000d386a1c0bff5-44480ca53d876e0a-01 outer:exit 2b-84b87abdb93795f734473ce87000d386a1c0bff5-1d46a94db7dfe7b2-01
2022-04-21T21:06:03.696Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:06:03.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbf5288c463fcf16f576ad033c0c208923a83498-f420ef474ba812c5-01 outer:exit 2b-dbf5288c463fcf16f576ad033c0c208923a83498-3c937a006662edc5-01
2022-04-21T21:06:03.706Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:06:03.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5eb472615d406c01e36c03cc1197ef44bc0f7d2-1bf79a83ac50c7cc-01 outer:exit 2b-a5eb472615d406c01e36c03cc1197ef44bc0f7d2-7d148cec56611555-01
2022-04-21T21:06:03.715Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:06:03.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-a00b6fdccca083f89513652058d38cf078af2a15-b83987dfbef0328f-01 outer:exit 2b-a00b6fdccca083f89513652058d38cf078af2a15-aa07b2adfd7811cd-01
2022-04-21T21:06:03.722Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:06:03.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-9766ba5218c9325df841b38bdba36133acde07ce-4c6dfd58d076df5c-01 outer:exit 2b-9766ba5218c9325df841b38bdba36133acde07ce-fceffc69d03dd194-01
2022-04-21T21:06:03.725Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:06:03.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e17577842ad64f38ec0193ead3dedc3cb3fa2fc-cf94689126c95134-01 outer:exit 2b-6e17577842ad64f38ec0193ead3dedc3cb3fa2fc-66c8a2b2b8310490-01
2022-04-21T21:06:03.730Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:06:03.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-591f73c91ae08f9f672418a166d16c142c8e6979-0cdefa7fc8cab4f4-01 outer:exit 2b-591f73c91ae08f9f672418a166d16c142c8e6979-fb7df553601265f7-01
2022-04-21T21:06:03.741Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:06:03.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-30ab870052b476de8081638036438873a1692f21-6193f4046da875dc-01 outer:exit 2b-30ab870052b476de8081638036438873a1692f21-273afba8809f7b93-01
2022-04-21T21:06:03.743Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:06:03.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-df57b70d5547333b13e66cbd493dc17c898ba909-19c061560f31808c-01 outer:exit 2b-df57b70d5547333b13e66cbd493dc17c898ba909-1f28b06d58947bac-01
2022-04-21T21:06:03.745Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:06:03.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-aefa1346988a28cac42177bdd050b00a9bfcb4bc-e58f1fde98338a59-01 outer:exit 2b-aefa1346988a28cac42177bdd050b00a9bfcb4bc-4868be6a71105894-01
2022-04-21T21:06:03.748Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:06:03.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8533e2242f57a2f3ba679d60adc310e233e5b8e-59b38d937ddaa06b-01 outer:exit 2b-b8533e2242f57a2f3ba679d60adc310e233e5b8e-9419ba4b8901976b-01
2022-04-21T21:06:03.750Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:06:03.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-64cbd106b2f4c23827559cdb9681df4670061a8e-60f9ad2c4410adda-01 outer:exit 2b-64cbd106b2f4c23827559cdb9681df4670061a8e-fc819552e9182a3d-01
2022-04-21T21:06:03.752Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:06:03.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-70b85218fa5016b18398190db161ddf62acb16d6-79b8cfd0b38a58e8-01 outer:exit 2b-70b85218fa5016b18398190db161ddf62acb16d6-e6c05807a0341681-01
2022-04-21T21:06:03.764Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:06:03.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-62104411436c0cc9aa8f61264cb7b19e3c70600c-181a3a3889e0db88-01 outer:exit 2b-62104411436c0cc9aa8f61264cb7b19e3c70600c-0a1034c1e6864d8d-01
2022-04-21T21:06:03.775Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:06:03.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-61498e6a681d796395cdad69c4432a2d73b8ba0a-e49ea7f445081d27-01 outer:exit 2b-61498e6a681d796395cdad69c4432a2d73b8ba0a-9946a9337b795a0f-01
2022-04-21T21:06:03.780Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:06:03.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-e650e23544d0d6594a6a749c046d6d40d6533593-90531677e305c85a-01 outer:exit 2b-e650e23544d0d6594a6a749c046d6d40d6533593-13d5dc9a7b17838c-01
2022-04-21T21:06:03.785Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:06:03.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8a0dd06af54e9962957429e3e53316c103b8cb8-cee69c50e6632a62-01 outer:exit 2b-a8a0dd06af54e9962957429e3e53316c103b8cb8-83808bafa86c473b-01
2022-04-21T21:06:03.789Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:06:03.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8b00fdb2c5b41493520e29cfb348470da44518d-fcafc02efffddc49-01 outer:exit 2b-c8b00fdb2c5b41493520e29cfb348470da44518d-0882f12ae3de2a84-01
2022-04-21T21:06:03.824Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (413ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:10.993Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:10.994Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:10.994Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:10.995Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:11.081Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:11.240Z appoptics:patching patched crypto 
2022-04-21T21:06:11.271Z appoptics:patching patched https 
2022-04-21T21:06:11.272Z appoptics:patching patched http 
2022-04-21T21:06:11.314Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:11.315Z appoptics:patching patched fs 
2022-04-21T21:06:11.343Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v16.14.2)
2022-04-21T21:06:11.350Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-21T21:06:11.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b90e23dc889a163d0337b76c5c8ecebe782f5b6-5fdf646663f8e47c-01 outer:exit 2b-8b90e23dc889a163d0337b76c5c8ecebe782f5b6-05390432a02b0612-01
2022-04-21T21:06:11.400Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:06:11.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-c94030df3c98dcb393fc6ace8824ec81a7a7dd6b-91e5085967ea9680-01 outer:exit 2b-c94030df3c98dcb393fc6ace8824ec81a7a7dd6b-16a99cf681b80323-01
2022-04-21T21:06:11.450Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:06:11.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-f977c7a45dacbeb76d364977c25b495237bffa50-b7825ae0f33d5533-01 outer:exit 2b-f977c7a45dacbeb76d364977c25b495237bffa50-7f82a0d0aef39ef6-01
2022-04-21T21:06:11.454Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:06:11.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0491442c683d1936c58a4b1f08201e8098521be-5a321987cb3c8840-01 outer:exit 2b-d0491442c683d1936c58a4b1f08201e8098521be-a1517591b535d886-01
2022-04-21T21:06:11.458Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:06:11.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-10caba641e8160dc67f64c8a9551b7750c21e32d-87c9b98916200436-01 outer:exit 2b-10caba641e8160dc67f64c8a9551b7750c21e32d-b236a87d00b6a55a-01
2022-04-21T21:06:11.464Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:06:11.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-c07b7727a4360ed9509c3bfe972be8ddc4dcc63e-8893f6e789dd1617-01 outer:exit 2b-c07b7727a4360ed9509c3bfe972be8ddc4dcc63e-eedcac737611508f-01
2022-04-21T21:06:11.469Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:06:11.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e9fe14b0b07600ed13874fa4110bd24e61a2d49-0471793559afcb04-01 outer:exit 2b-1e9fe14b0b07600ed13874fa4110bd24e61a2d49-eacaebc44c0b49ec-01
2022-04-21T21:06:11.472Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:06:11.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-b555353144b2191d76b9b709ecb395dc65cae2ec-ce65590c23f22f51-01 outer:exit 2b-b555353144b2191d76b9b709ecb395dc65cae2ec-956a2e34587034bf-01
2022-04-21T21:06:11.475Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:06:11.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e87a6e8d7b457e2629f53e3ce7cf7225db39e29-572952fd6c839862-01 outer:exit 2b-3e87a6e8d7b457e2629f53e3ce7cf7225db39e29-2786c4654afb72ba-01
2022-04-21T21:06:11.479Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:06:11.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4243b3e88f38d1bf2b2fc67421273e65d909993-e74f15e24960d8e1-01 outer:exit 2b-b4243b3e88f38d1bf2b2fc67421273e65d909993-43c09ef4f7e249d1-01
2022-04-21T21:06:11.482Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:06:11.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f7290996cfe836c4db0260d4ff270abfef76162-215bed407275e42b-01 outer:exit 2b-6f7290996cfe836c4db0260d4ff270abfef76162-5dd1430c44fe503d-01
2022-04-21T21:06:11.487Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:06:11.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bcb4595fc1a4ebfa57fbd6b0de394a329633c81-ec1f453c9d2ca533-01 outer:exit 2b-8bcb4595fc1a4ebfa57fbd6b0de394a329633c81-e411dd2c2e5511e1-01
2022-04-21T21:06:11.495Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:06:11.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-561d7d2fe7f258835826b7449d64cdd8c4efafa8-89d7ff763e860d5c-01 outer:exit 2b-561d7d2fe7f258835826b7449d64cdd8c4efafa8-361d41091eee3188-01
2022-04-21T21:06:11.512Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:06:11.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-367ad3b5beaaa499aaaf31065c3088f852695513-d54068cc4fdb26fe-01 outer:exit 2b-367ad3b5beaaa499aaaf31065c3088f852695513-f7c2fc3438826add-01
2022-04-21T21:06:11.554Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:06:11.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-aad363c99c25de582e6b8b2660c384b9c1a0a222-c83e1cbd2417884f-01 outer:exit 2b-aad363c99c25de582e6b8b2660c384b9c1a0a222-cd77a42e34547d03-01
2022-04-21T21:06:11.558Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:06:11.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-d47d52bdfbcca5de0c45be316bd331700f5af86d-c251298cd6bb6491-01 outer:exit 2b-d47d52bdfbcca5de0c45be316bd331700f5af86d-736808bd456fe6b0-01
2022-04-21T21:06:11.560Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:06:11.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-74cd0e675dc2899154c14a8f914f3a4455910517-61b6a20e13ae2879-01 outer:exit 2b-74cd0e675dc2899154c14a8f914f3a4455910517-2351b703d94cb275-01
2022-04-21T21:06:11.565Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:06:11.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-632ca374e5faeea1b55d3a70e7235998e1a8cc14-89da0bacbb8cdcbe-01 outer:exit 2b-632ca374e5faeea1b55d3a70e7235998e1a8cc14-ed3cb48c1611e0e2-01
2022-04-21T21:06:11.568Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:06:11.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5dadc71f74be3fc930035bf2e5859fc7f7897df-2e33e5957cd3bb6e-01 outer:exit 2b-e5dadc71f74be3fc930035bf2e5859fc7f7897df-4a9610fee030ffa2-01
2022-04-21T21:06:11.570Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:06:11.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-8852f86a809b5790da75c8e31dec5b52e4983f32-85f389493d321c9b-01 outer:exit 2b-8852f86a809b5790da75c8e31dec5b52e4983f32-b397f9992dc3025a-01
2022-04-21T21:06:11.572Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:06:11.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ca0998b863886f2ef4110818ce4575d67cf96e-532a9bb8ebe6bb24-01 outer:exit 2b-27ca0998b863886f2ef4110818ce4575d67cf96e-9be4bb9b06285ee7-01
2022-04-21T21:06:11.575Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:06:11.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-cede28aa33a8b6a0e5c70ff79f88e57493502c23-bf77aedd860b236a-01 outer:exit 2b-cede28aa33a8b6a0e5c70ff79f88e57493502c23-be06a7574e36e8d3-01
2022-04-21T21:06:11.577Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:06:11.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fa07b6aa824377e9258d1da8030012293ad0a4a-bb1cb5e270a4c8ea-01 outer:exit 2b-0fa07b6aa824377e9258d1da8030012293ad0a4a-87907be74098f17b-01
2022-04-21T21:06:11.580Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:06:11.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-81c8613c0bdf6a5cb7b819a3edf9a917cc97d6a5-06a0c2eceaf3406a-01 outer:exit 2b-81c8613c0bdf6a5cb7b819a3edf9a917cc97d6a5-72bc4aa4908bf8e3-01
2022-04-21T21:06:11.583Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:06:11.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-e355c6d462aded19c4ec49e1466d92e6d9b16388-af79f5de050de077-01 outer:exit 2b-e355c6d462aded19c4ec49e1466d92e6d9b16388-690ef022d63fd994-01
2022-04-21T21:06:11.586Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:06:11.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-19a4de6c844c4aa7ce33fa455b48c3fc2154e74e-a93629f4730c6c82-01 outer:exit 2b-19a4de6c844c4aa7ce33fa455b48c3fc2154e74e-a8c830d21981ac8a-01
2022-04-21T21:06:11.589Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:06:11.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-78968d9f9320d51238102c1d78ab712d85b61ad6-857140fe1d4c3425-01 outer:exit 2b-78968d9f9320d51238102c1d78ab712d85b61ad6-cd9ad8e2a1503380-01
2022-04-21T21:06:11.596Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:06:11.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-17a7f492d4714ae420c50b6e9012b6673ef1c7d4-6aaedc4a29bd72f0-01 outer:exit 2b-17a7f492d4714ae420c50b6e9012b6673ef1c7d4-d40d45cf4721dcd3-01
2022-04-21T21:06:11.603Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:06:11.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-6775b77f7e7e074617650d5a4149d5d3a9ca5dad-36836fb583e59387-01 outer:exit 2b-6775b77f7e7e074617650d5a4149d5d3a9ca5dad-557eb3a56d1d67f8-01
2022-04-21T21:06:11.612Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:06:11.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-d840d77488dd7ec327fe70084068766b83ae4fe2-0bc7f980bfd208a2-01 outer:exit 2b-d840d77488dd7ec327fe70084068766b83ae4fe2-1ac7fa5eb45d4053-01
2022-04-21T21:06:11.619Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:06:11.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-b47171496aa2d1c3461daaecf2acfdee0dee063d-7a177b1eedde3ea8-01 outer:exit 2b-b47171496aa2d1c3461daaecf2acfdee0dee063d-641500f4be13a867-01
2022-04-21T21:06:11.621Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:06:11.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-913187cf785881db79b9c77f9314f4a930e89e4c-7f8a636afa5004d4-01 outer:exit 2b-913187cf785881db79b9c77f9314f4a930e89e4c-9fbb8fba3a684400-01
2022-04-21T21:06:11.625Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:06:11.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-73be16b457888fed88ba336e05a93efd3d050999-5c49065e1f22efe6-01 outer:exit 2b-73be16b457888fed88ba336e05a93efd3d050999-92489ed6f27f5969-01
2022-04-21T21:06:11.634Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:06:11.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-725955a899ec60e0e4670a14c290aea1ef03e7ed-68fdece0d7f03afa-01 outer:exit 2b-725955a899ec60e0e4670a14c290aea1ef03e7ed-5f063852a80587d2-01
2022-04-21T21:06:11.637Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:06:11.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-1177cd5275d5a8eed3730a3b4b617bde70bfadd9-2b3cdac411db3e26-01 outer:exit 2b-1177cd5275d5a8eed3730a3b4b617bde70bfadd9-b6924ce95e817ead-01
2022-04-21T21:06:11.639Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:06:11.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2772e658db229d3417939de60d272690a0a7894-f8b37e3fbc02f0aa-01 outer:exit 2b-d2772e658db229d3417939de60d272690a0a7894-ef7a4a148c617181-01
2022-04-21T21:06:11.641Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:06:11.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-adc122c20410f1cb3f800997afc049fb48864785-2ee67731993b3ef9-01 outer:exit 2b-adc122c20410f1cb3f800997afc049fb48864785-6852982b795149de-01
2022-04-21T21:06:11.643Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:06:11.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-c857dbac749da6e6c8a58e3f748f309e185a6606-37813cfa0175a1b8-01 outer:exit 2b-c857dbac749da6e6c8a58e3f748f309e185a6606-286944e2ae331e70-01
2022-04-21T21:06:11.646Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:06:11.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ebe43943b0b4bb180c3db1baadc3451bfe8be0f-1724252202d45cea-01 outer:exit 2b-1ebe43943b0b4bb180c3db1baadc3451bfe8be0f-26ac2b7df4361e54-01
2022-04-21T21:06:11.656Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:06:11.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-08a35684a3e344f1d3dbfd824f20d04aa3413f23-b9fa1c07c2370720-01 outer:exit 2b-08a35684a3e344f1d3dbfd824f20d04aa3413f23-560909cb8d7b0065-01
2022-04-21T21:06:11.665Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:06:11.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-b634672c5c9dc6dcba108130ac1b1b482d8be43a-13b4494a775bb201-01 outer:exit 2b-b634672c5c9dc6dcba108130ac1b1b482d8be43a-d3006c6180897576-01
2022-04-21T21:06:11.668Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:06:11.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fcabbc3339b4082b07feaed7f6e85e84909fe03-105539de88e4c6e6-01 outer:exit 2b-2fcabbc3339b4082b07feaed7f6e85e84909fe03-fcfc850d9c09ebdd-01
2022-04-21T21:06:11.671Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:06:11.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6eae51402ad83514fb145ef07ba5820658da895-9c8265b608620cf6-01 outer:exit 2b-a6eae51402ad83514fb145ef07ba5820658da895-906cd7c7fe6e7179-01
2022-04-21T21:06:11.674Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:06:11.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e9b2e1e2dc7ca78fe05e7004ea74d84a5effcb7-e704402e2286a473-01 outer:exit 2b-6e9b2e1e2dc7ca78fe05e7004ea74d84a5effcb7-cdf42a4521ab35e1-01
2022-04-21T21:06:11.705Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (347ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:18.148Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:18.149Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:18.149Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:18.150Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:18.220Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:18.355Z appoptics:patching patched crypto 
2022-04-21T21:06:18.375Z appoptics:patching patched https 
2022-04-21T21:06:18.376Z appoptics:patching patched http 
2022-04-21T21:06:18.423Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:18.423Z appoptics:patching patched fs 
2022-04-21T21:06:18.451Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v16.14.2)
2022-04-21T21:06:18.458Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-21T21:06:18.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c26a2be602e182b1004e9329804c19e25f115ae-9464b8d37ecc4bd2-01 outer:exit 2b-4c26a2be602e182b1004e9329804c19e25f115ae-837a63b876ad3400-01
2022-04-21T21:06:18.509Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:06:18.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8d208bf72240753556a23db52c33b04364c8f88-4c98d44e93274f5b-01 outer:exit 2b-a8d208bf72240753556a23db52c33b04364c8f88-cb0c5806a3409265-01
2022-04-21T21:06:18.559Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:06:18.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-df00db8324a8714518109311e5c42da4c8e58789-7178fab6283193fb-01 outer:exit 2b-df00db8324a8714518109311e5c42da4c8e58789-6517b9aed2eaaed3-01
2022-04-21T21:06:18.563Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:06:18.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-776b26867aecafcdc511bf9ad04dbf4cc4847c80-f0a9e907fe6c7860-01 outer:exit 2b-776b26867aecafcdc511bf9ad04dbf4cc4847c80-715fc564ad23e2b1-01
2022-04-21T21:06:18.567Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:06:18.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-41b86f85304146501956beca9cbce0822125e5fc-d3b884eb59d1dc03-01 outer:exit 2b-41b86f85304146501956beca9cbce0822125e5fc-e6cd3e77323eb714-01
2022-04-21T21:06:18.572Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:06:18.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-e54409508a18ff5e67fd10fc6a18f9ca4c687073-4870db42b4bbab60-01 outer:exit 2b-e54409508a18ff5e67fd10fc6a18f9ca4c687073-6e680e82dc62540c-01
2022-04-21T21:06:18.576Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:06:18.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d41b6dbd2543ac4cd3f1e21be797f6bf5d7307d-3ce2801c641f6029-01 outer:exit 2b-7d41b6dbd2543ac4cd3f1e21be797f6bf5d7307d-97d3fafbf0ca6a62-01
2022-04-21T21:06:18.579Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:06:18.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ea079f472d4b709c58c0876d7ca3d17560563ba-d3fd33891964f63e-01 outer:exit 2b-7ea079f472d4b709c58c0876d7ca3d17560563ba-05889de754d18aaa-01
2022-04-21T21:06:18.582Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:06:18.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4484f92da84f0e0f5aae52d6d06af28638f81b4-6bd7b254760f818e-01 outer:exit 2b-c4484f92da84f0e0f5aae52d6d06af28638f81b4-c4b27d1673388043-01
2022-04-21T21:06:18.586Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:06:18.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb13a8bcc3d2386ce2b55a225f855cda4989e3da-e4152694215df8f8-01 outer:exit 2b-cb13a8bcc3d2386ce2b55a225f855cda4989e3da-c9017cbcff221234-01
2022-04-21T21:06:18.589Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:06:18.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd74ee5614d332b578b70f58161606d9db63e188-f5e6577440399b7c-01 outer:exit 2b-fd74ee5614d332b578b70f58161606d9db63e188-af2710319961d684-01
2022-04-21T21:06:18.594Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:06:18.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd20795f436dfcb6f98c9870770bd45698cbb479-a71060759c3d3f3f-01 outer:exit 2b-cd20795f436dfcb6f98c9870770bd45698cbb479-868dd760f9d79f4c-01
2022-04-21T21:06:18.603Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:06:18.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-00293f24b78c90bc0df580f025c66d026282d946-c93ff2f1e09a2887-01 outer:exit 2b-00293f24b78c90bc0df580f025c66d026282d946-18a99063cba8a47a-01
2022-04-21T21:06:18.620Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:06:18.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b6523aec6e78171f6a13ae5a51a9c92fea0a7a2-942fa56ea3b7b1e4-01 outer:exit 2b-5b6523aec6e78171f6a13ae5a51a9c92fea0a7a2-2928cc2d65786aaf-01
2022-04-21T21:06:18.664Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:06:18.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-291b0cddb2b0d01d786f4b82a605942cab748b22-d0410f6291c175e6-01 outer:exit 2b-291b0cddb2b0d01d786f4b82a605942cab748b22-a996a7f50f60b6c5-01
2022-04-21T21:06:18.667Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:06:18.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c0e815073208b6a90bae3266f6aa0401a7c639f-d96afa84c583d4d4-01 outer:exit 2b-0c0e815073208b6a90bae3266f6aa0401a7c639f-f897ba4a75a13175-01
2022-04-21T21:06:18.670Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:06:18.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-4799db4e019ea5bbaa7f0032144428cd700ff3e7-4c20128c10dcfad9-01 outer:exit 2b-4799db4e019ea5bbaa7f0032144428cd700ff3e7-52c13f65836e9edc-01
2022-04-21T21:06:18.673Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:06:18.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2d853279786a583bd21fba85cc44cf10357c4ed-c4af77ad4557ebf0-01 outer:exit 2b-d2d853279786a583bd21fba85cc44cf10357c4ed-521b60511b151982-01
2022-04-21T21:06:18.676Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:06:18.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-9af64dcc1e6c4b7d5c6f78c218b803014e77e725-216320ade865e95c-01 outer:exit 2b-9af64dcc1e6c4b7d5c6f78c218b803014e77e725-5780dfdc4e9dd369-01
2022-04-21T21:06:18.678Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:06:18.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-074410b4ba226a3f5ab8f472fb0c8a13d955863a-446b1ee27608a2f1-01 outer:exit 2b-074410b4ba226a3f5ab8f472fb0c8a13d955863a-21cb4745d774e382-01
2022-04-21T21:06:18.680Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:06:18.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-972401eb13bff904d57152e289a12ced911f14ef-3df3246e3818ace5-01 outer:exit 2b-972401eb13bff904d57152e289a12ced911f14ef-c3edbd9407faa94b-01
2022-04-21T21:06:18.683Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:06:18.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-d22cf32257d6a00555cd6ba5d86a27147fc193f6-b1afb6c29dea3f74-01 outer:exit 2b-d22cf32257d6a00555cd6ba5d86a27147fc193f6-0a3a86dab4b345f8-01
2022-04-21T21:06:18.685Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:06:18.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf80813dc4b231d02bb6afeb275f820a054f74ad-7c358e8b216b10bb-01 outer:exit 2b-bf80813dc4b231d02bb6afeb275f820a054f74ad-fd0100141fd5213d-01
2022-04-21T21:06:18.688Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:06:18.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-84dc58ba12249fa79b1823fbc4e5a1153ab63a7e-dc05ceb7297e3d1a-01 outer:exit 2b-84dc58ba12249fa79b1823fbc4e5a1153ab63a7e-ae9c62e8ae3871cc-01
2022-04-21T21:06:18.692Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:06:18.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc5ffb4c674f1aabf45c1c2d221d0e819a266723-6088e6f0e14a953b-01 outer:exit 2b-fc5ffb4c674f1aabf45c1c2d221d0e819a266723-08772d119c0370b2-01
2022-04-21T21:06:18.694Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:06:18.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-788af94a2c99c3620e07393a72439b58c3f981c5-0a92189b03291f79-01 outer:exit 2b-788af94a2c99c3620e07393a72439b58c3f981c5-3dbafbeca14fccaf-01
2022-04-21T21:06:18.697Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:06:18.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-38a8a154ef69f264a8c6a2c3b3da45da4a03a6a3-b6c063aef8690d3e-01 outer:exit 2b-38a8a154ef69f264a8c6a2c3b3da45da4a03a6a3-152d87d9edfbba2e-01
2022-04-21T21:06:18.703Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:06:18.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-754f986414d6206aeef89ca0da0b366c5bc766cb-8e1fd330f449da86-01 outer:exit 2b-754f986414d6206aeef89ca0da0b366c5bc766cb-7375e2f8c24e8ba3-01
2022-04-21T21:06:18.711Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:06:18.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcbbee3d7d5c7c1596d740b29f63df15c773a3aa-03cd188caaf64d49-01 outer:exit 2b-dcbbee3d7d5c7c1596d740b29f63df15c773a3aa-7841eb45e99cc2c7-01
2022-04-21T21:06:18.719Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:06:18.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc9d40b48604255677ed2bb4c04136d9de95c33a-a19913e82ba50f19-01 outer:exit 2b-cc9d40b48604255677ed2bb4c04136d9de95c33a-65db52ab5928eb0b-01
2022-04-21T21:06:18.726Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:06:18.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fdca9e8436951fe96b3234eec4f3a82fb552113-5d4d34f0ed6e3cf0-01 outer:exit 2b-6fdca9e8436951fe96b3234eec4f3a82fb552113-8d3fa186eccc6582-01
2022-04-21T21:06:18.729Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:06:18.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-c222851883d8a37a3bf172f1464daca817f82c03-783af9579f924000-01 outer:exit 2b-c222851883d8a37a3bf172f1464daca817f82c03-caea8d7e9007488b-01
2022-04-21T21:06:18.732Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:06:18.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6ddbe2919a253a8519f74e6cf5734e6b94064b8-d2bbe17ec7800fec-01 outer:exit 2b-a6ddbe2919a253a8519f74e6cf5734e6b94064b8-e7184b0ee377f4df-01
2022-04-21T21:06:18.740Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:06:18.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c308dfba2a36bd8064f283dedd71c4877354db9-2e42e9083da661f3-01 outer:exit 2b-9c308dfba2a36bd8064f283dedd71c4877354db9-e930a9b53cc9c782-01
2022-04-21T21:06:18.742Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:06:18.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-de0a7e74f25d50fcfc1c96dd1565094fd4349a59-da5138c0bfcbaf56-01 outer:exit 2b-de0a7e74f25d50fcfc1c96dd1565094fd4349a59-8ac103b050d8400a-01
2022-04-21T21:06:18.744Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:06:18.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd5b0ce9be0f2c025227282656efd079e33bd2f5-b19c4b128fb40f85-01 outer:exit 2b-cd5b0ce9be0f2c025227282656efd079e33bd2f5-4c64244927647818-01
2022-04-21T21:06:18.746Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:06:18.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d0df2a5ad27acb1125f1d460baae3fd24910ae8-2efa80816dffe87f-01 outer:exit 2b-2d0df2a5ad27acb1125f1d460baae3fd24910ae8-838004316a582de0-01
2022-04-21T21:06:18.748Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:06:18.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec7847e7673b1c4c08bc9e3b3cecb5ee112dffa9-7df63b1416f810ac-01 outer:exit 2b-ec7847e7673b1c4c08bc9e3b3cecb5ee112dffa9-6e62597576c1bc4d-01
2022-04-21T21:06:18.750Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:06:18.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa4e17ccb4e8515bf07c2054b71f60a6d65406f8-05d5820ff7175bec-01 outer:exit 2b-aa4e17ccb4e8515bf07c2054b71f60a6d65406f8-9756a323fa936763-01
2022-04-21T21:06:18.760Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:06:18.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c09c3e2ae4f550156e5bca9032b2fbbb8a5448f-8b233abc7f0f94ac-01 outer:exit 2b-4c09c3e2ae4f550156e5bca9032b2fbbb8a5448f-3b8492d255cc1a00-01
2022-04-21T21:06:18.770Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:06:18.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-986789fda5801521ef98304bb4c82f37c69813a5-1402756bf7324ba4-01 outer:exit 2b-986789fda5801521ef98304bb4c82f37c69813a5-f61e441c542db818-01
2022-04-21T21:06:18.773Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:06:18.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a3f03670ae0ac7dda41252f07383960ef872ae-59397938d69275f4-01 outer:exit 2b-a2a3f03670ae0ac7dda41252f07383960ef872ae-f8bfa456404536b1-01
2022-04-21T21:06:18.776Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:06:18.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d382f452a478d4b2bb5a7329b5a0f76cced316b-d2f6cb5449aeb59a-01 outer:exit 2b-6d382f452a478d4b2bb5a7329b5a0f76cced316b-909a4e9044161d0d-01
2022-04-21T21:06:18.779Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:06:18.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-12a01a97c33e82b6edd2445d1223edfefebc86a0-977c1695e63948c0-01 outer:exit 2b-12a01a97c33e82b6edd2445d1223edfefebc86a0-a6c1d9284be248a8-01
2022-04-21T21:06:18.813Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (349ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:26.396Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:26.397Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:26.397Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:26.398Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:26.469Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:26.607Z appoptics:patching patched crypto 
2022-04-21T21:06:26.627Z appoptics:patching patched https 
2022-04-21T21:06:26.628Z appoptics:patching patched http 
2022-04-21T21:06:26.676Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:26.677Z appoptics:patching patched fs 
2022-04-21T21:06:26.705Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v16.14.2)
2022-04-21T21:06:26.711Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-21T21:06:26.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cd10fc59135179a69f2af48081e5933e0677af4-a9962def3318b36a-01 outer:exit 2b-6cd10fc59135179a69f2af48081e5933e0677af4-cdabf100ba7987a0-01
2022-04-21T21:06:26.762Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:06:26.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bdc72411862dbe8e9bc20f59c449c28d6543428-1dffe3f2c624ded5-01 outer:exit 2b-0bdc72411862dbe8e9bc20f59c449c28d6543428-d87fb7a6e3f9279b-01
2022-04-21T21:06:26.814Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:06:26.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a161d8ffe23b95ec3a2cdb11cfa0cd0ea684c8-140cc7d5a8e2a4a2-01 outer:exit 2b-53a161d8ffe23b95ec3a2cdb11cfa0cd0ea684c8-305fbe1deacbfe39-01
2022-04-21T21:06:26.818Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:06:26.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-950a5bacbaea65199b7824a2b7aff3fdee0e38f8-c28a4f2be211e951-01 outer:exit 2b-950a5bacbaea65199b7824a2b7aff3fdee0e38f8-8fee6edc62f3e7a2-01
2022-04-21T21:06:26.822Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:06:26.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6f88782c6889c6671098e6b10d2b07c7bf49cb7-034b6ef58d88211a-01 outer:exit 2b-f6f88782c6889c6671098e6b10d2b07c7bf49cb7-e69dcf09308e40ed-01
2022-04-21T21:06:26.827Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:06:26.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd375873725e2e8df7cd63d868d755704c4b5679-22caddffa0af9e57-01 outer:exit 2b-fd375873725e2e8df7cd63d868d755704c4b5679-3bf3e1cbcfa48563-01
2022-04-21T21:06:26.830Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:06:26.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-e751618592c171f102789434c7a27832be465191-4b11ed7628013b36-01 outer:exit 2b-e751618592c171f102789434c7a27832be465191-218fd33bacb240b8-01
2022-04-21T21:06:26.834Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:06:26.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ac4738d462ed34347236ad3232cc5953e4d441c-13224a3270b7e42a-01 outer:exit 2b-4ac4738d462ed34347236ad3232cc5953e4d441c-2b526dbbcd6092c8-01
2022-04-21T21:06:26.837Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:06:26.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8da0f6216a71feb4589525ba32068ea7a411dd4-442e3d770d53920a-01 outer:exit 2b-b8da0f6216a71feb4589525ba32068ea7a411dd4-70b907354c900f82-01
2022-04-21T21:06:26.840Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:06:26.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6f42cd4c8616e868479500825f4c263f35f6cb-29b305d36e95bd8e-01 outer:exit 2b-bc6f42cd4c8616e868479500825f4c263f35f6cb-cc9e10d70d76c3fe-01
2022-04-21T21:06:26.844Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:06:26.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eda18b6bb849a0beefffda4f8802af0e7b4a6b0-13b824854f63447a-01 outer:exit 2b-8eda18b6bb849a0beefffda4f8802af0e7b4a6b0-f74fbb5ddbe18908-01
2022-04-21T21:06:26.848Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:06:26.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d95c9589b0be505f07f5a4f2cd98b5b339d02e-83d83412131b1a54-01 outer:exit 2b-47d95c9589b0be505f07f5a4f2cd98b5b339d02e-168bc2a79f48eb55-01
2022-04-21T21:06:26.855Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:06:26.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-22148421295567a18b51a31b823302048b400301-182de149176aa9ac-01 outer:exit 2b-22148421295567a18b51a31b823302048b400301-424a7c7221462135-01
2022-04-21T21:06:26.875Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:06:26.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-0760b39340d400482381dc7d0a96e4a02f2b3bae-01d24c7ffc76f53e-01 outer:exit 2b-0760b39340d400482381dc7d0a96e4a02f2b3bae-9a89e544a0edf485-01
2022-04-21T21:06:26.919Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:06:26.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-f70c1b155232db2155be07e47039591f0d4ffd2e-7c7599b58957120b-01 outer:exit 2b-f70c1b155232db2155be07e47039591f0d4ffd2e-28ca729f759e66f8-01
2022-04-21T21:06:26.922Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:06:26.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dd8986956709886c80162ada69e6f1cf73fa9ab-00b67f816dec5515-01 outer:exit 2b-0dd8986956709886c80162ada69e6f1cf73fa9ab-d84d4348271e4734-01
2022-04-21T21:06:26.925Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:06:26.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ae9335ad682879b2f921c61067fe0f29090887-f244fd2aef393722-01 outer:exit 2b-33ae9335ad682879b2f921c61067fe0f29090887-6870bb92542e81ae-01
2022-04-21T21:06:26.928Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:06:26.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e5562e5103521d960110a32aa93a5aee697167d-19a4645bca0a3061-01 outer:exit 2b-7e5562e5103521d960110a32aa93a5aee697167d-c9110a5c74bc399d-01
2022-04-21T21:06:26.931Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:06:26.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e4434d488d33c266f1448c9b861a0272b128bc3-2b74cfd4f7a84350-01 outer:exit 2b-8e4434d488d33c266f1448c9b861a0272b128bc3-476e1dc649b625c4-01
2022-04-21T21:06:26.933Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:06:26.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bc5a2ea871cf83278565ebbfacd99525914749a-8ade5ab2493555d8-01 outer:exit 2b-9bc5a2ea871cf83278565ebbfacd99525914749a-8095b3d615b289ef-01
2022-04-21T21:06:26.935Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:06:26.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-02b9e4c8afb837bf19159277e3a8aa80e9bb2fd4-c943ebc0b3512859-01 outer:exit 2b-02b9e4c8afb837bf19159277e3a8aa80e9bb2fd4-c68cdfd3558be713-01
2022-04-21T21:06:26.937Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:06:26.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c2a3cee686f8019b7591a4368f9ca5dab0e4197-ca11529aa14ab6d4-01 outer:exit 2b-1c2a3cee686f8019b7591a4368f9ca5dab0e4197-e57b681a5ce8fed3-01
2022-04-21T21:06:26.940Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:06:26.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-667acc91a3490143ba0d06fb4bd60af9abf48050-b985dc74830fad3c-01 outer:exit 2b-667acc91a3490143ba0d06fb4bd60af9abf48050-55cda8ba847dd42f-01
2022-04-21T21:06:26.943Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:06:26.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14b55e7b74b6caf6cc255cc163868b8d20caecf-3ff6a33dc1d5f7bf-01 outer:exit 2b-f14b55e7b74b6caf6cc255cc163868b8d20caecf-937145c60eeb8a96-01
2022-04-21T21:06:26.946Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:06:26.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-78984860b4bafe459bba6ca8f36f73d4efb7fc2d-44f5dd8cdc3909e8-01 outer:exit 2b-78984860b4bafe459bba6ca8f36f73d4efb7fc2d-ece7cae67e12b9aa-01
2022-04-21T21:06:26.948Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:06:26.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-45fe5417dd0b23ce6dafaa91f2c9c4a7c22ef0c5-6a0568dff5104dce-01 outer:exit 2b-45fe5417dd0b23ce6dafaa91f2c9c4a7c22ef0c5-24ca6d82180bd4fb-01
2022-04-21T21:06:26.951Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:06:26.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ac8966bd6e19499b750ea74e9e6e2af6d1f7dbb-d68a7da5e61ac38c-01 outer:exit 2b-0ac8966bd6e19499b750ea74e9e6e2af6d1f7dbb-26fa9f00cd474aa8-01
2022-04-21T21:06:26.958Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:06:26.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-626d1a2ad4c44e49973c87144a9300f9aa7696d1-ae7519ef7486d64a-01 outer:exit 2b-626d1a2ad4c44e49973c87144a9300f9aa7696d1-e1d7cb45fdf5164e-01
2022-04-21T21:06:26.969Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:06:26.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-350d2cea2bf0c6ce2d6c4ddb3d3d146fd247b88c-1c3b5f1812997a88-01 outer:exit 2b-350d2cea2bf0c6ce2d6c4ddb3d3d146fd247b88c-e483b0e5494e2742-01
2022-04-21T21:06:26.979Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:06:26.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-a67e0ea60940561ac7cf94ab3ec3343369a95235-fb11a4173fafb259-01 outer:exit 2b-a67e0ea60940561ac7cf94ab3ec3343369a95235-46d3838c9b46107e-01
2022-04-21T21:06:26.988Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:06:26.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-679880e104b6fdea282de2f44edd4869c5a3b174-fac3fd1c360df9d8-01 outer:exit 2b-679880e104b6fdea282de2f44edd4869c5a3b174-6360cc53b2da2e6f-01
2022-04-21T21:06:26.991Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:06:26.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bbccd367f3cc00014bb0fc1ac6211d9c26e2029-fe3321d2ca345823-01 outer:exit 2b-6bbccd367f3cc00014bb0fc1ac6211d9c26e2029-7e7b2d4ddd04a34a-01
2022-04-21T21:06:26.994Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:06:27.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe035864ee5a5fd94dc83cac2f1e3e6f7c87c16a-6ef4bed39a4b81bd-01 outer:exit 2b-fe035864ee5a5fd94dc83cac2f1e3e6f7c87c16a-924d9cdb61c7fef1-01
2022-04-21T21:06:27.006Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:06:27.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-b33ae950258ca6684f8faf7618e119c8f5dcce2d-248bfbe2955d1ffc-01 outer:exit 2b-b33ae950258ca6684f8faf7618e119c8f5dcce2d-1a04842435877a84-01
2022-04-21T21:06:27.008Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:06:27.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-96149dc1033749c400713f20fc9a5d63ab06a6cf-c43bdbf07d626e31-01 outer:exit 2b-96149dc1033749c400713f20fc9a5d63ab06a6cf-e69a1d54820ee176-01
2022-04-21T21:06:27.011Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:06:27.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f5a9d3156e1d9b0b94f8cc006b870a178ff1d30-0e22c6c8f0d7bf73-01 outer:exit 2b-0f5a9d3156e1d9b0b94f8cc006b870a178ff1d30-8a701df855c1e1bf-01
2022-04-21T21:06:27.013Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:06:27.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-e69bcdada571e759d6a96ea99b71096ef848afa3-47ae81989c2c5607-01 outer:exit 2b-e69bcdada571e759d6a96ea99b71096ef848afa3-9f3a18e624c7d55f-01
2022-04-21T21:06:27.015Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:06:27.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-9301534d1a98622042a5a50533c3a1ecad1018d4-fbf3ff3e16d28a61-01 outer:exit 2b-9301534d1a98622042a5a50533c3a1ecad1018d4-956b5709e98203cc-01
2022-04-21T21:06:27.017Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:06:27.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-161f95774a3830dbc01d255a12d8545e979ec2f4-c739fa9ab2fc9a44-01 outer:exit 2b-161f95774a3830dbc01d255a12d8545e979ec2f4-5cc4ccaeabe5822e-01
2022-04-21T21:06:27.027Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:06:27.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d1c4ac7e56774770a7ce397c69f9a886c2decbd-508310e169ad1ac4-01 outer:exit 2b-4d1c4ac7e56774770a7ce397c69f9a886c2decbd-869a6622ba25b7df-01
2022-04-21T21:06:27.036Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:06:27.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f390a6c447649d6992a5803391302d7877f12c3-6ba1282f4fd86660-01 outer:exit 2b-8f390a6c447649d6992a5803391302d7877f12c3-a45156ce84534c8f-01
2022-04-21T21:06:27.039Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:06:27.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f6a702b988384ba95de84d8b5e32db685ff98f7-243adf1ad891d229-01 outer:exit 2b-3f6a702b988384ba95de84d8b5e32db685ff98f7-94503d2227d2b05a-01
2022-04-21T21:06:27.042Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:06:27.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f9131cf8e543ab31e3a297c9762b0520356895-aa8255f577301c6f-01 outer:exit 2b-17f9131cf8e543ab31e3a297c9762b0520356895-2d99d52e867d0443-01
2022-04-21T21:06:27.045Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:06:27.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-579c617c6902281613bf37bb36f8c78f127a3805-19582b10ef92f6ed-01 outer:exit 2b-579c617c6902281613bf37bb36f8c78f127a3805-f25230b301fce206-01
2022-04-21T21:06:27.080Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (362ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:33.535Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:33.536Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:33.536Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:33.539Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:33.764Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:34.175Z appoptics:patching patched crypto 
2022-04-21T21:06:34.244Z appoptics:patching patched https 
2022-04-21T21:06:34.244Z appoptics:patching patched http 
2022-04-21T21:06:34.399Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:34.406Z appoptics:patching patched fs 
2022-04-21T21:06:34.472Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v16.14.2)
2022-04-21T21:06:34.488Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-21T21:06:34.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-645241a377f747185f2d5c7d260d0d826adfb96f-2dae5669d9627d0f-01 outer:exit 2b-645241a377f747185f2d5c7d260d0d826adfb96f-6a858eabd3a3dcc8-01
2022-04-21T21:06:34.592Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:06:34.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e3662342b479915d6826d15bba2a6c101a9faff-9bcecac7d306dc4a-01 outer:exit 2b-1e3662342b479915d6826d15bba2a6c101a9faff-401b6e22c2aa0189-01
2022-04-21T21:06:34.650Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:06:34.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-cba5f9270b760de11c917784d492e5fb2374a42a-9583836e3f58cc68-01 outer:exit 2b-cba5f9270b760de11c917784d492e5fb2374a42a-6e2a9478de5a7128-01
2022-04-21T21:06:34.654Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:06:34.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f0ee67e8f068c301b387036fd2f48f14b386250-e9389712f6751042-01 outer:exit 2b-2f0ee67e8f068c301b387036fd2f48f14b386250-ff4b315db0b60900-01
2022-04-21T21:06:34.659Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:06:34.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bcdf6482b7f805e145e092837312752518b84ec-04bbed380565edf3-01 outer:exit 2b-0bcdf6482b7f805e145e092837312752518b84ec-2a1b7fb8e00d744c-01
2022-04-21T21:06:34.668Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:06:34.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfbbbe08da2388cd258ecea97217c2551815f6bd-3ce57017801ddb0a-01 outer:exit 2b-bfbbbe08da2388cd258ecea97217c2551815f6bd-a24391519e3d1715-01
2022-04-21T21:06:34.671Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:06:34.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-99b4c863df7a428248742fa0ff3609961e9eec4f-1142793ff18f5df3-01 outer:exit 2b-99b4c863df7a428248742fa0ff3609961e9eec4f-70dd26e3304ea735-01
2022-04-21T21:06:34.674Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:06:34.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b91dc9fe119dc7a39677a945ff240c81865d62e-490e989fd0c88755-01 outer:exit 2b-3b91dc9fe119dc7a39677a945ff240c81865d62e-c151f6982385ed77-01
2022-04-21T21:06:34.684Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:06:34.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b84a099800c9feeddb091c782d7a34d806411a3-46a5462a11fc4f7b-01 outer:exit 2b-7b84a099800c9feeddb091c782d7a34d806411a3-cc4d1dd1ca0f6e82-01
2022-04-21T21:06:34.687Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:06:34.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3b721bee790861ef63758f1520fb085343e502b-ea4df3558dd37a40-01 outer:exit 2b-a3b721bee790861ef63758f1520fb085343e502b-11f39210692a17de-01
2022-04-21T21:06:34.691Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:06:34.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-0425312897b56e08fc665af3d6cff099cc86cc91-da65ede0ae24c942-01 outer:exit 2b-0425312897b56e08fc665af3d6cff099cc86cc91-50dc7b9ae84b604d-01
2022-04-21T21:06:34.698Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:06:34.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a31bdcf8a8540e04df175f54a96bfdd9e3c726a-e2dbbe2f22f12997-01 outer:exit 2b-9a31bdcf8a8540e04df175f54a96bfdd9e3c726a-929b1bb9d7d44cb7-01
2022-04-21T21:06:34.706Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:06:34.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-82f91e5465fa1bb1ca260aa0d899be269693b572-c3b84e3bbacd1173-01 outer:exit 2b-82f91e5465fa1bb1ca260aa0d899be269693b572-88d53ea7c743ca7b-01
2022-04-21T21:06:34.723Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:06:34.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d2edb5f3bc100c8d78f4800e98fc597034e5f8e-d68d820970291bb8-01 outer:exit 2b-9d2edb5f3bc100c8d78f4800e98fc597034e5f8e-58858c079cb370e8-01
2022-04-21T21:06:34.768Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:06:34.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-313a29df80eacd220e59080bd1fe4a071aff5ecc-4e8da8137c96e9b6-01 outer:exit 2b-313a29df80eacd220e59080bd1fe4a071aff5ecc-995fa718a4d6e1a0-01
2022-04-21T21:06:34.773Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:06:34.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-a638dba8d130463c3b47dda1eb4c066711be892c-e45b41a8efa08f7f-01 outer:exit 2b-a638dba8d130463c3b47dda1eb4c066711be892c-1db69f524bfc9ecf-01
2022-04-21T21:06:34.776Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:06:34.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-e65dbf4c6bc43ca6e1dc38c4fa7e0e3c6dd93eec-4f14726beabf7c1f-01 outer:exit 2b-e65dbf4c6bc43ca6e1dc38c4fa7e0e3c6dd93eec-9c51d782c1ad4fa6-01
2022-04-21T21:06:34.780Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:06:34.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-de6e0f71a5fff6c2774ba6d03be137456defaeb0-60d64adfbb8e19cf-01 outer:exit 2b-de6e0f71a5fff6c2774ba6d03be137456defaeb0-4d48394073d8e98a-01
2022-04-21T21:06:34.783Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:06:34.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f2973800b9d4cf395a3917526f208fd1a9afc64-cd9092ce9ff24655-01 outer:exit 2b-5f2973800b9d4cf395a3917526f208fd1a9afc64-36eaca509d84539f-01
2022-04-21T21:06:34.785Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:06:34.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-a909a738a350e76bb37806770e6dce88164ebfaf-422845244b85499c-01 outer:exit 2b-a909a738a350e76bb37806770e6dce88164ebfaf-d2b8ecb64e5f04bc-01
2022-04-21T21:06:34.788Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:06:34.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-a663523756ea0fc2340893ad6af0fb7e25f57918-8ff708b3a4f2bdac-01 outer:exit 2b-a663523756ea0fc2340893ad6af0fb7e25f57918-a1eb45d182fb39f7-01
2022-04-21T21:06:34.790Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:06:34.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-89b270b9ad5b257ac5987042438f95f6f49876a3-fa34b7f62734fa0e-01 outer:exit 2b-89b270b9ad5b257ac5987042438f95f6f49876a3-88d1044bc2a77645-01
2022-04-21T21:06:34.793Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:06:34.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b08302e6e1be14fea0352fc8d331e844e75b85-5097b32c74654890-01 outer:exit 2b-91b08302e6e1be14fea0352fc8d331e844e75b85-8e9eb6d0527053b9-01
2022-04-21T21:06:34.796Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:06:34.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-05b083a97aef34ed2447de77d3a7d0a06aa92664-7dac5027d30fdfce-01 outer:exit 2b-05b083a97aef34ed2447de77d3a7d0a06aa92664-4cf3b9f6ddb9b65f-01
2022-04-21T21:06:34.801Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:06:34.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbb00a16b584fcfe40dbb2433d094fd98b7e20f2-31667c3818fa536e-01 outer:exit 2b-fbb00a16b584fcfe40dbb2433d094fd98b7e20f2-229e1a2ee7774be4-01
2022-04-21T21:06:34.803Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:06:34.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e2d342865ce470ea946ff6f9cbcab99b055a9e2-4c93623e7fd8018c-01 outer:exit 2b-8e2d342865ce470ea946ff6f9cbcab99b055a9e2-1d438f710c2200b0-01
2022-04-21T21:06:34.806Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:06:34.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-e48ee627a761e2c789bc4cd95f60b0f978d98527-f4182383a026f1a1-01 outer:exit 2b-e48ee627a761e2c789bc4cd95f60b0f978d98527-7a27f280533b9ea0-01
2022-04-21T21:06:34.814Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:06:34.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cb2b759754c6eac9b0c49967ae069e91d83f7dd-158e143813c10e11-01 outer:exit 2b-5cb2b759754c6eac9b0c49967ae069e91d83f7dd-58570e7fb696f208-01
2022-04-21T21:06:34.822Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:06:34.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4113b2e9af7680e0c0b0659671503a10e60c128-34e4c6b6ebbd20b4-01 outer:exit 2b-b4113b2e9af7680e0c0b0659671503a10e60c128-29f9561efba224c0-01
2022-04-21T21:06:34.833Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:06:34.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8f30cbfb66c60565a107df6a1e17234a21ff991-f7eea6ef1dc44f64-01 outer:exit 2b-d8f30cbfb66c60565a107df6a1e17234a21ff991-17a9092007ec8f49-01
2022-04-21T21:06:34.845Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:06:34.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6e02b2ffa93d71933b2b32470f0d0b9857907bb-511a85e7ae6b7d4b-01 outer:exit 2b-d6e02b2ffa93d71933b2b32470f0d0b9857907bb-6d3367346ee54d73-01
2022-04-21T21:06:34.848Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:06:34.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcc6628e756bed380cfb567c89d186c31df05b67-dfcab88fea380277-01 outer:exit 2b-dcc6628e756bed380cfb567c89d186c31df05b67-a6cf08c4f22d6465-01
2022-04-21T21:06:34.851Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:06:34.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-e60d60f5d01355622eef5f0da1b906d78ce9ffb7-5a72a0ddad4d14f8-01 outer:exit 2b-e60d60f5d01355622eef5f0da1b906d78ce9ffb7-c2fdd863e7b842bf-01
2022-04-21T21:06:34.860Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:06:34.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-da22eb72f7c02352288ffc5b8c505dd54f975d01-0837817e6ba09f48-01 outer:exit 2b-da22eb72f7c02352288ffc5b8c505dd54f975d01-811f98b935f1a328-01
2022-04-21T21:06:34.863Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:06:34.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f896b0f01cb3502291bc808fc60c1b00ba4b6fe-d8d46492847e47aa-01 outer:exit 2b-6f896b0f01cb3502291bc808fc60c1b00ba4b6fe-b02c3e4cf3d3c412-01
2022-04-21T21:06:34.865Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:06:34.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbde4859ab59c9d180c23979b21376694aa1d9e9-b93ba73bce036d7f-01 outer:exit 2b-bbde4859ab59c9d180c23979b21376694aa1d9e9-a226c53afd31732e-01
2022-04-21T21:06:34.869Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:06:34.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e1480b83ba38027fea60a425a886db7368e3d8f-803302f8f006605a-01 outer:exit 2b-4e1480b83ba38027fea60a425a886db7368e3d8f-f95dc4ee83d553e0-01
2022-04-21T21:06:34.871Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:06:34.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b86907b354091f219d77fb8c816158b34b10b69-5b6eb3877645bf3d-01 outer:exit 2b-0b86907b354091f219d77fb8c816158b34b10b69-43cb696673ddcec2-01
2022-04-21T21:06:34.875Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:06:34.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-62edaec96d3d031cb10c6ff76011e95b0f94385b-db038c0d06ab95c9-01 outer:exit 2b-62edaec96d3d031cb10c6ff76011e95b0f94385b-c178266db81eeb12-01
2022-04-21T21:06:34.890Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:06:34.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be300cfb8841e046172abbd14ec23ec295a9826-b2fc3d5b370e31d4-01 outer:exit 2b-6be300cfb8841e046172abbd14ec23ec295a9826-deaf47de525ac6fd-01
2022-04-21T21:06:34.902Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:06:34.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b8a9beeecad7fe76baaa220056faa1d86cad22c-89d91629f6474218-01 outer:exit 2b-0b8a9beeecad7fe76baaa220056faa1d86cad22c-ade151fddb9ef3de-01
2022-04-21T21:06:34.911Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:06:34.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-b47e122d195c3c339a0c9e66b8143cbdce26ab97-4abec04aba2a34f2-01 outer:exit 2b-b47e122d195c3c339a0c9e66b8143cbdce26ab97-8ed0f3ca39669d6b-01
2022-04-21T21:06:34.914Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:06:34.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ae18367fb40b1b7ae2ea3292b0b6f517d06d6dd-05ddc57ba213240a-01 outer:exit 2b-9ae18367fb40b1b7ae2ea3292b0b6f517d06d6dd-5996cb80bffd691a-01
2022-04-21T21:06:34.916Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:06:34.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-632e67824c494447833381b26ec4ee3e577ea7cc-14270c5b038a7f36-01 outer:exit 2b-632e67824c494447833381b26ec4ee3e577ea7cc-64878ccd195638d5-01
2022-04-21T21:06:34.952Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (446ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:41.453Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:41.454Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:41.454Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:41.455Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:41.524Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:41.658Z appoptics:patching patched crypto 
2022-04-21T21:06:41.678Z appoptics:patching patched https 
2022-04-21T21:06:41.679Z appoptics:patching patched http 
2022-04-21T21:06:41.728Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:41.729Z appoptics:patching patched fs 
2022-04-21T21:06:41.756Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v16.14.2)
2022-04-21T21:06:41.763Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-21T21:06:41.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb60e8c3ef6fdeecb04d5868766212075496df43-2e60f3d674540870-01 outer:exit 2b-eb60e8c3ef6fdeecb04d5868766212075496df43-041104d389f7b317-01
2022-04-21T21:06:41.815Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:06:41.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-152e7ec724e5a88186cc747ffc9322154bc39c46-6a84803ee6a38e39-01 outer:exit 2b-152e7ec724e5a88186cc747ffc9322154bc39c46-c0993f97778871a7-01
2022-04-21T21:06:41.865Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:06:41.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b7114dc4dbbd3930181526cdfbe8925f629ae7a-1ff2e68e49de3aa5-01 outer:exit 2b-8b7114dc4dbbd3930181526cdfbe8925f629ae7a-efdc12b728769c43-01
2022-04-21T21:06:41.869Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:06:41.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-03f3ea03cf616813ac3061a23db61eb44840d975-d71a953bfdb1c99f-01 outer:exit 2b-03f3ea03cf616813ac3061a23db61eb44840d975-a1cbe6e725a969f2-01
2022-04-21T21:06:41.873Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:06:41.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-f464b7559efd0378f21efe1cd351cab148e34d4b-363e4c419986eb7b-01 outer:exit 2b-f464b7559efd0378f21efe1cd351cab148e34d4b-6c3f30901a7419a0-01
2022-04-21T21:06:41.878Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:06:41.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba305e3516ee4d9ce4b6499d38552a304fb8c5d3-771f4ec8987fcf32-01 outer:exit 2b-ba305e3516ee4d9ce4b6499d38552a304fb8c5d3-0fc6e87db9f777be-01
2022-04-21T21:06:41.882Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:06:41.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-284d86e06a90ed274515bc9908c062537e26cf16-61dad846d4f142ba-01 outer:exit 2b-284d86e06a90ed274515bc9908c062537e26cf16-6f75536759505375-01
2022-04-21T21:06:41.887Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:06:41.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb02e11c96b067759da4ce442f051d20b1a5126d-b071e46590e5ff0d-01 outer:exit 2b-cb02e11c96b067759da4ce442f051d20b1a5126d-52badaf50a38fa78-01
2022-04-21T21:06:41.890Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:06:41.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-f83bc29f742405f77aa4f26b7d752bf194bec94d-9eebeca2e7b1e372-01 outer:exit 2b-f83bc29f742405f77aa4f26b7d752bf194bec94d-94e2d6bb458bffe4-01
2022-04-21T21:06:41.893Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:06:41.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcbc4abbc75ed79dd115ed75f342a6cc5e1f00b9-ba1277f5660dacf2-01 outer:exit 2b-bcbc4abbc75ed79dd115ed75f342a6cc5e1f00b9-201debeb2ba6658c-01
2022-04-21T21:06:41.897Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:06:41.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-64009de82253954ee469a051c507f9b50c2dbd61-e787c0fa8577183f-01 outer:exit 2b-64009de82253954ee469a051c507f9b50c2dbd61-0096e371f5e5f603-01
2022-04-21T21:06:41.902Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:06:41.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d8b4968732975503601576d697d9667ffc029db-df83688791ec2e4d-01 outer:exit 2b-0d8b4968732975503601576d697d9667ffc029db-85055a1b0ce8993d-01
2022-04-21T21:06:41.909Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:06:41.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b2f18d4603cc00ef1d5cd0a292b1e3e216d3b96-0368db05c9f83148-01 outer:exit 2b-9b2f18d4603cc00ef1d5cd0a292b1e3e216d3b96-d2b0cde09e4fb0c9-01
2022-04-21T21:06:41.926Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:06:41.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-0872b4c5ef1237b7215a78cf204895b2cb9d79f6-8296ef86108f6628-01 outer:exit 2b-0872b4c5ef1237b7215a78cf204895b2cb9d79f6-6105a6e04ce7fc7f-01
2022-04-21T21:06:41.972Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:06:41.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbfa312b1a988f757d99e713c553e10b4b760291-83dc4a06dc22a42a-01 outer:exit 2b-cbfa312b1a988f757d99e713c553e10b4b760291-09e061f52b654439-01
2022-04-21T21:06:41.976Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:06:41.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ac168d24ed089f739d812f10627effb33424b8-2cb0e66a95018d94-01 outer:exit 2b-66ac168d24ed089f739d812f10627effb33424b8-dcb2c76f885c65b3-01
2022-04-21T21:06:41.979Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:06:41.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9b86804a7a9ae6ac2e76a2df9b39dc5c5048bb3-311e1b024ca035a6-01 outer:exit 2b-d9b86804a7a9ae6ac2e76a2df9b39dc5c5048bb3-a13f0361dc47629f-01
2022-04-21T21:06:41.982Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:06:41.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbb015366232bcf826306c555b0d26e89d149429-d776f84dbf2ba855-01 outer:exit 2b-dbb015366232bcf826306c555b0d26e89d149429-57bc8bbffa19324a-01
2022-04-21T21:06:41.984Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:06:41.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-88e276bdf1696a280ef17a1dc229d6bfa25e71ce-9210bc13f3464149-01 outer:exit 2b-88e276bdf1696a280ef17a1dc229d6bfa25e71ce-8e8a469e017f7d23-01
2022-04-21T21:06:41.987Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:06:41.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-991688a996b29510b40df22687e5e6149dc05c27-406ef5eec082d1eb-01 outer:exit 2b-991688a996b29510b40df22687e5e6149dc05c27-ad807acb055eea66-01
2022-04-21T21:06:41.989Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:06:41.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-72d253295bf402ab7b807a992c51abf1fe687ce2-0d17107da58b436c-01 outer:exit 2b-72d253295bf402ab7b807a992c51abf1fe687ce2-28c9096975d93b05-01
2022-04-21T21:06:41.991Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:06:41.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c6d3ca279aa722b5d25fe0796011db37a00735-ff91ec94093514b5-01 outer:exit 2b-53c6d3ca279aa722b5d25fe0796011db37a00735-2d98858d768fc844-01
2022-04-21T21:06:41.993Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:06:41.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9c86c4f62b1af5fa993b363806ed75bdf9c6a8d-1c1758e9198d4da8-01 outer:exit 2b-d9c86c4f62b1af5fa993b363806ed75bdf9c6a8d-47bf1239ae52238d-01
2022-04-21T21:06:41.996Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:06:42.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-83042aced7edb10e973948b9dbc4fc3157a884f4-d3611768bede402b-01 outer:exit 2b-83042aced7edb10e973948b9dbc4fc3157a884f4-bcfb3574b2c11954-01
2022-04-21T21:06:42.000Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:06:42.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-714612a77bead66b534b2a9c85de841f2b0ab628-36e70e4aec894cf7-01 outer:exit 2b-714612a77bead66b534b2a9c85de841f2b0ab628-b1174447de3ae828-01
2022-04-21T21:06:42.002Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:06:42.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-784f36e08d886017173f5ce25660ef63a0d36f8f-d41dc85d1972fafa-01 outer:exit 2b-784f36e08d886017173f5ce25660ef63a0d36f8f-42f7d15d81018a6f-01
2022-04-21T21:06:42.005Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:06:42.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-e70f8c562a3cb17f1388da65253856e24e768c99-26aeb545a48d218a-01 outer:exit 2b-e70f8c562a3cb17f1388da65253856e24e768c99-c8621d064c21e047-01
2022-04-21T21:06:42.012Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:06:42.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdef34c13f1667dc1fbd17a8300eb95d0558e399-fd5c36c7b293deeb-01 outer:exit 2b-bdef34c13f1667dc1fbd17a8300eb95d0558e399-7a6d49321a5e1ff3-01
2022-04-21T21:06:42.020Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:06:42.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3d9e6014e4857a5e924378937fab0dda979c450-f9aa611e6248b606-01 outer:exit 2b-e3d9e6014e4857a5e924378937fab0dda979c450-8f42351c16ce24fd-01
2022-04-21T21:06:42.029Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:06:42.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb9357be21247beeb0d4dfb36106e4194b64adf0-2cc8628908efc4e0-01 outer:exit 2b-eb9357be21247beeb0d4dfb36106e4194b64adf0-2916b2034ea43ea1-01
2022-04-21T21:06:42.036Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:06:42.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e0c455886b4e51e8e16b07162369fd2a87c764c-483f6e407e16285d-01 outer:exit 2b-9e0c455886b4e51e8e16b07162369fd2a87c764c-2bb1d739c845bb83-01
2022-04-21T21:06:42.038Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:06:42.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f824fa9d91836d00f1ad8026e5ece78e3454598-1c46d06d91e012ae-01 outer:exit 2b-8f824fa9d91836d00f1ad8026e5ece78e3454598-df8c70184e183bb8-01
2022-04-21T21:06:42.042Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:06:42.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-d886c56b7bc68f6a231cd3e2be4b42d1b0e2d13d-08c07724a1dac373-01 outer:exit 2b-d886c56b7bc68f6a231cd3e2be4b42d1b0e2d13d-c2ae6658dd1042f5-01
2022-04-21T21:06:42.049Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:06:42.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4ce57ec90145d260b4e4e017d11c020de5e4e59-3e30d30869614e97-01 outer:exit 2b-d4ce57ec90145d260b4e4e017d11c020de5e4e59-f0f4f29ad7cd84b8-01
2022-04-21T21:06:42.051Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:06:42.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-17eb063ab97b01e536c8c5311a4e9255d4857b7c-2b619c39142ad059-01 outer:exit 2b-17eb063ab97b01e536c8c5311a4e9255d4857b7c-291bb5a56776aef9-01
2022-04-21T21:06:42.053Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:06:42.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6ddbee00cc80947a24271cc43845ffb13d34c5d-27e259ae10e0a7c8-01 outer:exit 2b-a6ddbee00cc80947a24271cc43845ffb13d34c5d-16d59ef8ad5e5aa5-01
2022-04-21T21:06:42.055Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:06:42.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7fd955b292b6f232272fe5238e5cc4bc26bc882-decc5ea0e6cfeff9-01 outer:exit 2b-b7fd955b292b6f232272fe5238e5cc4bc26bc882-b9a4b3aad0b0bb71-01
2022-04-21T21:06:42.057Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:06:42.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-62b8cd901832ddd74942a8875ce041b4a9e8ea00-2ef8add6b0a6d4f6-01 outer:exit 2b-62b8cd901832ddd74942a8875ce041b4a9e8ea00-5e52421434c7ac3a-01
2022-04-21T21:06:42.059Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:06:42.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-d24861b9ac08f871881c837bb0852df33e57d871-b50e2a25d230201b-01 outer:exit 2b-d24861b9ac08f871881c837bb0852df33e57d871-5309f3ff5542d333-01
2022-04-21T21:06:42.071Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:06:42.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e764b6368c7841722522df2a159f2a764d7991f-df8e0309d5c64f3f-01 outer:exit 2b-6e764b6368c7841722522df2a159f2a764d7991f-29f9763a380353bf-01
2022-04-21T21:06:42.081Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:06:42.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-a673a8792e49a5992c1fa7d8c8ec953426271ae5-d7a0f5dfed370299-01 outer:exit 2b-a673a8792e49a5992c1fa7d8c8ec953426271ae5-7c4f146020a89dd5-01
2022-04-21T21:06:42.084Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:06:42.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-660abdd56fc6acd095965668668cdd491bf82c69-0875c7c48b6800fe-01 outer:exit 2b-660abdd56fc6acd095965668668cdd491bf82c69-377edaa7e85443aa-01
2022-04-21T21:06:42.087Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:06:42.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-93a21ae927a28dc927039ee7a8d3075c5bb10e89-85ee6498f43fa82c-01 outer:exit 2b-93a21ae927a28dc927039ee7a8d3075c5bb10e89-9049d9033bafb601-01
2022-04-21T21:06:42.090Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:06:42.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b06eeadef56823bc8159a44d8b885e062ac8029-96e1df3fc29e2c3f-01 outer:exit 2b-9b06eeadef56823bc8159a44d8b885e062ac8029-6c4503c32a652a8f-01
2022-04-21T21:06:42.120Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (350ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:49.286Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:49.287Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:49.287Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:49.288Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:49.356Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:49.489Z appoptics:patching patched crypto 
2022-04-21T21:06:49.510Z appoptics:patching patched https 
2022-04-21T21:06:49.510Z appoptics:patching patched http 
2022-04-21T21:06:49.557Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:49.558Z appoptics:patching patched fs 
2022-04-21T21:06:49.585Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v16.14.2)
2022-04-21T21:06:49.592Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-21T21:06:49.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-034e5e41c3b35cd5de9bb6870324c92f81e690f7-831752deba11a2e6-01 outer:exit 2b-034e5e41c3b35cd5de9bb6870324c92f81e690f7-56ea345de25e5c77-01
2022-04-21T21:06:49.642Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:06:49.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-45e7f7f69fce1d00e9a67c3066782fc59a6b6364-9f648ed9e06bce51-01 outer:exit 2b-45e7f7f69fce1d00e9a67c3066782fc59a6b6364-14668fce74591c8a-01
2022-04-21T21:06:49.695Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:06:49.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-379ad852752af09e33937842c1db5ebc74504bb8-bcb7ac8597091ec6-01 outer:exit 2b-379ad852752af09e33937842c1db5ebc74504bb8-eda02266db63b284-01
2022-04-21T21:06:49.700Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:06:49.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-b57f1f58cf4b1392f6dd0eb47b9d09a6ec8615cd-03873240f06eae1a-01 outer:exit 2b-b57f1f58cf4b1392f6dd0eb47b9d09a6ec8615cd-db2d2a32b7d1514c-01
2022-04-21T21:06:49.704Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:06:49.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d0fd97dd7393556364b295c23607f89c22c36be-3dc782c02c39c076-01 outer:exit 2b-3d0fd97dd7393556364b295c23607f89c22c36be-3042bf083227d4fb-01
2022-04-21T21:06:49.712Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:06:49.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-f38b57167b7136ad6bb9cd58364d19548b88c1bf-11970193382fc9c0-01 outer:exit 2b-f38b57167b7136ad6bb9cd58364d19548b88c1bf-741126c27e47b547-01
2022-04-21T21:06:49.716Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:06:49.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ec33ebfc30603f9ed24101eebed6c72d2b134c5-3ff4cc15a3ef5916-01 outer:exit 2b-8ec33ebfc30603f9ed24101eebed6c72d2b134c5-3f5696013bc063cb-01
2022-04-21T21:06:49.720Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:06:49.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cc740db20102fb2cbf0bdafa342bb9f5112f859-f2bb21281eebc12c-01 outer:exit 2b-8cc740db20102fb2cbf0bdafa342bb9f5112f859-089a1778ce4dca2d-01
2022-04-21T21:06:49.724Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:06:49.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f3d71711f4e063b2c57c3f07d0eeb495d0d9823-1e0b5b5dc94d1415-01 outer:exit 2b-2f3d71711f4e063b2c57c3f07d0eeb495d0d9823-d35292dbc28f2ea7-01
2022-04-21T21:06:49.727Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:06:49.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-113603eb0d2a3d2c1f6e54a9ee043d2093c3809c-390f50abbea8d6ca-01 outer:exit 2b-113603eb0d2a3d2c1f6e54a9ee043d2093c3809c-a1e4c8e7f7c423f0-01
2022-04-21T21:06:49.731Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:06:49.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-131bc0d302f33cb87ffe0965702bd9cb82ed47e9-a0eff996c2f7c557-01 outer:exit 2b-131bc0d302f33cb87ffe0965702bd9cb82ed47e9-34c92e575f6f9c44-01
2022-04-21T21:06:49.736Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:06:49.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-de2cb81c688f9f0ef03ca9ca4a71fc92998e65ba-7732ad106852d6b0-01 outer:exit 2b-de2cb81c688f9f0ef03ca9ca4a71fc92998e65ba-8b37445e82ba686f-01
2022-04-21T21:06:49.743Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:06:49.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7b7f0249edf44ac108cb064f83a951181277f8e-8ffcd89e3410ae5e-01 outer:exit 2b-d7b7f0249edf44ac108cb064f83a951181277f8e-de5c64d61b07819c-01
2022-04-21T21:06:49.765Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:06:49.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d5865cd22e8648e45d7a0a7eaf5ff3e02822ba5-e5079236826b33b3-01 outer:exit 2b-3d5865cd22e8648e45d7a0a7eaf5ff3e02822ba5-d523a0c815ece0c3-01
2022-04-21T21:06:49.808Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:06:49.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c8fda1457622b9650fa67a3f5d57844486ba2e3-b0fed547c9082e02-01 outer:exit 2b-6c8fda1457622b9650fa67a3f5d57844486ba2e3-13193e0f015bbd9c-01
2022-04-21T21:06:49.812Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:06:49.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-2412ffd611365926637b4b7a440a63058d8c5c27-5e1dd4efd094cb18-01 outer:exit 2b-2412ffd611365926637b4b7a440a63058d8c5c27-43924631730c9f2b-01
2022-04-21T21:06:49.818Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:06:49.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea99438f08e1bfb4d730289dc878c2fc5d6e57af-f0227feca234d070-01 outer:exit 2b-ea99438f08e1bfb4d730289dc878c2fc5d6e57af-5c8e0836c3989ccd-01
2022-04-21T21:06:49.823Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:06:49.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b0036f703eb9c1ad7e948dc35efac131c561b59-e743da3179b139ad-01 outer:exit 2b-9b0036f703eb9c1ad7e948dc35efac131c561b59-757bc9ff3222972b-01
2022-04-21T21:06:49.826Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:06:49.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-ced333bc375885feaab5d960dd6b6353b9ab8fda-0391a122ab6e6d63-01 outer:exit 2b-ced333bc375885feaab5d960dd6b6353b9ab8fda-f856052c43b1244e-01
2022-04-21T21:06:49.828Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:06:49.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-826506d348111430f4768ff98b9bea35b98a2f3b-04e82ff0f9770f3a-01 outer:exit 2b-826506d348111430f4768ff98b9bea35b98a2f3b-9208350c16e4d992-01
2022-04-21T21:06:49.830Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:06:49.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2dc75e4a6530dd4fc3948544e621ad23884d580-e01fc0411adbd621-01 outer:exit 2b-c2dc75e4a6530dd4fc3948544e621ad23884d580-37a2202226c0faf6-01
2022-04-21T21:06:49.832Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:06:49.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-52ff7d45d4fcfa917348b7df19dc761902b89285-bab92380ae0cd6bf-01 outer:exit 2b-52ff7d45d4fcfa917348b7df19dc761902b89285-6a0a94c25f10418f-01
2022-04-21T21:06:49.835Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:06:49.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-cae2579469f987baec9668d9824073f047d69a2d-03c0ed8f10ff5022-01 outer:exit 2b-cae2579469f987baec9668d9824073f047d69a2d-5395848a0aa20e14-01
2022-04-21T21:06:49.838Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:06:49.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b6f30e72fd62ecf660782857688113a2e304b66-0256f200c5ee7d8e-01 outer:exit 2b-6b6f30e72fd62ecf660782857688113a2e304b66-3f2c3745bef2ef3b-01
2022-04-21T21:06:49.841Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:06:49.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-86df0fc3bb1748c18185a6bda097d233d8cea3bb-27fef74c79ed8aab-01 outer:exit 2b-86df0fc3bb1748c18185a6bda097d233d8cea3bb-7bef4ec2236ead0f-01
2022-04-21T21:06:49.844Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:06:49.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-90ae0403ac1bb5615852a8e33c0afc61f16105c0-ee74b058379aa10e-01 outer:exit 2b-90ae0403ac1bb5615852a8e33c0afc61f16105c0-3c2d5f28a38951a6-01
2022-04-21T21:06:49.846Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:06:49.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e7a49f5a43e3c5cd2634923d4cb88935a09a9bb-f7b80640db5e1473-01 outer:exit 2b-9e7a49f5a43e3c5cd2634923d4cb88935a09a9bb-eb6605270170d589-01
2022-04-21T21:06:49.853Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:06:49.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1cbd5f9396d6a07b57b5e31c516ff3f730a9406-735b36c92cd44c41-01 outer:exit 2b-b1cbd5f9396d6a07b57b5e31c516ff3f730a9406-5dd27ea53ed45440-01
2022-04-21T21:06:49.859Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:06:49.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-234eddd7277e0db467e6a25b1d0e97cbb5e0f784-8c03a391ceead2ad-01 outer:exit 2b-234eddd7277e0db467e6a25b1d0e97cbb5e0f784-0914745b9b8de6ca-01
2022-04-21T21:06:49.871Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:06:49.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-b912968e84515c4b820609513250c6ddbccf502f-4be7a1119951c091-01 outer:exit 2b-b912968e84515c4b820609513250c6ddbccf502f-0046090d70836f1b-01
2022-04-21T21:06:49.884Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:06:49.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-27b3f8afdae6348e5d5ca088cf1a6f5a336ff3b4-e927a7dd65d4a4d5-01 outer:exit 2b-27b3f8afdae6348e5d5ca088cf1a6f5a336ff3b4-dccffc607b3eb17d-01
2022-04-21T21:06:49.886Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:06:49.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-a39ca284547ac8ec32622231a79610bad52ce609-a63e0ffe8da98f7e-01 outer:exit 2b-a39ca284547ac8ec32622231a79610bad52ce609-50df72e2efbf169b-01
2022-04-21T21:06:49.889Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:06:49.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-e13922ef0c32c629ecf895f54b470572bc6f38a1-2993f8ae0949847e-01 outer:exit 2b-e13922ef0c32c629ecf895f54b470572bc6f38a1-8cf11e2a0d0567c6-01
2022-04-21T21:06:49.898Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:06:49.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-819ed44ab4a9b058bf3e89e98c8ab6c8bf9fd799-b5a2e85475fd7cdf-01 outer:exit 2b-819ed44ab4a9b058bf3e89e98c8ab6c8bf9fd799-1e544a546bffc9e8-01
2022-04-21T21:06:49.900Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:06:49.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf847858fa07cb4a235f769d2e6398e46b00ae72-7d40c42346f3fa58-01 outer:exit 2b-bf847858fa07cb4a235f769d2e6398e46b00ae72-5a10f61433655738-01
2022-04-21T21:06:49.902Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:06:49.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e69eac399157ff5918a932592e5e8f616e122e7-76059d75974f2826-01 outer:exit 2b-0e69eac399157ff5918a932592e5e8f616e122e7-f0de194e33c269f3-01
2022-04-21T21:06:49.904Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:06:49.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-67d18c092cd78ea20644b576a3f4a89f260abbda-cc2e4e73a95637b2-01 outer:exit 2b-67d18c092cd78ea20644b576a3f4a89f260abbda-a3a39d6554decc36-01
2022-04-21T21:06:49.906Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:06:49.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-5725aeba124bf27eff5e4d0a6415aef0e3bc7f64-672e7994904eb6e3-01 outer:exit 2b-5725aeba124bf27eff5e4d0a6415aef0e3bc7f64-23a708516ed44479-01
2022-04-21T21:06:49.908Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:06:49.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-ede90f4bc9630a53d5f234d5481fcce2131a4701-3a363813450dbb9b-01 outer:exit 2b-ede90f4bc9630a53d5f234d5481fcce2131a4701-b64032da9059b680-01
2022-04-21T21:06:49.927Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:06:49.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f462268c5e0be10c46ef997a9297c34cb0c6d2b-25435e2c82eb2a4f-01 outer:exit 2b-3f462268c5e0be10c46ef997a9297c34cb0c6d2b-76af5d193c84a8b4-01
2022-04-21T21:06:49.936Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:06:49.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c4e764d183a6edf8b363966a11aa79f8152316c-431caa04a2bd7cab-01 outer:exit 2b-1c4e764d183a6edf8b363966a11aa79f8152316c-7373cd3902e56fc5-01
2022-04-21T21:06:49.941Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:06:49.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-82c8dfa1e464852293bc44fe36e438bc3dc892ec-12b2ac0f6c3238da-01 outer:exit 2b-82c8dfa1e464852293bc44fe36e438bc3dc892ec-5ad39c0ff08dbf3f-01
2022-04-21T21:06:49.944Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:06:49.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbadb55e705fdc5304b509e9bfde88c62b1251df-c8503da741f72601-01 outer:exit 2b-bbadb55e705fdc5304b509e9bfde88c62b1251df-3180e490a5118de2-01
2022-04-21T21:06:49.947Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:06:49.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-a360e66c4812d9a5873c532c776c8a5d5de340ac-173ec76c13ab597e-01 outer:exit 2b-a360e66c4812d9a5873c532c776c8a5d5de340ac-f8d2fe3bfc396346-01
2022-04-21T21:06:49.980Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (381ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:06:56.662Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:06:56.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:06:56.663Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:06:56.664Z appoptics:debug using context provider: ace-context
2022-04-21T21:06:56.735Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:06:56.872Z appoptics:patching patched crypto 
2022-04-21T21:06:56.893Z appoptics:patching patched https 
2022-04-21T21:06:56.893Z appoptics:patching patched http 
2022-04-21T21:06:56.941Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:06:56.942Z appoptics:patching patched fs 
2022-04-21T21:06:56.970Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v16.14.2)
2022-04-21T21:06:56.976Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-21T21:06:57.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9bbd38e683a26b50b2513f9140399ad3c8f0049-bf718f8634a7c828-01 outer:exit 2b-a9bbd38e683a26b50b2513f9140399ad3c8f0049-b4f58884088929c6-01
2022-04-21T21:06:57.028Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:06:57.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0df900df444db2034e14d2de2354e7a16960449-ca89e8a940b89174-01 outer:exit 2b-a0df900df444db2034e14d2de2354e7a16960449-578e05c266fef059-01
2022-04-21T21:06:57.079Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:06:57.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-349a2279c4aec39147a7a48d34561bf1fb872738-502f93263e42e312-01 outer:exit 2b-349a2279c4aec39147a7a48d34561bf1fb872738-ad4be55396d88d64-01
2022-04-21T21:06:57.083Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:06:57.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-7074ddd8481b85f965c163455db5c2b342088fb3-f9dfedb71039b8cd-01 outer:exit 2b-7074ddd8481b85f965c163455db5c2b342088fb3-6851099a41717d60-01
2022-04-21T21:06:57.087Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:06:57.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c6387cbc7f595817c11d8277ed265c1594ae7f6-7c159a5aa8701963-01 outer:exit 2b-7c6387cbc7f595817c11d8277ed265c1594ae7f6-6e9c51f99b6e2690-01
2022-04-21T21:06:57.092Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:06:57.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0749c4fbf361afd62c0c5143fff97d841585119-b1f1884fed30b3b6-01 outer:exit 2b-b0749c4fbf361afd62c0c5143fff97d841585119-fde330df670969d6-01
2022-04-21T21:06:57.096Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:06:57.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fb955444583d113c4d34924ff79e1f82aad9b61-5b75ca3c5472312b-01 outer:exit 2b-2fb955444583d113c4d34924ff79e1f82aad9b61-e261f1a517927acb-01
2022-04-21T21:06:57.099Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:06:57.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-90bf31d448f7b07c717f75e1447e54e3dfe33839-47bed461ca0020e7-01 outer:exit 2b-90bf31d448f7b07c717f75e1447e54e3dfe33839-b633cbaee7f2be9b-01
2022-04-21T21:06:57.105Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:06:57.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5009eeec5902c12e3a6bd1b5851e73668b4ebe5-d0088cd50b4a8ec9-01 outer:exit 2b-f5009eeec5902c12e3a6bd1b5851e73668b4ebe5-8824369095ad4ed3-01
2022-04-21T21:06:57.108Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:06:57.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ed1f15e03dbe7f27b7e53480f91acfb5664eabd-89b138feb0f3d57b-01 outer:exit 2b-4ed1f15e03dbe7f27b7e53480f91acfb5664eabd-c839dcbd5ed61924-01
2022-04-21T21:06:57.112Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:06:57.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b2b2653804a374a3b5a822e7bf18f5c25bfd927-62379697cd00b0ce-01 outer:exit 2b-3b2b2653804a374a3b5a822e7bf18f5c25bfd927-6e43ab7ae7fc7cfc-01
2022-04-21T21:06:57.117Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:06:57.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-03c9901a6918a63fed2e2fdcc17e35433be40648-a0ec65a7a00e570c-01 outer:exit 2b-03c9901a6918a63fed2e2fdcc17e35433be40648-983394432adfd802-01
2022-04-21T21:06:57.124Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:06:57.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-5357c4d25f4780405f152b2c0c4f39c5781afa22-bede80478425dcb9-01 outer:exit 2b-5357c4d25f4780405f152b2c0c4f39c5781afa22-267807b1ff713394-01
2022-04-21T21:06:57.141Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:06:57.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-7295d54b8eafdc721ff550e13711ba8b9e35e90f-b8c0d260aa9d9554-01 outer:exit 2b-7295d54b8eafdc721ff550e13711ba8b9e35e90f-de7b482efe901d12-01
2022-04-21T21:06:57.185Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:06:57.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c9a79290f957d615dd885496607d28095b3565c-5279c5c3d9455c04-01 outer:exit 2b-7c9a79290f957d615dd885496607d28095b3565c-a8f14826efa6ff52-01
2022-04-21T21:06:57.188Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:06:57.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d6d8373ebd280848bd56ab02b7c1d9e5df5633d-ea12fca62a2dabb0-01 outer:exit 2b-2d6d8373ebd280848bd56ab02b7c1d9e5df5633d-db11bd5a1e31e25d-01
2022-04-21T21:06:57.191Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:06:57.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6f143c2f4811d8c90c5f25f86b38348263ee266-d0ea2efc2db7e9d2-01 outer:exit 2b-a6f143c2f4811d8c90c5f25f86b38348263ee266-c608c852d1ece745-01
2022-04-21T21:06:57.194Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:06:57.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ce6b560289973f0f9e7d10c9395d79314b2beef-5a65edc5f6e0af16-01 outer:exit 2b-3ce6b560289973f0f9e7d10c9395d79314b2beef-f6ff2cb63ba9221b-01
2022-04-21T21:06:57.197Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:06:57.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e3d7c72bde3348406ca14f223be9561694a8659-d0a02820e021738d-01 outer:exit 2b-0e3d7c72bde3348406ca14f223be9561694a8659-30d5e4646cecd99b-01
2022-04-21T21:06:57.199Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:06:57.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-423d8cea46c034d89bcd78e5beeb63a977a6a433-f6a79d7a39aefb09-01 outer:exit 2b-423d8cea46c034d89bcd78e5beeb63a977a6a433-78b044e51dc4f7c0-01
2022-04-21T21:06:57.202Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:06:57.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb23701f27428789d11377db3841b047e7adc688-c55ea7385e5aba70-01 outer:exit 2b-eb23701f27428789d11377db3841b047e7adc688-0b65f6e11d99af1f-01
2022-04-21T21:06:57.204Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:06:57.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-421a218cb558b2c685898efa88e5a4bf041300be-55b3dd8356f299f1-01 outer:exit 2b-421a218cb558b2c685898efa88e5a4bf041300be-88a1c110b7c76c89-01
2022-04-21T21:06:57.206Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:06:57.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a043bee8a3e07348e398685d287d2d9682dab9-7b1ed7cdd3742b1c-01 outer:exit 2b-77a043bee8a3e07348e398685d287d2d9682dab9-b2034fd818b29c36-01
2022-04-21T21:06:57.209Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:06:57.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-10abba75cbc87abc1ab0a2b5e3850e960e751ead-254416f1f0bb8f4e-01 outer:exit 2b-10abba75cbc87abc1ab0a2b5e3850e960e751ead-41ec3af1ff88f43a-01
2022-04-21T21:06:57.213Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:06:57.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-da5d05e01d69a88b0ee6e0e072772a9f6d7360de-a5418b8f2cc36ccc-01 outer:exit 2b-da5d05e01d69a88b0ee6e0e072772a9f6d7360de-d30328990bc5809c-01
2022-04-21T21:06:57.215Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:06:57.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-930a4c553d10c86820430f814289f353a2a2ddfc-304954bf738cadfa-01 outer:exit 2b-930a4c553d10c86820430f814289f353a2a2ddfc-dcbd3baf41b6dd08-01
2022-04-21T21:06:57.217Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:06:57.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-617d98f9d87dc91cc3e7b7e6c18b75bc1b629de1-ce9bc08af6dc598b-01 outer:exit 2b-617d98f9d87dc91cc3e7b7e6c18b75bc1b629de1-29ee8f14e1618fcd-01
2022-04-21T21:06:57.224Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:06:57.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-c135346760c3478e7473c043efcef8584436c9e5-4283e3abad017d6c-01 outer:exit 2b-c135346760c3478e7473c043efcef8584436c9e5-51aaab8c1f712f74-01
2022-04-21T21:06:57.231Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:06:57.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f384183262020be78db1036538a92b21f80ac3a-0f940810e196ac03-01 outer:exit 2b-7f384183262020be78db1036538a92b21f80ac3a-99ea069301f98d0a-01
2022-04-21T21:06:57.240Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:06:57.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2b2f5dc801df71e7fe777998d0379944b760f11-f3e7ebba4b22d0ae-01 outer:exit 2b-f2b2f5dc801df71e7fe777998d0379944b760f11-5b892004fdb124d4-01
2022-04-21T21:06:57.247Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:06:57.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-da4e1fd76f0efdde0c95a743e67692802317da7b-5d8a09e4895b8977-01 outer:exit 2b-da4e1fd76f0efdde0c95a743e67692802317da7b-57ac2f5320c19fc8-01
2022-04-21T21:06:57.250Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:06:57.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2120247cde013708d33ce559929c6b96e1e4eea-bfd59418a8d47c74-01 outer:exit 2b-e2120247cde013708d33ce559929c6b96e1e4eea-50db0727d72d19b4-01
2022-04-21T21:06:57.253Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:06:57.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-a316f02fc994e27fdb81acc31a93dd05b785d63e-5523b6bdf322c8db-01 outer:exit 2b-a316f02fc994e27fdb81acc31a93dd05b785d63e-c06608903824db5e-01
2022-04-21T21:06:57.261Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:06:57.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-58bf27ec3567e57ff3d4f0f69f00eaa770381ffc-8ca7eba26f7b2ded-01 outer:exit 2b-58bf27ec3567e57ff3d4f0f69f00eaa770381ffc-99ff0dc81d0ff53a-01
2022-04-21T21:06:57.264Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:06:57.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df394fc76bd5295128b356115d0d79eec42a082-e5ca1861f91aac03-01 outer:exit 2b-7df394fc76bd5295128b356115d0d79eec42a082-3a40f30873075419-01
2022-04-21T21:06:57.266Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:06:57.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-168d05c567bb9cf95bd9f08cb976d91484dd2fc7-a6fa943ef6463822-01 outer:exit 2b-168d05c567bb9cf95bd9f08cb976d91484dd2fc7-1d9a82ff80baf4df-01
2022-04-21T21:06:57.268Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:06:57.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd62e128606604442a993cdee2d6fdeb77e30385-4788c5c10d46a4a9-01 outer:exit 2b-fd62e128606604442a993cdee2d6fdeb77e30385-1f1473999edebec2-01
2022-04-21T21:06:57.270Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:06:57.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-238d13e45699a783f19d27d03a73c95e7f9a1c3d-a75973818ddb2f8b-01 outer:exit 2b-238d13e45699a783f19d27d03a73c95e7f9a1c3d-f2d71b1a2b813683-01
2022-04-21T21:06:57.272Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:06:57.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-87b8e514eba3c0be2d93222fa1638b47d16577fb-30501b96227ec14f-01 outer:exit 2b-87b8e514eba3c0be2d93222fa1638b47d16577fb-2335c0ed2d00940e-01
2022-04-21T21:06:57.282Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:06:57.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-68a505381ceed21318b79b4c2ebd39f1f9860dbc-f9f0b78a3e22ef2b-01 outer:exit 2b-68a505381ceed21318b79b4c2ebd39f1f9860dbc-60abfd26bd736ce4-01
2022-04-21T21:06:57.293Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:06:57.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bd6a89989e1a59bb227d11820995c76780816a2-8925faa05c387d9b-01 outer:exit 2b-7bd6a89989e1a59bb227d11820995c76780816a2-d94ba33e89e72f4a-01
2022-04-21T21:06:57.296Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:06:57.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-6354031eb6862fe84a50103cc65164b59894eb97-640f0359c3452642-01 outer:exit 2b-6354031eb6862fe84a50103cc65164b59894eb97-442edb20de34ae23-01
2022-04-21T21:06:57.298Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:06:57.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-733806e3ad61bc86930468a8a42f9031dc981ba8-7722c3468431a683-01 outer:exit 2b-733806e3ad61bc86930468a8a42f9031dc981ba8-1465af8e7ee567b4-01
2022-04-21T21:06:57.301Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:06:57.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-29e616902f5c2bcc83662da8b3fa3a483ca7d2eb-70c6ee581be8aa28-01 outer:exit 2b-29e616902f5c2bcc83662da8b3fa3a483ca7d2eb-25eeace75639d7dc-01
2022-04-21T21:06:57.333Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (350ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:04.273Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:04.274Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:04.274Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:04.275Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:04.375Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:04.564Z appoptics:patching patched crypto 
2022-04-21T21:07:04.585Z appoptics:patching patched https 
2022-04-21T21:07:04.586Z appoptics:patching patched http 
2022-04-21T21:07:04.633Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:04.633Z appoptics:patching patched fs 
2022-04-21T21:07:04.660Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v16.14.2)
2022-04-21T21:07:04.667Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-21T21:07:04.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-bec51d636e8cc03b8cb46c9440c2d86e80eef006-9e2f23871047dd4f-01 outer:exit 2b-bec51d636e8cc03b8cb46c9440c2d86e80eef006-4c6c93e23225662f-01
2022-04-21T21:07:04.718Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:07:04.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-a532449917e1b1eae043afb2d621e70ccc5e54d0-b26187e408d8e425-01 outer:exit 2b-a532449917e1b1eae043afb2d621e70ccc5e54d0-996c6ec03113897f-01
2022-04-21T21:07:04.767Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:07:04.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef488c8f0d22054f516783d72699d354fd37bb91-9855889bd0c0216b-01 outer:exit 2b-ef488c8f0d22054f516783d72699d354fd37bb91-7ffc242cd3737a24-01
2022-04-21T21:07:04.772Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:07:04.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-29d8f848e011cff26fe498a232ae69e87aa250bb-d2e8ab8f258d2c1f-01 outer:exit 2b-29d8f848e011cff26fe498a232ae69e87aa250bb-de8233919907e929-01
2022-04-21T21:07:04.776Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:07:04.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d6a8bc4fc5dd224f0d03b04865049fe90ae5cbe-23bde95edfd03d35-01 outer:exit 2b-4d6a8bc4fc5dd224f0d03b04865049fe90ae5cbe-3d3e40e96bd1e32a-01
2022-04-21T21:07:04.781Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:07:04.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-a47534d3ff4c4906c2607dd6d43932d0288a7333-3a821e9e863992a5-01 outer:exit 2b-a47534d3ff4c4906c2607dd6d43932d0288a7333-da778418fb8d93ee-01
2022-04-21T21:07:04.785Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:07:04.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8fd93fe65fc0d0563cb62c88bc452f3d4570854-f7a31f827b70643d-01 outer:exit 2b-a8fd93fe65fc0d0563cb62c88bc452f3d4570854-1d657ec26f6b8f1a-01
2022-04-21T21:07:04.792Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:07:04.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e6b14de2cb1103c2fe2d24600f779ba4f9acae4-b8ad0cde510bfbab-01 outer:exit 2b-7e6b14de2cb1103c2fe2d24600f779ba4f9acae4-442ee648e8d76856-01
2022-04-21T21:07:04.796Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:07:04.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d837a24b3133721f3311c79b6669ad1ce58ba8e-e5ab2076ff606510-01 outer:exit 2b-1d837a24b3133721f3311c79b6669ad1ce58ba8e-3a4f190939b5865c-01
2022-04-21T21:07:04.799Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:07:04.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-692a011d2cb5b51e6551f5f93678ba5cb876dd1d-e87cb7040155a111-01 outer:exit 2b-692a011d2cb5b51e6551f5f93678ba5cb876dd1d-b57748eefb5e8657-01
2022-04-21T21:07:04.803Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:07:04.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-517395955b0604b4a3667371c51e43417cfe103f-49ab05dbaddc349c-01 outer:exit 2b-517395955b0604b4a3667371c51e43417cfe103f-5cd1a9cec39092ae-01
2022-04-21T21:07:04.808Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:07:04.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-d288af9b74558d8ca8adb2e9a44281df9f8eed75-7928c011f801e2ad-01 outer:exit 2b-d288af9b74558d8ca8adb2e9a44281df9f8eed75-4c77984187248239-01
2022-04-21T21:07:04.815Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:07:04.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-820da7497846999c98d24e89113f3f10f847d1c0-884af55b3fd0c634-01 outer:exit 2b-820da7497846999c98d24e89113f3f10f847d1c0-d97bec79004119e3-01
2022-04-21T21:07:04.834Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:07:04.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-59ab28952f1251d769ecd48f9ddc7c4cf758c730-614f1c256e21043d-01 outer:exit 2b-59ab28952f1251d769ecd48f9ddc7c4cf758c730-df7317cbc077d31d-01
2022-04-21T21:07:04.879Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:07:04.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfe90151ece77c6365d154386661fb8011bd39cd-c22ab405c88f5ef7-01 outer:exit 2b-cfe90151ece77c6365d154386661fb8011bd39cd-baebaecef4cbfd75-01
2022-04-21T21:07:04.882Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:07:04.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6a4c6cdbe4bf2b2c35bcbe7c6d9bf0d2b22ef29-0f93d3ccdcdb60c5-01 outer:exit 2b-e6a4c6cdbe4bf2b2c35bcbe7c6d9bf0d2b22ef29-2afe311a0042fc94-01
2022-04-21T21:07:04.885Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:07:04.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-fef3be4b82645b937ec04a6c0c6929bd626fcb19-1fc37b3d28e0209a-01 outer:exit 2b-fef3be4b82645b937ec04a6c0c6929bd626fcb19-1cd1664e64d78c07-01
2022-04-21T21:07:04.888Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:07:04.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a2de66c9575ff8e8e6fb93513fef1057668a670-9f833e99cb74bb23-01 outer:exit 2b-8a2de66c9575ff8e8e6fb93513fef1057668a670-e1c166f7151a2d16-01
2022-04-21T21:07:04.892Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:07:04.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0e1a9dc52435201845fb1de18b593691b4f31d8-09e036068292a9d9-01 outer:exit 2b-b0e1a9dc52435201845fb1de18b593691b4f31d8-3015c99e2c3dc560-01
2022-04-21T21:07:04.894Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:07:04.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-a68c1e7c1332f91ce6a820de14555069483053ba-bb184f6494566cc8-01 outer:exit 2b-a68c1e7c1332f91ce6a820de14555069483053ba-cb0fee5cca97f598-01
2022-04-21T21:07:04.896Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:07:04.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-367dbadcd81c0f1ccaae12e9d0679c83bf655b29-e80fbc577c937d3d-01 outer:exit 2b-367dbadcd81c0f1ccaae12e9d0679c83bf655b29-9b979c57bf728358-01
2022-04-21T21:07:04.898Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:07:04.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b88462a7adc3a2515add60355df359814594bcc-dff4291b389f5e63-01 outer:exit 2b-3b88462a7adc3a2515add60355df359814594bcc-ad02b02c5b72f9ab-01
2022-04-21T21:07:04.901Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:07:04.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-881bbd95aa82574b323609ead06d4e5f8b6244a5-d734adbf0b8e8ebf-01 outer:exit 2b-881bbd95aa82574b323609ead06d4e5f8b6244a5-9bbc5ec8a17c5d4d-01
2022-04-21T21:07:04.904Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:07:04.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9ce07d3fc9f5bc2618bcf54f0973093523d6755-39e6b6ea3884576f-01 outer:exit 2b-a9ce07d3fc9f5bc2618bcf54f0973093523d6755-fda007385c9df7f3-01
2022-04-21T21:07:04.907Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:07:04.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d2ceaddc11257105e88d1773126b5fb710dc03a-c7c2df10829eff30-01 outer:exit 2b-8d2ceaddc11257105e88d1773126b5fb710dc03a-ffadf144c85ae983-01
2022-04-21T21:07:04.910Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:07:04.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcdca9fd58c2f980c0f2cc5bf1b69900e3651cc9-47644f801819fc2a-01 outer:exit 2b-dcdca9fd58c2f980c0f2cc5bf1b69900e3651cc9-c598d5a0bb8ca6fd-01
2022-04-21T21:07:04.913Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:07:04.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-beaaeaebdf3452fd4c149643070796c215beb607-253f4db789ff4640-01 outer:exit 2b-beaaeaebdf3452fd4c149643070796c215beb607-dcf37c12898d3ddb-01
2022-04-21T21:07:04.920Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:07:04.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-c20e5281e053700136aed8278eaab23277f7ed30-b933162de9c9703e-01 outer:exit 2b-c20e5281e053700136aed8278eaab23277f7ed30-859ac514629255cc-01
2022-04-21T21:07:04.930Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:07:04.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d09cebf6e57e14edf0890ad6b5acff7996529b-120766801e2c355a-01 outer:exit 2b-d8d09cebf6e57e14edf0890ad6b5acff7996529b-e49c91a738ea79e6-01
2022-04-21T21:07:04.940Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:07:04.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-2be56873c221bb78eba303cb54dd814044841a22-6a6f8c482eb6f42b-01 outer:exit 2b-2be56873c221bb78eba303cb54dd814044841a22-69aadb901fb35817-01
2022-04-21T21:07:04.948Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:07:04.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-d04c99ea919e786e5cd8c0cc1f93006519df7dfb-abb2de86edfc5efe-01 outer:exit 2b-d04c99ea919e786e5cd8c0cc1f93006519df7dfb-fee014616c818af1-01
2022-04-21T21:07:04.950Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:07:04.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-788c2c5f386bcdb342b5d5cf183397a95d3d7153-8dd9580e20b6cb63-01 outer:exit 2b-788c2c5f386bcdb342b5d5cf183397a95d3d7153-f90152620b36a30d-01
2022-04-21T21:07:04.954Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:07:04.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-086afbc2da4bdc59cd3228a579b126dbb5e86a78-715e5aefe99d4463-01 outer:exit 2b-086afbc2da4bdc59cd3228a579b126dbb5e86a78-399cba411617090c-01
2022-04-21T21:07:04.961Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:07:04.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4104768f44c25a9ef60b6a15b287cf5658b3ad7-2e4d5408effc8897-01 outer:exit 2b-d4104768f44c25a9ef60b6a15b287cf5658b3ad7-33ab1c4151387aa5-01
2022-04-21T21:07:04.964Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:07:04.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb0533a55d9ee6e1d1c1d7392234b7e2f4301a1a-f842a661e0406d36-01 outer:exit 2b-bb0533a55d9ee6e1d1c1d7392234b7e2f4301a1a-4e58c8db071b850d-01
2022-04-21T21:07:04.968Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:07:04.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-250297d2296e361215b8e4804f198533f6c6e5a9-7d1c61514bd94c8c-01 outer:exit 2b-250297d2296e361215b8e4804f198533f6c6e5a9-0b9b8e334e6463e1-01
2022-04-21T21:07:04.975Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:07:04.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-f04f1204e27d5a078334bb118eb2fe457938ba57-427d87291e929c71-01 outer:exit 2b-f04f1204e27d5a078334bb118eb2fe457938ba57-6e6262837eb22379-01
2022-04-21T21:07:04.978Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:07:04.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb4c58ac021a68a23ed4a326d0aa5cce1c8f3c7c-a480dcf4bc0e503e-01 outer:exit 2b-fb4c58ac021a68a23ed4a326d0aa5cce1c8f3c7c-ea46305027d1be0c-01
2022-04-21T21:07:04.981Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:07:05.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf843d8aed84803fb35a5349a3fb4dc55e7a29c1-b788d2a92b0f5be4-01 outer:exit 2b-bf843d8aed84803fb35a5349a3fb4dc55e7a29c1-3e0122ccb0d99fa6-01
2022-04-21T21:07:05.007Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:07:05.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f071521f09ad186a80af62ab268ff29d1790559-9e6bfa698f924c59-01 outer:exit 2b-5f071521f09ad186a80af62ab268ff29d1790559-e9196c85eabaa41e-01
2022-04-21T21:07:05.017Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:07:05.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-2061b286509f00c7e0ce7b3ea4a4a45f5a2dcd76-6fd8eb91ed9fdc09-01 outer:exit 2b-2061b286509f00c7e0ce7b3ea4a4a45f5a2dcd76-11a45366cfe14d83-01
2022-04-21T21:07:05.028Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:07:05.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ef90d64fb7ab2a3d1cbb4c03c6eee225d71272f-a43fca8e4d6329ef-01 outer:exit 2b-1ef90d64fb7ab2a3d1cbb4c03c6eee225d71272f-ada351fbdf6549c5-01
2022-04-21T21:07:05.033Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:07:05.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2d45537c20177d76892f2d9cc21c96d38b54d72-b8d65171328a0531-01 outer:exit 2b-c2d45537c20177d76892f2d9cc21c96d38b54d72-79d29f5083867c89-01
2022-04-21T21:07:05.036Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:07:05.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-d533f13df61bab8cf45b289057e2f29c8b81c35f-0c9e12f537cea20a-01 outer:exit 2b-d533f13df61bab8cf45b289057e2f29c8b81c35f-726aed87c7bd869a-01
2022-04-21T21:07:05.081Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (408ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:11.965Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:11.966Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:11.966Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:11.967Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:12.057Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:12.224Z appoptics:patching patched crypto 
2022-04-21T21:07:12.269Z appoptics:patching patched https 
2022-04-21T21:07:12.269Z appoptics:patching patched http 
2022-04-21T21:07:12.318Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:12.318Z appoptics:patching patched fs 
2022-04-21T21:07:12.350Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v16.14.2)
2022-04-21T21:07:12.357Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-21T21:07:12.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d857bcdf5d78264c8cf3b14634bb271756ab866-b90a56bbbedf1867-01 outer:exit 2b-1d857bcdf5d78264c8cf3b14634bb271756ab866-3f54133d08891d63-01
2022-04-21T21:07:12.417Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:07:12.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-3178ecf3aae829b41fc3ac259fad1ab785b2b927-68576ab65e5d30d7-01 outer:exit 2b-3178ecf3aae829b41fc3ac259fad1ab785b2b927-bb95ec7e062d509f-01
2022-04-21T21:07:12.470Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:07:12.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-d49aeb9885d3f7d8808264b6530eb3de8e68882a-024b6a7e0ebfee13-01 outer:exit 2b-d49aeb9885d3f7d8808264b6530eb3de8e68882a-6ddcac9657d47203-01
2022-04-21T21:07:12.478Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:07:12.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-9368b87516b07a5d1978434247f69ea0f221227c-f5ffee76660e68ac-01 outer:exit 2b-9368b87516b07a5d1978434247f69ea0f221227c-0d761003a637230f-01
2022-04-21T21:07:12.483Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:07:12.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-1690effe048bfd11433075bf956806f07116dac8-df58a1e3bcc07bf0-01 outer:exit 2b-1690effe048bfd11433075bf956806f07116dac8-1701061691a0e0c5-01
2022-04-21T21:07:12.494Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:07:12.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9ea67e0d18a5873b8a84d59fbd512139dde6906-d914de7938a48a64-01 outer:exit 2b-f9ea67e0d18a5873b8a84d59fbd512139dde6906-a49d4079e69863a6-01
2022-04-21T21:07:12.501Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:07:12.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbf84e8dc1ede0a37d6a6c94788556907a5f639e-b163059f86dc1933-01 outer:exit 2b-dbf84e8dc1ede0a37d6a6c94788556907a5f639e-de7f0276fdfefbe5-01
2022-04-21T21:07:12.506Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:07:12.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-168725c2fe69a35902bb66bdf50f13eed9f3a86c-6239754c3453cf5a-01 outer:exit 2b-168725c2fe69a35902bb66bdf50f13eed9f3a86c-90322b154e5e93d0-01
2022-04-21T21:07:12.512Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:07:12.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-80e62a2756e1890637af8b3fe0856ead3e447826-ceed3e4524fb7e64-01 outer:exit 2b-80e62a2756e1890637af8b3fe0856ead3e447826-dd67928b9b2bb321-01
2022-04-21T21:07:12.516Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:07:12.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e824994b5c7d033bc02a321897eed37dd0bf291-59bf44e209dc6c8e-01 outer:exit 2b-3e824994b5c7d033bc02a321897eed37dd0bf291-6ef8697f719ad8a4-01
2022-04-21T21:07:12.520Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:07:12.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-72c0773d5f91b9f0d80b986b31ac28df8c7b1fc7-60e51ac2491436c4-01 outer:exit 2b-72c0773d5f91b9f0d80b986b31ac28df8c7b1fc7-108a60d2d522368e-01
2022-04-21T21:07:12.525Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:07:12.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8650978fddef4b9b3d2038fbb16225f7f0de02-51bc17f0fb7a8fa4-01 outer:exit 2b-1b8650978fddef4b9b3d2038fbb16225f7f0de02-3c92e60587111831-01
2022-04-21T21:07:12.537Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:07:12.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a265714c9a74190fd7d225da483823c31b6dba2-44e77b508e6256fa-01 outer:exit 2b-0a265714c9a74190fd7d225da483823c31b6dba2-5199656d7b6c7590-01
2022-04-21T21:07:12.562Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:07:12.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-9acdb7f007115a77f18ea6ecdf1cf4593cd5d3e0-1e75203f359ae769-01 outer:exit 2b-9acdb7f007115a77f18ea6ecdf1cf4593cd5d3e0-89603560c49e6ad0-01
2022-04-21T21:07:12.618Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:07:12.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-b19f51bf5f8ae1bcfbd0cbf61637c94f5b614bf4-7cd8ac660eb094cc-01 outer:exit 2b-b19f51bf5f8ae1bcfbd0cbf61637c94f5b614bf4-7e75fb4759b38aff-01
2022-04-21T21:07:12.622Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:07:12.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-814886a9f650b5c639e22a82959777160311e117-9a131d4dbbd56d03-01 outer:exit 2b-814886a9f650b5c639e22a82959777160311e117-4fcaf659f9c788a3-01
2022-04-21T21:07:12.625Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:07:12.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-6221a9e06d7c1fdcaa1a723249c4611139ceba3a-8e4d451a32e29d44-01 outer:exit 2b-6221a9e06d7c1fdcaa1a723249c4611139ceba3a-0038e3549331b653-01
2022-04-21T21:07:12.629Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:07:12.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-32b806fd9b061af6d4fb2d87cdf7058d0b2fe8f4-0aabea50842ea90e-01 outer:exit 2b-32b806fd9b061af6d4fb2d87cdf7058d0b2fe8f4-df70f68690841e9c-01
2022-04-21T21:07:12.633Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:07:12.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-96349f9331012448a5b0de5cceb85b711eab802c-fb6bf7874a165928-01 outer:exit 2b-96349f9331012448a5b0de5cceb85b711eab802c-5bd8de8955d07c2c-01
2022-04-21T21:07:12.635Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:07:12.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-24021f188a5f34bd80bccddfb3ef7e1a6fec33c4-4987932f808ccf5e-01 outer:exit 2b-24021f188a5f34bd80bccddfb3ef7e1a6fec33c4-a74cbe9b0b682e75-01
2022-04-21T21:07:12.640Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:07:12.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-9144d121c6f2be0b8a64e280dda6bfbabb1859af-27182d59b49220e7-01 outer:exit 2b-9144d121c6f2be0b8a64e280dda6bfbabb1859af-24c8d1222511c480-01
2022-04-21T21:07:12.644Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:07:12.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d837d91c49a251b0a4e91de8c6477b3555d8daa-06f5e6855413db6b-01 outer:exit 2b-8d837d91c49a251b0a4e91de8c6477b3555d8daa-3a647646ccc75c5c-01
2022-04-21T21:07:12.646Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:07:12.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-62ac80a83a5764772379567b17b30262f08bbece-47a41501676dee10-01 outer:exit 2b-62ac80a83a5764772379567b17b30262f08bbece-e73c293a6a812a4a-01
2022-04-21T21:07:12.653Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:07:12.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-91c8eb8f06b328cb77b70b076cdc139a8dd1deb9-34e7d00f6dbf3da4-01 outer:exit 2b-91c8eb8f06b328cb77b70b076cdc139a8dd1deb9-1e571188f88a6be7-01
2022-04-21T21:07:12.657Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:07:12.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb2f5e29cbf3ffa953376afd3d1fdc0b8a99573e-7316769a301f9139-01 outer:exit 2b-fb2f5e29cbf3ffa953376afd3d1fdc0b8a99573e-86193d4678477bfe-01
2022-04-21T21:07:12.660Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:07:12.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3698eada33b6b8f91ab2709d52e25b039091632-503069d93fae12a8-01 outer:exit 2b-f3698eada33b6b8f91ab2709d52e25b039091632-83f0327cf2e0c253-01
2022-04-21T21:07:12.663Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:07:12.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-bea5acd9090102d533b5c9e6360e2c521ac52096-4ff6a594ea71cf15-01 outer:exit 2b-bea5acd9090102d533b5c9e6360e2c521ac52096-0d86a6bb44422ca7-01
2022-04-21T21:07:12.674Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:07:12.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b89983de25753ace2cf9e7f47006a76f86455ca-6bb361e8a325bc68-01 outer:exit 2b-6b89983de25753ace2cf9e7f47006a76f86455ca-0445f7851d585449-01
2022-04-21T21:07:12.683Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:07:12.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-35e388138511ad09ff6027b7e7aec02044d68b8f-e7f3d4771e045528-01 outer:exit 2b-35e388138511ad09ff6027b7e7aec02044d68b8f-c48de567e091acd2-01
2022-04-21T21:07:12.693Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:07:12.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6db87f0ff6e08d7bc10808f4b0456928f6ce0ef-58becf78ef0b9608-01 outer:exit 2b-c6db87f0ff6e08d7bc10808f4b0456928f6ce0ef-e6350dfaac9c5fa2-01
2022-04-21T21:07:12.702Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:07:12.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-449638a14a96243348d61d3f5e43b4da74f253aa-1c588f31a5de7bad-01 outer:exit 2b-449638a14a96243348d61d3f5e43b4da74f253aa-76614f7c09169aba-01
2022-04-21T21:07:12.704Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:07:12.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-a80ec76815fda87c00a3bfcdbcc2ebc63b7da13f-169a6218f1cfdf7c-01 outer:exit 2b-a80ec76815fda87c00a3bfcdbcc2ebc63b7da13f-d4aca27ae152d115-01
2022-04-21T21:07:12.708Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:07:12.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c144ebb28a4bc3a6cfcd4052903a24ad67935c-d5dce3f6467ced14-01 outer:exit 2b-36c144ebb28a4bc3a6cfcd4052903a24ad67935c-ab14fe169807c09e-01
2022-04-21T21:07:12.717Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:07:12.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ec6bcf21c2f1ccdeee7e736c822f92bfbbaf14-4e88cdaa11cbf671-01 outer:exit 2b-d7ec6bcf21c2f1ccdeee7e736c822f92bfbbaf14-f8894abf14157385-01
2022-04-21T21:07:12.720Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:07:12.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecd7a9f1af8e7d6a7b5a6e34e3cbd964b4a1cdfd-001127cd8b5a4cc7-01 outer:exit 2b-ecd7a9f1af8e7d6a7b5a6e34e3cbd964b4a1cdfd-a5f56e8ff402f6e8-01
2022-04-21T21:07:12.722Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:07:12.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-49d7e6a8fb2aead33f58cb30d7bf9fe3dc820a27-9089751f201e9bc7-01 outer:exit 2b-49d7e6a8fb2aead33f58cb30d7bf9fe3dc820a27-e8a503b94b1e92b8-01
2022-04-21T21:07:12.726Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:07:12.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa960706cd6ec8645a178eb7a08af06c264c2ea9-c28585cc0eeaaa7e-01 outer:exit 2b-aa960706cd6ec8645a178eb7a08af06c264c2ea9-75989ffe2304f289-01
2022-04-21T21:07:12.730Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:07:12.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1085ba0a36abcaa83eb1d7f6822aaf89850b650-79af0105993a5960-01 outer:exit 2b-c1085ba0a36abcaa83eb1d7f6822aaf89850b650-c17466041e648fea-01
2022-04-21T21:07:12.732Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:07:12.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cce1ea8e27814d3e26a07db98b2088091735744-b11a62690ff66f79-01 outer:exit 2b-1cce1ea8e27814d3e26a07db98b2088091735744-63f21b4222f5d5ce-01
2022-04-21T21:07:12.747Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:07:12.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0fee3c3beeb5bb5d2fed274857bca63d22e2311-1cdbf38373825ff4-01 outer:exit 2b-f0fee3c3beeb5bb5d2fed274857bca63d22e2311-cdac85fd83a0bc63-01
2022-04-21T21:07:12.762Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:07:12.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c312aa610a374c0b866cc0c476ded7b560eb596-dc585f2398bc440c-01 outer:exit 2b-4c312aa610a374c0b866cc0c476ded7b560eb596-fccbea8a3e018876-01
2022-04-21T21:07:12.767Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:07:12.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8fe8baff344dae7c9441499f0ebfcf611ff07d8-0bd2262c36387e8b-01 outer:exit 2b-e8fe8baff344dae7c9441499f0ebfcf611ff07d8-b48259d04457b0b0-01
2022-04-21T21:07:12.770Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:07:12.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9836f786aa78ba55868a47fb15a139e00e4bfcf-2492b64fb089e186-01 outer:exit 2b-a9836f786aa78ba55868a47fb15a139e00e4bfcf-46af609b0c3c3373-01
2022-04-21T21:07:12.784Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:07:12.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-549dd9b1626100240e95f9c03d6d3bdbdfad2834-9da7b84d7158e63c-01 outer:exit 2b-549dd9b1626100240e95f9c03d6d3bdbdfad2834-8092ab35fbc8aadb-01
2022-04-21T21:07:12.829Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (464ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:19.642Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:19.642Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:19.642Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:19.643Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:19.713Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:19.848Z appoptics:patching patched crypto 
2022-04-21T21:07:19.869Z appoptics:patching patched https 
2022-04-21T21:07:19.869Z appoptics:patching patched http 
2022-04-21T21:07:19.917Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:19.918Z appoptics:patching patched fs 
2022-04-21T21:07:19.944Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v16.14.2)
2022-04-21T21:07:19.951Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-21T21:07:20.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce7eaed4919d84e9a0183f2a83ff10d243d4e0a3-a132a52181a4d034-01 outer:exit 2b-ce7eaed4919d84e9a0183f2a83ff10d243d4e0a3-47a937b8ed0401de-01
2022-04-21T21:07:20.003Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:07:20.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e9f7df274537e6a1bad915cadc4bbe816e6167e-b719980da7c2c832-01 outer:exit 2b-8e9f7df274537e6a1bad915cadc4bbe816e6167e-6fadcb50f73b1f9c-01
2022-04-21T21:07:20.052Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:07:20.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b5a83f57b5bbb05da3738d0e0c59480aa4a34fc-afe9c4a9a24817aa-01 outer:exit 2b-6b5a83f57b5bbb05da3738d0e0c59480aa4a34fc-d553ffab4c0da7b4-01
2022-04-21T21:07:20.056Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:07:20.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-58f48d3511021e0d65d48683bd8945cad76adefa-e76d0cdd269349c9-01 outer:exit 2b-58f48d3511021e0d65d48683bd8945cad76adefa-c3a18a668fc51ddf-01
2022-04-21T21:07:20.060Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:07:20.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3ba245558bb5a88620d6f2ca0decef0e14293f7-7f0fd55eae1dca16-01 outer:exit 2b-b3ba245558bb5a88620d6f2ca0decef0e14293f7-f82910f9cd662b28-01
2022-04-21T21:07:20.065Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:07:20.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1d014295930aa57926ee6cfa1af1c323b3559da-1ff3512423de617f-01 outer:exit 2b-b1d014295930aa57926ee6cfa1af1c323b3559da-01df7620e17fff3e-01
2022-04-21T21:07:20.069Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:07:20.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-70d203ac1e913a6fcb3950627dde0faab915266b-f2c364084074c084-01 outer:exit 2b-70d203ac1e913a6fcb3950627dde0faab915266b-1f6384a85004d649-01
2022-04-21T21:07:20.072Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:07:20.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-93887011ab80243f0ddb1e22df6cf9aaa7e23e24-a40fc82e8f437f50-01 outer:exit 2b-93887011ab80243f0ddb1e22df6cf9aaa7e23e24-db739b99bb00c0f8-01
2022-04-21T21:07:20.075Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:07:20.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-1130b128ef9e5a41a6d760f80ba87308492e43d4-962fb2305a3a43e1-01 outer:exit 2b-1130b128ef9e5a41a6d760f80ba87308492e43d4-fafea1eca7dbdddf-01
2022-04-21T21:07:20.079Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:07:20.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-02295b40343b15cd8118f130e2ae897a79f58ceb-c468a603fde19f21-01 outer:exit 2b-02295b40343b15cd8118f130e2ae897a79f58ceb-e967f71f416a6f5e-01
2022-04-21T21:07:20.083Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:07:20.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0a629a1d8fbb49b557183bdb67f7bbf21624393-14a1acdfcef3a5c9-01 outer:exit 2b-a0a629a1d8fbb49b557183bdb67f7bbf21624393-8ab40d2de0597907-01
2022-04-21T21:07:20.087Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:07:20.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ac5641b0cd374555fa727e7f49d4c6b25ab3a0f-e5acef16801b6d85-01 outer:exit 2b-0ac5641b0cd374555fa727e7f49d4c6b25ab3a0f-2c075497dfc39c16-01
2022-04-21T21:07:20.108Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:07:20.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-0470af9281b346456308c45a9eec2c156092b9c9-36f04ac8e0523d5f-01 outer:exit 2b-0470af9281b346456308c45a9eec2c156092b9c9-3338640d6a5a8780-01
2022-04-21T21:07:20.134Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:07:20.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc8c1a23eca1afd976b4f992910fa06bb3939204-e35a1f459457257f-01 outer:exit 2b-cc8c1a23eca1afd976b4f992910fa06bb3939204-49149d3723b75272-01
2022-04-21T21:07:20.178Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:07:20.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-4653be05ee7c4be400117d7e64c1b0b6b128cdf5-3b4e42be5dbc9ba0-01 outer:exit 2b-4653be05ee7c4be400117d7e64c1b0b6b128cdf5-fc259711bdb96f59-01
2022-04-21T21:07:20.182Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:07:20.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-729fd3a76aded6494708e0ace62d8ee9eee14deb-487823fae136dec0-01 outer:exit 2b-729fd3a76aded6494708e0ace62d8ee9eee14deb-1ca23dfb5a7eef82-01
2022-04-21T21:07:20.185Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:07:20.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3fc1ff415e7a11ac250cfeb0d42c970a9e5b049-cabb11207972684b-01 outer:exit 2b-d3fc1ff415e7a11ac250cfeb0d42c970a9e5b049-ea44ddf859be92b5-01
2022-04-21T21:07:20.189Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:07:20.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-0344caacf63fec86792fc31d356e5758aac8cc66-136ab67cdd58c272-01 outer:exit 2b-0344caacf63fec86792fc31d356e5758aac8cc66-c7333fa67dfc8810-01
2022-04-21T21:07:20.197Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:07:20.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-80bc2bc7449a41fd42eb497bbd814b286019e24a-0ff5558bea7f6ed1-01 outer:exit 2b-80bc2bc7449a41fd42eb497bbd814b286019e24a-b7dfef6ff6603e71-01
2022-04-21T21:07:20.203Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:07:20.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cdb4b7b7273d8467c369a93296e0694f4a17721-9e3154f01bc24718-01 outer:exit 2b-7cdb4b7b7273d8467c369a93296e0694f4a17721-2241f7924a424125-01
2022-04-21T21:07:20.207Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:07:20.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c9d30ec28601542b5e787a1a90de1a2020d57bf-df3c2958ff8c9102-01 outer:exit 2b-1c9d30ec28601542b5e787a1a90de1a2020d57bf-b5315d775283a905-01
2022-04-21T21:07:20.210Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:07:20.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-39bbcd2b9900dc99a128da6023fbe9064bdff558-0f7bc555461530a1-01 outer:exit 2b-39bbcd2b9900dc99a128da6023fbe9064bdff558-6237fbb6d39a5d3e-01
2022-04-21T21:07:20.212Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:07:20.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef1d9ed1e7d8ebd8e43d36479860f49bdfb0d040-4980bae260cb8db7-01 outer:exit 2b-ef1d9ed1e7d8ebd8e43d36479860f49bdfb0d040-530643340f7cc4cd-01
2022-04-21T21:07:20.215Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:07:20.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-54a9f0f8a7ec70af6cf2bdf8afee43920a1db75a-aa028a601b548392-01 outer:exit 2b-54a9f0f8a7ec70af6cf2bdf8afee43920a1db75a-31f3aec42173ec51-01
2022-04-21T21:07:20.218Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:07:20.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6714bc6fc5d381d14b16f5553a3292ee5d68357-5b36b614b6e94d8f-01 outer:exit 2b-a6714bc6fc5d381d14b16f5553a3292ee5d68357-35d536cdd6184c38-01
2022-04-21T21:07:20.225Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:07:20.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a649fd19ca1cb7a2e2865fd85fc420927608ff-46ac401471943b2b-01 outer:exit 2b-77a649fd19ca1cb7a2e2865fd85fc420927608ff-0c1a8b8e372f60b8-01
2022-04-21T21:07:20.228Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:07:20.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-c613e338246cd74f817d09dcd8c2504b02dc7a93-5164846493424e2d-01 outer:exit 2b-c613e338246cd74f817d09dcd8c2504b02dc7a93-3ec5631aa34ecd6f-01
2022-04-21T21:07:20.252Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:07:20.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-2771673b77007b1f9494e5dad6f86e75b3ee0b7a-b5d6c8c5314eb52b-01 outer:exit 2b-2771673b77007b1f9494e5dad6f86e75b3ee0b7a-30824534866bb4fd-01
2022-04-21T21:07:20.273Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:07:20.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-48272ed99d459646a65e21e58fd39291c8fb0496-d37b02aeceac243b-01 outer:exit 2b-48272ed99d459646a65e21e58fd39291c8fb0496-4edc7163a72c07f5-01
2022-04-21T21:07:20.282Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:07:20.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e50c0a046c311bd48108ef80becb0feeed42122-7273ca444c050d9f-01 outer:exit 2b-7e50c0a046c311bd48108ef80becb0feeed42122-99fe43321814c3cf-01
2022-04-21T21:07:20.290Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:07:20.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-09fa6e21dd06eb5914a1bd44e711e2d53d587490-78feac0cfbb80782-01 outer:exit 2b-09fa6e21dd06eb5914a1bd44e711e2d53d587490-528b9f5c386509e6-01
2022-04-21T21:07:20.298Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:07:20.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-d196151a54161a6b35fe256a3215d444d224e9eb-7c3ad2443a2b9f22-01 outer:exit 2b-d196151a54161a6b35fe256a3215d444d224e9eb-0044f4e531c167e2-01
2022-04-21T21:07:20.301Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:07:20.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd0b583821023aa8e5e40a08e2a657aa18bfaaba-7aaa59944fa5dd4c-01 outer:exit 2b-fd0b583821023aa8e5e40a08e2a657aa18bfaaba-ea7a1931f61a4f04-01
2022-04-21T21:07:20.309Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:07:20.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-996d339b82d3b683639c1f923ad3b68d3842251d-be320ff60cda0f3a-01 outer:exit 2b-996d339b82d3b683639c1f923ad3b68d3842251d-e5514bd1becf1ba1-01
2022-04-21T21:07:20.311Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:07:20.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-78e49fe742fa1cb9a16eabb977320c8bbb443b70-a6e1ec2dd7d575f1-01 outer:exit 2b-78e49fe742fa1cb9a16eabb977320c8bbb443b70-69f6e781f875bc3c-01
2022-04-21T21:07:20.313Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:07:20.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-de40722667cc1d6e57b38ba74c9c8763624adbcd-119c424e309f3c83-01 outer:exit 2b-de40722667cc1d6e57b38ba74c9c8763624adbcd-240c688037e2682b-01
2022-04-21T21:07:20.315Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:07:20.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff631f3e5b24a75d4bd9e901884bc4295e47acb2-fbc9cd1afe3b7f10-01 outer:exit 2b-ff631f3e5b24a75d4bd9e901884bc4295e47acb2-3b54e2f229ef777c-01
2022-04-21T21:07:20.317Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:07:20.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-780608b94f71996a7efa43ae32e1c6648e52fc9d-e54be217043d81bb-01 outer:exit 2b-780608b94f71996a7efa43ae32e1c6648e52fc9d-7404a5084cada66e-01
2022-04-21T21:07:20.319Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:07:20.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c2dd675d456bea351687633ab44a3eccefe542e-f21ca6cfb8bc2296-01 outer:exit 2b-8c2dd675d456bea351687633ab44a3eccefe542e-504a9ff188c23b13-01
2022-04-21T21:07:20.329Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:07:20.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ff445ae0b9e67f9f46e8b79a426b5b5201b141c-0753dfd7fec1c2c1-01 outer:exit 2b-9ff445ae0b9e67f9f46e8b79a426b5b5201b141c-34a94c257af6007b-01
2022-04-21T21:07:20.339Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:07:20.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-c03ee1398e91935432989f0cc8e29531d4990bcc-3386f33ef4617958-01 outer:exit 2b-c03ee1398e91935432989f0cc8e29531d4990bcc-cac5bba96996f484-01
2022-04-21T21:07:20.342Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:07:20.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-5439ae12263eb6e149ca285423a520988330d007-497410dd61517b8c-01 outer:exit 2b-5439ae12263eb6e149ca285423a520988330d007-44bf3e540e4b8df9-01
2022-04-21T21:07:20.345Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:07:20.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-065cce728299a70ff141d0e07bdc03dee971f32b-624864030c42cb0f-01 outer:exit 2b-065cce728299a70ff141d0e07bdc03dee971f32b-f2ef4aceb3bf3787-01
2022-04-21T21:07:20.362Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:07:20.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-05135b97097e5859ff5142e97086efa6f81bbd27-54bbaa8f7218ed3d-01 outer:exit 2b-05135b97097e5859ff5142e97086efa6f81bbd27-2f06c63d3a4dcc90-01
2022-04-21T21:07:20.393Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (435ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:27.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:27.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:27.608Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:27.609Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:27.680Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:27.816Z appoptics:patching patched crypto 
2022-04-21T21:07:27.837Z appoptics:patching patched https 
2022-04-21T21:07:27.838Z appoptics:patching patched http 
2022-04-21T21:07:27.885Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:27.886Z appoptics:patching patched fs 
2022-04-21T21:07:27.913Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v16.14.2)
2022-04-21T21:07:27.919Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-21T21:07:27.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-840d44792fae258ad4decd0a0f87b755effb3b29-b722a03b1921c36b-01 outer:exit 2b-840d44792fae258ad4decd0a0f87b755effb3b29-be6b42cb7d8381e4-01
2022-04-21T21:07:27.970Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:07:28.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f91f23b5bee5547888c085202c7bac25f2c2891-8082170b238abc7e-01 outer:exit 2b-4f91f23b5bee5547888c085202c7bac25f2c2891-41c2f55670dd02e7-01
2022-04-21T21:07:28.019Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:07:28.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aec991c71f29cef753aa99be29292bbe9f00b92-62c186f676696585-01 outer:exit 2b-2aec991c71f29cef753aa99be29292bbe9f00b92-f00b103d7a61d69d-01
2022-04-21T21:07:28.024Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:07:28.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5b86295244b41c19bcb4319f30c27f4effad60b-9448c28b9740843a-01 outer:exit 2b-f5b86295244b41c19bcb4319f30c27f4effad60b-4b3618f6ca91908a-01
2022-04-21T21:07:28.027Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:07:28.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a04daafccf8328eb0197cbafadaf2d7276ba34c-fd22f288745d8a71-01 outer:exit 2b-9a04daafccf8328eb0197cbafadaf2d7276ba34c-9c32b5a232ddac97-01
2022-04-21T21:07:28.033Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:07:28.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-661b7a2810cd58196b0a56c74a0f848db3071a69-ab40608379bc058e-01 outer:exit 2b-661b7a2810cd58196b0a56c74a0f848db3071a69-7a4433dd2874903a-01
2022-04-21T21:07:28.037Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:07:28.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-27bfbda67fa974a2291a8ef0fc17774d1df86742-fa3aad4b0219c85f-01 outer:exit 2b-27bfbda67fa974a2291a8ef0fc17774d1df86742-3278b0cac399506f-01
2022-04-21T21:07:28.040Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:07:28.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c6682bf3b51d06418a92153f7966c58feaca3e5-517d8e0706b97f71-01 outer:exit 2b-8c6682bf3b51d06418a92153f7966c58feaca3e5-a44fbc803e9b6161-01
2022-04-21T21:07:28.043Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:07:28.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf83f18f95e8c872a73b0f863ec822d5989b0d94-37565e7c83b99b8e-01 outer:exit 2b-bf83f18f95e8c872a73b0f863ec822d5989b0d94-9ea82179ab528179-01
2022-04-21T21:07:28.047Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:07:28.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-d756a2afd694e5dfc03b90a29b2499a7f83e606f-6460aad614cebb5a-01 outer:exit 2b-d756a2afd694e5dfc03b90a29b2499a7f83e606f-f70d3fca7ffe2309-01
2022-04-21T21:07:28.051Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:07:28.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d9caeac181cda80d16260b7286e3380a407711f-2bb04a07c50c550a-01 outer:exit 2b-7d9caeac181cda80d16260b7286e3380a407711f-bc6439e0b1722b2e-01
2022-04-21T21:07:28.055Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:07:28.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-708134ed53f1bed2e6a5ea782a7f596e35276976-c9e102e4e30a94d8-01 outer:exit 2b-708134ed53f1bed2e6a5ea782a7f596e35276976-0ffb7b315f61b532-01
2022-04-21T21:07:28.062Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:07:28.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cc88dcc893fb712dbb067475c306e812eaa5f35-a270e9e562eb9c30-01 outer:exit 2b-8cc88dcc893fb712dbb067475c306e812eaa5f35-84192d91d39cb2d7-01
2022-04-21T21:07:28.081Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:07:28.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-09a100fbe1a68e405eefa9eabbe896305d752046-dcbd66609aa578a5-01 outer:exit 2b-09a100fbe1a68e405eefa9eabbe896305d752046-183378ff8c1a93e9-01
2022-04-21T21:07:28.123Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:07:28.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-a687027da7d2262adafd4e9a7857219c79f47145-89e8d9739888e08e-01 outer:exit 2b-a687027da7d2262adafd4e9a7857219c79f47145-21991f308d848699-01
2022-04-21T21:07:28.127Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:07:28.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-62ffd56ea43f490546e53edc5c7a0db385b38c19-2eb0aa8f1e03afb9-01 outer:exit 2b-62ffd56ea43f490546e53edc5c7a0db385b38c19-36b70db7a42e3b26-01
2022-04-21T21:07:28.130Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:07:28.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-81a808caa829bd8fad9bf6872c9995b95a9b7594-6bf90d89d2506c7d-01 outer:exit 2b-81a808caa829bd8fad9bf6872c9995b95a9b7594-ffc2be2f3929270b-01
2022-04-21T21:07:28.133Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:07:28.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bf98bbc3a13d2ac4cd934b776c6ad05ff7a2caf-72577e69a38e1fe9-01 outer:exit 2b-9bf98bbc3a13d2ac4cd934b776c6ad05ff7a2caf-8bd61b4503fc9ba7-01
2022-04-21T21:07:28.135Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:07:28.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-37e21a64f3c85afb4a1820b803fe5213391238a2-8982798e116cc6cf-01 outer:exit 2b-37e21a64f3c85afb4a1820b803fe5213391238a2-e53bcf0c543b276a-01
2022-04-21T21:07:28.138Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:07:28.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa277aa73657049d272a938322bf9ad86d118b73-82327a1a32058d68-01 outer:exit 2b-fa277aa73657049d272a938322bf9ad86d118b73-c112090eede3b3a9-01
2022-04-21T21:07:28.140Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:07:28.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-edcc90302ffe8d2ea397963df4ca64d8d8fedccb-b475ae8771797858-01 outer:exit 2b-edcc90302ffe8d2ea397963df4ca64d8d8fedccb-a6722ad1d710c552-01
2022-04-21T21:07:28.142Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:07:28.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca70993e9063cae51c0a48978f16947774118b45-21211c47ccbb2505-01 outer:exit 2b-ca70993e9063cae51c0a48978f16947774118b45-28aed6c024552088-01
2022-04-21T21:07:28.144Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:07:28.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce973a0d21047b07e3113e198e3de8b696c31f80-7f6401e42af5c83b-01 outer:exit 2b-ce973a0d21047b07e3113e198e3de8b696c31f80-0342bce8268911b2-01
2022-04-21T21:07:28.148Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:07:28.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c036e2ac5d011993baed271855b3cc5d4005a83-6465db09eaacfd38-01 outer:exit 2b-4c036e2ac5d011993baed271855b3cc5d4005a83-4255998998165cee-01
2022-04-21T21:07:28.151Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:07:28.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-32743121ffa659171304106a13bb28f8aa71ffc5-d7107a1cdd770271-01 outer:exit 2b-32743121ffa659171304106a13bb28f8aa71ffc5-db1122c44a705581-01
2022-04-21T21:07:28.153Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:07:28.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-972469bf99154d1af87f236719d16df93ce89ad1-0e50c7e660256fbf-01 outer:exit 2b-972469bf99154d1af87f236719d16df93ce89ad1-57f1ee7c194b7320-01
2022-04-21T21:07:28.156Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:07:28.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-692a12fb4a3b5d5d4e4adad64c3f84348ad4e6b2-e24c320cbab387a9-01 outer:exit 2b-692a12fb4a3b5d5d4e4adad64c3f84348ad4e6b2-9ca486d4cf88bb62-01
2022-04-21T21:07:28.163Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:07:28.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3fc5b2dd21bc6191f10afd379fdbc05adf34897-3e4799cd1adf5044-01 outer:exit 2b-c3fc5b2dd21bc6191f10afd379fdbc05adf34897-1df5cd59d41fba59-01
2022-04-21T21:07:28.170Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:07:28.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4e6d8ae6a3f2c1d47ffd75be4857a46c6b41971-fb7ba460be18bae2-01 outer:exit 2b-b4e6d8ae6a3f2c1d47ffd75be4857a46c6b41971-ec0891d532743536-01
2022-04-21T21:07:28.179Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:07:28.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-e68559f229b7fd7df2086272e2bc5f9900feb1c3-b82976a7aa78035a-01 outer:exit 2b-e68559f229b7fd7df2086272e2bc5f9900feb1c3-aa188e97a500e370-01
2022-04-21T21:07:28.187Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:07:28.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-c74064daee377381754ac7ce514118ded0021869-8d0f5a01ce39d3d2-01 outer:exit 2b-c74064daee377381754ac7ce514118ded0021869-184e278089dc832b-01
2022-04-21T21:07:28.189Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:07:28.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1ff444002364cf2234ab8e44c69733f2ea63743-fc8bf12edbb72998-01 outer:exit 2b-f1ff444002364cf2234ab8e44c69733f2ea63743-39f3d105496dda5d-01
2022-04-21T21:07:28.192Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:07:28.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-060c112abe05411c1bf498fa2f59144abb41056e-c7d4d22d563844bf-01 outer:exit 2b-060c112abe05411c1bf498fa2f59144abb41056e-121c11d1114b3dbb-01
2022-04-21T21:07:28.200Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:07:28.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bf95cb732c45d8de9ec9a1c8b9e6a057fcf854d-1ce5b3986214cf1f-01 outer:exit 2b-2bf95cb732c45d8de9ec9a1c8b9e6a057fcf854d-f6f8df6930b3c51f-01
2022-04-21T21:07:28.202Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:07:28.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b850669a41c11ecf5bdb9e7aed40c5fe50cc35-bb2e20d14fe76318-01 outer:exit 2b-98b850669a41c11ecf5bdb9e7aed40c5fe50cc35-9d6162a7bc75c85c-01
2022-04-21T21:07:28.204Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:07:28.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-fef5338bce986fd7657a63fdf7674064e0b04b22-f87bc9874a9c28df-01 outer:exit 2b-fef5338bce986fd7657a63fdf7674064e0b04b22-e4379157c2adc8d7-01
2022-04-21T21:07:28.206Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:07:28.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a3ed4ec4f85af57c20d7f55b31ff5da517e2319-3ee6ebbf35e665c0-01 outer:exit 2b-8a3ed4ec4f85af57c20d7f55b31ff5da517e2319-7d5f2200f6a4bfa0-01
2022-04-21T21:07:28.208Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:07:28.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-41cf69317e27e9274eea60fbef264684813ef2bc-ea8726e9e242cd93-01 outer:exit 2b-41cf69317e27e9274eea60fbef264684813ef2bc-c51081e735f03b32-01
2022-04-21T21:07:28.210Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:07:28.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-000eca6d83fab106ca3b87b6d69620e615d05ebc-3192019b831113f0-01 outer:exit 2b-000eca6d83fab106ca3b87b6d69620e615d05ebc-39484eed928b721f-01
2022-04-21T21:07:28.221Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:07:28.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-06f6d5167674148349ef79de5cacf25d750ccfb0-907086e6ae8a5496-01 outer:exit 2b-06f6d5167674148349ef79de5cacf25d750ccfb0-dc1da404549b8bf2-01
2022-04-21T21:07:28.231Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:07:28.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dbd366d1070443f6241d6c9b830109cc91961e0-0266de74c7348ab4-01 outer:exit 2b-3dbd366d1070443f6241d6c9b830109cc91961e0-a81b90719da89678-01
2022-04-21T21:07:28.235Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:07:28.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-314e459c067a0c55ae73744c8ac5e6ab60611177-33c3fea01e52fe62-01 outer:exit 2b-314e459c067a0c55ae73744c8ac5e6ab60611177-0e758fe0593d31b9-01
2022-04-21T21:07:28.238Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:07:28.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-014db78219ca472b8699575aea3b58925b1435a3-227a125262cb2f50-01 outer:exit 2b-014db78219ca472b8699575aea3b58925b1435a3-37c6c5b20eef8306-01
2022-04-21T21:07:28.241Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:07:28.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcbea39905003cc00b7139d5293e3b7b37159dbd-8c615d79e835a66e-01 outer:exit 2b-fcbea39905003cc00b7139d5293e3b7b37159dbd-6546492783abb9e3-01
2022-04-21T21:07:28.272Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (346ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:34.929Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:34.930Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:34.930Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:34.931Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:35.022Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:35.164Z appoptics:patching patched crypto 
2022-04-21T21:07:35.197Z appoptics:patching patched https 
2022-04-21T21:07:35.204Z appoptics:patching patched http 
2022-04-21T21:07:35.238Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:35.239Z appoptics:patching patched fs 
2022-04-21T21:07:35.266Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v16.14.2)
2022-04-21T21:07:35.274Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-21T21:07:35.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-2278dd26c46a694e0a4aa49e778b821532848823-83cf2bf32e88f745-01 outer:exit 2b-2278dd26c46a694e0a4aa49e778b821532848823-1f7523cb9868cb66-01
2022-04-21T21:07:35.324Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:07:35.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-a19f8d8194a7dd1ae3fb0f0e6598951a88405d73-00495caad8562ded-01 outer:exit 2b-a19f8d8194a7dd1ae3fb0f0e6598951a88405d73-d88951ee5e14fb47-01
2022-04-21T21:07:35.378Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:07:35.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-16ad0d9cb1a8838a9c98c863d3cae22015811936-92628dbc6f1122dc-01 outer:exit 2b-16ad0d9cb1a8838a9c98c863d3cae22015811936-ab65a9b7a147d998-01
2022-04-21T21:07:35.382Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:07:35.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9bb1d3c30d1d219587d4cb8183d0a00ad52be79-d02d0d48871741a9-01 outer:exit 2b-f9bb1d3c30d1d219587d4cb8183d0a00ad52be79-fae27a51117e31df-01
2022-04-21T21:07:35.386Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:07:35.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-c79716a692dc8747e70d75eb7fde86d19fd2fd30-c62947d8f7301629-01 outer:exit 2b-c79716a692dc8747e70d75eb7fde86d19fd2fd30-fc6a13ba822db4c2-01
2022-04-21T21:07:35.391Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:07:35.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-2722343212c4773f4d5062e46077eaf7fe1a7b72-f092c6eebe80c4c9-01 outer:exit 2b-2722343212c4773f4d5062e46077eaf7fe1a7b72-eaf9dbaf3f98bba4-01
2022-04-21T21:07:35.394Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:07:35.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-27f24ff824e0c08719567b176776eb11fad4bf60-114b68c73cb0368b-01 outer:exit 2b-27f24ff824e0c08719567b176776eb11fad4bf60-733db26ab5dabe28-01
2022-04-21T21:07:35.397Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:07:35.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc209248f45cc1ebaa9f8c323348447c7d2c74bc-386e876068d6af63-01 outer:exit 2b-fc209248f45cc1ebaa9f8c323348447c7d2c74bc-f8eaa098904a1a90-01
2022-04-21T21:07:35.400Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:07:35.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-168c8940b8312de629a12b89d308d0d72da509bd-fdbc48ae3fbe09f2-01 outer:exit 2b-168c8940b8312de629a12b89d308d0d72da509bd-ba80eaa6f55369fb-01
2022-04-21T21:07:35.404Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:07:35.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-6add041673f0692763883cafe1fc2f4fdccf7c1a-6e66fd31b243d847-01 outer:exit 2b-6add041673f0692763883cafe1fc2f4fdccf7c1a-cd1580b1ea85addb-01
2022-04-21T21:07:35.407Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:07:35.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-10edd529c3bf2820b00d5b94c07f080ef68744fa-c07971ba3ac06051-01 outer:exit 2b-10edd529c3bf2820b00d5b94c07f080ef68744fa-c27880baa053c20a-01
2022-04-21T21:07:35.412Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:07:35.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-54e5f3737587ca3914865d9989014d48b7656cda-f3ab6b2ed6ea4eb1-01 outer:exit 2b-54e5f3737587ca3914865d9989014d48b7656cda-472a39eb49825421-01
2022-04-21T21:07:35.419Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:07:35.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-da200e78be0a198870fe8a7f7f7437723229b450-9c538791a723bcdc-01 outer:exit 2b-da200e78be0a198870fe8a7f7f7437723229b450-a9491f50d80c13c4-01
2022-04-21T21:07:35.435Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:07:35.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-7feb39054d13bc0883c48f7bf7986997d79156a4-6ba35e00c60e42a6-01 outer:exit 2b-7feb39054d13bc0883c48f7bf7986997d79156a4-851b9e3276a0b081-01
2022-04-21T21:07:35.479Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:07:35.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc5ebe4b24b5e78d15ab380d77c5e988640210a8-65d1cc9190d446ef-01 outer:exit 2b-fc5ebe4b24b5e78d15ab380d77c5e988640210a8-178bea9cc95e23a8-01
2022-04-21T21:07:35.483Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:07:35.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-f209d13c88a4a5aebc3c053b72a0c57701df20aa-1c3586b0e3fef51b-01 outer:exit 2b-f209d13c88a4a5aebc3c053b72a0c57701df20aa-b2810bf557c7bbd4-01
2022-04-21T21:07:35.486Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:07:35.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-1786b8e9b953c6093ee8124825a48df492f12f84-e657fe917d8d8372-01 outer:exit 2b-1786b8e9b953c6093ee8124825a48df492f12f84-2480c9d41e54a8f7-01
2022-04-21T21:07:35.491Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:07:35.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-592f8f5a39e1afc5100bc97cbeba4f5ba47350f4-74485c4763d503af-01 outer:exit 2b-592f8f5a39e1afc5100bc97cbeba4f5ba47350f4-8ce7ede765017698-01
2022-04-21T21:07:35.496Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:07:35.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-527cb98276ffede96bd8d1a987be664731d7e47e-d4f151817d10e939-01 outer:exit 2b-527cb98276ffede96bd8d1a987be664731d7e47e-cd1506e1b67d82fa-01
2022-04-21T21:07:35.499Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:07:35.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-141edd972cf98f9bad296f5046ca25ac2de12b8c-3c8cafb4c6fe86dc-01 outer:exit 2b-141edd972cf98f9bad296f5046ca25ac2de12b8c-9f4e2634499403b8-01
2022-04-21T21:07:35.503Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:07:35.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-375e98dcbc6643f8a2b095b6b971d976af115b67-36d5bcc8c3e42261-01 outer:exit 2b-375e98dcbc6643f8a2b095b6b971d976af115b67-31ca5e0ac66e9884-01
2022-04-21T21:07:35.505Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:07:35.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-b62b2e970fdd31e7e3f73552618e10fe93569432-18f1305768a97069-01 outer:exit 2b-b62b2e970fdd31e7e3f73552618e10fe93569432-0b7a90e261966554-01
2022-04-21T21:07:35.507Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:07:35.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-144b6115aed556834691e9d3d5859aa619eceefa-2d8ef6a7213a40a3-01 outer:exit 2b-144b6115aed556834691e9d3d5859aa619eceefa-5546071387c47973-01
2022-04-21T21:07:35.511Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:07:35.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-fab2c1f3cd52f2226cfd010dd2c89cd53aa7ec1e-2691d252ba802951-01 outer:exit 2b-fab2c1f3cd52f2226cfd010dd2c89cd53aa7ec1e-91b2bd383feb453c-01
2022-04-21T21:07:35.514Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:07:35.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-6536372d84990abaa6ef679aa46288391e0eb354-0337038f3588e135-01 outer:exit 2b-6536372d84990abaa6ef679aa46288391e0eb354-bec36826b38d95bc-01
2022-04-21T21:07:35.517Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:07:35.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd131c781a819602664caa09420e9b33e77bdccb-145cec3ad2ac12ba-01 outer:exit 2b-cd131c781a819602664caa09420e9b33e77bdccb-ebe5e80f617d7fd0-01
2022-04-21T21:07:35.527Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:07:35.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-a65b11bdd35e6e9c18bca27df73a23f0ab4ffa16-72617dba175dd234-01 outer:exit 2b-a65b11bdd35e6e9c18bca27df73a23f0ab4ffa16-32ebe25c58e9757c-01
2022-04-21T21:07:35.540Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:07:35.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3911813c8e6ce591c63c0f5ca9f2e8328ca1ecc-f5ef101740febdc9-01 outer:exit 2b-b3911813c8e6ce591c63c0f5ca9f2e8328ca1ecc-0072845e6708ed4a-01
2022-04-21T21:07:35.550Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:07:35.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-d84a693ce58fb6748c2037d2b8696467b824043a-af46c5e7b43e66a5-01 outer:exit 2b-d84a693ce58fb6748c2037d2b8696467b824043a-b31c9bf0dc3c6d99-01
2022-04-21T21:07:35.574Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:07:35.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-111d96824d189837c33c08821c3300eaa334645c-38978897f87be8f1-01 outer:exit 2b-111d96824d189837c33c08821c3300eaa334645c-99f93bbfbc0b5c3b-01
2022-04-21T21:07:35.588Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:07:35.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ee6178354e6ad009c52053777f5313349b031e-553e76bb06fc8729-01 outer:exit 2b-e1ee6178354e6ad009c52053777f5313349b031e-075bd6b4d5434c44-01
2022-04-21T21:07:35.591Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:07:35.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cc1ab8fb49abc427c5b637d6a7dd24e59a54090-57f8cf6ec919a83a-01 outer:exit 2b-8cc1ab8fb49abc427c5b637d6a7dd24e59a54090-c8c37e0b30caad19-01
2022-04-21T21:07:35.596Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:07:35.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-932a7f66e947b5c419e182eeea0d773e5e4ab226-144f4c2683b3c2c8-01 outer:exit 2b-932a7f66e947b5c419e182eeea0d773e5e4ab226-0afcfbe43726c0d2-01
2022-04-21T21:07:35.608Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:07:35.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-295a025779aa9cbb3f4342a58556d5aceaa8112d-200534279d06c1e7-01 outer:exit 2b-295a025779aa9cbb3f4342a58556d5aceaa8112d-86d94d5d034651ff-01
2022-04-21T21:07:35.612Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:07:35.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf9e385adc46f2641731ee9a14267d87aef6913-e4778767cf4469b6-01 outer:exit 2b-eaf9e385adc46f2641731ee9a14267d87aef6913-9b11cadc16af639f-01
2022-04-21T21:07:35.617Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:07:35.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-077dcfdccd59d9f8cb35ba9bd1a2d4cd76715224-d0fcfebcb3f53194-01 outer:exit 2b-077dcfdccd59d9f8cb35ba9bd1a2d4cd76715224-fa60713773acf265-01
2022-04-21T21:07:35.619Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:07:35.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-12525f5fa2aea1b827d0bea156f4a98f197b4d6f-1d08b5ab8b55a499-01 outer:exit 2b-12525f5fa2aea1b827d0bea156f4a98f197b4d6f-22afa734d92fc478-01
2022-04-21T21:07:35.622Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:07:35.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c777ba1c4e85309f000f3622a8e429cca4c40a-3fd226c18dd75280-01 outer:exit 2b-71c777ba1c4e85309f000f3622a8e429cca4c40a-03f9e4acbe55a3e7-01
2022-04-21T21:07:35.624Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:07:35.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d02f384b4ea0fa6ee275200dabea1a30c3975c4-e40636cb03128a2b-01 outer:exit 2b-1d02f384b4ea0fa6ee275200dabea1a30c3975c4-4c7669d633700830-01
2022-04-21T21:07:35.637Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:07:35.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-483724b73e374302ae6c3bb94f385cefacb71bdd-8278ef383904e765-01 outer:exit 2b-483724b73e374302ae6c3bb94f385cefacb71bdd-328f2a00258205af-01
2022-04-21T21:07:35.654Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:07:35.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-88d03f424c4ee5c1dc92c57e1b7ceaee96dafcf0-e28318d05c920dd5-01 outer:exit 2b-88d03f424c4ee5c1dc92c57e1b7ceaee96dafcf0-fbb33942f43a2ab8-01
2022-04-21T21:07:35.664Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:07:35.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-f238bcd66c5e487ed88e87e29dfcea5bf6c59d82-e54f867f0737117e-01 outer:exit 2b-f238bcd66c5e487ed88e87e29dfcea5bf6c59d82-872ca782798cfc34-01
2022-04-21T21:07:35.667Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:07:35.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-2db2c35d64eaf99861fd528954ef3b1981c4ca28-6e62242c73db4d4c-01 outer:exit 2b-2db2c35d64eaf99861fd528954ef3b1981c4ca28-319aad7d529c3d79-01
2022-04-21T21:07:35.671Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:07:35.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-e84409a349b982f3fabcdc202207e506e11df0ff-cd102874ef1c7352-01 outer:exit 2b-e84409a349b982f3fabcdc202207e506e11df0ff-d67d7adba7ed4a0b-01
2022-04-21T21:07:35.713Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (433ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:42.761Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:42.762Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:42.762Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:42.763Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:42.837Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:42.971Z appoptics:patching patched crypto 
2022-04-21T21:07:42.991Z appoptics:patching patched https 
2022-04-21T21:07:42.992Z appoptics:patching patched http 
2022-04-21T21:07:43.036Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:43.036Z appoptics:patching patched fs 
2022-04-21T21:07:43.065Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v16.14.2)
2022-04-21T21:07:43.072Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-21T21:07:43.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9ac4789fe3c6957e75b2806275f6fdfc2fcd7fb-c1c928b6bf5948cf-01 outer:exit 2b-d9ac4789fe3c6957e75b2806275f6fdfc2fcd7fb-789628d1c7488e82-01
2022-04-21T21:07:43.125Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:07:43.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-6200f23717677a7bdeab62a1fc6d1a12eadb40f4-a84a8087ef47fce3-01 outer:exit 2b-6200f23717677a7bdeab62a1fc6d1a12eadb40f4-5c8b31687895e4ba-01
2022-04-21T21:07:43.174Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:07:43.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3019b65ba13ea69b0a50d2746e685565992905b-47e84b78ba7d3081-01 outer:exit 2b-f3019b65ba13ea69b0a50d2746e685565992905b-2f658ab3ea7aa972-01
2022-04-21T21:07:43.179Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:07:43.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-5afb35a7f1b723abd840fa8a9f0dde6ec4b817f4-bd4c44b6ca478e4a-01 outer:exit 2b-5afb35a7f1b723abd840fa8a9f0dde6ec4b817f4-42ca88233f21fe06-01
2022-04-21T21:07:43.185Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:07:43.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2cb6cbb8b9aa16e96216b870aac4e3fc340fba4-bee234f04f65897c-01 outer:exit 2b-f2cb6cbb8b9aa16e96216b870aac4e3fc340fba4-b1a792d3db6c754c-01
2022-04-21T21:07:43.190Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:07:43.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-15fe526657e6b3da672f3d5430b3d63aba805176-c4b53e341aecee17-01 outer:exit 2b-15fe526657e6b3da672f3d5430b3d63aba805176-65a5148dd082c5a7-01
2022-04-21T21:07:43.195Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:07:43.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-004de2a7b5a050a90548e6beea7dfea9feaec5c1-a9019f080938538e-01 outer:exit 2b-004de2a7b5a050a90548e6beea7dfea9feaec5c1-2c8c28e05ee7f4cc-01
2022-04-21T21:07:43.198Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:07:43.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d74d2672b54c8b4dce3ae2bfe773d61529a0ed7-0b35096a7295adb6-01 outer:exit 2b-8d74d2672b54c8b4dce3ae2bfe773d61529a0ed7-1ca0c2cba8138892-01
2022-04-21T21:07:43.201Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:07:43.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0defa6043e52eaeea657873d12dd0907ac72917-951eb73d1f17b851-01 outer:exit 2b-e0defa6043e52eaeea657873d12dd0907ac72917-b77e6f28c33aabc6-01
2022-04-21T21:07:43.206Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:07:43.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a0b71a9c5caebbc5d033daf2df97cfcffa76755-a33ddb345b42fff3-01 outer:exit 2b-5a0b71a9c5caebbc5d033daf2df97cfcffa76755-5d6e524d5cf80317-01
2022-04-21T21:07:43.210Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:07:43.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb848adedc0ae43f7e28a3f8b59948357ebd3a4f-10c4e6e50706805f-01 outer:exit 2b-bb848adedc0ae43f7e28a3f8b59948357ebd3a4f-aa5356ab04adb4ba-01
2022-04-21T21:07:43.215Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:07:43.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-a516809e3322db735ba3928f4f69fb7dfd9096eb-e94362d3e3013f71-01 outer:exit 2b-a516809e3322db735ba3928f4f69fb7dfd9096eb-145141c5b8c7443a-01
2022-04-21T21:07:43.222Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:07:43.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-3927f697c6c9234e47fafeaa15c8c49fe0a3a8af-159f185d6fc2a696-01 outer:exit 2b-3927f697c6c9234e47fafeaa15c8c49fe0a3a8af-c654001ed22b06c9-01
2022-04-21T21:07:43.239Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:07:43.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5fb76f2a73ca613298e8ca20c512462589799bd-29010e6d99cea17b-01 outer:exit 2b-c5fb76f2a73ca613298e8ca20c512462589799bd-d92f8292f0fbea0f-01
2022-04-21T21:07:43.282Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:07:43.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d388c946258293b3e4ffa2008836c468f4a0131-0756681a81aca62d-01 outer:exit 2b-5d388c946258293b3e4ffa2008836c468f4a0131-26f2a11f2341d318-01
2022-04-21T21:07:43.285Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:07:43.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-47a430c5598df913b684849360ab472b6ec5e382-ee5baca67d9cc426-01 outer:exit 2b-47a430c5598df913b684849360ab472b6ec5e382-1ad615a77dfece69-01
2022-04-21T21:07:43.288Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:07:43.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c0ab4add1fbf569ca76872b49f467694d843fc1-b313d7f14f135cc8-01 outer:exit 2b-8c0ab4add1fbf569ca76872b49f467694d843fc1-02f006d714e7ab0c-01
2022-04-21T21:07:43.291Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:07:43.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ca75cffbf15f8530bfbb4946876517c599a36e0-7b35a5388de6d7f5-01 outer:exit 2b-3ca75cffbf15f8530bfbb4946876517c599a36e0-b6fadb87e2c4df64-01
2022-04-21T21:07:43.294Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:07:43.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-e53b118e85ca30879a64aad08359d7192a6f8067-2c09f2bd4faddfe5-01 outer:exit 2b-e53b118e85ca30879a64aad08359d7192a6f8067-ed382a711773bfca-01
2022-04-21T21:07:43.296Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:07:43.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2b58aa11389a88d2b23974c4fddb639e218ea7d-350414a41102580d-01 outer:exit 2b-f2b58aa11389a88d2b23974c4fddb639e218ea7d-3194fbb99b3e2280-01
2022-04-21T21:07:43.299Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:07:43.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b4f2be2a626600c8dc590c03df9426f2897b3ba-bd44a9ba94ca31f5-01 outer:exit 2b-5b4f2be2a626600c8dc590c03df9426f2897b3ba-bd758b3072ea9934-01
2022-04-21T21:07:43.301Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:07:43.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-8950c5ee97c1f51d116f75864179e81a41cc03d6-fa60bbd7b1117d0c-01 outer:exit 2b-8950c5ee97c1f51d116f75864179e81a41cc03d6-b32bee4aeb41a2f3-01
2022-04-21T21:07:43.304Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:07:43.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-e20b3c26202c1d4962067473c0191fc2b6ede92a-23994bb888e0ff80-01 outer:exit 2b-e20b3c26202c1d4962067473c0191fc2b6ede92a-fe200bfd9544e93d-01
2022-04-21T21:07:43.307Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:07:43.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d115050e889e9c045e41a40dd651e6ab035ea4b-59918b7c8426a4c2-01 outer:exit 2b-5d115050e889e9c045e41a40dd651e6ab035ea4b-8e89cc73cb540a3e-01
2022-04-21T21:07:43.310Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:07:43.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e0b43f736a2fa6e88c9037f093eee3cb6cb1e7c-43f9887b7ee98380-01 outer:exit 2b-6e0b43f736a2fa6e88c9037f093eee3cb6cb1e7c-dcbb72590a568f30-01
2022-04-21T21:07:43.313Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:07:43.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c917f82a37c4ddcc82ebae8b4e91f594121cbc5-4c3433207b5dad78-01 outer:exit 2b-9c917f82a37c4ddcc82ebae8b4e91f594121cbc5-5692d1f16c2fcd7b-01
2022-04-21T21:07:43.316Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:07:43.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4c773c942b61efd263b9cd9ef685061bae822c3-dc64553a1f68f6f6-01 outer:exit 2b-b4c773c942b61efd263b9cd9ef685061bae822c3-047e4efce1189d51-01
2022-04-21T21:07:43.323Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:07:43.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea27e1c91c8fefbf4f9c6d1d28702f498b401038-e98d75091c075538-01 outer:exit 2b-ea27e1c91c8fefbf4f9c6d1d28702f498b401038-3d6e941dd3bfddde-01
2022-04-21T21:07:43.328Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:07:43.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-b07c3585d5b037c73ab9b5e99182a5df4d4263fc-ec5abf8c84497c6d-01 outer:exit 2b-b07c3585d5b037c73ab9b5e99182a5df4d4263fc-0d868e977339720a-01
2022-04-21T21:07:43.337Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:07:43.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbc5e231e0afeb4db0882dae6bf315badf14746c-b5b673af754c5381-01 outer:exit 2b-dbc5e231e0afeb4db0882dae6bf315badf14746c-2145460f0f9c1803-01
2022-04-21T21:07:43.344Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:07:43.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e926db25a6736fa3f45ac3c1686dfceec9fa8d0-bc2ae4eb75651d43-01 outer:exit 2b-6e926db25a6736fa3f45ac3c1686dfceec9fa8d0-21e722802b501dea-01
2022-04-21T21:07:43.347Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:07:43.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-27e986ffb9ffbe9e838ddcff7fd31267389f644f-e60720cf7963c09f-01 outer:exit 2b-27e986ffb9ffbe9e838ddcff7fd31267389f644f-e74bb13b7fccb4f6-01
2022-04-21T21:07:43.350Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:07:43.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a63c189a3ce0d6c48acd7bd72afe8b1b90ef07d-d94d01a8abfcb7a3-01 outer:exit 2b-9a63c189a3ce0d6c48acd7bd72afe8b1b90ef07d-842531edc1492f57-01
2022-04-21T21:07:43.358Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:07:43.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca6afcb594e1a05d8835b0cc49309da27f58e4e3-a634061d26ef9b09-01 outer:exit 2b-ca6afcb594e1a05d8835b0cc49309da27f58e4e3-7f3c3cd790c356f0-01
2022-04-21T21:07:43.360Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:07:43.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-f04cd4e46cdab5618f5c51ac02784f5adb723c5a-8f4e12fd928c7629-01 outer:exit 2b-f04cd4e46cdab5618f5c51ac02784f5adb723c5a-83d4fd56b79869f1-01
2022-04-21T21:07:43.362Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:07:43.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ad59a7a3ad254257314a9c7ab77ab1491d6d95a-babba9faad137815-01 outer:exit 2b-3ad59a7a3ad254257314a9c7ab77ab1491d6d95a-0ee7c94ff40d20e0-01
2022-04-21T21:07:43.364Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:07:43.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-1147d82502cb491a135949a6a64a4c0a683f89cc-b5003309be98fa98-01 outer:exit 2b-1147d82502cb491a135949a6a64a4c0a683f89cc-0127e7ac4909cd38-01
2022-04-21T21:07:43.366Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:07:43.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b7765ace7198727bf1ce6d0b6171e4effedb21-151f021e330792ac-01 outer:exit 2b-a2b7765ace7198727bf1ce6d0b6171e4effedb21-18a8338689a5786b-01
2022-04-21T21:07:43.368Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:07:43.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cfff80064a36930c58b3381aa05ef3f665c82e2-9b39284cbe9889c4-01 outer:exit 2b-7cfff80064a36930c58b3381aa05ef3f665c82e2-754e07311e42f655-01
2022-04-21T21:07:43.380Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:07:43.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e58989dd9ece619c2f0702175bc51527bd6af6b-cc299451b4dab7a5-01 outer:exit 2b-3e58989dd9ece619c2f0702175bc51527bd6af6b-e56a0cb1cb1dbc5d-01
2022-04-21T21:07:43.389Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:07:43.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-229a26a6d14da321f9a9436d579c99e23c5d5053-20ec0c00376b7b57-01 outer:exit 2b-229a26a6d14da321f9a9436d579c99e23c5d5053-b6848081ba9b4a52-01
2022-04-21T21:07:43.392Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:07:43.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-48ed098450789a9a5ab309105b5b15d33bf0b78c-9ede5279ee0c4600-01 outer:exit 2b-48ed098450789a9a5ab309105b5b15d33bf0b78c-85dc62071183d161-01
2022-04-21T21:07:43.395Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:07:43.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-0239768ead3801ef1bf7099b34de8ec75adb93ef-6e2312c170916839-01 outer:exit 2b-0239768ead3801ef1bf7099b34de8ec75adb93ef-016fa528a7ea5363-01
2022-04-21T21:07:43.398Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:07:43.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-2628b35f1f4e132e694384b0ff17583387ecde66-9ddbb30e10664e43-01 outer:exit 2b-2628b35f1f4e132e694384b0ff17583387ecde66-9fa7fcb2d49cdd8e-01
2022-04-21T21:07:43.429Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (350ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:50.494Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:50.495Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:50.495Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:50.496Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:50.566Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:50.746Z appoptics:patching patched crypto 
2022-04-21T21:07:50.769Z appoptics:patching patched https 
2022-04-21T21:07:50.770Z appoptics:patching patched http 
2022-04-21T21:07:50.855Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:50.856Z appoptics:patching patched fs 
2022-04-21T21:07:50.890Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v16.14.2)
2022-04-21T21:07:50.898Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-21T21:07:50.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c2922eae261858cef0ae88d8b9c787e95bed21f-ada3060b7837ecd4-01 outer:exit 2b-9c2922eae261858cef0ae88d8b9c787e95bed21f-b4d5da6d3b164458-01
2022-04-21T21:07:50.953Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:07:51.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f46fcd6d315399df3dd4435f9c61aaeae385027-f06172aa4bf2450e-01 outer:exit 2b-3f46fcd6d315399df3dd4435f9c61aaeae385027-a921057a8ccb6a30-01
2022-04-21T21:07:51.004Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:07:51.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d6996a27b881706bf3b9c067d8515fd34748b1a-84447f5fb69fe1b5-01 outer:exit 2b-9d6996a27b881706bf3b9c067d8515fd34748b1a-2bef11825fabde8a-01
2022-04-21T21:07:51.009Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:07:51.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc4a0d1572be2d8e7f627df0eeca6bf9609e8fca-cd0543e44180f472-01 outer:exit 2b-fc4a0d1572be2d8e7f627df0eeca6bf9609e8fca-fef849f7112fafee-01
2022-04-21T21:07:51.012Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:07:51.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53c7dce811fb586dfe495e7d462539680e65cc8-60163bad286347de-01 outer:exit 2b-c53c7dce811fb586dfe495e7d462539680e65cc8-771c065f00e45f53-01
2022-04-21T21:07:51.019Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:07:51.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-335ced9276a27d6a409f3e5240dad146ca2af189-354dd5a4f9de7bd7-01 outer:exit 2b-335ced9276a27d6a409f3e5240dad146ca2af189-cba636e6b114505a-01
2022-04-21T21:07:51.023Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:07:51.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f26d427e136a2df76a9f481c34eb6c2731725d7-c348147d587495fa-01 outer:exit 2b-2f26d427e136a2df76a9f481c34eb6c2731725d7-618dccffd86b468f-01
2022-04-21T21:07:51.026Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:07:51.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a6bdc58b261293d0ba4abc7305f0b843845d116-a13f82680f0ee820-01 outer:exit 2b-8a6bdc58b261293d0ba4abc7305f0b843845d116-ee00b34924e0eb21-01
2022-04-21T21:07:51.029Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:07:51.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-88a5bc47d48567443da6e4aa533eab034abffe14-2d2ff48663c4b604-01 outer:exit 2b-88a5bc47d48567443da6e4aa533eab034abffe14-399c8d66641a44c5-01
2022-04-21T21:07:51.033Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:07:51.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-affd6ecc95480cfa9a93502301c036578a14b377-1d7d69b07b76e415-01 outer:exit 2b-affd6ecc95480cfa9a93502301c036578a14b377-0b175b8e818903fb-01
2022-04-21T21:07:51.037Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:07:51.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9f99f4fadababc5bf6486536840950c99a3836f-8824cbc2a5590037-01 outer:exit 2b-b9f99f4fadababc5bf6486536840950c99a3836f-84e4a9e41b5ffb0a-01
2022-04-21T21:07:51.042Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:07:51.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4a9dc4e71d9cfe80cf335c9b8a70b22bc607d7b-084325819ffe0321-01 outer:exit 2b-a4a9dc4e71d9cfe80cf335c9b8a70b22bc607d7b-1d5290ad751a1271-01
2022-04-21T21:07:51.050Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:07:51.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6f4cad36dff71c3a0ac4e4a2be0a0dfc38eba2e-26e03e4821993161-01 outer:exit 2b-f6f4cad36dff71c3a0ac4e4a2be0a0dfc38eba2e-a3bb0d331dae22e2-01
2022-04-21T21:07:51.072Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:07:51.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-76ca0961b04a5d748fa1a4c3adc1d75fd7ee2c69-35c04770fc65d903-01 outer:exit 2b-76ca0961b04a5d748fa1a4c3adc1d75fd7ee2c69-149f1c8491ff69ee-01
2022-04-21T21:07:51.117Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:07:51.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d2056d5a044dea9f9260fc9c2f7eea556ecb4f0-7fb8aeb315675371-01 outer:exit 2b-4d2056d5a044dea9f9260fc9c2f7eea556ecb4f0-f656a3ced72121be-01
2022-04-21T21:07:51.122Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:07:51.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce3a0b4b524296ab6fbece148ae54cc957855bb9-64916cc3716eddf3-01 outer:exit 2b-ce3a0b4b524296ab6fbece148ae54cc957855bb9-cff8dfc113a0bdbd-01
2022-04-21T21:07:51.125Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:07:51.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f3e4f3417990f157b738893e8947d94aba5ff7d-048453fbadda4849-01 outer:exit 2b-8f3e4f3417990f157b738893e8947d94aba5ff7d-99e4a735233b6f61-01
2022-04-21T21:07:51.128Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:07:51.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d7da115005883b4bc69bd8011a8b93cad669b69-56a68a78102787f5-01 outer:exit 2b-6d7da115005883b4bc69bd8011a8b93cad669b69-be420eb72d49983e-01
2022-04-21T21:07:51.131Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:07:51.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-139552004d773a47df0902ae2f7e891160a819bb-f511b9b05f578e29-01 outer:exit 2b-139552004d773a47df0902ae2f7e891160a819bb-befe4de550e8baaa-01
2022-04-21T21:07:51.134Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:07:51.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f8826fcebf92da38b5c2c77e1c53f2ca98ab821-844cf0b93bf586f2-01 outer:exit 2b-3f8826fcebf92da38b5c2c77e1c53f2ca98ab821-34f85a8f48c188d2-01
2022-04-21T21:07:51.136Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:07:51.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb0fbdefb10dfce4f8dd96d5effb641b2223c461-1ccd7b8b49f4f31e-01 outer:exit 2b-cb0fbdefb10dfce4f8dd96d5effb641b2223c461-12af4f545ec88940-01
2022-04-21T21:07:51.139Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:07:51.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-2397aaaf48dbde769a98ccd0b7945e098873f300-d22f13cb96e812c8-01 outer:exit 2b-2397aaaf48dbde769a98ccd0b7945e098873f300-b05e7d8303b2876e-01
2022-04-21T21:07:51.141Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:07:51.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-6afd4d4ad57d2aa74a5f0d0a2c2d6e3f748f3bda-aa58727dbf3e5b32-01 outer:exit 2b-6afd4d4ad57d2aa74a5f0d0a2c2d6e3f748f3bda-32770662076e9b21-01
2022-04-21T21:07:51.146Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:07:51.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f37cdd0668676d20c758bce46c208d167c84a7d-15ef2e996ce13292-01 outer:exit 2b-6f37cdd0668676d20c758bce46c208d167c84a7d-5654f4643811c52e-01
2022-04-21T21:07:51.150Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:07:51.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-82d598ebd0d73965d3583502d4dd7a25315c77b4-9fb3f0e223ce084f-01 outer:exit 2b-82d598ebd0d73965d3583502d4dd7a25315c77b4-0523bdfee1946542-01
2022-04-21T21:07:51.153Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:07:51.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-a90fbb189c02ddfa6a599df7dd9e1764c5989175-ba979f4e4a108a1f-01 outer:exit 2b-a90fbb189c02ddfa6a599df7dd9e1764c5989175-f3b1cf7f6d530f3a-01
2022-04-21T21:07:51.156Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:07:51.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb8bda18baf81415c2c45de50477be6b7df0d629-a8a2b4d46a032552-01 outer:exit 2b-bb8bda18baf81415c2c45de50477be6b7df0d629-dd06610d1391d885-01
2022-04-21T21:07:51.163Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:07:51.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-88c1345b08fb5d65f85fb470fd113b8fa8d1120d-5ed17df3e2a4a868-01 outer:exit 2b-88c1345b08fb5d65f85fb470fd113b8fa8d1120d-28503dc4892e8acd-01
2022-04-21T21:07:51.169Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:07:51.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-538cc95cc117d5b5f4fe82a61208620e4e478d81-d7f244b1f8ddae97-01 outer:exit 2b-538cc95cc117d5b5f4fe82a61208620e4e478d81-61c0d549e73388fa-01
2022-04-21T21:07:51.179Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:07:51.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ad4c527826e074888f9edbfe4f60f7a90ab3fdf-27e52998e01df2af-01 outer:exit 2b-9ad4c527826e074888f9edbfe4f60f7a90ab3fdf-90887409a205b2e8-01
2022-04-21T21:07:51.188Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:07:51.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba2659d725b9cedde0f3dba76c922ac6487876be-853e1dbcf4d60a4c-01 outer:exit 2b-ba2659d725b9cedde0f3dba76c922ac6487876be-92f1f1517a48b9b9-01
2022-04-21T21:07:51.191Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:07:51.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e681874baf25fdd202e1de48951da65c6a04c19-5223ce69281e737b-01 outer:exit 2b-2e681874baf25fdd202e1de48951da65c6a04c19-c249a06b8570b1cb-01
2022-04-21T21:07:51.196Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:07:51.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fc7b166db693981b6e28ecb321d806c8c56a09b-917b993d6e8dbaa9-01 outer:exit 2b-3fc7b166db693981b6e28ecb321d806c8c56a09b-8fd1accb67aec394-01
2022-04-21T21:07:51.204Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:07:51.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-64239478795c4c9b6f35268f518ea2f0ed75b6f8-993057d9ac58ae63-01 outer:exit 2b-64239478795c4c9b6f35268f518ea2f0ed75b6f8-cb13c8b5e438e7ca-01
2022-04-21T21:07:51.207Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:07:51.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f56975030c84d27bd3108e7773181d6e3ca74f2-2391540fc9f68fef-01 outer:exit 2b-1f56975030c84d27bd3108e7773181d6e3ca74f2-828d5bd1ef8776fd-01
2022-04-21T21:07:51.209Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:07:51.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e330d59207739dc6a0cead4c7b5e9e1884f5482-5990dca5c1665035-01 outer:exit 2b-3e330d59207739dc6a0cead4c7b5e9e1884f5482-9faf7c7b784df056-01
2022-04-21T21:07:51.211Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:07:51.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3680fe3364e65399186234d09141cafa0fd1315-c0bdd4e597da3b8d-01 outer:exit 2b-e3680fe3364e65399186234d09141cafa0fd1315-e4e8201f7fb34dd8-01
2022-04-21T21:07:51.213Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:07:51.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05643b51aed120f722b538ba839ca45725519eb-d44a1b5e76624744-01 outer:exit 2b-b05643b51aed120f722b538ba839ca45725519eb-d44562419ff990a2-01
2022-04-21T21:07:51.215Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:07:51.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-347fd1fa398db4dfb953a85d8b5ccbdcebb6649b-fcb9baee0b125b3c-01 outer:exit 2b-347fd1fa398db4dfb953a85d8b5ccbdcebb6649b-9d2fc8c346468a82-01
2022-04-21T21:07:51.230Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:07:51.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd3c1d58a94efb117eb6c3e98891895d688c0bb3-e56e1a9d40bfc20b-01 outer:exit 2b-fd3c1d58a94efb117eb6c3e98891895d688c0bb3-35d9dfccfad510f4-01
2022-04-21T21:07:51.241Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:07:51.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-416008344eb295f2c30244bc2425bdf9a0dc3af0-d0c08f7202ed2928-01 outer:exit 2b-416008344eb295f2c30244bc2425bdf9a0dc3af0-5440914c3cf6f1ff-01
2022-04-21T21:07:51.245Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:07:51.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2342b749f86efc24fcc3b9cd21ce1a88e74c998-f27c8a4ec113ee19-01 outer:exit 2b-f2342b749f86efc24fcc3b9cd21ce1a88e74c998-722365def3b41207-01
2022-04-21T21:07:51.248Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:07:51.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-df12ad4df583492c29dae11da7e12754b7df3157-26e5201585b471b1-01 outer:exit 2b-df12ad4df583492c29dae11da7e12754b7df3157-a4d803c4d8180f43-01
2022-04-21T21:07:51.250Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:07:51.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-541efeeacf27c194c1303561df43502e5ea6f3fd-a9bff9acc71bd9ec-01 outer:exit 2b-541efeeacf27c194c1303561df43502e5ea6f3fd-a77c13c6c04fdb81-01
2022-04-21T21:07:51.285Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (380ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:07:57.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:07:57.727Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:07:57.727Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:07:57.728Z appoptics:debug using context provider: ace-context
2022-04-21T21:07:57.797Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:07:57.930Z appoptics:patching patched crypto 
2022-04-21T21:07:57.950Z appoptics:patching patched https 
2022-04-21T21:07:57.951Z appoptics:patching patched http 
2022-04-21T21:07:57.997Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:07:57.998Z appoptics:patching patched fs 
2022-04-21T21:07:58.027Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v16.14.2)
2022-04-21T21:07:58.033Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-21T21:07:58.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f5f22afcf94254bb38a538971dd4112bb942817-2eca1da490c151fb-01 outer:exit 2b-4f5f22afcf94254bb38a538971dd4112bb942817-5fc35003c106bfef-01
2022-04-21T21:07:58.085Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:07:58.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-814d568b805ec2b7b8572470b22328f4f13a5227-39aa6c98b2a85611-01 outer:exit 2b-814d568b805ec2b7b8572470b22328f4f13a5227-b24de0af77e51d1e-01
2022-04-21T21:07:58.136Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:07:58.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7ae5e6b2f8de79971ab63f90a0bcb6955845032-9a4b799bd2658e16-01 outer:exit 2b-b7ae5e6b2f8de79971ab63f90a0bcb6955845032-ea183a8d3fa3eca4-01
2022-04-21T21:07:58.140Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:07:58.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b277a8ed57c211ec96448cc94a938fe2d16aa08-ae03473a5f67c736-01 outer:exit 2b-4b277a8ed57c211ec96448cc94a938fe2d16aa08-870c974e91e01089-01
2022-04-21T21:07:58.145Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:07:58.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-15ef7fab03c0910a64d32c5d8db3db559c7b833b-a92476518de4e813-01 outer:exit 2b-15ef7fab03c0910a64d32c5d8db3db559c7b833b-49fbb4478b865619-01
2022-04-21T21:07:58.150Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:07:58.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca62805050c640ed416fb2841a530384cc6f8a79-4558c73df6c9d816-01 outer:exit 2b-ca62805050c640ed416fb2841a530384cc6f8a79-252ed23c1ed7583a-01
2022-04-21T21:07:58.153Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:07:58.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cf53455675d43417cf68aea64d2a42965a31c26-ec33fd371ad21cff-01 outer:exit 2b-1cf53455675d43417cf68aea64d2a42965a31c26-588db159bf903227-01
2022-04-21T21:07:58.157Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:07:58.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-643d2b71498c96fb4eab510d8c5f4d79ac60b620-5a7f108bd9c741fa-01 outer:exit 2b-643d2b71498c96fb4eab510d8c5f4d79ac60b620-5a991a2e6747339f-01
2022-04-21T21:07:58.159Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:07:58.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-49016763fc451afad773374401c1b09b7c1ee1ea-ddd4895730203b75-01 outer:exit 2b-49016763fc451afad773374401c1b09b7c1ee1ea-1b643ccb31788f08-01
2022-04-21T21:07:58.165Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:07:58.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-be08d91192f76aee02431ab348b25c42762c882d-d6149b81fb622ef3-01 outer:exit 2b-be08d91192f76aee02431ab348b25c42762c882d-88c80b83a5ee3933-01
2022-04-21T21:07:58.169Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:07:58.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-a758d1422e4ee05593922538dea8ba7a3cb62e62-6473bab7160aaae9-01 outer:exit 2b-a758d1422e4ee05593922538dea8ba7a3cb62e62-360c6d0ff7734c6e-01
2022-04-21T21:07:58.173Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:07:58.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3d48bac0b37a5404bacea810917b7f66df5a43f-20362b4915617cc4-01 outer:exit 2b-a3d48bac0b37a5404bacea810917b7f66df5a43f-c2c3899b39600c2f-01
2022-04-21T21:07:58.181Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:07:58.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-25d2c1b883c7ddf1da9be8924df980d5f93e8920-d6f3240841abbb52-01 outer:exit 2b-25d2c1b883c7ddf1da9be8924df980d5f93e8920-6bc3e7a4513c8788-01
2022-04-21T21:07:58.199Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:07:58.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fcf526973b3b2a1271af8e00a652095d39db693-c79b5e9baab7a831-01 outer:exit 2b-2fcf526973b3b2a1271af8e00a652095d39db693-4ff1a7aaaca4385f-01
2022-04-21T21:07:58.245Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:07:58.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9a70c12bc16875cfcccb36ee4ff69aab0db6c67-dd990bfc69ed7996-01 outer:exit 2b-b9a70c12bc16875cfcccb36ee4ff69aab0db6c67-7ba4411fe213f7dd-01
2022-04-21T21:07:58.248Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:07:58.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-54bea7c8d602c4fb63db2b4a9c1cd10c176ba5b7-62dc868abea0e46f-01 outer:exit 2b-54bea7c8d602c4fb63db2b4a9c1cd10c176ba5b7-fe4d3de46121b8c0-01
2022-04-21T21:07:58.251Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:07:58.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-20736da7aa42523ab2a929d77df69e0f88dcb8df-703846ef20230534-01 outer:exit 2b-20736da7aa42523ab2a929d77df69e0f88dcb8df-04acf672ba0f582d-01
2022-04-21T21:07:58.254Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:07:58.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce5fade10702f6c484b72d7623ba0e7830ab96c9-91a30d2bd13b3225-01 outer:exit 2b-ce5fade10702f6c484b72d7623ba0e7830ab96c9-32fede9d0631e091-01
2022-04-21T21:07:58.257Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:07:58.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-257eace101864ab5efce584628f234268df3b7dc-8be9201538024b24-01 outer:exit 2b-257eace101864ab5efce584628f234268df3b7dc-408c9f69b8dcb87c-01
2022-04-21T21:07:58.259Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:07:58.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ac195a6282aee32b3f48de7ffce471ce01408bb-377d695cccaae89e-01 outer:exit 2b-4ac195a6282aee32b3f48de7ffce471ce01408bb-30854bb0603907d5-01
2022-04-21T21:07:58.261Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:07:58.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f50360ce5ad1bfc090f0de3ed32aee57ebb2cc5-d23d113ffb683a47-01 outer:exit 2b-7f50360ce5ad1bfc090f0de3ed32aee57ebb2cc5-18d4ebbc1d84adf8-01
2022-04-21T21:07:58.263Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:07:58.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ec377f013a5200698da9eaaf360e0160ae0346b-f4c581dd58160ca6-01 outer:exit 2b-8ec377f013a5200698da9eaaf360e0160ae0346b-825f082641d2a33e-01
2022-04-21T21:07:58.265Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:07:58.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-09106b56917baa531b6d16dd97e37cccc19011a5-dfd51ab899b2977e-01 outer:exit 2b-09106b56917baa531b6d16dd97e37cccc19011a5-7fb9593b0a5629e4-01
2022-04-21T21:07:58.269Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:07:58.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-30299a11dc9bdf9e2abe4b6f36da0e44da79e331-aa2a27342cabe158-01 outer:exit 2b-30299a11dc9bdf9e2abe4b6f36da0e44da79e331-aedb9034431abf98-01
2022-04-21T21:07:58.272Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:07:58.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-49c338285590e1a18b528c549131743cdc349437-d7430cd2d58841ea-01 outer:exit 2b-49c338285590e1a18b528c549131743cdc349437-8be5b2af616f566b-01
2022-04-21T21:07:58.274Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:07:58.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dda20fd2ed4a68cc1b3154b746be22f7260c95e-8b95a13689defdf1-01 outer:exit 2b-4dda20fd2ed4a68cc1b3154b746be22f7260c95e-07a7a18187ab6226-01
2022-04-21T21:07:58.277Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:07:58.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-03f1f42e13df061049a009ac6bb24e42dbb559b8-625de610cf80d77b-01 outer:exit 2b-03f1f42e13df061049a009ac6bb24e42dbb559b8-00fa49de483731bd-01
2022-04-21T21:07:58.284Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:07:58.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-84417016ae4027eaffe5c05c88025cce10425b15-fff34e8f9416a3eb-01 outer:exit 2b-84417016ae4027eaffe5c05c88025cce10425b15-c431ba0536160f57-01
2022-04-21T21:07:58.291Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:07:58.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-51f82b1fa9b51dab125157808cc8f4a2f28550c8-868ce7fc99eac93b-01 outer:exit 2b-51f82b1fa9b51dab125157808cc8f4a2f28550c8-6c6799122c926a92-01
2022-04-21T21:07:58.301Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:07:58.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-baaf62aee21504be2dc6da6c65aead6ecd553fb6-4eea1a8708462b2a-01 outer:exit 2b-baaf62aee21504be2dc6da6c65aead6ecd553fb6-a03bac15a5c29bbe-01
2022-04-21T21:07:58.308Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:07:58.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-e51a3140251a99310f8937b4f27db8ced72da100-ff05a3e3c230c45e-01 outer:exit 2b-e51a3140251a99310f8937b4f27db8ced72da100-702ff816a5c2cc9b-01
2022-04-21T21:07:58.311Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:07:58.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-da2249cecb58c2fad533301bc426c8bfcd0d5b33-f942db093114931b-01 outer:exit 2b-da2249cecb58c2fad533301bc426c8bfcd0d5b33-99739dfdec368e6c-01
2022-04-21T21:07:58.315Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:07:58.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0d15b898e0e42c847b459f53fe3a663ab379824-5145f3b194b98348-01 outer:exit 2b-d0d15b898e0e42c847b459f53fe3a663ab379824-656020bce7618ebd-01
2022-04-21T21:07:58.322Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:07:58.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-babcc50dc229c49ca05a4f93fb5aa4aba31e3308-79e2a843841df24b-01 outer:exit 2b-babcc50dc229c49ca05a4f93fb5aa4aba31e3308-49ab2574d17716d6-01
2022-04-21T21:07:58.325Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:07:58.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-f13492e89b8c47163fcad8dc88253ec6dbfe4843-b69995b4311f6126-01 outer:exit 2b-f13492e89b8c47163fcad8dc88253ec6dbfe4843-b5f5b61e7b04c281-01
2022-04-21T21:07:58.327Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:07:58.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-b22743ee14f3c11c27bbfde06eea2094a6bd1d36-2748f987ce47c043-01 outer:exit 2b-b22743ee14f3c11c27bbfde06eea2094a6bd1d36-da289336fd197b4b-01
2022-04-21T21:07:58.329Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:07:58.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-79dbcfeb0a145880f108bba629926e66e2a24d9c-5e1504bd59bf608b-01 outer:exit 2b-79dbcfeb0a145880f108bba629926e66e2a24d9c-bcc42849428598f6-01
2022-04-21T21:07:58.331Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:07:58.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a677e72b3f3727b3c38cb2329224b449ba697cc-94bbf81d8aa42896-01 outer:exit 2b-1a677e72b3f3727b3c38cb2329224b449ba697cc-9bc580bc16bfef2a-01
2022-04-21T21:07:58.333Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:07:58.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9d44732112e540dbc2d62e7ae4e8110a33267bf-7ab09e3db4ae53f9-01 outer:exit 2b-f9d44732112e540dbc2d62e7ae4e8110a33267bf-ac170f98e24e885d-01
2022-04-21T21:07:58.344Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:07:58.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-a266d11be0f7535035dda9f9a04d3da81b55394f-ac54155fe963acb1-01 outer:exit 2b-a266d11be0f7535035dda9f9a04d3da81b55394f-f793444512a17f8b-01
2022-04-21T21:07:58.353Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:07:58.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-87d8210cebbbd4fe8be0334db37fe5688c63568f-77e1fac076411bda-01 outer:exit 2b-87d8210cebbbd4fe8be0334db37fe5688c63568f-8430a06547dfd081-01
2022-04-21T21:07:58.356Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:07:58.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-14d6fcc8d49d6675baa0f3bad66b42e513b22761-cca1c0a873f0bd8c-01 outer:exit 2b-14d6fcc8d49d6675baa0f3bad66b42e513b22761-83131c02a0d7de47-01
2022-04-21T21:07:58.359Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:07:58.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-9859fad06bff614539af106c4f2e9f3a3851efbc-71a0863fdc78867e-01 outer:exit 2b-9859fad06bff614539af106c4f2e9f3a3851efbc-a6eb237366634ee6-01
2022-04-21T21:07:58.362Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:07:58.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-2059668790920736536ed2cc842a6777640e159f-ed1418417ff815fe-01 outer:exit 2b-2059668790920736536ed2cc842a6777640e159f-b8e87746773dd7f5-01
2022-04-21T21:07:58.395Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (355ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:05.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:05.866Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:05.866Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:05.866Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:05.939Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:06.098Z appoptics:patching patched crypto 
2022-04-21T21:08:06.137Z appoptics:patching patched https 
2022-04-21T21:08:06.138Z appoptics:patching patched http 
2022-04-21T21:08:06.188Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:06.189Z appoptics:patching patched fs 
2022-04-21T21:08:06.219Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v16.14.2)
2022-04-21T21:08:06.226Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-21T21:08:06.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e40e1f283b4e04258b4e1e8536c20474084cefb-2ce246d38b8680bd-01 outer:exit 2b-7e40e1f283b4e04258b4e1e8536c20474084cefb-a83c8eaa23e55942-01
2022-04-21T21:08:06.280Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:08:06.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-eac18bd98591825a2b28895a909ed546496979e9-8e1d8f9fe596af6c-01 outer:exit 2b-eac18bd98591825a2b28895a909ed546496979e9-2fdc774a1eb7d069-01
2022-04-21T21:08:06.331Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:08:06.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-a471c476824475550c9a7f2c9ed211aebed2ea2d-f1d1cc6aae7c4930-01 outer:exit 2b-a471c476824475550c9a7f2c9ed211aebed2ea2d-9a1a57c3eebe5a60-01
2022-04-21T21:08:06.335Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:08:06.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bfd41de1917ae6ad314eb38224fec336dd9af43-45ef5810a9ab05b4-01 outer:exit 2b-2bfd41de1917ae6ad314eb38224fec336dd9af43-51f64d88d5bbac9b-01
2022-04-21T21:08:06.339Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:08:06.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-e051c27a37272496d8e6c25cf999c2ffbb6f61a7-9bd1a12d0c29a727-01 outer:exit 2b-e051c27a37272496d8e6c25cf999c2ffbb6f61a7-b45b8df56e899049-01
2022-04-21T21:08:06.344Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:08:06.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-0078784e07e8510691f7d9adb336fe23a99d363b-981bd02b340c3dc9-01 outer:exit 2b-0078784e07e8510691f7d9adb336fe23a99d363b-4d588701570a2a88-01
2022-04-21T21:08:06.348Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:08:06.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-1635d1a1917d7d50c84ed0bf93a982cfd9517e25-cfa5f53200c1d1cc-01 outer:exit 2b-1635d1a1917d7d50c84ed0bf93a982cfd9517e25-a54cb3eb63f13053-01
2022-04-21T21:08:06.351Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:08:06.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5376f2f014bd163fa7102f191f393af285b7b23-c653f74d98df7f7f-01 outer:exit 2b-e5376f2f014bd163fa7102f191f393af285b7b23-65e7d887bcab0d25-01
2022-04-21T21:08:06.354Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:08:06.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d2cfd4fd0f4fe15476aba59f356d1847700cb42-b5117b5d2234f841-01 outer:exit 2b-0d2cfd4fd0f4fe15476aba59f356d1847700cb42-32d652c95a776f3c-01
2022-04-21T21:08:06.357Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:08:06.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-26455020131c6aed22d4bdade49d7ac039424188-ebeca791700304ce-01 outer:exit 2b-26455020131c6aed22d4bdade49d7ac039424188-b0b38570df3cf994-01
2022-04-21T21:08:06.361Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:08:06.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-22afd59472a3962412f59db76a2dfd26bfb00329-e27e8cf07c73d708-01 outer:exit 2b-22afd59472a3962412f59db76a2dfd26bfb00329-a615523ac79fa3a8-01
2022-04-21T21:08:06.366Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:08:06.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-46a163101df05e9a1809499feb4892621eaf5d0e-d20743279e5f8c3f-01 outer:exit 2b-46a163101df05e9a1809499feb4892621eaf5d0e-20fcd925254e0191-01
2022-04-21T21:08:06.373Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:08:06.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-90f195f7e17433175be7bc396a338783fe01d06c-09d138040dc82635-01 outer:exit 2b-90f195f7e17433175be7bc396a338783fe01d06c-0c2afca33aeb4c8d-01
2022-04-21T21:08:06.391Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:08:06.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-89def5e3e0102478eca48d07b616e7571622dbb1-61228192f47de390-01 outer:exit 2b-89def5e3e0102478eca48d07b616e7571622dbb1-5a4bc638cf26f6fe-01
2022-04-21T21:08:06.436Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:08:06.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc890c2cbff20b7e217ca6d39f83a9ee00da7620-0ffcd1b02b54e022-01 outer:exit 2b-fc890c2cbff20b7e217ca6d39f83a9ee00da7620-c5f5b12eabbfea06-01
2022-04-21T21:08:06.440Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:08:06.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-11eda353de12d7b37b1fbad0f776c1d168d7deeb-2cc038196e660bc6-01 outer:exit 2b-11eda353de12d7b37b1fbad0f776c1d168d7deeb-5640385f1967dd3d-01
2022-04-21T21:08:06.442Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:08:06.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc0b1d35faeed0929bac10cad54a1a9475b638c1-31902b42280f008d-01 outer:exit 2b-fc0b1d35faeed0929bac10cad54a1a9475b638c1-50b688144a855854-01
2022-04-21T21:08:06.445Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:08:06.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-132067be40c83a414b72ba784a161b0bdcf516a4-249071fda576cced-01 outer:exit 2b-132067be40c83a414b72ba784a161b0bdcf516a4-6b26001b65b31f3d-01
2022-04-21T21:08:06.448Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:08:06.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbe6ff748da4a8fcea87a52fdb713edb7510d5fa-5d309bfe4cd0ea21-01 outer:exit 2b-dbe6ff748da4a8fcea87a52fdb713edb7510d5fa-e7a565f423eb6daf-01
2022-04-21T21:08:06.450Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:08:06.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bd510d271deab3dd5344a0edfc12e64d7a1831a-7a66c9c06649938c-01 outer:exit 2b-0bd510d271deab3dd5344a0edfc12e64d7a1831a-91d876a16c24e927-01
2022-04-21T21:08:06.453Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:08:06.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb10161f82ff67d1c44fe02e43b82a5cc90e644c-454d3e790b36a4cb-01 outer:exit 2b-fb10161f82ff67d1c44fe02e43b82a5cc90e644c-f9fca07ac2143e4e-01
2022-04-21T21:08:06.455Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:08:06.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-622131d6b710482a0bf51cb471ec633e4779c5b3-ce6d2ecc8098856f-01 outer:exit 2b-622131d6b710482a0bf51cb471ec633e4779c5b3-780a7999f21762df-01
2022-04-21T21:08:06.457Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:08:06.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a0ab1a85e89e274f75775207b65a4532f3e9721-18d8210364585ff8-01 outer:exit 2b-5a0ab1a85e89e274f75775207b65a4532f3e9721-c8ccdb27cf381790-01
2022-04-21T21:08:06.461Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:08:06.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-59e3e95d4521f07b7f896ff77b44b35614855314-125d648943d53385-01 outer:exit 2b-59e3e95d4521f07b7f896ff77b44b35614855314-cf4ab4225a3671ea-01
2022-04-21T21:08:06.464Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:08:06.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-acad34ca813139ed603feded46ac65a21ecb890c-d3f73b8bff71510b-01 outer:exit 2b-acad34ca813139ed603feded46ac65a21ecb890c-20632863f4befcf6-01
2022-04-21T21:08:06.466Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:08:06.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-186e89139380c582d985cc09aacedc60e9e3ae48-97d7944eed15ca27-01 outer:exit 2b-186e89139380c582d985cc09aacedc60e9e3ae48-82498ca183a8be92-01
2022-04-21T21:08:06.469Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:08:06.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-3500e49ec1c39ce45d7a19aa831225d4d8216274-4d9bdd664eb2108a-01 outer:exit 2b-3500e49ec1c39ce45d7a19aa831225d4d8216274-eb03b07253b4f772-01
2022-04-21T21:08:06.475Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:08:06.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-7db2e0ab5feba1f333f0b9e7d9b0fc547cec3d2f-7b8425235b604d69-01 outer:exit 2b-7db2e0ab5feba1f333f0b9e7d9b0fc547cec3d2f-018d2a98505f48c8-01
2022-04-21T21:08:06.489Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:08:06.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1a2b3fdef67f604f9ee8d3dee56838fb2fdcaff-3bade4fd1c0e458c-01 outer:exit 2b-a1a2b3fdef67f604f9ee8d3dee56838fb2fdcaff-6be3515a49c8405e-01
2022-04-21T21:08:06.500Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:08:06.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2decbe088f95c894c5010f46bc447bbc89889d7-4a3cf2e09b9c3638-01 outer:exit 2b-d2decbe088f95c894c5010f46bc447bbc89889d7-b88e1a5ab659b660-01
2022-04-21T21:08:06.508Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:08:06.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-095565eda7c70ac7deff4c734f9c54b927c4fba5-52586b5faf9d0cd9-01 outer:exit 2b-095565eda7c70ac7deff4c734f9c54b927c4fba5-04020611113cf19f-01
2022-04-21T21:08:06.511Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:08:06.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-076f8181cd3d4d5bc2ce1629127b78eba3b37506-893eb734cdfe9d57-01 outer:exit 2b-076f8181cd3d4d5bc2ce1629127b78eba3b37506-bfcc6f832ede445a-01
2022-04-21T21:08:06.515Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:08:06.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-805913945729efa7f5b89ebd48e41c0d64690f39-d3ec5f68ba9d5d33-01 outer:exit 2b-805913945729efa7f5b89ebd48e41c0d64690f39-79adb92e71070975-01
2022-04-21T21:08:06.522Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:08:06.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-2de9f703e73a7fe44d3d3e0e6fe24699c53dad99-84b9b008c6f2f187-01 outer:exit 2b-2de9f703e73a7fe44d3d3e0e6fe24699c53dad99-61de0f63a1328df5-01
2022-04-21T21:08:06.525Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:08:06.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9579b058e445ec74a16ad9180944b721f015a2f-166e1e9d968e9951-01 outer:exit 2b-e9579b058e445ec74a16ad9180944b721f015a2f-d5d556573e1bab7c-01
2022-04-21T21:08:06.527Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:08:06.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1a1e40d5a7ac276e7f226f8bf47eb0fd0b78632-3f5f9e59282f61bf-01 outer:exit 2b-c1a1e40d5a7ac276e7f226f8bf47eb0fd0b78632-cfcc0f4b15334674-01
2022-04-21T21:08:06.530Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:08:06.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f2228e720586b5c4db68eaf68d24fc2d6138901-32fbaf5dc4c42457-01 outer:exit 2b-7f2228e720586b5c4db68eaf68d24fc2d6138901-5816b006276d35eb-01
2022-04-21T21:08:06.532Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:08:06.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-69ef5cf77c4e4d11179b82b395a99d4ecb12d760-95e733fed2459504-01 outer:exit 2b-69ef5cf77c4e4d11179b82b395a99d4ecb12d760-bf1e22a8b2a48576-01
2022-04-21T21:08:06.534Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:08:06.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac6ab4dbd0dbefb3bfa32b8435aa52d3aea8d9f-b4f0d9c4921e8a94-01 outer:exit 2b-3ac6ab4dbd0dbefb3bfa32b8435aa52d3aea8d9f-252a03726745539e-01
2022-04-21T21:08:06.547Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:08:06.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-377cc01473f1f5b6e4cf3b8a1f9eb61ecd1b6827-4ce1905799f6ba84-01 outer:exit 2b-377cc01473f1f5b6e4cf3b8a1f9eb61ecd1b6827-11b16286ba719008-01
2022-04-21T21:08:06.558Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:08:06.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee563d470faeedfd4a2d50ebb00ba8e6539ffddc-0f7a171c0cfe5cd0-01 outer:exit 2b-ee563d470faeedfd4a2d50ebb00ba8e6539ffddc-3dbb9828373faa7a-01
2022-04-21T21:08:06.562Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:08:06.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7a4238d1af36777b59eceaa040d4fd21251372a-ec3d5c5ba9c0dc48-01 outer:exit 2b-b7a4238d1af36777b59eceaa040d4fd21251372a-92b44f3be883f2af-01
2022-04-21T21:08:06.565Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:08:06.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-d712b5cca37953656a4f8d00bf729eb7c3fc9208-27eb34c9c4762f08-01 outer:exit 2b-d712b5cca37953656a4f8d00bf729eb7c3fc9208-dce81e38e83388ce-01
2022-04-21T21:08:06.573Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:08:06.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-5571732a5ea8e323b2db0e8a0161e40339712d34-9b82ee4c7b7c4ddf-01 outer:exit 2b-5571732a5ea8e323b2db0e8a0161e40339712d34-40eb8c9c9ca0951b-01
2022-04-21T21:08:06.609Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (375ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:12.936Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:12.937Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:12.937Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:12.939Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:13.042Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:13.294Z appoptics:patching patched crypto 
2022-04-21T21:08:13.373Z appoptics:patching patched https 
2022-04-21T21:08:13.374Z appoptics:patching patched http 
2022-04-21T21:08:13.461Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:13.462Z appoptics:patching patched fs 
2022-04-21T21:08:13.527Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v16.14.2)
2022-04-21T21:08:13.543Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-21T21:08:13.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc59a87181a9e77e74435960501b45dd0da080b5-e84df9fdc6680a5f-01 outer:exit 2b-dc59a87181a9e77e74435960501b45dd0da080b5-04974292c8c5f8da-01
2022-04-21T21:08:13.664Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:08:13.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bcc5fa95952b3e9cce51da0553745f0a7c3d456-593bd3e90c46de4c-01 outer:exit 2b-7bcc5fa95952b3e9cce51da0553745f0a7c3d456-66191a2bf7daedf4-01
2022-04-21T21:08:13.723Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:08:13.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-16826db1f211f5c0203628240d8bfc48a1cf4e9d-aa40217274a2e2ff-01 outer:exit 2b-16826db1f211f5c0203628240d8bfc48a1cf4e9d-55ef94d1dbc890da-01
2022-04-21T21:08:13.727Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:08:13.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-477e2c1d4bf7d2c3cf0f3840e4ad6a6e36a3e4e9-303138f9b7e91a83-01 outer:exit 2b-477e2c1d4bf7d2c3cf0f3840e4ad6a6e36a3e4e9-4bfa40f8bef4a82e-01
2022-04-21T21:08:13.734Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:08:13.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd395cf6a02cb552482228a012b23e24ebf16719-b92e4814f171c393-01 outer:exit 2b-fd395cf6a02cb552482228a012b23e24ebf16719-5c67d9152985d25d-01
2022-04-21T21:08:13.745Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:08:13.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f4303eafe41ad57154819b88997acf436fb800f-a60847400971f95a-01 outer:exit 2b-8f4303eafe41ad57154819b88997acf436fb800f-f850ea5f2bac07e7-01
2022-04-21T21:08:13.757Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:08:13.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-def139a9d4aaaa3cb8c00d07d9056236f6584792-e80732c601e5563f-01 outer:exit 2b-def139a9d4aaaa3cb8c00d07d9056236f6584792-aaf6be0bf0750f0c-01
2022-04-21T21:08:13.774Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:08:13.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde1447e02817763ce5e3dfdbab1a72185cf31f1-ed74f4e24d22e08b-01 outer:exit 2b-fde1447e02817763ce5e3dfdbab1a72185cf31f1-af955a98106f7d43-01
2022-04-21T21:08:13.794Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:08:13.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-c31543ffa67f61c983e6684a277be966084377b5-b79c973cc8364766-01 outer:exit 2b-c31543ffa67f61c983e6684a277be966084377b5-d6a39cc4f62c456a-01
2022-04-21T21:08:13.801Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:08:13.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dc5e5e927861dd5b9870e1520aa89c88dad1d9e-5de1c2d0756e2424-01 outer:exit 2b-4dc5e5e927861dd5b9870e1520aa89c88dad1d9e-cdbc65871f9af1a3-01
2022-04-21T21:08:13.807Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:08:13.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb3c253c152c19ad55cae469f74e03575978b688-c15007373b73ccbc-01 outer:exit 2b-fb3c253c152c19ad55cae469f74e03575978b688-8576e75129505058-01
2022-04-21T21:08:13.817Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:08:13.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-667ea2fe5bdb5255b1a69e525958172ac21b6891-96024d177904ad8c-01 outer:exit 2b-667ea2fe5bdb5255b1a69e525958172ac21b6891-488a25c710188be4-01
2022-04-21T21:08:13.832Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:08:13.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-949d62b312fd69aedc9950b6ef9077b3f1b16d17-d3d9db0d62f608ba-01 outer:exit 2b-949d62b312fd69aedc9950b6ef9077b3f1b16d17-25a8380b4d753b01-01
2022-04-21T21:08:13.860Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:08:13.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1db5bf896ba13f7076e23332410d1a4caada012-e9262aeefa5d860f-01 outer:exit 2b-a1db5bf896ba13f7076e23332410d1a4caada012-601e26b4feb7ad80-01
2022-04-21T21:08:13.923Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:08:13.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a578a5e030b21978eec380e81f0ea78c193a7a2-3e6cb9c1eab34955-01 outer:exit 2b-9a578a5e030b21978eec380e81f0ea78c193a7a2-5922875b791366be-01
2022-04-21T21:08:13.926Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:08:13.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6173c0e2f70a5ead030df825469379d497f8266-3532118133cd1af8-01 outer:exit 2b-c6173c0e2f70a5ead030df825469379d497f8266-a7b50d5509d4c116-01
2022-04-21T21:08:13.929Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:08:13.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8c482ad761945d2e1f11305236ef7d2ceb75f26-6a519c8a4b3592fe-01 outer:exit 2b-c8c482ad761945d2e1f11305236ef7d2ceb75f26-1889bacc8a6fe1ad-01
2022-04-21T21:08:13.934Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:08:13.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-e76022a7f91c3d13de5351de1f7dd262d5899023-70cd9fd124d724cd-01 outer:exit 2b-e76022a7f91c3d13de5351de1f7dd262d5899023-16df897b62411537-01
2022-04-21T21:08:13.938Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:08:13.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e84cbc991ee1b596c28a07d5ea95db9ed3b8faa-c2d6d5bbeaef7c7b-01 outer:exit 2b-5e84cbc991ee1b596c28a07d5ea95db9ed3b8faa-3b0864f05d1217c7-01
2022-04-21T21:08:13.945Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:08:13.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e91d3c3cb0c047514984e83551da8482f16594e-8f73d872a9f22cdd-01 outer:exit 2b-5e91d3c3cb0c047514984e83551da8482f16594e-ac92cceeb1fff932-01
2022-04-21T21:08:13.948Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:08:13.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4b102fbaae3c205b2d43a571dd9fa63353804f7-4af66b5fb4b837ed-01 outer:exit 2b-e4b102fbaae3c205b2d43a571dd9fa63353804f7-39584405f0ddf721-01
2022-04-21T21:08:13.952Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:08:13.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-90eb7d14e9acce4771dbb88b4271b1c178509dca-ede12639e7d1c253-01 outer:exit 2b-90eb7d14e9acce4771dbb88b4271b1c178509dca-321386893be93610-01
2022-04-21T21:08:13.958Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:08:13.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fac44e8d57076f20cb310670e07d864c1039b95-d93d2ebaac2a2df0-01 outer:exit 2b-6fac44e8d57076f20cb310670e07d864c1039b95-93e396a934f1dd9f-01
2022-04-21T21:08:13.963Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:08:13.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-e35c5793aa7f977cd1058a3380caa436be83d95f-90ab94627502ffca-01 outer:exit 2b-e35c5793aa7f977cd1058a3380caa436be83d95f-68636c9e89345bf2-01
2022-04-21T21:08:13.969Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:08:13.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-8668701287556b41343c8abe7546a9b0e3daabdc-c3e88e3d3832fd91-01 outer:exit 2b-8668701287556b41343c8abe7546a9b0e3daabdc-905eaf2f0c4d6c61-01
2022-04-21T21:08:13.975Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:08:13.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-c83eac9c13e37943eaa54e1582c434b1be50623b-019fc906c5217a7c-01 outer:exit 2b-c83eac9c13e37943eaa54e1582c434b1be50623b-07259547b410e363-01
2022-04-21T21:08:13.978Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:08:13.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-804f568a7f35660411786ed9f439ce87b47c351c-090560d862e7934d-01 outer:exit 2b-804f568a7f35660411786ed9f439ce87b47c351c-aa29d5eabea588bf-01
2022-04-21T21:08:13.986Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:08:14.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-e217ae570a6e71e43717ed1a29834eeb6c705913-64eeead0853675a6-01 outer:exit 2b-e217ae570a6e71e43717ed1a29834eeb6c705913-aa8a972e20e60613-01
2022-04-21T21:08:14.001Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:08:14.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e1b806833b910d25d6a3e547ff01573e71c6d8a-7142667e3745635e-01 outer:exit 2b-3e1b806833b910d25d6a3e547ff01573e71c6d8a-22811e0017d2635c-01
2022-04-21T21:08:14.014Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:08:14.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-76463269dcec260ccb0d6ea215c84541dac55b81-9000f4d0f4021059-01 outer:exit 2b-76463269dcec260ccb0d6ea215c84541dac55b81-bb65f54372051039-01
2022-04-21T21:08:14.024Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:08:14.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-361757712a10dafc7dbbbe0caa151b2125dab410-3becb23cfb1bb869-01 outer:exit 2b-361757712a10dafc7dbbbe0caa151b2125dab410-81fc9c2ecba886a3-01
2022-04-21T21:08:14.026Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:08:14.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ca1bd83bb68b22468ee5673bb70eaeea3712a33-70e9c539a9fcbb90-01 outer:exit 2b-7ca1bd83bb68b22468ee5673bb70eaeea3712a33-fe15613c0a311641-01
2022-04-21T21:08:14.030Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:08:14.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-d70b05baf191bd3671a280503a319be85e0f4d43-3b7cefb92f20e3da-01 outer:exit 2b-d70b05baf191bd3671a280503a319be85e0f4d43-bad7c1c9b8759ad9-01
2022-04-21T21:08:14.040Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:08:14.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eed183a4d856d819dd0bde141884f19b176e726-e42dea9db1862c89-01 outer:exit 2b-3eed183a4d856d819dd0bde141884f19b176e726-ed54adb015d92c1e-01
2022-04-21T21:08:14.042Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:08:14.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-de49353fa25a3be99653add1e3117879d3ece8c1-cfe65f29130d2784-01 outer:exit 2b-de49353fa25a3be99653add1e3117879d3ece8c1-f1cf5ad4bf85d632-01
2022-04-21T21:08:14.045Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:08:14.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-80df841bc58e9c48dd05263e1f965c439a751dfb-c825ff677877c302-01 outer:exit 2b-80df841bc58e9c48dd05263e1f965c439a751dfb-a5dad8dba61971f0-01
2022-04-21T21:08:14.049Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:08:14.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c1774fd513b27a0901a1be56d018963fc5292de-7c801fc7dbf12c75-01 outer:exit 2b-1c1774fd513b27a0901a1be56d018963fc5292de-1e6240d6907ef66a-01
2022-04-21T21:08:14.055Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:08:14.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-55e3b22dc58dadae825ecb02a5a6c7f93554042e-b8eb25dcaeef00f4-01 outer:exit 2b-55e3b22dc58dadae825ecb02a5a6c7f93554042e-002627db870a1f09-01
2022-04-21T21:08:14.060Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:08:14.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-f538cdfaab857220ea6e2ce7f34a375b5922ce8e-53cafd6e671885c4-01 outer:exit 2b-f538cdfaab857220ea6e2ce7f34a375b5922ce8e-55717d4fd0297893-01
2022-04-21T21:08:14.074Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:08:14.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-4591921ef94ac913ad8189fc70bba06a467fff8c-51584608e1147d84-01 outer:exit 2b-4591921ef94ac913ad8189fc70bba06a467fff8c-d9de9777aa43d61d-01
2022-04-21T21:08:14.085Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:08:14.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-aafd7ef122b5ae5c3a16684f44efe901fd66647e-20ccb59405866a6c-01 outer:exit 2b-aafd7ef122b5ae5c3a16684f44efe901fd66647e-5f5c541fb6cd45e7-01
2022-04-21T21:08:14.088Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:08:14.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-45c1c18565f9dce806b5499f59f41171ac404830-35d14b63967e2b97-01 outer:exit 2b-45c1c18565f9dce806b5499f59f41171ac404830-2db174e0cab26193-01
2022-04-21T21:08:14.092Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:08:14.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb55031a66c75aa1f6c97f7dcc1a401361a259da-9e7179b9396172de-01 outer:exit 2b-eb55031a66c75aa1f6c97f7dcc1a401361a259da-d8c0771303efb97c-01
2022-04-21T21:08:14.095Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:08:14.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d8f65500657b5f3542c3a1bd893f57351066fd9-d89d175b5adfa9e1-01 outer:exit 2b-6d8f65500657b5f3542c3a1bd893f57351066fd9-397e55fa4fde51cd-01
2022-04-21T21:08:14.149Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (587ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:21.157Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:21.158Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:21.158Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:21.159Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:21.230Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:21.398Z appoptics:patching patched crypto 
2022-04-21T21:08:21.431Z appoptics:patching patched https 
2022-04-21T21:08:21.432Z appoptics:patching patched http 
2022-04-21T21:08:21.473Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:21.474Z appoptics:patching patched fs 
2022-04-21T21:08:21.504Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v16.14.2)
2022-04-21T21:08:21.511Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-21T21:08:21.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-c07c60404305df67ae641d80b3cb03578b51048c-f2276bcdc96cd2c7-01 outer:exit 2b-c07c60404305df67ae641d80b3cb03578b51048c-532d1f2bb5f3a592-01
2022-04-21T21:08:21.563Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:08:21.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-884f2d10ea6a3fb6000907728e7ccb1da45c29e5-c5b46c0bf05c2160-01 outer:exit 2b-884f2d10ea6a3fb6000907728e7ccb1da45c29e5-2414cae7b0f0da6f-01
2022-04-21T21:08:21.612Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:08:21.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-223877d2e00482f2419bf1495fd9ca751ac5dc0d-3b5c67073d39331e-01 outer:exit 2b-223877d2e00482f2419bf1495fd9ca751ac5dc0d-f7d76e07f434a817-01
2022-04-21T21:08:21.616Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:08:21.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-1191ec0efc48ec25927ae734c79d31f91b003616-6d810cb1ee950fec-01 outer:exit 2b-1191ec0efc48ec25927ae734c79d31f91b003616-f9a3e28d0d6be0de-01
2022-04-21T21:08:21.620Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:08:21.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-896230ab5fcf97987c61d4e481225954d8758942-9e3018e39cb4bfbb-01 outer:exit 2b-896230ab5fcf97987c61d4e481225954d8758942-b0df7d3f66fa81b8-01
2022-04-21T21:08:21.627Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:08:21.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-918c701f5c0d6676d85ac46ce599eb2619c06968-60d7ec9e428f8843-01 outer:exit 2b-918c701f5c0d6676d85ac46ce599eb2619c06968-da852fc8ba3b7194-01
2022-04-21T21:08:21.631Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:08:21.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-d270ba68f97f7d95f602940d4066edb819c6b53b-3ca7d1af98c517e5-01 outer:exit 2b-d270ba68f97f7d95f602940d4066edb819c6b53b-240d06a896f855c3-01
2022-04-21T21:08:21.637Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:08:21.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e1461389575be1bbe8413f1cbe6d4a8907e7369-1787c2b219a32029-01 outer:exit 2b-8e1461389575be1bbe8413f1cbe6d4a8907e7369-759e04b9aaeb8fac-01
2022-04-21T21:08:21.640Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:08:21.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-82f63adcd791f9593e5f8b10310bb48edd3a7fad-82a6c3ffc140c801-01 outer:exit 2b-82f63adcd791f9593e5f8b10310bb48edd3a7fad-a7da64c50f63b9a9-01
2022-04-21T21:08:21.643Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:08:21.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c183ff3b0a4ba21a0f13599d969b896b7d93229-d6125fdd749f3371-01 outer:exit 2b-9c183ff3b0a4ba21a0f13599d969b896b7d93229-dbf7c0ae53f3afc5-01
2022-04-21T21:08:21.647Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:08:21.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d30b2c54e5ff9f0aafd1b37bfe3c5819214cf65-507a997a59282fd2-01 outer:exit 2b-2d30b2c54e5ff9f0aafd1b37bfe3c5819214cf65-4ff810fe9bec3108-01
2022-04-21T21:08:21.652Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:08:21.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e35db7c9bba1dfd7ff477ccfe9ecf17b92b85df-220d1f4e5f6dfefa-01 outer:exit 2b-2e35db7c9bba1dfd7ff477ccfe9ecf17b92b85df-5a291bb2fd537814-01
2022-04-21T21:08:21.659Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:08:21.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b6ab69067748de95ff0d05005e7dbf9f0b27f5c-39ae17c9cf63ec53-01 outer:exit 2b-5b6ab69067748de95ff0d05005e7dbf9f0b27f5c-13bbf2f65373d96c-01
2022-04-21T21:08:21.677Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:08:21.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5f881990b612be58190bcf716c902c6c399cfa3-aa6169440893d8dc-01 outer:exit 2b-b5f881990b612be58190bcf716c902c6c399cfa3-988980faac817809-01
2022-04-21T21:08:21.722Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:08:21.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-075d8b5be865315df61f6dcbd71e3b680d7c8a1a-eb013412e97a61b6-01 outer:exit 2b-075d8b5be865315df61f6dcbd71e3b680d7c8a1a-ded636adfbd3000f-01
2022-04-21T21:08:21.726Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:08:21.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ac4b9f263a108f3d86653afa0ac7ddc1fa99dad-6e786d532859525f-01 outer:exit 2b-6ac4b9f263a108f3d86653afa0ac7ddc1fa99dad-602e1cc03c0c9a52-01
2022-04-21T21:08:21.730Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:08:21.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-012084a0a648c0fb08b633a5539e4806591f9b8d-0b3848f80ffb1bcc-01 outer:exit 2b-012084a0a648c0fb08b633a5539e4806591f9b8d-2c4e5b2eb529cb0a-01
2022-04-21T21:08:21.733Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:08:21.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-596f563dde55160e6d05e6bdc695708173594dce-7b340cd815ed3131-01 outer:exit 2b-596f563dde55160e6d05e6bdc695708173594dce-304dea7b3238cafa-01
2022-04-21T21:08:21.736Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:08:21.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3c642530d26b916abd20ab3c70bd1a4bcf4e46a-611ee975bc794c55-01 outer:exit 2b-e3c642530d26b916abd20ab3c70bd1a4bcf4e46a-81af1588ef56616b-01
2022-04-21T21:08:21.738Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:08:21.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfea39d58be4dca7eb9a80548b9d788dcb8a0bb0-832ba97cf91793c1-01 outer:exit 2b-cfea39d58be4dca7eb9a80548b9d788dcb8a0bb0-95c69b8250abb7f7-01
2022-04-21T21:08:21.741Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:08:21.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-03d4d9c5222bfd390cb0e3e670cdd18e4f9c75f6-e552d11c9f13ff22-01 outer:exit 2b-03d4d9c5222bfd390cb0e3e670cdd18e4f9c75f6-cb99f486f58599c1-01
2022-04-21T21:08:21.743Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:08:21.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe7ce8bcbb2ff0594dc27c3a10333279057e6f97-0a6a92e530d38a42-01 outer:exit 2b-fe7ce8bcbb2ff0594dc27c3a10333279057e6f97-754f537a7a5c04fd-01
2022-04-21T21:08:21.745Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:08:21.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cdd1995c6590ecb5c093e1e39ff1d3274381950-8adca6a3ffb6f7ad-01 outer:exit 2b-4cdd1995c6590ecb5c093e1e39ff1d3274381950-ed516cb84ce869c2-01
2022-04-21T21:08:21.749Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:08:21.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bf3b006d7e2e5fec62efc2b52d0decbf6351cd3-a4c9fd6c67e7d28b-01 outer:exit 2b-7bf3b006d7e2e5fec62efc2b52d0decbf6351cd3-0537e5116cbaa7cc-01
2022-04-21T21:08:21.752Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:08:21.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4f3be954d7810a5bcb92f970b8715d80a1929d-c5a909f7e5d05afa-01 outer:exit 2b-de4f3be954d7810a5bcb92f970b8715d80a1929d-eed708e7191a1466-01
2022-04-21T21:08:21.754Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:08:21.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fe13e11d13faec6eaf7ac5d48b90ba3553e9f87-59e3702daa8f34c5-01 outer:exit 2b-8fe13e11d13faec6eaf7ac5d48b90ba3553e9f87-8418f399df844f10-01
2022-04-21T21:08:21.757Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:08:21.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-66803904e9cab3c048fc248546a9759d3ca7f592-e32a5d0167f10f24-01 outer:exit 2b-66803904e9cab3c048fc248546a9759d3ca7f592-68c0960acf4cdc4c-01
2022-04-21T21:08:21.764Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:08:21.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aabb3e2245abc962bd4029f73a1e6c868c60b1e-8279a2e077ccb14b-01 outer:exit 2b-7aabb3e2245abc962bd4029f73a1e6c868c60b1e-3982d42c3bd107e1-01
2022-04-21T21:08:21.771Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:08:21.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f121e933f55e37bab7635d9a4053d76290a2fdd-2efb77ee041f1bcd-01 outer:exit 2b-4f121e933f55e37bab7635d9a4053d76290a2fdd-5476ec7610487553-01
2022-04-21T21:08:21.780Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:08:21.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-d41e83503e2f106bca687ef55343cff0bf9a102b-65497cca5829994d-01 outer:exit 2b-d41e83503e2f106bca687ef55343cff0bf9a102b-c8e45e42585f173f-01
2022-04-21T21:08:21.788Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:08:21.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-b36126540a9b42303e6779bc42e9e2f13cc2a5e8-73faca33e6aefc9b-01 outer:exit 2b-b36126540a9b42303e6779bc42e9e2f13cc2a5e8-09711a9090345979-01
2022-04-21T21:08:21.791Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:08:21.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e649d8161fc2ae8f424d5f197df7bd75f120690-2d5bc4c79725093a-01 outer:exit 2b-5e649d8161fc2ae8f424d5f197df7bd75f120690-45b2bdeebdd093ca-01
2022-04-21T21:08:21.794Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:08:21.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cd5881158c8b7fdea463a0dcf67962ddd011b60-7062b6c3928f304b-01 outer:exit 2b-3cd5881158c8b7fdea463a0dcf67962ddd011b60-5b7241d75d667ede-01
2022-04-21T21:08:21.802Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:08:21.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8cc682d8c62e1e0b1a9bfb9df668c4bb3b2ca15-88a21e531180dfca-01 outer:exit 2b-b8cc682d8c62e1e0b1a9bfb9df668c4bb3b2ca15-0d1963fbd0387b3a-01
2022-04-21T21:08:21.804Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:08:21.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-711e1d40a3ee6015e51d54c64e0f964e577622f7-fd0aedc20bb3f26e-01 outer:exit 2b-711e1d40a3ee6015e51d54c64e0f964e577622f7-d6593ebcc2272dba-01
2022-04-21T21:08:21.807Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:08:21.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bbd53b6ad7fb2a1e4057e9c017a394005d7ef06-bd30f2b099793fba-01 outer:exit 2b-9bbd53b6ad7fb2a1e4057e9c017a394005d7ef06-acf3f3de208968ed-01
2022-04-21T21:08:21.809Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:08:21.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-adb0c306afa147650d4f1e6f820671d4c0ed1192-30735cb066f09467-01 outer:exit 2b-adb0c306afa147650d4f1e6f820671d4c0ed1192-edb77ff26b16e1ed-01
2022-04-21T21:08:21.811Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:08:21.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e80e4c07cd9bae2a12f5cfc4d457e7e71e782ba-4c1ed167b68bae21-01 outer:exit 2b-8e80e4c07cd9bae2a12f5cfc4d457e7e71e782ba-dd29f068ff65f56a-01
2022-04-21T21:08:21.813Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:08:21.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bd51f925c65a8db6027ffd280a81b585ff55aca-2b6ca2426a2d6a64-01 outer:exit 2b-9bd51f925c65a8db6027ffd280a81b585ff55aca-cc8fd2aee95426ac-01
2022-04-21T21:08:21.824Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:08:21.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee558328bef72d8480209ea993f0313348c27a93-5da0cf088f60b6c2-01 outer:exit 2b-ee558328bef72d8480209ea993f0313348c27a93-a9a1a1fb706edc8e-01
2022-04-21T21:08:21.833Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:08:21.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-28fa428e577dbcd1ca6b7fc6231ceea968ad2b5d-cf48739d85bf0c61-01 outer:exit 2b-28fa428e577dbcd1ca6b7fc6231ceea968ad2b5d-268eb516bbe5f484-01
2022-04-21T21:08:21.838Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:08:21.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-d09d356581a609af152b3bab77892c70701ab96d-5af25fb0aad30b78-01 outer:exit 2b-d09d356581a609af152b3bab77892c70701ab96d-9c7f620c99091977-01
2022-04-21T21:08:21.841Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:08:21.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-43859423d2d265c9f82f4eeb52d4d0c25e086591-7c009a0790c111dd-01 outer:exit 2b-43859423d2d265c9f82f4eeb52d4d0c25e086591-23021059e4b79d60-01
2022-04-21T21:08:21.844Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:08:21.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-c21204bae208169bf90d330cf73fe1ec3bdb7d2e-eacdde910485f1a7-01 outer:exit 2b-c21204bae208169bf90d330cf73fe1ec3bdb7d2e-a264dbd9e1c28a16-01
2022-04-21T21:08:21.875Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (357ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 23s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:45.177Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:45.177Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:45.177Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:45.178Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:45.248Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:45.383Z appoptics:patching patched crypto 
2022-04-21T21:08:45.403Z appoptics:patching patched https 
2022-04-21T21:08:45.404Z appoptics:patching patched http 
2022-04-21T21:08:45.448Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:45.449Z appoptics:patching patched fs 
2022-04-21T21:08:45.484Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v16.14.2)
2022-04-21T21:08:45.490Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-21T21:08:45.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-228d083de761a2208c5d3b31990196c2161dc2d9-c0cc8c9bfb687f4d-01 outer:exit 2b-228d083de761a2208c5d3b31990196c2161dc2d9-f684139668a025d5-01
2022-04-21T21:08:45.563Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:08:45.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-3696b6cf9ac8acaafcef168d28aab010c2251354-bfc18cc41079aaf4-01 outer:exit 2b-3696b6cf9ac8acaafcef168d28aab010c2251354-f6d09e6cb1022187-01
2022-04-21T21:08:45.610Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:08:45.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-2089397f9525570c160877eb8dbad5d4f7cdd130-3dbb2213bf20cbbf-01 outer:exit 2b-2089397f9525570c160877eb8dbad5d4f7cdd130-6274eb21ff688387-01
2022-04-21T21:08:45.615Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:08:45.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd6d9d69dbfd08f704425989ab341220f7651a38-6c725ab1807f0fa4-01 outer:exit 2b-dd6d9d69dbfd08f704425989ab341220f7651a38-d71a78b7d588d306-01
2022-04-21T21:08:45.618Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:08:45.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbaab64a629236b10b28d1f22b6f5cd52929a727-48aa3df953d86ae8-01 outer:exit 2b-bbaab64a629236b10b28d1f22b6f5cd52929a727-9c0ec4358999b532-01
2022-04-21T21:08:45.624Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:08:45.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab95c5eea4b1b56bac32067009e7f6b9af31d3e6-79b078b6c526f34b-01 outer:exit 2b-ab95c5eea4b1b56bac32067009e7f6b9af31d3e6-5dcee9af24dbeb92-01
2022-04-21T21:08:45.628Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:08:45.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-79dba512e03625fd530856c7c08033f1bd85bcf6-5ecad14bd7849527-01 outer:exit 2b-79dba512e03625fd530856c7c08033f1bd85bcf6-3f2157fb19de4853-01
2022-04-21T21:08:45.631Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:08:45.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-904f6191dd2dcad40c1b47da5a6c2c8899cf5d41-1f22c1ad1b9abe5a-01 outer:exit 2b-904f6191dd2dcad40c1b47da5a6c2c8899cf5d41-2f6408bea299dc62-01
2022-04-21T21:08:45.634Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:08:45.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f6813d08fd07fcedd399c67a27a4dbab6a84b9c-33800f008a5cce30-01 outer:exit 2b-1f6813d08fd07fcedd399c67a27a4dbab6a84b9c-e87084b07d25378d-01
2022-04-21T21:08:45.637Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:08:45.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-875bcf3eb7a301508986fe6ae37cb3c158fa9400-d78ca2d81f23a855-01 outer:exit 2b-875bcf3eb7a301508986fe6ae37cb3c158fa9400-f67c39f01f6ca4bc-01
2022-04-21T21:08:45.641Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:08:45.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-33f8416a3bce1e90f4fb4f1034d09b009fcbc2bb-fe990dba78da880f-01 outer:exit 2b-33f8416a3bce1e90f4fb4f1034d09b009fcbc2bb-99ddbfe915c7d0a7-01
2022-04-21T21:08:45.646Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:08:45.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c8bcb6720f3857cf687ce36f49b22fc793ec187-643bf09021c1177b-01 outer:exit 2b-3c8bcb6720f3857cf687ce36f49b22fc793ec187-dbd1a6f1bc63e331-01
2022-04-21T21:08:45.653Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:08:45.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8de78b48b2e97df3b39de578d369cfadd314271-504aec1aa6ed1a3c-01 outer:exit 2b-a8de78b48b2e97df3b39de578d369cfadd314271-6f807371ca5f7a91-01
2022-04-21T21:08:45.670Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:08:45.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c9f60d27be97385d4f4a50e1ba1edfba1e5cde8-a97aad6073a25935-01 outer:exit 2b-3c9f60d27be97385d4f4a50e1ba1edfba1e5cde8-c91ff4805a4cf2bb-01
2022-04-21T21:08:45.712Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:08:45.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-6788b1bf7e0525e0dd268c8ad8f81ef393be347a-25c5c0f6c17fe73e-01 outer:exit 2b-6788b1bf7e0525e0dd268c8ad8f81ef393be347a-6f1851e79854a2e9-01
2022-04-21T21:08:45.715Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:08:45.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-34ae60aac87d613fc0d653c861e07c42fa9d0e75-f56425c638946513-01 outer:exit 2b-34ae60aac87d613fc0d653c861e07c42fa9d0e75-4818ec705de2a12e-01
2022-04-21T21:08:45.719Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:08:45.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9c08cf123bce4d0b071ea64d1cce22a588741fb-e10480eadc9042ef-01 outer:exit 2b-d9c08cf123bce4d0b071ea64d1cce22a588741fb-cc621cb5f877b739-01
2022-04-21T21:08:45.722Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:08:45.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ca78c7df9a0adf6476994486d46b827e697b2e-9dadb5b46b22dc71-01 outer:exit 2b-c8ca78c7df9a0adf6476994486d46b827e697b2e-3fdce5efa6a8da1e-01
2022-04-21T21:08:45.724Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:08:45.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2244efdafc19d03f7dacebf5e195ff99abd112e-b587106bd3be3f9a-01 outer:exit 2b-d2244efdafc19d03f7dacebf5e195ff99abd112e-a848c526af7ecb85-01
2022-04-21T21:08:45.726Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:08:45.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cb724d500939e49afa61c4357da9df90737eb1e-ddeabccb40e2168b-01 outer:exit 2b-3cb724d500939e49afa61c4357da9df90737eb1e-0c9ee342156c0cef-01
2022-04-21T21:08:45.729Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:08:45.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-f806e855f97456e41b1557dda9191bec264e30ba-fe6bea13f9b4dbfe-01 outer:exit 2b-f806e855f97456e41b1557dda9191bec264e30ba-a7f9f4f8be8ed9a2-01
2022-04-21T21:08:45.731Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:08:45.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-f61da1d8eda433b0ec03f0ae75c2e9b974618670-4c1b1f805db68958-01 outer:exit 2b-f61da1d8eda433b0ec03f0ae75c2e9b974618670-bf0599fdd4181fc6-01
2022-04-21T21:08:45.733Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:08:45.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d5b6e21406c5530206e6f2574a37ae97bf4b470-3c3472d6a9f26906-01 outer:exit 2b-2d5b6e21406c5530206e6f2574a37ae97bf4b470-8606684f09a98305-01
2022-04-21T21:08:45.737Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:08:45.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-87dc2d0a37e32f20f920843337bd33f200c5f0a2-5b811166c37c89ef-01 outer:exit 2b-87dc2d0a37e32f20f920843337bd33f200c5f0a2-0dca3209fc8ae376-01
2022-04-21T21:08:45.740Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:08:45.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a7b1d5103ff2ed6d2136fafc2e3176151257211-3d477b14efb630e2-01 outer:exit 2b-3a7b1d5103ff2ed6d2136fafc2e3176151257211-a6c81e5905d5c418-01
2022-04-21T21:08:45.742Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:08:45.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e13ea6fcb1ec553c7af7e052d10b36c29172a74-a768ef55f8e7dea8-01 outer:exit 2b-9e13ea6fcb1ec553c7af7e052d10b36c29172a74-c0f976fadab8e7f9-01
2022-04-21T21:08:45.745Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:08:45.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7deb3d1459f527b58cf549218bd8943fed11044-60a72c86809e8ff4-01 outer:exit 2b-f7deb3d1459f527b58cf549218bd8943fed11044-75d019f2aac823a2-01
2022-04-21T21:08:45.753Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:08:45.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f91eb8c76f6bd01f45b01daf53cf4c5e49d3ccc-721f79d0e86b4e5f-01 outer:exit 2b-8f91eb8c76f6bd01f45b01daf53cf4c5e49d3ccc-208ae86a3b7ff6d7-01
2022-04-21T21:08:45.760Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:08:45.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ae90dc25b2c8a9c613864ade4e515aeca5393d9-095e5a7977fc1b7f-01 outer:exit 2b-6ae90dc25b2c8a9c613864ade4e515aeca5393d9-bdc53b6185ca3d91-01
2022-04-21T21:08:45.769Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:08:45.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-f440d284c017e7331cac1d4921fe8290562722a2-151036e75c150456-01 outer:exit 2b-f440d284c017e7331cac1d4921fe8290562722a2-e6b763b56e109eeb-01
2022-04-21T21:08:45.777Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:08:45.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-879071ad993dcae5654033ab80955b93c053a9dc-04704b59b882cb41-01 outer:exit 2b-879071ad993dcae5654033ab80955b93c053a9dc-ff51ce8086f6f391-01
2022-04-21T21:08:45.779Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:08:45.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c094e3bb667ea8458db63e5a64d3447b859c6f3-d58bb20d044f1eb0-01 outer:exit 2b-6c094e3bb667ea8458db63e5a64d3447b859c6f3-cf06baf883d72768-01
2022-04-21T21:08:45.783Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:08:45.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-f54e7aae274a169ee3f9bf924628ff9534a24958-da777d7083353b15-01 outer:exit 2b-f54e7aae274a169ee3f9bf924628ff9534a24958-d3a8494f7b61373d-01
2022-04-21T21:08:45.792Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:08:45.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-68a45e271995667f308bd7173202ee6ab632c54d-8312e2d124193cd4-01 outer:exit 2b-68a45e271995667f308bd7173202ee6ab632c54d-22c2e9025be7121a-01
2022-04-21T21:08:45.794Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:08:45.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-4560ee065f0702876ee85309e9a8b706b7652188-4b1a7edfc7de616d-01 outer:exit 2b-4560ee065f0702876ee85309e9a8b706b7652188-ea8c386d5d259d90-01
2022-04-21T21:08:45.796Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:08:45.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4afad05c18f7bd4db9d9e7ee4a805135d32c845-3360ec1e8fc1ef61-01 outer:exit 2b-e4afad05c18f7bd4db9d9e7ee4a805135d32c845-46a9f32e1def10b9-01
2022-04-21T21:08:45.798Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:08:45.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4f3c1002b499603df8d5ee4a335f2faac6288f5-d5534e158dbdbe39-01 outer:exit 2b-a4f3c1002b499603df8d5ee4a335f2faac6288f5-5cd07203a4675fc5-01
2022-04-21T21:08:45.800Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:08:45.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4668c3b5660916c3e6691004a87fbfeecd05646-0b63b08ea5c88192-01 outer:exit 2b-b4668c3b5660916c3e6691004a87fbfeecd05646-e53db92f936ff71c-01
2022-04-21T21:08:45.802Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:08:45.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-236e64175096d175570089fad7d634bfa8ce4e2a-7e795811cfde8cff-01 outer:exit 2b-236e64175096d175570089fad7d634bfa8ce4e2a-6d30cdc54e6fd7cc-01
2022-04-21T21:08:45.813Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:08:45.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f38dd7b00cf46f8811c38db2deae84d9c73ef19-6cc6560077b8bb23-01 outer:exit 2b-0f38dd7b00cf46f8811c38db2deae84d9c73ef19-39a182dd4ef848ad-01
2022-04-21T21:08:45.824Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:08:45.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-3397489754a770657abfee37ead60111df564fdb-67f60d5d13ea9f5e-01 outer:exit 2b-3397489754a770657abfee37ead60111df564fdb-863d738368c01cbe-01
2022-04-21T21:08:45.827Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:08:45.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-10acda1f1d48b299a3d79d9cf83bba64ae928082-4589571ee13aa376-01 outer:exit 2b-10acda1f1d48b299a3d79d9cf83bba64ae928082-52740dbbb0389b64-01
2022-04-21T21:08:45.830Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:08:45.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-9adfb93e88b3c8a7913a3bb9733f3c36633cc69b-f3a9cf797325aa5f-01 outer:exit 2b-9adfb93e88b3c8a7913a3bb9733f3c36633cc69b-cc802a72c0150486-01
2022-04-21T21:08:45.833Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:08:45.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ac5f36f638d0b92c518f4d196b74405a3eb0e17-6ef62a0975a6f692-01 outer:exit 2b-6ac5f36f638d0b92c518f4d196b74405a3eb0e17-a2fe719325a2c540-01
2022-04-21T21:08:45.865Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (360ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:08:53.365Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:08:53.366Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:08:53.366Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:08:53.367Z appoptics:debug using context provider: ace-context
2022-04-21T21:08:53.437Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:08:53.575Z appoptics:patching patched crypto 
2022-04-21T21:08:53.596Z appoptics:patching patched https 
2022-04-21T21:08:53.597Z appoptics:patching patched http 
2022-04-21T21:08:53.643Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:08:53.643Z appoptics:patching patched fs 
2022-04-21T21:08:53.673Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v16.14.2)
2022-04-21T21:08:53.679Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-21T21:08:53.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-baa6dcaf121c24485e08eab0ec2242ee0c39a00b-e4ebf8010e4682ac-01 outer:exit 2b-baa6dcaf121c24485e08eab0ec2242ee0c39a00b-6c3bd0b218b18c55-01
2022-04-21T21:08:53.734Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:08:53.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-6476b70a0af0c9f0fb3610ec7a2d2bccf96e01b5-c2e843de3fe645cf-01 outer:exit 2b-6476b70a0af0c9f0fb3610ec7a2d2bccf96e01b5-be43bdca8f72c515-01
2022-04-21T21:08:53.787Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:08:53.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-b654d994cab2703e6b46c1514d8192dcbeeaa601-90a2d0356e8bc4df-01 outer:exit 2b-b654d994cab2703e6b46c1514d8192dcbeeaa601-903ce3fde1a2e390-01
2022-04-21T21:08:53.791Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:08:53.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e6be0ffcc628f71539f57ee97b3468fdabe036c-ea0aa8a570941871-01 outer:exit 2b-3e6be0ffcc628f71539f57ee97b3468fdabe036c-125b28c786aeb51b-01
2022-04-21T21:08:53.795Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:08:53.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-e63f1659ac116f86a010148e4837c8805cda061e-4b112f9eaf27e184-01 outer:exit 2b-e63f1659ac116f86a010148e4837c8805cda061e-21a1768dd090fb07-01
2022-04-21T21:08:53.802Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:08:53.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-c93d3f9120861ef084c42cb353b2ca302985eac4-93079a7efaf60c86-01 outer:exit 2b-c93d3f9120861ef084c42cb353b2ca302985eac4-1ffc5c6b8f8adb45-01
2022-04-21T21:08:53.806Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:08:53.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a5fb79e8ccf35c02fd122abcfb8536e8cb4f5d3-075e45f95afc521d-01 outer:exit 2b-2a5fb79e8ccf35c02fd122abcfb8536e8cb4f5d3-ed541834bba20734-01
2022-04-21T21:08:53.809Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:08:53.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d8979c64b0ff9ea4998767d6291847eacd69231-09e6a12bcb79ba03-01 outer:exit 2b-0d8979c64b0ff9ea4998767d6291847eacd69231-99642e4a4909646a-01
2022-04-21T21:08:53.812Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:08:53.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-701d1983448b09cd10e26d01cb1bbf3514b57333-959cbef6eda014ff-01 outer:exit 2b-701d1983448b09cd10e26d01cb1bbf3514b57333-9220cdc7efb5a76b-01
2022-04-21T21:08:53.816Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:08:53.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ca40c1b5e6e847f2449d515a9e2a7fd23830e0-35f88bf276a856cb-01 outer:exit 2b-c8ca40c1b5e6e847f2449d515a9e2a7fd23830e0-d8940143c91e3591-01
2022-04-21T21:08:53.820Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:08:53.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1c6275df074b46cf3dba0137f7ccfc2529494d7-0904cc3a04310bad-01 outer:exit 2b-b1c6275df074b46cf3dba0137f7ccfc2529494d7-20dc24cbefb9e1e9-01
2022-04-21T21:08:53.825Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:08:53.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-f13bc4a5cacc2a530fec3b071a142531fe303fc9-c4d42bfe7862a415-01 outer:exit 2b-f13bc4a5cacc2a530fec3b071a142531fe303fc9-e1b70d967e8944f1-01
2022-04-21T21:08:53.832Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:08:53.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c8d101387a605badcb9f1ce287fea866775d5f8-862439732524eff3-01 outer:exit 2b-0c8d101387a605badcb9f1ce287fea866775d5f8-db0a702ec690e1de-01
2022-04-21T21:08:53.853Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:08:53.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-574bac080c981d232cfafd0fee0b64db49360026-af23554c23d3cc1d-01 outer:exit 2b-574bac080c981d232cfafd0fee0b64db49360026-6b475732045196b5-01
2022-04-21T21:08:53.898Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:08:53.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-7511f8e6e1b61426e247a594f0b34397d6190bfc-3e5d1b8cbc45c887-01 outer:exit 2b-7511f8e6e1b61426e247a594f0b34397d6190bfc-4374e9a4ea693bc0-01
2022-04-21T21:08:53.901Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:08:53.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad7f9e7df2759f0cdddc15d25121cdaec856fd22-cb6958f0be8b515b-01 outer:exit 2b-ad7f9e7df2759f0cdddc15d25121cdaec856fd22-3145a51e09e124a8-01
2022-04-21T21:08:53.905Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:08:53.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-78da3d1a5dd9a877ce1e36a3edae1c14f5cd1308-bc76db85d5a4bac4-01 outer:exit 2b-78da3d1a5dd9a877ce1e36a3edae1c14f5cd1308-08789ae92007e013-01
2022-04-21T21:08:53.908Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:08:53.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-8230eaf50e22b93d07701904d107cbeeacdac195-7563b3a2f356d14e-01 outer:exit 2b-8230eaf50e22b93d07701904d107cbeeacdac195-14a487e4a35bd18e-01
2022-04-21T21:08:53.912Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:08:53.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-df87c5cbb0532f145bffe4086cb0dd0e0870b31e-fecfcf484c90857b-01 outer:exit 2b-df87c5cbb0532f145bffe4086cb0dd0e0870b31e-402766c396d1f66f-01
2022-04-21T21:08:53.914Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:08:53.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-4092749670730e99472795aaaf770cab70d57015-9d12d2625cb05955-01 outer:exit 2b-4092749670730e99472795aaaf770cab70d57015-e7ff048475aa8307-01
2022-04-21T21:08:53.917Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:08:53.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-b68c9e1b4db51749684ae452048b54a8b1e0bd82-38124d87305e3f3a-01 outer:exit 2b-b68c9e1b4db51749684ae452048b54a8b1e0bd82-58f3bdb7fe681072-01
2022-04-21T21:08:53.919Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:08:53.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab3d0d4a1c916956f503f6ee0a2246803d901db2-49c7e1e7137c4551-01 outer:exit 2b-ab3d0d4a1c916956f503f6ee0a2246803d901db2-68ad289198957813-01
2022-04-21T21:08:53.924Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:08:53.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0e7a083e690cb3a40bfa88ecf3946376fa31205-1ae3362fa1d98da0-01 outer:exit 2b-f0e7a083e690cb3a40bfa88ecf3946376fa31205-2ae3276130074085-01
2022-04-21T21:08:53.928Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:08:53.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa6a0a77294753283b978ad2d14e0a44f0996c69-cf4056755822adfe-01 outer:exit 2b-fa6a0a77294753283b978ad2d14e0a44f0996c69-1c58df29c78a910b-01
2022-04-21T21:08:53.932Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:08:53.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-126e41dd401ae25913a852deeb7f9830be1c519a-7d17742ef2ab09ce-01 outer:exit 2b-126e41dd401ae25913a852deeb7f9830be1c519a-026f68f3c369c8e3-01
2022-04-21T21:08:53.935Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:08:53.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d31b36e2a6c8d36dd59ca365e41468cb29bd591-54ed354eb59a514a-01 outer:exit 2b-4d31b36e2a6c8d36dd59ca365e41468cb29bd591-64ff9ef81605e73a-01
2022-04-21T21:08:53.939Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:08:53.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-32752fa56b7aed2b87f9fb71b18caebd24cf75c5-5791b65bf54a27db-01 outer:exit 2b-32752fa56b7aed2b87f9fb71b18caebd24cf75c5-955311db9b854d57-01
2022-04-21T21:08:53.946Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:08:53.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-2092bf49abf5bf7ab86de869ccecbf28b7f43939-397607e2b774cc69-01 outer:exit 2b-2092bf49abf5bf7ab86de869ccecbf28b7f43939-bd26a70442715403-01
2022-04-21T21:08:53.954Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:08:53.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-9835f39aeefa57fcf296fff39f9e0df91d677be4-70bb755f897a8986-01 outer:exit 2b-9835f39aeefa57fcf296fff39f9e0df91d677be4-2909797911d74f78-01
2022-04-21T21:08:53.965Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:08:53.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-c30d24bd7859fe4fd15d0e1c8a7470652f3728bb-8f050886886998d3-01 outer:exit 2b-c30d24bd7859fe4fd15d0e1c8a7470652f3728bb-fbdcb464aef7a766-01
2022-04-21T21:08:53.973Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:08:53.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a5e770f3c1c424e7c3336d0bc5c003c9be124fd-811fa4d2ecfe98e4-01 outer:exit 2b-0a5e770f3c1c424e7c3336d0bc5c003c9be124fd-0ffbf4aac589f242-01
2022-04-21T21:08:53.975Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:08:53.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e14ee1250b8ec4335a416e258c460ecdd3d3791-6d64b841a2a39e56-01 outer:exit 2b-0e14ee1250b8ec4335a416e258c460ecdd3d3791-1167e9e1418a77fc-01
2022-04-21T21:08:53.978Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:08:53.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-e440d23d3835ce4494dcc28bacfd49ec3260b306-a702c016a81da417-01 outer:exit 2b-e440d23d3835ce4494dcc28bacfd49ec3260b306-e1caf8f4528db797-01
2022-04-21T21:08:53.987Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:08:53.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e752bdf4f6b78a79bd102df6bea67196a5dfbb8-5c156cdced34e745-01 outer:exit 2b-8e752bdf4f6b78a79bd102df6bea67196a5dfbb8-2cb046c58646022d-01
2022-04-21T21:08:53.990Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:08:53.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-877cbf740943ec92f843903b200b7c987a5c1b56-e229ce67646369c3-01 outer:exit 2b-877cbf740943ec92f843903b200b7c987a5c1b56-d973ba028d286e63-01
2022-04-21T21:08:53.992Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:08:53.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fba061db3046af082a131f7529cc549253c909e-18982ae9b29ed699-01 outer:exit 2b-6fba061db3046af082a131f7529cc549253c909e-81d3f9a4b36e3b8b-01
2022-04-21T21:08:53.994Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:08:53.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-151ac7e3b46c8b03890a73e038b4df243aad2d15-96fd75bbadc4fc5d-01 outer:exit 2b-151ac7e3b46c8b03890a73e038b4df243aad2d15-1ecf121bbcd9f19b-01
2022-04-21T21:08:53.996Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:08:53.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ea2df7bbe8c03896b7174a519936c950cfd305a-669aeb6d3055866a-01 outer:exit 2b-4ea2df7bbe8c03896b7174a519936c950cfd305a-b09fd9bf96e40b32-01
2022-04-21T21:08:53.998Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:08:54.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee019ef873c5eb881d589c59aa46a7c6cb9664ed-b8e3a4f7abc5f492-01 outer:exit 2b-ee019ef873c5eb881d589c59aa46a7c6cb9664ed-ce738256ffa60dd4-01
2022-04-21T21:08:54.010Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:08:54.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c4723530ecfa31ad744be2d3a644eea19900ba8-e861371decc2366f-01 outer:exit 2b-4c4723530ecfa31ad744be2d3a644eea19900ba8-9d7e669b6022ae68-01
2022-04-21T21:08:54.020Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:08:54.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-35dfd6909c2d8a7e879cc80bf67aeacaa2f2b179-16d2260d3031eb28-01 outer:exit 2b-35dfd6909c2d8a7e879cc80bf67aeacaa2f2b179-8b9baa52e6a1c73b-01
2022-04-21T21:08:54.024Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:08:54.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-22d8d69b884e1abfe26b0c70a34fb0c356987e9f-410cae7c6dd9fa89-01 outer:exit 2b-22d8d69b884e1abfe26b0c70a34fb0c356987e9f-bb13bbd1dfcc9654-01
2022-04-21T21:08:54.027Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:08:54.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c3bbc4f29c91f4c3839c4763629f5c1e19d85aa-bd8bfbd10cccf62c-01 outer:exit 2b-7c3bbc4f29c91f4c3839c4763629f5c1e19d85aa-0437be3ef4a7ef3e-01
2022-04-21T21:08:54.030Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:08:54.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f4f9c34fa4c0b91d2eb242a4078de7a0db3634-d487149d009476b2-01 outer:exit 2b-49f4f9c34fa4c0b91d2eb242a4078de7a0db3634-a28fec8bfff672a9-01
2022-04-21T21:08:54.067Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (382ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:01.056Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:01.057Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:01.057Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:01.058Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:01.228Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:01.504Z appoptics:patching patched crypto 
2022-04-21T21:09:01.592Z appoptics:patching patched https 
2022-04-21T21:09:01.593Z appoptics:patching patched http 
2022-04-21T21:09:01.675Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:01.675Z appoptics:patching patched fs 
2022-04-21T21:09:01.714Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v16.14.2)
2022-04-21T21:09:01.741Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-21T21:09:01.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0b03f80a131f0139c483ae48c7dea0e30b01db3-c0471293ab40273d-01 outer:exit 2b-b0b03f80a131f0139c483ae48c7dea0e30b01db3-97a67e81c81a9c3a-01
2022-04-21T21:09:01.877Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T21:09:01.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-971e54160474df2ed17a98eb79a37552b35493a1-aac4609818678493-01 outer:exit 2b-971e54160474df2ed17a98eb79a37552b35493a1-5a178cebfead1fb9-01
2022-04-21T21:09:01.967Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T21:09:01.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-c670d8621bd3b772b160e3840fd3fc3af83721c1-d1663529c5de4eb1-01 outer:exit 2b-c670d8621bd3b772b160e3840fd3fc3af83721c1-76b3d5422329adc6-01
2022-04-21T21:09:01.973Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T21:09:01.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-b584f305ef324a59f0b625ac0e0d90da080eb552-00bc427548bb3951-01 outer:exit 2b-b584f305ef324a59f0b625ac0e0d90da080eb552-eca89d73ff01b5be-01
2022-04-21T21:09:01.978Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T21:09:01.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-b20dd43045e3b2af10bd9a91f65278b897d7c38b-b303e9ae9328acd6-01 outer:exit 2b-b20dd43045e3b2af10bd9a91f65278b897d7c38b-a1973d1013c62a38-01
2022-04-21T21:09:01.997Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T21:09:02.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-a262254cc258a418afd36e1e09c7fcbe72832888-56bb3f8576f8a375-01 outer:exit 2b-a262254cc258a418afd36e1e09c7fcbe72832888-32a3d1be15682a78-01
2022-04-21T21:09:02.001Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T21:09:02.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-c417d35bc3711fd9c66e05776f80adac5f531a8e-65ed3e4be2357eaf-01 outer:exit 2b-c417d35bc3711fd9c66e05776f80adac5f531a8e-f7c882e7ebbe3919-01
2022-04-21T21:09:02.007Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T21:09:02.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-16604984e37c668b1093eb5770bacbb04519c167-6c599fb3355783a5-01 outer:exit 2b-16604984e37c668b1093eb5770bacbb04519c167-d6147aba6296260b-01
2022-04-21T21:09:02.012Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T21:09:02.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb71cc08de7ad0ded676bd3623a8f24fd8d83df3-571f2a97f4e2bda9-01 outer:exit 2b-cb71cc08de7ad0ded676bd3623a8f24fd8d83df3-877fd13db441cc6e-01
2022-04-21T21:09:02.015Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T21:09:02.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccc85b627b24b24fa4e2839b328da4d389cb7e50-ee12745ed8599778-01 outer:exit 2b-ccc85b627b24b24fa4e2839b328da4d389cb7e50-eb7d7d7b218e0439-01
2022-04-21T21:09:02.025Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T21:09:02.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8a668fb7b67a4f730ebc9ccace358525552598d-28260499f224b10d-01 outer:exit 2b-e8a668fb7b67a4f730ebc9ccace358525552598d-bd75efee844a6446-01
2022-04-21T21:09:02.030Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T21:09:02.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc3dad2b44755c9f81309a96ff34bdc8058a19dd-f7a5d74524f199fe-01 outer:exit 2b-fc3dad2b44755c9f81309a96ff34bdc8058a19dd-503306b95bfd3d5a-01
2022-04-21T21:09:02.044Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T21:09:02.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc4985cbfbdc80aaa39220ecd469d03b84e3cca8-8d33fc0bd2fe2a91-01 outer:exit 2b-bc4985cbfbdc80aaa39220ecd469d03b84e3cca8-b05c7af552c52bcc-01
2022-04-21T21:09:02.071Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T21:09:02.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-86e1039ca84b9d2db3a80189869b7a62bf84c17f-2d213caaaa2e33d6-01 outer:exit 2b-86e1039ca84b9d2db3a80189869b7a62bf84c17f-7ee5cfa5363f89c4-01
2022-04-21T21:09:02.115Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T21:09:02.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-17022569cbd6402b25a45297d50c14b9ced2cb71-3ea2b518a744d513-01 outer:exit 2b-17022569cbd6402b25a45297d50c14b9ced2cb71-65cff6c537f65499-01
2022-04-21T21:09:02.118Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T21:09:02.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-14799cf3244f547a9dea445781db56b459d4cf6c-b73805761c1db4c6-01 outer:exit 2b-14799cf3244f547a9dea445781db56b459d4cf6c-5d87840dc2d64a04-01
2022-04-21T21:09:02.124Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T21:09:02.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-80dd84be2603be9f226d6c4d0f2005c39cc50f6a-791104bd671f2995-01 outer:exit 2b-80dd84be2603be9f226d6c4d0f2005c39cc50f6a-56c918ced098b42d-01
2022-04-21T21:09:02.127Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T21:09:02.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-83b02e3d1337338eaa9b55c89595afd50e9da564-73faa8c483f23e05-01 outer:exit 2b-83b02e3d1337338eaa9b55c89595afd50e9da564-deab793d7d2541c0-01
2022-04-21T21:09:02.132Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T21:09:02.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf6485a18b7324256aead981d326ae8706b80b8a-41af1c92dc5d5ec9-01 outer:exit 2b-cf6485a18b7324256aead981d326ae8706b80b8a-8f23ed308818877d-01
2022-04-21T21:09:02.135Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T21:09:02.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-c769dc24ece6ffaf9dbd4da62c8c8f7738e2a80a-f514e194a36a32f1-01 outer:exit 2b-c769dc24ece6ffaf9dbd4da62c8c8f7738e2a80a-19228404a02f0aac-01
2022-04-21T21:09:02.139Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T21:09:02.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2279f30224c7ebfd2bf578f32ad7818203954e0-ee16440ef127ea4a-01 outer:exit 2b-b2279f30224c7ebfd2bf578f32ad7818203954e0-53c701be0d5d1e49-01
2022-04-21T21:09:02.143Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T21:09:02.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0bd2665b44b2b9d31afa959098d682d05cb8b7e-8c616ac8388b9f44-01 outer:exit 2b-d0bd2665b44b2b9d31afa959098d682d05cb8b7e-96d979a078e8b820-01
2022-04-21T21:09:02.148Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T21:09:02.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b5f6119dd52b62159df2c543825b59e886b77f4-5266064927ac20a2-01 outer:exit 2b-7b5f6119dd52b62159df2c543825b59e886b77f4-a8676a837a7f963a-01
2022-04-21T21:09:02.152Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T21:09:02.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-a101628972a5a38d78d079bee6ecb8f901d1d1b1-69539d39f1bc3977-01 outer:exit 2b-a101628972a5a38d78d079bee6ecb8f901d1d1b1-b99e609d704741f1-01
2022-04-21T21:09:02.158Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T21:09:02.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-27d0993d31b547d0dd3595ee6325c942aae8c180-bbff14005ea1c7d2-01 outer:exit 2b-27d0993d31b547d0dd3595ee6325c942aae8c180-5bcd2652379e5fcb-01
2022-04-21T21:09:02.163Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T21:09:02.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3448983b3b9cb62638655000c3131ed63a36c2d-d9630e3b5df3c5c2-01 outer:exit 2b-b3448983b3b9cb62638655000c3131ed63a36c2d-89b5dde2b7df5a54-01
2022-04-21T21:09:02.166Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T21:09:02.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3f8b6060e95bd59f07bfb3c2e398fd9bc391b74-8464b79bd9b20c45-01 outer:exit 2b-a3f8b6060e95bd59f07bfb3c2e398fd9bc391b74-a2d30864d745d07a-01
2022-04-21T21:09:02.174Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T21:09:02.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-70d562508f058860a9280868e0b0003e46dc6eb3-e931601a90464f0f-01 outer:exit 2b-70d562508f058860a9280868e0b0003e46dc6eb3-2b2dda429e1007ff-01
2022-04-21T21:09:02.182Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T21:09:02.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-73cf57e7dca1476424f720a05beaa0dbbd970615-25203f4dccaa8553-01 outer:exit 2b-73cf57e7dca1476424f720a05beaa0dbbd970615-d811603c87333e2b-01
2022-04-21T21:09:02.193Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T21:09:02.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e46647b8a4ef222fb2db7c04e4ca80c36588b2d-8e5bae5ff08913d7-01 outer:exit 2b-3e46647b8a4ef222fb2db7c04e4ca80c36588b2d-c58f7ea7b67cb974-01
2022-04-21T21:09:02.202Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T21:09:02.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2ea340d76eee61534c37682d55a587c530a8c82-7d55cb5bf1a9a8e4-01 outer:exit 2b-e2ea340d76eee61534c37682d55a587c530a8c82-a5bfa28602dc819c-01
2022-04-21T21:09:02.204Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T21:09:02.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-7562f73f1185077d35633be3a00c7793c1cea003-17ad44d1ab1d1282-01 outer:exit 2b-7562f73f1185077d35633be3a00c7793c1cea003-4f1a49fcbac775e5-01
2022-04-21T21:09:02.208Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T21:09:02.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-f72dd04d04c8942ca97148a035df488cd2470768-4d30dfb91e2a3206-01 outer:exit 2b-f72dd04d04c8942ca97148a035df488cd2470768-2ed9ba6e6f7da171-01
2022-04-21T21:09:02.216Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T21:09:02.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9f40d7b2601583c2960495ce0c0be8e73c6a716-2ae58ee8f8797073-01 outer:exit 2b-c9f40d7b2601583c2960495ce0c0be8e73c6a716-0487da7f2e8d442f-01
2022-04-21T21:09:02.219Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T21:09:02.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-319ee09e9a95564942337edf38838f4e696af760-e62a3e9fc1eb3235-01 outer:exit 2b-319ee09e9a95564942337edf38838f4e696af760-c65b543c0e561a89-01
2022-04-21T21:09:02.221Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T21:09:02.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-dffe585891b212fc62417c5e8f98d388947a4977-803bf2d90c8aba7f-01 outer:exit 2b-dffe585891b212fc62417c5e8f98d388947a4977-feff30b8540a40f0-01
2022-04-21T21:09:02.224Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T21:09:02.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-7abc59902f1a2173d534862cf02f679313b9a753-73bc6edb2a561776-01 outer:exit 2b-7abc59902f1a2173d534862cf02f679313b9a753-82d7449f80e9864f-01
2022-04-21T21:09:02.229Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T21:09:02.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3e6eadd318fc29ef244d7dc6da5f5237ed1734b-e13a01648a8b86ab-01 outer:exit 2b-b3e6eadd318fc29ef244d7dc6da5f5237ed1734b-e52ec544c1512ebc-01
2022-04-21T21:09:02.233Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T21:09:02.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb4d120722b4e829d01aa22f56946441ff613a05-7d6f494497127e72-01 outer:exit 2b-fb4d120722b4e829d01aa22f56946441ff613a05-4f59976103ed476a-01
2022-04-21T21:09:02.245Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T21:09:02.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b1c03a1e3e83a1e88d010c86eda56f4a25a489f-a33c1530964da98f-01 outer:exit 2b-6b1c03a1e3e83a1e88d010c86eda56f4a25a489f-d0f5c1d3da427eed-01
2022-04-21T21:09:02.257Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T21:09:02.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3aa0d3c5c67c823265fb7c62c4af4b6d35a32dc-c3874f355f153015-01 outer:exit 2b-d3aa0d3c5c67c823265fb7c62c4af4b6d35a32dc-4c25d50c5a155c59-01
2022-04-21T21:09:02.266Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T21:09:02.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-c368ed8f1c8d0091ca09b0c2f8d968b57e86f54c-80430160fec502ac-01 outer:exit 2b-c368ed8f1c8d0091ca09b0c2f8d968b57e86f54c-5caa99de730ca601-01
2022-04-21T21:09:02.269Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T21:09:02.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cb612b00e6623f062fa57064e958817a4d5ffda-34cca74cf6fef1e0-01 outer:exit 2b-1cb612b00e6623f062fa57064e958817a4d5ffda-8f007d658518549f-01
2022-04-21T21:09:02.273Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T21:09:02.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f085adcd483cb939586baea7d3b16db3d2fc933-87684577bc17b5f6-01 outer:exit 2b-2f085adcd483cb939586baea7d3b16db3d2fc933-f13cb4fd0eb69e95-01
2022-04-21T21:09:02.316Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (566ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:09.430Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:09.431Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:09.431Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:09.432Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:09.532Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:09.672Z appoptics:patching patched crypto 
2022-04-21T21:09:09.694Z appoptics:patching patched https 
2022-04-21T21:09:09.695Z appoptics:patching patched http 
2022-04-21T21:09:09.735Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:09.736Z appoptics:patching patched fs 
2022-04-21T21:09:09.747Z appoptics:patching patched zlib 
2022-04-21T21:09:09.771Z appoptics:patching patched mongodb-core 3.0.0
2022-04-21T21:09:09.778Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (357ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:17.288Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:17.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:17.289Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:17.289Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:17.405Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:17.553Z appoptics:patching patched crypto 
2022-04-21T21:09:17.574Z appoptics:patching patched https 
2022-04-21T21:09:17.575Z appoptics:patching patched http 
2022-04-21T21:09:17.620Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:17.620Z appoptics:patching patched fs 
2022-04-21T21:09:17.631Z appoptics:patching patched zlib 
2022-04-21T21:09:17.655Z appoptics:patching patched mongodb-core 3.0.1
2022-04-21T21:09:17.661Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (313ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:24.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:24.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:24.676Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:24.677Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:24.747Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:24.883Z appoptics:patching patched crypto 
2022-04-21T21:09:24.903Z appoptics:patching patched https 
2022-04-21T21:09:24.904Z appoptics:patching patched http 
2022-04-21T21:09:24.950Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:24.951Z appoptics:patching patched fs 
2022-04-21T21:09:24.962Z appoptics:patching patched zlib 
2022-04-21T21:09:24.987Z appoptics:patching patched mongodb-core 3.0.2
2022-04-21T21:09:24.994Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (321ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:32.942Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:32.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:32.943Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:32.944Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:33.014Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:33.151Z appoptics:patching patched crypto 
2022-04-21T21:09:33.172Z appoptics:patching patched https 
2022-04-21T21:09:33.173Z appoptics:patching patched http 
2022-04-21T21:09:33.220Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:33.220Z appoptics:patching patched fs 
2022-04-21T21:09:33.231Z appoptics:patching patched zlib 
2022-04-21T21:09:33.257Z appoptics:patching patched mongodb-core 3.0.3
2022-04-21T21:09:33.263Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (308ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:40.519Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:40.520Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:40.520Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:40.521Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:40.631Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:40.814Z appoptics:patching patched crypto 
2022-04-21T21:09:40.855Z appoptics:patching patched https 
2022-04-21T21:09:40.860Z appoptics:patching patched http 
2022-04-21T21:09:40.943Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:40.944Z appoptics:patching patched fs 
2022-04-21T21:09:40.968Z appoptics:patching patched zlib 
2022-04-21T21:09:40.998Z appoptics:patching patched mongodb-core 3.0.4
2022-04-21T21:09:41.006Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (330ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:48.042Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:48.043Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:48.043Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:48.043Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:48.114Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:48.249Z appoptics:patching patched crypto 
2022-04-21T21:09:48.270Z appoptics:patching patched https 
2022-04-21T21:09:48.270Z appoptics:patching patched http 
2022-04-21T21:09:48.315Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:48.316Z appoptics:patching patched fs 
2022-04-21T21:09:48.326Z appoptics:patching patched zlib 
2022-04-21T21:09:48.352Z appoptics:patching patched mongodb-core 3.0.5
2022-04-21T21:09:48.358Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (301ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:09:56.329Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:09:56.329Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:09:56.329Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:09:56.330Z appoptics:debug using context provider: ace-context
2022-04-21T21:09:56.411Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:09:56.550Z appoptics:patching patched crypto 
2022-04-21T21:09:56.570Z appoptics:patching patched https 
2022-04-21T21:09:56.571Z appoptics:patching patched http 
2022-04-21T21:09:56.615Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:09:56.615Z appoptics:patching patched fs 
2022-04-21T21:09:56.626Z appoptics:patching patched zlib 
2022-04-21T21:09:56.653Z appoptics:patching patched mongodb-core 3.0.6
2022-04-21T21:09:56.660Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (302ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:03.333Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:03.334Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:03.334Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:03.335Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:03.408Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:03.544Z appoptics:patching patched crypto 
2022-04-21T21:10:03.564Z appoptics:patching patched https 
2022-04-21T21:10:03.565Z appoptics:patching patched http 
2022-04-21T21:10:03.611Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:03.612Z appoptics:patching patched fs 
2022-04-21T21:10:03.622Z appoptics:patching patched zlib 
2022-04-21T21:10:03.650Z appoptics:patching patched mongodb-core 3.0.7
2022-04-21T21:10:03.656Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (58ms)


  33 passing (358ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:11.671Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:11.672Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:11.672Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:11.673Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:11.744Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:11.881Z appoptics:patching patched crypto 
2022-04-21T21:10:11.902Z appoptics:patching patched https 
2022-04-21T21:10:11.902Z appoptics:patching patched http 
2022-04-21T21:10:11.948Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:11.948Z appoptics:patching patched fs 
2022-04-21T21:10:11.959Z appoptics:patching patched zlib 
2022-04-21T21:10:11.987Z appoptics:patching patched mongodb-core 3.0.8
2022-04-21T21:10:11.993Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (314ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:19.845Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:19.846Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:19.846Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:19.847Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:19.917Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:20.056Z appoptics:patching patched crypto 
2022-04-21T21:10:20.095Z appoptics:patching patched https 
2022-04-21T21:10:20.095Z appoptics:patching patched http 
2022-04-21T21:10:20.130Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:20.130Z appoptics:patching patched fs 
2022-04-21T21:10:20.142Z appoptics:patching patched zlib 
2022-04-21T21:10:20.170Z appoptics:patching patched mongodb-core 3.0.9
2022-04-21T21:10:20.176Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (303ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:26.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:26.862Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:26.862Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:26.863Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:26.950Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:27.103Z appoptics:patching patched crypto 
2022-04-21T21:10:27.147Z appoptics:patching patched https 
2022-04-21T21:10:27.159Z appoptics:patching patched http 
2022-04-21T21:10:27.194Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:27.194Z appoptics:patching patched fs 
2022-04-21T21:10:27.206Z appoptics:patching patched zlib 
2022-04-21T21:10:27.238Z appoptics:patching patched mongodb-core 3.0.11
2022-04-21T21:10:27.244Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (318ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:34.613Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:34.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:34.614Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:34.615Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:34.685Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:34.819Z appoptics:patching patched crypto 
2022-04-21T21:10:34.839Z appoptics:patching patched https 
2022-04-21T21:10:34.840Z appoptics:patching patched http 
2022-04-21T21:10:34.883Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:34.884Z appoptics:patching patched fs 
2022-04-21T21:10:34.895Z appoptics:patching patched zlib 
2022-04-21T21:10:34.927Z appoptics:patching patched mongodb-core 3.1.0
2022-04-21T21:10:34.933Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (296ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:42.609Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:42.609Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:42.609Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:42.610Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:42.697Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:42.860Z appoptics:patching patched crypto 
2022-04-21T21:10:42.904Z appoptics:patching patched https 
2022-04-21T21:10:42.905Z appoptics:patching patched http 
2022-04-21T21:10:42.954Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:42.955Z appoptics:patching patched fs 
2022-04-21T21:10:42.966Z appoptics:patching patched zlib 
2022-04-21T21:10:43.004Z appoptics:patching patched mongodb-core 3.1.1
2022-04-21T21:10:43.011Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (63ms)


  33 passing (468ms)


changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:50.276Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:50.277Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:50.277Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:50.278Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:50.346Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:50.482Z appoptics:patching patched crypto 
2022-04-21T21:10:50.503Z appoptics:patching patched https 
2022-04-21T21:10:50.504Z appoptics:patching patched http 
2022-04-21T21:10:50.546Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:50.547Z appoptics:patching patched fs 
2022-04-21T21:10:50.558Z appoptics:patching patched zlib 
2022-04-21T21:10:50.603Z appoptics:patching patched mongodb-core 3.1.2
2022-04-21T21:10:50.609Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (299ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:10:57.810Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:10:57.810Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:10:57.810Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:10:57.811Z appoptics:debug using context provider: ace-context
2022-04-21T21:10:57.884Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:10:58.020Z appoptics:patching patched crypto 
2022-04-21T21:10:58.054Z appoptics:patching patched https 
2022-04-21T21:10:58.061Z appoptics:patching patched http 
2022-04-21T21:10:58.092Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:10:58.093Z appoptics:patching patched fs 
2022-04-21T21:10:58.105Z appoptics:patching patched zlib 
2022-04-21T21:10:58.137Z appoptics:patching patched mongodb-core 3.1.3
2022-04-21T21:10:58.144Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (286ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:05.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:05.011Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:05.011Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:05.011Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:05.081Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:05.218Z appoptics:patching patched crypto 
2022-04-21T21:11:05.252Z appoptics:patching patched https 
2022-04-21T21:11:05.253Z appoptics:patching patched http 
2022-04-21T21:11:05.287Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:05.287Z appoptics:patching patched fs 
2022-04-21T21:11:05.300Z appoptics:patching patched zlib 
2022-04-21T21:11:05.330Z appoptics:patching patched mongodb-core 3.1.4
2022-04-21T21:11:05.335Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (789ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:13.436Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:13.437Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:13.437Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:13.438Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:13.508Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:13.644Z appoptics:patching patched crypto 
2022-04-21T21:11:13.665Z appoptics:patching patched https 
2022-04-21T21:11:13.665Z appoptics:patching patched http 
2022-04-21T21:11:13.708Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:13.708Z appoptics:patching patched fs 
2022-04-21T21:11:13.721Z appoptics:patching patched zlib 
2022-04-21T21:11:13.752Z appoptics:patching patched mongodb-core 3.1.5
2022-04-21T21:11:13.758Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (341ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:21.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:21.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:21.468Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:21.468Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:21.539Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:21.675Z appoptics:patching patched crypto 
2022-04-21T21:11:21.695Z appoptics:patching patched https 
2022-04-21T21:11:21.696Z appoptics:patching patched http 
2022-04-21T21:11:21.738Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:21.738Z appoptics:patching patched fs 
2022-04-21T21:11:21.751Z appoptics:patching patched zlib 
2022-04-21T21:11:21.782Z appoptics:patching patched mongodb-core 3.1.6
2022-04-21T21:11:21.788Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (315ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:28.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:28.720Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:28.720Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:28.721Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:28.791Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:28.927Z appoptics:patching patched crypto 
2022-04-21T21:11:28.948Z appoptics:patching patched https 
2022-04-21T21:11:28.949Z appoptics:patching patched http 
2022-04-21T21:11:28.992Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:28.992Z appoptics:patching patched fs 
2022-04-21T21:11:29.004Z appoptics:patching patched zlib 
2022-04-21T21:11:29.035Z appoptics:patching patched mongodb-core 3.1.7
2022-04-21T21:11:29.041Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (395ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:36.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:36.913Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:36.914Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:36.915Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:36.985Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:37.128Z appoptics:patching patched crypto 
2022-04-21T21:11:37.149Z appoptics:patching patched https 
2022-04-21T21:11:37.149Z appoptics:patching patched http 
2022-04-21T21:11:37.197Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:37.197Z appoptics:patching patched fs 
2022-04-21T21:11:37.209Z appoptics:patching patched zlib 
2022-04-21T21:11:37.241Z appoptics:patching patched mongodb-core 3.1.8
2022-04-21T21:11:37.247Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (327ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:43.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:43.990Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:43.990Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:43.991Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:44.079Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:44.290Z appoptics:patching patched crypto 
2022-04-21T21:11:44.341Z appoptics:patching patched https 
2022-04-21T21:11:44.356Z appoptics:patching patched http 
2022-04-21T21:11:44.420Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:44.420Z appoptics:patching patched fs 
2022-04-21T21:11:44.448Z appoptics:patching patched zlib 
2022-04-21T21:11:44.516Z appoptics:patching patched mongodb-core 3.1.9
2022-04-21T21:11:44.531Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (49ms)


  33 passing (449ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:11:51.984Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:11:51.985Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:11:51.985Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:11:51.985Z appoptics:debug using context provider: ace-context
2022-04-21T21:11:52.055Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:11:52.191Z appoptics:patching patched crypto 
2022-04-21T21:11:52.212Z appoptics:patching patched https 
2022-04-21T21:11:52.212Z appoptics:patching patched http 
2022-04-21T21:11:52.255Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:11:52.256Z appoptics:patching patched fs 
2022-04-21T21:11:52.268Z appoptics:patching patched zlib 
2022-04-21T21:11:52.299Z appoptics:patching patched mongodb-core 3.1.10
2022-04-21T21:11:52.305Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (307ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:00.095Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:00.096Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:00.096Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:00.097Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:00.177Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:00.330Z appoptics:patching patched crypto 
2022-04-21T21:12:00.363Z appoptics:patching patched https 
2022-04-21T21:12:00.364Z appoptics:patching patched http 
2022-04-21T21:12:00.402Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:00.403Z appoptics:patching patched fs 
2022-04-21T21:12:00.414Z appoptics:patching patched zlib 
2022-04-21T21:12:00.446Z appoptics:patching patched mongodb-core 3.1.11
2022-04-21T21:12:00.452Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (308ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:07.346Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:07.347Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:07.347Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:07.348Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:07.441Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:07.589Z appoptics:patching patched crypto 
2022-04-21T21:12:07.612Z appoptics:patching patched https 
2022-04-21T21:12:07.613Z appoptics:patching patched http 
2022-04-21T21:12:07.654Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:07.654Z appoptics:patching patched fs 
2022-04-21T21:12:07.667Z appoptics:patching patched zlib 
2022-04-21T21:12:07.709Z appoptics:patching patched mongodb-core 3.2.0
2022-04-21T21:12:07.715Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (324ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:15.208Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:15.209Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:15.209Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:15.210Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:15.280Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:15.417Z appoptics:patching patched crypto 
2022-04-21T21:12:15.448Z appoptics:patching patched https 
2022-04-21T21:12:15.449Z appoptics:patching patched http 
2022-04-21T21:12:15.487Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:15.487Z appoptics:patching patched fs 
2022-04-21T21:12:15.500Z appoptics:patching patched zlib 
2022-04-21T21:12:15.537Z appoptics:patching patched mongodb-core 3.2.1
2022-04-21T21:12:15.544Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (369ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:22.932Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:22.933Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:22.933Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:22.933Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:23.014Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:23.168Z appoptics:patching patched crypto 
2022-04-21T21:12:23.211Z appoptics:patching patched https 
2022-04-21T21:12:23.212Z appoptics:patching patched http 
2022-04-21T21:12:23.256Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:23.256Z appoptics:patching patched fs 
2022-04-21T21:12:23.269Z appoptics:patching patched zlib 
2022-04-21T21:12:23.311Z appoptics:patching patched mongodb-core 3.2.2
2022-04-21T21:12:23.317Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (45ms)


  33 passing (387ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:30.469Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:30.470Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:30.470Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:30.471Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:30.541Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:30.676Z appoptics:patching patched crypto 
2022-04-21T21:12:30.730Z appoptics:patching patched https 
2022-04-21T21:12:30.730Z appoptics:patching patched http 
2022-04-21T21:12:30.780Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:30.780Z appoptics:patching patched fs 
2022-04-21T21:12:30.793Z appoptics:patching patched zlib 
2022-04-21T21:12:30.839Z appoptics:patching patched mongodb-core 3.2.3
2022-04-21T21:12:30.846Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (317ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:38.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:38.257Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:38.257Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:38.258Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:38.328Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:38.467Z appoptics:patching patched crypto 
2022-04-21T21:12:38.488Z appoptics:patching patched https 
2022-04-21T21:12:38.489Z appoptics:patching patched http 
2022-04-21T21:12:38.531Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:38.531Z appoptics:patching patched fs 
2022-04-21T21:12:38.543Z appoptics:patching patched zlib 
2022-04-21T21:12:38.581Z appoptics:patching patched mongodb-core 3.2.4
2022-04-21T21:12:38.587Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (293ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:45.463Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:45.464Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:45.464Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:45.465Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:45.536Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:45.674Z appoptics:patching patched crypto 
2022-04-21T21:12:45.695Z appoptics:patching patched https 
2022-04-21T21:12:45.696Z appoptics:patching patched http 
2022-04-21T21:12:45.739Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:45.739Z appoptics:patching patched fs 
2022-04-21T21:12:45.751Z appoptics:patching patched zlib 
2022-04-21T21:12:45.789Z appoptics:patching patched mongodb-core 3.2.5
2022-04-21T21:12:45.795Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (309ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:12:53.514Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:12:53.515Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:12:53.515Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:12:53.516Z appoptics:debug using context provider: ace-context
2022-04-21T21:12:53.584Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:12:53.723Z appoptics:patching patched crypto 
2022-04-21T21:12:53.745Z appoptics:patching patched https 
2022-04-21T21:12:53.746Z appoptics:patching patched http 
2022-04-21T21:12:53.788Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:12:53.789Z appoptics:patching patched fs 
2022-04-21T21:12:53.801Z appoptics:patching patched zlib 
2022-04-21T21:12:53.839Z appoptics:patching patched mongodb-core 3.2.6
2022-04-21T21:12:53.845Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (297ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T21:13:01.337Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T21:13:01.338Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T21:13:01.338Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T21:13:01.339Z appoptics:debug using context provider: ace-context
2022-04-21T21:13:01.426Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T21:13:01.586Z appoptics:patching patched crypto 
2022-04-21T21:13:01.608Z appoptics:patching patched https 
2022-04-21T21:13:01.609Z appoptics:patching patched http 
2022-04-21T21:13:01.667Z appoptics:patching fs.realpath - adding native method
2022-04-21T21:13:01.668Z appoptics:patching patched fs 
2022-04-21T21:13:01.681Z appoptics:patching patched zlib 
2022-04-21T21:13:01.724Z appoptics:patching patched mongodb-core 3.2.7
2022-04-21T21:13:01.730Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (344ms)


up to date, audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
