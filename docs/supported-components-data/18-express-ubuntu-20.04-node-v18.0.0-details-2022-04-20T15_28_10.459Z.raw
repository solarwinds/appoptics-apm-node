npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated mkdirp@0.3.3: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.11: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.6.0: connect 2.x series is deprecated

added 19 packages, removed 26 packages, changed 9 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:18.993Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:18.993Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:18.993Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:18.994Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:19.062Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:19.202Z appoptics:patching patched crypto 
2022-04-20T15:28:19.234Z appoptics:patching patched https 
2022-04-20T15:28:19.234Z appoptics:patching patched http 
2022-04-20T15:28:19.269Z appoptics:patching patched zlib 
2022-04-20T15:28:19.275Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:19.275Z appoptics:patching patched fs 
2022-04-20T15:28:19.318Z appoptics:patching express 3.0.0 does not support render spans
2022-04-20T15:28:19.318Z appoptics:patching patched express 3.0.0
2022-04-20T15:28:19.325Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:19.333Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.0
    ✓ UDP might lose a message
2022-04-20T15:28:19.377Z appoptics:patching patched raw-body 2.5.1
(node:829) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (267ms)
  3 pending

npm WARN deprecated connect@2.6.2: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 2 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:27.635Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:27.636Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:27.636Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:27.636Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:27.704Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:27.865Z appoptics:patching patched crypto 
2022-04-20T15:28:27.906Z appoptics:patching patched https 
2022-04-20T15:28:27.906Z appoptics:patching patched http 
2022-04-20T15:28:27.944Z appoptics:patching patched zlib 
2022-04-20T15:28:27.954Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:27.954Z appoptics:patching patched fs 
2022-04-20T15:28:27.997Z appoptics:patching express 3.0.1 does not support render spans
2022-04-20T15:28:27.998Z appoptics:patching patched express 3.0.1
2022-04-20T15:28:28.005Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:28.015Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.1
    ✓ UDP might lose a message
2022-04-20T15:28:28.059Z appoptics:patching patched raw-body 2.5.1
(node:851) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (215ms)
  3 pending


changed 1 package, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:35.029Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:35.030Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:35.030Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:35.031Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:35.104Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:35.254Z appoptics:patching patched crypto 
2022-04-20T15:28:35.274Z appoptics:patching patched https 
2022-04-20T15:28:35.275Z appoptics:patching patched http 
2022-04-20T15:28:35.313Z appoptics:patching patched zlib 
2022-04-20T15:28:35.324Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:35.324Z appoptics:patching patched fs 
2022-04-20T15:28:35.362Z appoptics:patching express 3.0.2 does not support render spans
2022-04-20T15:28:35.362Z appoptics:patching patched express 3.0.2
2022-04-20T15:28:35.367Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:35.378Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.2
    ✓ UDP might lose a message
2022-04-20T15:28:35.422Z appoptics:patching patched raw-body 2.5.1
(node:873) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (233ms)
  3 pending

npm WARN deprecated connect@2.7.0: connect 2.x series is deprecated

changed 3 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:43.188Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:43.188Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:43.188Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:43.189Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:43.252Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:43.382Z appoptics:patching patched crypto 
2022-04-20T15:28:43.414Z appoptics:patching patched https 
2022-04-20T15:28:43.414Z appoptics:patching patched http 
2022-04-20T15:28:43.445Z appoptics:patching patched zlib 
2022-04-20T15:28:43.454Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:43.455Z appoptics:patching patched fs 
2022-04-20T15:28:43.489Z appoptics:patching express 3.0.3 does not support render spans
2022-04-20T15:28:43.489Z appoptics:patching patched express 3.0.3
2022-04-20T15:28:43.493Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:43.501Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.3
    ✓ UDP might lose a message
2022-04-20T15:28:43.542Z appoptics:patching patched raw-body 2.5.1
(node:895) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (220ms)
  3 pending

npm WARN deprecated connect@2.7.1: connect 2.x series is deprecated

added 1 package, changed 2 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:51.231Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:51.231Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:51.232Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:51.232Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:51.309Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:51.455Z appoptics:patching patched crypto 
2022-04-20T15:28:51.494Z appoptics:patching patched https 
2022-04-20T15:28:51.495Z appoptics:patching patched http 
2022-04-20T15:28:51.543Z appoptics:patching patched zlib 
2022-04-20T15:28:51.559Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:51.559Z appoptics:patching patched fs 
2022-04-20T15:28:51.612Z appoptics:patching express 3.0.4 does not support render spans
2022-04-20T15:28:51.612Z appoptics:patching patched express 3.0.4
2022-04-20T15:28:51.619Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:51.630Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.4
    ✓ UDP might lose a message
2022-04-20T15:28:51.710Z appoptics:patching patched raw-body 2.5.1
(node:917) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (118ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (359ms)
  3 pending


changed 1 package, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:28:58.796Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:58.797Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:58.797Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:58.798Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:58.876Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:59.034Z appoptics:patching patched crypto 
2022-04-20T15:28:59.056Z appoptics:patching patched https 
2022-04-20T15:28:59.057Z appoptics:patching patched http 
2022-04-20T15:28:59.100Z appoptics:patching patched zlib 
2022-04-20T15:28:59.110Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:28:59.111Z appoptics:patching patched fs 
2022-04-20T15:28:59.153Z appoptics:patching express 3.0.5 does not support render spans
2022-04-20T15:28:59.153Z appoptics:patching patched express 3.0.5
2022-04-20T15:28:59.158Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:28:59.165Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.5
    ✓ UDP might lose a message
2022-04-20T15:28:59.204Z appoptics:patching patched raw-body 2.5.1
(node:939) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (252ms)
  3 pending

npm WARN deprecated connect@2.7.2: connect 2.x series is deprecated

removed 1 package, changed 2 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:07.600Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:07.601Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:07.601Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:07.602Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:07.669Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:07.812Z appoptics:patching patched crypto 
2022-04-20T15:29:07.832Z appoptics:patching patched https 
2022-04-20T15:29:07.833Z appoptics:patching patched http 
2022-04-20T15:29:07.877Z appoptics:patching patched zlib 
2022-04-20T15:29:07.888Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:07.888Z appoptics:patching patched fs 
2022-04-20T15:29:07.925Z appoptics:patching express 3.0.6 does not support render spans
2022-04-20T15:29:07.925Z appoptics:patching patched express 3.0.6
2022-04-20T15:29:07.930Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:07.938Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.6
    ✓ UDP might lose a message
2022-04-20T15:29:07.979Z appoptics:patching patched raw-body 2.5.1
(node:961) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (252ms)
  3 pending


changed 1 package, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:15.121Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:15.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:15.121Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:15.122Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:15.218Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:15.363Z appoptics:patching patched crypto 
2022-04-20T15:29:15.404Z appoptics:patching patched https 
2022-04-20T15:29:15.405Z appoptics:patching patched http 
2022-04-20T15:29:15.441Z appoptics:patching patched zlib 
2022-04-20T15:29:15.454Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:15.454Z appoptics:patching patched fs 
2022-04-20T15:29:15.494Z appoptics:patching express 3.1.0 does not support render spans
2022-04-20T15:29:15.494Z appoptics:patching patched express 3.1.0
2022-04-20T15:29:15.500Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:15.507Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.0
    ✓ UDP might lose a message
2022-04-20T15:29:15.548Z appoptics:patching patched raw-body 2.5.1
(node:983) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (265ms)
  3 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.4: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:22.846Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:22.847Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:22.847Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:22.847Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:23.003Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:23.160Z appoptics:patching patched crypto 
2022-04-20T15:29:23.190Z appoptics:patching patched https 
2022-04-20T15:29:23.190Z appoptics:patching patched http 
2022-04-20T15:29:23.223Z appoptics:patching patched zlib 
2022-04-20T15:29:23.233Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:23.233Z appoptics:patching patched fs 
2022-04-20T15:29:23.269Z appoptics:patching express 3.1.1 does not support render spans
2022-04-20T15:29:23.269Z appoptics:patching patched express 3.1.1
2022-04-20T15:29:23.274Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:23.282Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.1
    ✓ UDP might lose a message
2022-04-20T15:29:23.320Z appoptics:patching patched raw-body 2.5.1
(node:1005) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (213ms)
  3 pending

npm WARN deprecated connect@2.7.5: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:30.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:30.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:30.929Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:30.930Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:30.996Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:31.132Z appoptics:patching patched crypto 
2022-04-20T15:29:31.150Z appoptics:patching patched https 
2022-04-20T15:29:31.151Z appoptics:patching patched http 
2022-04-20T15:29:31.187Z appoptics:patching patched zlib 
2022-04-20T15:29:31.196Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:31.197Z appoptics:patching patched fs 
2022-04-20T15:29:31.230Z appoptics:patching express 3.1.2 does not support render spans
2022-04-20T15:29:31.230Z appoptics:patching patched express 3.1.2
2022-04-20T15:29:31.235Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:31.242Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.2
    ✓ UDP might lose a message
2022-04-20T15:29:31.278Z appoptics:patching patched raw-body 2.5.1
(node:1027) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (222ms)
  3 pending

npm WARN deprecated connect@2.7.6: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:38.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:38.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:38.982Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:38.983Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:39.096Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:39.279Z appoptics:patching patched crypto 
2022-04-20T15:29:39.319Z appoptics:patching patched https 
2022-04-20T15:29:39.320Z appoptics:patching patched http 
2022-04-20T15:29:39.364Z appoptics:patching patched zlib 
2022-04-20T15:29:39.375Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:39.376Z appoptics:patching patched fs 
2022-04-20T15:29:39.421Z appoptics:patching patched express 3.2.0
2022-04-20T15:29:39.427Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:39.435Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.0
    ✓ UDP might lose a message
2022-04-20T15:29:39.486Z appoptics:patching patched raw-body 2.5.1
(node:1049) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (287ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated mkdirp@0.3.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.13: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.7: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 6 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:47.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:47.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:47.989Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:47.990Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:48.065Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:48.234Z appoptics:patching patched crypto 
2022-04-20T15:29:48.257Z appoptics:patching patched https 
2022-04-20T15:29:48.258Z appoptics:patching patched http 
2022-04-20T15:29:48.302Z appoptics:patching patched zlib 
2022-04-20T15:29:48.313Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:48.313Z appoptics:patching patched fs 
2022-04-20T15:29:48.354Z appoptics:patching patched express 3.2.1
2022-04-20T15:29:48.360Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:48.367Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.1
    ✓ UDP might lose a message
2022-04-20T15:29:48.408Z appoptics:patching patched raw-body 2.5.1
(node:1071) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.8: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:29:56.887Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:56.888Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:56.888Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:56.889Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:56.950Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:57.083Z appoptics:patching patched crypto 
2022-04-20T15:29:57.102Z appoptics:patching patched https 
2022-04-20T15:29:57.102Z appoptics:patching patched http 
2022-04-20T15:29:57.144Z appoptics:patching patched zlib 
2022-04-20T15:29:57.153Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:57.153Z appoptics:patching patched fs 
2022-04-20T15:29:57.190Z appoptics:patching patched express 3.2.2
2022-04-20T15:29:57.195Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:29:57.202Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.2
    ✓ UDP might lose a message
2022-04-20T15:29:57.239Z appoptics:patching patched raw-body 2.5.1
(node:1093) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (231ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.9: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:04.758Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:04.758Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:04.758Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:04.759Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:04.839Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:05.000Z appoptics:patching patched crypto 
2022-04-20T15:30:05.042Z appoptics:patching patched https 
2022-04-20T15:30:05.043Z appoptics:patching patched http 
2022-04-20T15:30:05.085Z appoptics:patching patched zlib 
2022-04-20T15:30:05.095Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:05.096Z appoptics:patching patched fs 
2022-04-20T15:30:05.136Z appoptics:patching patched express 3.2.3
2022-04-20T15:30:05.146Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:05.158Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.3
    ✓ UDP might lose a message
2022-04-20T15:30:05.221Z appoptics:patching patched raw-body 2.5.1
(node:1115) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (48ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (301ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:12.474Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:12.474Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:12.474Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:12.475Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:12.545Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:12.686Z appoptics:patching patched crypto 
2022-04-20T15:30:12.704Z appoptics:patching patched https 
2022-04-20T15:30:12.705Z appoptics:patching patched http 
2022-04-20T15:30:12.745Z appoptics:patching patched zlib 
2022-04-20T15:30:12.755Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:12.756Z appoptics:patching patched fs 
2022-04-20T15:30:12.788Z appoptics:patching patched express 3.2.4
2022-04-20T15:30:12.793Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:12.799Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.4
    ✓ UDP might lose a message
2022-04-20T15:30:12.835Z appoptics:patching patched raw-body 2.5.1
(node:1137) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (233ms)
  2 pending

npm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.10: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:20.947Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:20.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:20.949Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:20.954Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:21.053Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:21.192Z appoptics:patching patched crypto 
2022-04-20T15:30:21.211Z appoptics:patching patched https 
2022-04-20T15:30:21.211Z appoptics:patching patched http 
2022-04-20T15:30:21.249Z appoptics:patching patched zlib 
2022-04-20T15:30:21.258Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:21.259Z appoptics:patching patched fs 
2022-04-20T15:30:21.293Z appoptics:patching patched express 3.2.5
2022-04-20T15:30:21.297Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:21.305Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.5
    ✓ UDP might lose a message
2022-04-20T15:30:21.344Z appoptics:patching patched raw-body 2.5.1
(node:1159) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated connect@2.7.11: connect 2.x series is deprecated

added 2 packages, changed 2 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:28.405Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:28.405Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:28.405Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:28.406Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:28.486Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:28.632Z appoptics:patching patched crypto 
2022-04-20T15:30:28.673Z appoptics:patching patched https 
2022-04-20T15:30:28.674Z appoptics:patching patched http 
2022-04-20T15:30:28.708Z appoptics:patching patched zlib 
2022-04-20T15:30:28.717Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:28.717Z appoptics:patching patched fs 
2022-04-20T15:30:28.763Z appoptics:patching patched express 3.2.6
2022-04-20T15:30:28.768Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:28.775Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.6
    ✓ UDP might lose a message
2022-04-20T15:30:28.817Z appoptics:patching patched raw-body 2.5.1
(node:1181) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (289ms)
  2 pending

npm WARN deprecated connect@2.8.0: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 4 packages, and audited 921 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:36.709Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:36.710Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:36.710Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:36.710Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:36.770Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:36.903Z appoptics:patching patched crypto 
2022-04-20T15:30:36.922Z appoptics:patching patched https 
2022-04-20T15:30:36.923Z appoptics:patching patched http 
2022-04-20T15:30:36.961Z appoptics:patching patched zlib 
2022-04-20T15:30:36.970Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:36.970Z appoptics:patching patched fs 
2022-04-20T15:30:37.009Z appoptics:patching patched express 3.3.0
2022-04-20T15:30:37.015Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:37.023Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.0
    ✓ UDP might lose a message
2022-04-20T15:30:37.064Z appoptics:patching patched raw-body 2.5.1
(node:1203) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated connect@2.8.1: connect 2.x series is deprecated

changed 2 packages, and audited 921 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:45.319Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:45.320Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:45.320Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:45.321Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:45.409Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:45.552Z appoptics:patching patched crypto 
2022-04-20T15:30:45.572Z appoptics:patching patched https 
2022-04-20T15:30:45.573Z appoptics:patching patched http 
2022-04-20T15:30:45.610Z appoptics:patching patched zlib 
2022-04-20T15:30:45.619Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:45.619Z appoptics:patching patched fs 
2022-04-20T15:30:45.653Z appoptics:patching patched express 3.3.1
2022-04-20T15:30:45.658Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:45.665Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.1
    ✓ UDP might lose a message
2022-04-20T15:30:45.700Z appoptics:patching patched raw-body 2.5.1
(node:1225) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (227ms)
  2 pending

npm WARN deprecated connect@2.8.2: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 3 packages, and audited 921 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:30:53.122Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:53.124Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:53.124Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:53.124Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:53.191Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:53.321Z appoptics:patching patched crypto 
2022-04-20T15:30:53.341Z appoptics:patching patched https 
2022-04-20T15:30:53.342Z appoptics:patching patched http 
2022-04-20T15:30:53.384Z appoptics:patching patched zlib 
2022-04-20T15:30:53.394Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:53.394Z appoptics:patching patched fs 
2022-04-20T15:30:53.432Z appoptics:patching patched express 3.3.2
2022-04-20T15:30:53.437Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:30:53.445Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.2
    ✓ UDP might lose a message
2022-04-20T15:30:53.484Z appoptics:patching patched raw-body 2.5.1
(node:1247) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.8.3: connect 2.x series is deprecated

added 1 package, changed 4 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:01.466Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:01.466Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:01.466Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:01.467Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:01.548Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:01.694Z appoptics:patching patched crypto 
2022-04-20T15:31:01.717Z appoptics:patching patched https 
2022-04-20T15:31:01.717Z appoptics:patching patched http 
2022-04-20T15:31:01.757Z appoptics:patching patched zlib 
2022-04-20T15:31:01.766Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:01.766Z appoptics:patching patched fs 
2022-04-20T15:31:01.802Z appoptics:patching patched express 3.3.3
2022-04-20T15:31:01.807Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:01.814Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.3
    ✓ UDP might lose a message
2022-04-20T15:31:01.851Z appoptics:patching patched raw-body 2.5.1
(node:1269) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (227ms)
  2 pending

npm WARN deprecated connect@2.8.4: connect 2.x series is deprecated

changed 3 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:09.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:09.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:09.524Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:09.525Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:09.589Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:09.731Z appoptics:patching patched crypto 
2022-04-20T15:31:09.754Z appoptics:patching patched https 
2022-04-20T15:31:09.754Z appoptics:patching patched http 
2022-04-20T15:31:09.792Z appoptics:patching patched zlib 
2022-04-20T15:31:09.804Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:09.804Z appoptics:patching patched fs 
2022-04-20T15:31:09.845Z appoptics:patching patched express 3.3.4
2022-04-20T15:31:09.851Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:09.859Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.4
    ✓ UDP might lose a message
2022-04-20T15:31:09.902Z appoptics:patching patched raw-body 2.5.1
(node:1291) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (246ms)
  2 pending

npm WARN deprecated connect@2.8.5: connect 2.x series is deprecated

changed 4 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:17.117Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:17.118Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:17.118Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:17.119Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:17.182Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:17.333Z appoptics:patching patched crypto 
2022-04-20T15:31:17.354Z appoptics:patching patched https 
2022-04-20T15:31:17.354Z appoptics:patching patched http 
2022-04-20T15:31:17.396Z appoptics:patching patched zlib 
2022-04-20T15:31:17.406Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:17.406Z appoptics:patching patched fs 
2022-04-20T15:31:17.444Z appoptics:patching patched express 3.3.5
2022-04-20T15:31:17.449Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:17.457Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.5
    ✓ UDP might lose a message
2022-04-20T15:31:17.499Z appoptics:patching patched raw-body 2.5.1
(node:1313) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending


changed 1 package, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:25.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:25.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:25.275Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:25.276Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:25.388Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:25.570Z appoptics:patching patched crypto 
2022-04-20T15:31:25.590Z appoptics:patching patched https 
2022-04-20T15:31:25.591Z appoptics:patching patched http 
2022-04-20T15:31:25.635Z appoptics:patching patched zlib 
2022-04-20T15:31:25.645Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:25.646Z appoptics:patching patched fs 
2022-04-20T15:31:25.685Z appoptics:patching patched express 3.3.6
2022-04-20T15:31:25.692Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:25.700Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.6
    ✓ UDP might lose a message
2022-04-20T15:31:25.742Z appoptics:patching patched raw-body 2.5.1
(node:1335) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (88ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (270ms)
  2 pending

npm WARN deprecated connect@2.8.7: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:33.931Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:33.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:33.932Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:33.933Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:34.014Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:34.217Z appoptics:patching patched crypto 
2022-04-20T15:31:34.242Z appoptics:patching patched https 
2022-04-20T15:31:34.242Z appoptics:patching patched http 
2022-04-20T15:31:34.289Z appoptics:patching patched zlib 
2022-04-20T15:31:34.301Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:34.301Z appoptics:patching patched fs 
2022-04-20T15:31:34.342Z appoptics:patching patched express 3.3.7
2022-04-20T15:31:34.348Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:34.355Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.7
    ✓ UDP might lose a message
2022-04-20T15:31:34.396Z appoptics:patching patched raw-body 2.5.1
(node:1357) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending

npm WARN deprecated connect@2.8.8: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:41.288Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:41.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:41.289Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:41.290Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:41.365Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:41.506Z appoptics:patching patched crypto 
2022-04-20T15:31:41.526Z appoptics:patching patched https 
2022-04-20T15:31:41.527Z appoptics:patching patched http 
2022-04-20T15:31:41.566Z appoptics:patching patched zlib 
2022-04-20T15:31:41.576Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:41.576Z appoptics:patching patched fs 
2022-04-20T15:31:41.611Z appoptics:patching patched express 3.3.8
2022-04-20T15:31:41.617Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:41.624Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.8
    ✓ UDP might lose a message
2022-04-20T15:31:41.659Z appoptics:patching patched raw-body 2.5.1
(node:1379) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (277ms)
  2 pending

npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.9.0: connect 2.x series is deprecated

added 6 packages, removed 2 packages, changed 3 packages, and audited 926 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:50.300Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:50.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:50.301Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:50.302Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:50.371Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:50.512Z appoptics:patching patched crypto 
2022-04-20T15:31:50.553Z appoptics:patching patched https 
2022-04-20T15:31:50.554Z appoptics:patching patched http 
2022-04-20T15:31:50.596Z appoptics:patching patched zlib 
2022-04-20T15:31:50.608Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:50.608Z appoptics:patching patched fs 
2022-04-20T15:31:50.660Z appoptics:patching patched express 3.4.0
2022-04-20T15:31:50.666Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:50.673Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.0
    ✓ UDP might lose a message
2022-04-20T15:31:50.718Z appoptics:patching patched raw-body 2.5.1
(node:1401) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (229ms)
  2 pending

npm WARN deprecated connect@2.9.1: connect 2.x series is deprecated

removed 5 packages, changed 5 packages, and audited 921 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:31:59.079Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:59.080Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:59.080Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:59.081Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:59.154Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:59.320Z appoptics:patching patched crypto 
2022-04-20T15:31:59.340Z appoptics:patching patched https 
2022-04-20T15:31:59.341Z appoptics:patching patched http 
2022-04-20T15:31:59.382Z appoptics:patching patched zlib 
2022-04-20T15:31:59.393Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:59.393Z appoptics:patching patched fs 
2022-04-20T15:31:59.437Z appoptics:patching patched express 3.4.1
2022-04-20T15:31:59.443Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:31:59.451Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.1
    ✓ UDP might lose a message
2022-04-20T15:31:59.493Z appoptics:patching patched raw-body 2.5.1
(node:1423) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated connect@2.9.2: connect 2.x series is deprecated

added 4 packages, changed 4 packages, and audited 925 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:06.679Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:06.680Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:06.680Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:06.680Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:06.747Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:06.902Z appoptics:patching patched crypto 
2022-04-20T15:32:06.934Z appoptics:patching patched https 
2022-04-20T15:32:06.934Z appoptics:patching patched http 
2022-04-20T15:32:06.966Z appoptics:patching patched zlib 
2022-04-20T15:32:06.975Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:06.976Z appoptics:patching patched fs 
2022-04-20T15:32:07.004Z appoptics:patching patched raw-body 0.0.3
2022-04-20T15:32:07.019Z appoptics:patching patched express 3.4.2
2022-04-20T15:32:07.025Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:07.031Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.2
    ✓ UDP might lose a message
2022-04-20T15:32:07.069Z appoptics:patching patched raw-body 2.5.1
(node:1445) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN deprecated connect@2.10.1: connect 2.x series is deprecated

changed 2 packages, and audited 925 packages in 16s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:23.680Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:23.681Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:23.681Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:23.682Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:23.744Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:23.879Z appoptics:patching patched crypto 
2022-04-20T15:32:23.899Z appoptics:patching patched https 
2022-04-20T15:32:23.899Z appoptics:patching patched http 
2022-04-20T15:32:23.941Z appoptics:patching patched zlib 
2022-04-20T15:32:23.953Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:23.954Z appoptics:patching patched fs 
2022-04-20T15:32:23.984Z appoptics:patching patched raw-body 0.0.3
2022-04-20T15:32:23.999Z appoptics:patching patched express 3.4.3
2022-04-20T15:32:24.004Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:24.012Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.3
    ✓ UDP might lose a message
2022-04-20T15:32:24.050Z appoptics:patching patched raw-body 2.5.1
(node:1467) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (239ms)
  2 pending

npm WARN deprecated connect@2.11.0: connect 2.x series is deprecated

changed 6 packages, and audited 925 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:32.484Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:32.485Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:32.485Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:32.485Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:32.581Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:32.774Z appoptics:patching patched crypto 
2022-04-20T15:32:32.818Z appoptics:patching patched https 
2022-04-20T15:32:32.818Z appoptics:patching patched http 
2022-04-20T15:32:32.859Z appoptics:patching patched zlib 
2022-04-20T15:32:32.872Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:32.872Z appoptics:patching patched fs 
2022-04-20T15:32:32.907Z appoptics:patching patched raw-body 0.0.3
2022-04-20T15:32:32.922Z appoptics:patching patched express 3.4.4
2022-04-20T15:32:32.927Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:32.934Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.4
    ✓ UDP might lose a message
2022-04-20T15:32:32.984Z appoptics:patching patched raw-body 2.5.1
(node:1489) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (264ms)
  2 pending

npm WARN deprecated connect@2.11.1: connect 2.x series is deprecated

added 2 packages, changed 4 packages, and audited 927 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:40.541Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:40.542Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:40.542Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:40.543Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:40.610Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:40.758Z appoptics:patching patched crypto 
2022-04-20T15:32:40.778Z appoptics:patching patched https 
2022-04-20T15:32:40.779Z appoptics:patching patched http 
2022-04-20T15:32:40.815Z appoptics:patching patched zlib 
2022-04-20T15:32:40.822Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:40.823Z appoptics:patching patched fs 
2022-04-20T15:32:40.853Z appoptics:patching patched raw-body 1.1.1
2022-04-20T15:32:40.867Z appoptics:patching patched express 3.4.5
2022-04-20T15:32:40.871Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:40.878Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.5
    ✓ UDP might lose a message
2022-04-20T15:32:40.917Z appoptics:patching patched raw-body 2.5.1
(node:1511) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (235ms)
  2 pending

npm WARN deprecated connect@2.11.2: connect 2.x series is deprecated

changed 3 packages, and audited 927 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:48.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:48.866Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:48.866Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:48.867Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:48.936Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:49.086Z appoptics:patching patched crypto 
2022-04-20T15:32:49.108Z appoptics:patching patched https 
2022-04-20T15:32:49.108Z appoptics:patching patched http 
2022-04-20T15:32:49.157Z appoptics:patching patched zlib 
2022-04-20T15:32:49.165Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:49.166Z appoptics:patching patched fs 
2022-04-20T15:32:49.201Z appoptics:patching patched raw-body 1.1.2
2022-04-20T15:32:49.215Z appoptics:patching patched express 3.4.6
2022-04-20T15:32:49.221Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:49.228Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.6
    ✓ UDP might lose a message
2022-04-20T15:32:49.264Z appoptics:patching patched raw-body 2.5.1
(node:1533) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (242ms)
  2 pending

npm WARN deprecated connect@2.12.0: connect 2.x series is deprecated

added 2 packages, changed 3 packages, and audited 929 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:32:57.341Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:57.342Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:57.342Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:57.348Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:57.487Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:57.665Z appoptics:patching patched crypto 
2022-04-20T15:32:57.721Z appoptics:patching patched https 
2022-04-20T15:32:57.721Z appoptics:patching patched http 
2022-04-20T15:32:57.764Z appoptics:patching patched zlib 
2022-04-20T15:32:57.775Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:57.775Z appoptics:patching patched fs 
2022-04-20T15:32:57.819Z appoptics:patching patched raw-body 1.1.2
2022-04-20T15:32:57.837Z appoptics:patching patched express 3.4.7
2022-04-20T15:32:57.850Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:32:57.865Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.7
    ✓ UDP might lose a message
2022-04-20T15:32:57.910Z appoptics:patching patched raw-body 2.5.1
(node:1555) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (46ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (302ms)
  2 pending


changed 1 package, and audited 929 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:05.550Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:05.551Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:05.551Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:05.552Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:05.645Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:05.784Z appoptics:patching patched crypto 
2022-04-20T15:33:05.804Z appoptics:patching patched https 
2022-04-20T15:33:05.804Z appoptics:patching patched http 
2022-04-20T15:33:05.845Z appoptics:patching patched zlib 
2022-04-20T15:33:05.854Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:05.854Z appoptics:patching patched fs 
2022-04-20T15:33:05.889Z appoptics:patching patched raw-body 1.1.2
2022-04-20T15:33:05.904Z appoptics:patching patched express 3.4.8
2022-04-20T15:33:05.910Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:05.916Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.8
    ✓ UDP might lose a message
2022-04-20T15:33:05.956Z appoptics:patching patched raw-body 2.5.1
(node:1577) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated static-favicon@1.0.0: use serve-favicon module
npm WARN deprecated connect@2.14.1: connect 2.x series is deprecated

added 22 packages, removed 1 package, changed 10 packages, and audited 950 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:14.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:14.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:14.929Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:14.930Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:14.991Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:15.125Z appoptics:patching patched crypto 
2022-04-20T15:33:15.145Z appoptics:patching patched https 
2022-04-20T15:33:15.146Z appoptics:patching patched http 
2022-04-20T15:33:15.184Z appoptics:patching patched zlib 
2022-04-20T15:33:15.192Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:15.192Z appoptics:patching patched fs 
2022-04-20T15:33:15.223Z appoptics:patching patched raw-body 1.1.3
2022-04-20T15:33:15.240Z appoptics:patching patched morgan 1.0.0
2022-04-20T15:33:15.247Z appoptics:patching patched express 3.5.0
2022-04-20T15:33:15.251Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:15.257Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.0
    ✓ UDP might lose a message
2022-04-20T15:33:15.293Z appoptics:patching patched raw-body 2.5.1
(node:1599) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending


changed 1 package, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:23.442Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:23.446Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:23.446Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:23.447Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:23.684Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:23.910Z appoptics:patching patched crypto 
2022-04-20T15:33:23.966Z appoptics:patching patched https 
2022-04-20T15:33:23.966Z appoptics:patching patched http 
2022-04-20T15:33:24.018Z appoptics:patching patched zlib 
2022-04-20T15:33:24.029Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:24.030Z appoptics:patching patched fs 
2022-04-20T15:33:24.070Z appoptics:patching patched raw-body 1.1.3
2022-04-20T15:33:24.092Z appoptics:patching patched morgan 1.0.0
2022-04-20T15:33:24.103Z appoptics:patching patched express 3.5.1
2022-04-20T15:33:24.108Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:24.119Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.1
    ✓ UDP might lose a message
2022-04-20T15:33:24.178Z appoptics:patching patched raw-body 2.5.1
(node:1621) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN deprecated static-favicon@1.0.2: use serve-favicon module
npm WARN deprecated scmp@0.0.3: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.14.5: connect 2.x series is deprecated

added 5 packages, changed 10 packages, and audited 955 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:31.682Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:31.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:31.683Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:31.684Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:31.750Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:31.887Z appoptics:patching patched crypto 
2022-04-20T15:33:31.906Z appoptics:patching patched https 
2022-04-20T15:33:31.907Z appoptics:patching patched http 
2022-04-20T15:33:31.943Z appoptics:patching patched zlib 
2022-04-20T15:33:31.951Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:31.951Z appoptics:patching patched fs 
2022-04-20T15:33:31.982Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:33:31.998Z appoptics:patching patched morgan 1.0.0
2022-04-20T15:33:32.009Z appoptics:patching patched express 3.5.2
2022-04-20T15:33:32.014Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:32.020Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.2
    ✓ UDP might lose a message
2022-04-20T15:33:32.063Z appoptics:patching patched raw-body 2.5.1
(node:1643) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 955 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:40.350Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:40.354Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:40.354Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:40.355Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:40.426Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:40.579Z appoptics:patching patched crypto 
2022-04-20T15:33:40.599Z appoptics:patching patched https 
2022-04-20T15:33:40.600Z appoptics:patching patched http 
2022-04-20T15:33:40.639Z appoptics:patching patched zlib 
2022-04-20T15:33:40.648Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:40.648Z appoptics:patching patched fs 
2022-04-20T15:33:40.681Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:33:40.700Z appoptics:patching patched morgan 1.0.0
2022-04-20T15:33:40.713Z appoptics:patching patched express 3.5.3
2022-04-20T15:33:40.719Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:40.726Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.3
    ✓ UDP might lose a message
2022-04-20T15:33:40.768Z appoptics:patching patched raw-body 2.5.1
(node:1665) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (236ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.15.0: connect 2.x series is deprecated

added 3 packages, removed 5 packages, changed 14 packages, and audited 953 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (3 low, 11 moderate, 11 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:49.720Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:49.720Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:49.720Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:49.721Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:49.792Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:49.949Z appoptics:patching patched crypto 
2022-04-20T15:33:49.970Z appoptics:patching patched https 
2022-04-20T15:33:49.971Z appoptics:patching patched http 
2022-04-20T15:33:50.011Z appoptics:patching patched zlib 
2022-04-20T15:33:50.020Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:50.021Z appoptics:patching patched fs 
2022-04-20T15:33:50.053Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:33:50.069Z appoptics:patching patched morgan 1.0.1
2022-04-20T15:33:50.077Z appoptics:patching patched express 3.6.0
2022-04-20T15:33:50.084Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:50.091Z appoptics:debug starting runtimeMetrics


  probes.express 3.6.0
    ✓ UDP might lose a message
2022-04-20T15:33:50.128Z appoptics:patching patched raw-body 2.5.1
(node:1687) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.16.2: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 10 packages, and audited 962 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:33:58.103Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:58.108Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:58.108Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:58.120Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:58.291Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:58.453Z appoptics:patching patched crypto 
2022-04-20T15:33:58.511Z appoptics:patching patched https 
2022-04-20T15:33:58.511Z appoptics:patching patched http 
2022-04-20T15:33:58.556Z appoptics:patching patched zlib 
2022-04-20T15:33:58.567Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:58.568Z appoptics:patching patched fs 
2022-04-20T15:33:58.619Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:33:58.636Z appoptics:patching patched morgan 1.0.1
2022-04-20T15:33:58.647Z appoptics:patching patched express 3.7.0
2022-04-20T15:33:58.658Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:33:58.664Z appoptics:debug starting runtimeMetrics


  probes.express 3.7.0
    ✓ UDP might lose a message
2022-04-20T15:33:58.700Z appoptics:patching patched raw-body 2.5.1
(node:1709) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.1: connect 2.x series is deprecated

removed 1 package, changed 6 packages, and audited 961 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:06.876Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:06.876Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:06.876Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:06.877Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:06.966Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:07.129Z appoptics:patching patched crypto 
2022-04-20T15:34:07.151Z appoptics:patching patched https 
2022-04-20T15:34:07.152Z appoptics:patching patched http 
2022-04-20T15:34:07.193Z appoptics:patching patched zlib 
2022-04-20T15:34:07.202Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:07.203Z appoptics:patching patched fs 
2022-04-20T15:34:07.246Z appoptics:patching patched raw-body 1.1.4
2022-04-20T15:34:07.263Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:34:07.273Z appoptics:patching patched express 3.8.0
2022-04-20T15:34:07.280Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:07.289Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.0
    ✓ UDP might lose a message
2022-04-20T15:34:07.333Z appoptics:patching patched raw-body 2.5.1
(node:1731) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.3: connect 2.x series is deprecated

removed 1 package, changed 7 packages, and audited 960 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 12 moderate, 13 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:15.678Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:15.679Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:15.679Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:15.680Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:15.760Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:15.927Z appoptics:patching patched crypto 
2022-04-20T15:34:15.949Z appoptics:patching patched https 
2022-04-20T15:34:15.949Z appoptics:patching patched http 
2022-04-20T15:34:15.990Z appoptics:patching patched zlib 
2022-04-20T15:34:15.999Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:16.000Z appoptics:patching patched fs 
2022-04-20T15:34:16.041Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:34:16.060Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:34:16.069Z appoptics:patching patched express 3.8.1
2022-04-20T15:34:16.076Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:16.083Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.1
    ✓ UDP might lose a message
2022-04-20T15:34:16.129Z appoptics:patching patched raw-body 2.5.1
(node:1753) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (297ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.18.0: connect 2.x series is deprecated

added 4 packages, removed 3 packages, changed 12 packages, and audited 961 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:24.250Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:24.251Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:24.251Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:24.251Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:24.340Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:24.494Z appoptics:patching patched crypto 
2022-04-20T15:34:24.537Z appoptics:patching patched https 
2022-04-20T15:34:24.537Z appoptics:patching patched http 
2022-04-20T15:34:24.578Z appoptics:patching patched zlib 
2022-04-20T15:34:24.587Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:24.587Z appoptics:patching patched fs 
2022-04-20T15:34:24.629Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:34:24.647Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:34:24.656Z appoptics:patching patched express 3.9.0
2022-04-20T15:34:24.672Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:24.681Z appoptics:debug starting runtimeMetrics


  probes.express 3.9.0
    ✓ UDP might lose a message
2022-04-20T15:34:24.738Z appoptics:patching patched raw-body 2.5.1
(node:1775) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (90ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (314ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.1: connect 2.x series is deprecated

added 2 packages, changed 12 packages, and audited 963 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:32.733Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:32.734Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:32.734Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:32.735Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:32.799Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:32.962Z appoptics:patching patched crypto 
2022-04-20T15:34:32.983Z appoptics:patching patched https 
2022-04-20T15:34:32.983Z appoptics:patching patched http 
2022-04-20T15:34:33.025Z appoptics:patching patched zlib 
2022-04-20T15:34:33.036Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:33.036Z appoptics:patching patched fs 
2022-04-20T15:34:33.075Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:34:33.094Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:34:33.105Z appoptics:patching patched express 3.10.0
2022-04-20T15:34:33.113Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:33.121Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.0
    ✓ UDP might lose a message
2022-04-20T15:34:33.162Z appoptics:patching patched raw-body 2.5.1
(node:1797) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.2: connect 2.x series is deprecated

changed 5 packages, and audited 963 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:41.860Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:41.861Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:41.861Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:41.862Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:41.954Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:42.125Z appoptics:patching patched crypto 
2022-04-20T15:34:42.147Z appoptics:patching patched https 
2022-04-20T15:34:42.148Z appoptics:patching patched http 
2022-04-20T15:34:42.189Z appoptics:patching patched zlib 
2022-04-20T15:34:42.200Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:42.200Z appoptics:patching patched fs 
2022-04-20T15:34:42.238Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:34:42.256Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:34:42.265Z appoptics:patching patched express 3.10.1
2022-04-20T15:34:42.273Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:42.281Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.1
    ✓ UDP might lose a message
2022-04-20T15:34:42.326Z appoptics:patching patched raw-body 2.5.1
(node:1819) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.3: connect 2.x series is deprecated

changed 4 packages, and audited 963 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:50.297Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:50.298Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:50.298Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:50.298Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:50.487Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:50.718Z appoptics:patching patched crypto 
2022-04-20T15:34:50.741Z appoptics:patching patched https 
2022-04-20T15:34:50.742Z appoptics:patching patched http 
2022-04-20T15:34:50.786Z appoptics:patching patched zlib 
2022-04-20T15:34:50.796Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:50.796Z appoptics:patching patched fs 
2022-04-20T15:34:50.836Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:34:50.858Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:34:50.868Z appoptics:patching patched express 3.10.2
2022-04-20T15:34:50.876Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:50.885Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.2
    ✓ UDP might lose a message
2022-04-20T15:34:50.948Z appoptics:patching patched raw-body 2.5.1
(node:1841) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (291ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.4: connect 2.x series is deprecated

added 3 packages, changed 8 packages, and audited 966 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:34:58.745Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:58.745Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:58.745Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:58.746Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:58.808Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:58.944Z appoptics:patching patched crypto 
2022-04-20T15:34:58.963Z appoptics:patching patched https 
2022-04-20T15:34:58.963Z appoptics:patching patched http 
2022-04-20T15:34:59.002Z appoptics:patching patched zlib 
2022-04-20T15:34:59.012Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:59.012Z appoptics:patching patched fs 
2022-04-20T15:34:59.048Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:34:59.064Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:34:59.074Z appoptics:patching patched express 3.10.3
2022-04-20T15:34:59.081Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:34:59.089Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.3
    ✓ UDP might lose a message
2022-04-20T15:34:59.133Z appoptics:patching patched raw-body 2.5.1
(node:1863) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.5: connect 2.x series is deprecated

added 6 packages, changed 11 packages, and audited 972 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:08.396Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:08.397Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:08.397Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:08.397Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:08.458Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:08.589Z appoptics:patching patched crypto 
2022-04-20T15:35:08.608Z appoptics:patching patched https 
2022-04-20T15:35:08.609Z appoptics:patching patched http 
2022-04-20T15:35:08.647Z appoptics:patching patched zlib 
2022-04-20T15:35:08.659Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:08.660Z appoptics:patching patched fs 
2022-04-20T15:35:08.695Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:35:08.709Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:35:08.717Z appoptics:patching patched express 3.10.4
2022-04-20T15:35:08.723Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:08.735Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.4
    ✓ UDP might lose a message
2022-04-20T15:35:08.773Z appoptics:patching patched raw-body 2.5.1
(node:1885) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (223ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.6: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 15 packages, and audited 972 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (2 low, 11 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:17.389Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:17.390Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:17.390Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:17.391Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:17.474Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:17.634Z appoptics:patching patched crypto 
2022-04-20T15:35:17.656Z appoptics:patching patched https 
2022-04-20T15:35:17.656Z appoptics:patching patched http 
2022-04-20T15:35:17.698Z appoptics:patching patched zlib 
2022-04-20T15:35:17.712Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:17.713Z appoptics:patching patched fs 
2022-04-20T15:35:17.751Z appoptics:patching patched raw-body 1.1.6
2022-04-20T15:35:17.769Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:35:17.778Z appoptics:patching patched express 3.10.5
2022-04-20T15:35:17.785Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:17.792Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.5
    ✓ UDP might lose a message
2022-04-20T15:35:17.834Z appoptics:patching patched raw-body 2.5.1
(node:1907) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (250ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.
npm WARN deprecated connect@2.20.2: connect 2.x series is deprecated

added 14 packages, removed 2 packages, changed 20 packages, and audited 984 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 11 moderate, 21 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:26.862Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:26.863Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:26.863Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:26.863Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:26.954Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:27.142Z appoptics:patching patched crypto 
2022-04-20T15:35:27.208Z appoptics:patching patched https 
2022-04-20T15:35:27.209Z appoptics:patching patched http 
2022-04-20T15:35:27.239Z appoptics:patching patched zlib 
2022-04-20T15:35:27.261Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:27.261Z appoptics:patching patched fs 
2022-04-20T15:35:27.326Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:35:27.352Z appoptics:patching patched express 3.11.0
2022-04-20T15:35:27.360Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:27.369Z appoptics:debug starting runtimeMetrics


  probes.express 3.11.0
    ✓ UDP might lose a message
2022-04-20T15:35:27.411Z appoptics:patching patched raw-body 2.5.1
(node:1929) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.0: connect 2.x series is deprecated

added 15 packages, removed 2 packages, changed 12 packages, and audited 997 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 10 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:35.951Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:35.951Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:35.951Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:35.952Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:36.036Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:36.195Z appoptics:patching patched crypto 
2022-04-20T15:35:36.224Z appoptics:patching patched https 
2022-04-20T15:35:36.224Z appoptics:patching patched http 
2022-04-20T15:35:36.259Z appoptics:patching patched zlib 
2022-04-20T15:35:36.281Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:36.281Z appoptics:patching patched fs 
2022-04-20T15:35:36.348Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:35:36.361Z appoptics:patching patched express 3.12.0
2022-04-20T15:35:36.368Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:36.377Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.0
    ✓ UDP might lose a message
2022-04-20T15:35:36.428Z appoptics:patching patched raw-body 2.5.1
(node:1951) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (234ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.1: connect 2.x series is deprecated

added 2 packages, removed 2 packages, changed 6 packages, and audited 997 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:44.560Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:44.560Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:44.560Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:44.561Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:44.627Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:44.765Z appoptics:patching patched crypto 
2022-04-20T15:35:44.785Z appoptics:patching patched https 
2022-04-20T15:35:44.786Z appoptics:patching patched http 
2022-04-20T15:35:44.822Z appoptics:patching patched zlib 
2022-04-20T15:35:44.845Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:44.846Z appoptics:patching patched fs 
2022-04-20T15:35:44.902Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:35:44.918Z appoptics:patching patched express 3.12.1
2022-04-20T15:35:44.924Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:44.931Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.1
    ✓ UDP might lose a message
2022-04-20T15:35:44.967Z appoptics:patching patched raw-body 2.5.1
(node:1973) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (242ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.22.0: connect 2.x series is deprecated

added 8 packages, removed 1 package, changed 10 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:35:53.817Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:53.818Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:53.818Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:53.818Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:53.880Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:54.019Z appoptics:patching patched crypto 
2022-04-20T15:35:54.047Z appoptics:patching patched https 
2022-04-20T15:35:54.047Z appoptics:patching patched http 
2022-04-20T15:35:54.086Z appoptics:patching patched zlib 
2022-04-20T15:35:54.106Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:54.106Z appoptics:patching patched fs 
2022-04-20T15:35:54.178Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:35:54.189Z appoptics:patching patched express 3.13.0
2022-04-20T15:35:54.194Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:35:54.202Z appoptics:debug starting runtimeMetrics


  probes.express 3.13.0
    ✓ UDP might lose a message
2022-04-20T15:35:54.240Z appoptics:patching patched raw-body 2.5.1
(node:1995) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (240ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.23.0: connect 2.x series is deprecated

added 3 packages, removed 1 package, changed 10 packages, and audited 1006 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:02.233Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:02.233Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:02.234Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:02.234Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:02.298Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:02.431Z appoptics:patching patched crypto 
2022-04-20T15:36:02.449Z appoptics:patching patched https 
2022-04-20T15:36:02.449Z appoptics:patching patched http 
2022-04-20T15:36:02.486Z appoptics:patching patched zlib 
2022-04-20T15:36:02.507Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:02.507Z appoptics:patching patched fs 
2022-04-20T15:36:02.573Z appoptics:patching patched morgan 1.1.1
2022-04-20T15:36:02.586Z appoptics:patching patched express 3.14.0
2022-04-20T15:36:02.593Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:02.600Z appoptics:debug starting runtimeMetrics


  probes.express 3.14.0
    ✓ UDP might lose a message
2022-04-20T15:36:02.641Z appoptics:patching patched raw-body 2.5.1
(node:2017) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.0: connect 2.x series is deprecated

added 8 packages, removed 3 packages, changed 26 packages, and audited 1011 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:12.055Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:12.056Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:12.056Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:12.056Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:12.127Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:12.291Z appoptics:patching patched crypto 
2022-04-20T15:36:12.312Z appoptics:patching patched https 
2022-04-20T15:36:12.312Z appoptics:patching patched http 
2022-04-20T15:36:12.353Z appoptics:patching patched zlib 
2022-04-20T15:36:12.375Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:12.376Z appoptics:patching patched fs 
2022-04-20T15:36:12.454Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:36:12.468Z appoptics:patching patched express 3.15.0
2022-04-20T15:36:12.475Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:12.483Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.0
    ✓ UDP might lose a message
2022-04-20T15:36:12.523Z appoptics:patching patched raw-body 2.5.1
(node:2039) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.1: connect 2.x series is deprecated

changed 7 packages, and audited 1011 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:21.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:21.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:21.131Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:21.132Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:21.200Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:21.423Z appoptics:patching patched crypto 
2022-04-20T15:36:21.447Z appoptics:patching patched https 
2022-04-20T15:36:21.448Z appoptics:patching patched http 
2022-04-20T15:36:21.502Z appoptics:patching patched zlib 
2022-04-20T15:36:21.530Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:21.530Z appoptics:patching patched fs 
2022-04-20T15:36:21.612Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:36:21.626Z appoptics:patching patched express 3.15.1
2022-04-20T15:36:21.633Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:21.641Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.1
    ✓ UDP might lose a message
2022-04-20T15:36:21.680Z appoptics:patching patched raw-body 2.5.1
(node:2061) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (256ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.2: connect 2.x series is deprecated

removed 2 packages, changed 7 packages, and audited 1009 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:29.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:29.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:29.893Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:29.894Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:30.045Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:30.344Z appoptics:patching patched crypto 
2022-04-20T15:36:30.418Z appoptics:patching patched https 
2022-04-20T15:36:30.421Z appoptics:patching patched http 
2022-04-20T15:36:30.477Z appoptics:patching patched zlib 
2022-04-20T15:36:30.504Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:30.504Z appoptics:patching patched fs 
2022-04-20T15:36:30.609Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:36:30.624Z appoptics:patching patched express 3.15.2
2022-04-20T15:36:30.631Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:30.639Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.2
    ✓ UDP might lose a message
2022-04-20T15:36:30.691Z appoptics:patching patched raw-body 2.5.1
(node:2083) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.3: connect 2.x series is deprecated

removed 5 packages, changed 4 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:38.567Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:38.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:38.568Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:38.569Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:38.635Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:38.777Z appoptics:patching patched crypto 
2022-04-20T15:36:38.798Z appoptics:patching patched https 
2022-04-20T15:36:38.799Z appoptics:patching patched http 
2022-04-20T15:36:38.839Z appoptics:patching patched zlib 
2022-04-20T15:36:38.860Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:38.860Z appoptics:patching patched fs 
2022-04-20T15:36:38.919Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:36:38.934Z appoptics:patching patched express 3.15.3
2022-04-20T15:36:38.941Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:38.949Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.3
    ✓ UDP might lose a message
2022-04-20T15:36:38.991Z appoptics:patching patched raw-body 2.5.1
(node:2105) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (261ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated connect@2.25.0: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 11 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:48.115Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:48.115Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:48.116Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:48.116Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:48.195Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:48.353Z appoptics:patching patched crypto 
2022-04-20T15:36:48.383Z appoptics:patching patched https 
2022-04-20T15:36:48.383Z appoptics:patching patched http 
2022-04-20T15:36:48.420Z appoptics:patching patched zlib 
2022-04-20T15:36:48.444Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:48.444Z appoptics:patching patched fs 
2022-04-20T15:36:48.523Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:36:48.537Z appoptics:patching patched express 3.16.0
2022-04-20T15:36:48.542Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:48.550Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.0
    ✓ UDP might lose a message
2022-04-20T15:36:48.592Z appoptics:patching patched raw-body 2.5.1
(node:2127) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (249ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.1: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:36:57.360Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:57.361Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:57.361Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:57.361Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:57.423Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:57.553Z appoptics:patching patched crypto 
2022-04-20T15:36:57.571Z appoptics:patching patched https 
2022-04-20T15:36:57.572Z appoptics:patching patched http 
2022-04-20T15:36:57.609Z appoptics:patching patched zlib 
2022-04-20T15:36:57.628Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:57.629Z appoptics:patching patched fs 
2022-04-20T15:36:57.703Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:36:57.717Z appoptics:patching patched express 3.16.1
2022-04-20T15:36:57.724Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:36:57.732Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.1
    ✓ UDP might lose a message
2022-04-20T15:36:57.780Z appoptics:patching patched raw-body 2.5.1
(node:2149) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (256ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:06.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:06.203Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:06.203Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:06.205Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:06.286Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:06.431Z appoptics:patching patched crypto 
2022-04-20T15:37:06.485Z appoptics:patching patched https 
2022-04-20T15:37:06.486Z appoptics:patching patched http 
2022-04-20T15:37:06.517Z appoptics:patching patched zlib 
2022-04-20T15:37:06.541Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:06.542Z appoptics:patching patched fs 
2022-04-20T15:37:06.656Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:37:06.669Z appoptics:patching patched express 3.16.2
2022-04-20T15:37:06.676Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:06.683Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.2
    ✓ UDP might lose a message
2022-04-20T15:37:06.731Z appoptics:patching patched raw-body 2.5.1
(node:2171) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (50ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (318ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.3: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:14.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:14.422Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:14.422Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:14.422Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:14.485Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:14.641Z appoptics:patching patched crypto 
2022-04-20T15:37:14.676Z appoptics:patching patched https 
2022-04-20T15:37:14.677Z appoptics:patching patched http 
2022-04-20T15:37:14.731Z appoptics:patching patched zlib 
2022-04-20T15:37:14.756Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:14.756Z appoptics:patching patched fs 
2022-04-20T15:37:14.856Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:37:14.870Z appoptics:patching patched express 3.16.3
2022-04-20T15:37:14.876Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:14.886Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.3
    ✓ UDP might lose a message
2022-04-20T15:37:14.931Z appoptics:patching patched raw-body 2.5.1
(node:2193) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (57ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (325ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.4: connect 2.x series is deprecated

removed 10 packages, changed 7 packages, and audited 1003 packages in 19s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:34.902Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:34.903Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:34.903Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:34.903Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:34.976Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:35.134Z appoptics:patching patched crypto 
2022-04-20T15:37:35.153Z appoptics:patching patched https 
2022-04-20T15:37:35.154Z appoptics:patching patched http 
2022-04-20T15:37:35.194Z appoptics:patching patched zlib 
2022-04-20T15:37:35.214Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:35.214Z appoptics:patching patched fs 
2022-04-20T15:37:35.283Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:37:35.295Z appoptics:patching patched express 3.16.4
2022-04-20T15:37:35.301Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:35.309Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.4
    ✓ UDP might lose a message
2022-04-20T15:37:35.346Z appoptics:patching patched raw-body 2.5.1
(node:2215) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (242ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.5: connect 2.x series is deprecated

changed 3 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:43.547Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:43.547Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:43.547Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:43.548Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:43.615Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:43.780Z appoptics:patching patched crypto 
2022-04-20T15:37:43.800Z appoptics:patching patched https 
2022-04-20T15:37:43.801Z appoptics:patching patched http 
2022-04-20T15:37:43.839Z appoptics:patching patched zlib 
2022-04-20T15:37:43.862Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:43.863Z appoptics:patching patched fs 
2022-04-20T15:37:43.941Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:37:43.954Z appoptics:patching patched express 3.16.5
2022-04-20T15:37:43.960Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:43.967Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.5
    ✓ UDP might lose a message
2022-04-20T15:37:44.007Z appoptics:patching patched raw-body 2.5.1
(node:2237) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.6: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:37:52.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:37:52.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:37:52.458Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:37:52.459Z appoptics:debug using context provider: ace-context
2022-04-20T15:37:52.532Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:37:52.693Z appoptics:patching patched crypto 
2022-04-20T15:37:52.714Z appoptics:patching patched https 
2022-04-20T15:37:52.715Z appoptics:patching patched http 
2022-04-20T15:37:52.757Z appoptics:patching patched zlib 
2022-04-20T15:37:52.779Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:37:52.779Z appoptics:patching patched fs 
2022-04-20T15:37:52.852Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:37:52.863Z appoptics:patching patched express 3.16.6
2022-04-20T15:37:52.870Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:37:52.877Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.6
    ✓ UDP might lose a message
2022-04-20T15:37:52.920Z appoptics:patching patched raw-body 2.5.1
(node:2259) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (113ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (324ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.7: connect 2.x series is deprecated

added 3 packages, removed 3 packages, changed 4 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:01.509Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:01.509Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:01.510Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:01.510Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:01.592Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:01.758Z appoptics:patching patched crypto 
2022-04-20T15:38:01.781Z appoptics:patching patched https 
2022-04-20T15:38:01.782Z appoptics:patching patched http 
2022-04-20T15:38:01.820Z appoptics:patching patched zlib 
2022-04-20T15:38:01.840Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:01.840Z appoptics:patching patched fs 
2022-04-20T15:38:01.907Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:38:01.918Z appoptics:patching patched express 3.16.7
2022-04-20T15:38:01.925Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:01.931Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.7
    ✓ UDP might lose a message
2022-04-20T15:38:01.967Z appoptics:patching patched raw-body 2.5.1
(node:2281) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.8: connect 2.x series is deprecated

changed 4 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:10.300Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:10.301Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:10.301Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:10.301Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:10.366Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:10.548Z appoptics:patching patched crypto 
2022-04-20T15:38:10.569Z appoptics:patching patched https 
2022-04-20T15:38:10.570Z appoptics:patching patched http 
2022-04-20T15:38:10.614Z appoptics:patching patched zlib 
2022-04-20T15:38:10.636Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:10.636Z appoptics:patching patched fs 
2022-04-20T15:38:10.709Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:38:10.721Z appoptics:patching patched express 3.16.8
2022-04-20T15:38:10.727Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:10.734Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.8
    ✓ UDP might lose a message
2022-04-20T15:38:10.769Z appoptics:patching patched raw-body 2.5.1
(node:2303) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (224ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.9: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:18.704Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:18.705Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:18.705Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:18.706Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:18.788Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:18.951Z appoptics:patching patched crypto 
2022-04-20T15:38:19.014Z appoptics:patching patched https 
2022-04-20T15:38:19.015Z appoptics:patching patched http 
2022-04-20T15:38:19.078Z appoptics:patching patched zlib 
2022-04-20T15:38:19.123Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:19.129Z appoptics:patching patched fs 
2022-04-20T15:38:19.217Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:38:19.229Z appoptics:patching patched express 3.16.9
2022-04-20T15:38:19.235Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:19.242Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.9
    ✓ UDP might lose a message
2022-04-20T15:38:19.295Z appoptics:patching patched raw-body 2.5.1
(node:2325) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (279ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.10: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 995 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:27.542Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:27.543Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:27.543Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:27.543Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:27.608Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:27.743Z appoptics:patching patched crypto 
2022-04-20T15:38:27.761Z appoptics:patching patched https 
2022-04-20T15:38:27.762Z appoptics:patching patched http 
2022-04-20T15:38:27.800Z appoptics:patching patched zlib 
2022-04-20T15:38:27.819Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:27.819Z appoptics:patching patched fs 
2022-04-20T15:38:27.879Z appoptics:patching patched morgan 1.2.3
2022-04-20T15:38:27.893Z appoptics:patching patched express 3.16.10
2022-04-20T15:38:27.900Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:27.908Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.10
    ✓ UDP might lose a message
2022-04-20T15:38:27.951Z appoptics:patching patched raw-body 2.5.1
(node:2347) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (244ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.0: connect 2.x series is deprecated

added 24 packages, removed 3 packages, changed 38 packages, and audited 1016 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:37.834Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:37.834Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:37.834Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:37.835Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:37.897Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:38.044Z appoptics:patching patched crypto 
2022-04-20T15:38:38.065Z appoptics:patching patched https 
2022-04-20T15:38:38.065Z appoptics:patching patched http 
2022-04-20T15:38:38.110Z appoptics:patching patched zlib 
2022-04-20T15:38:38.133Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:38.134Z appoptics:patching patched fs 
2022-04-20T15:38:38.231Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:38:38.244Z appoptics:patching patched express 3.17.0
2022-04-20T15:38:38.252Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:38.260Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.0
    ✓ UDP might lose a message
2022-04-20T15:38:38.310Z appoptics:patching patched raw-body 2.5.1
(node:2369) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1016 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:46.991Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:46.992Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:46.992Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:46.992Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:47.061Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:47.222Z appoptics:patching patched crypto 
2022-04-20T15:38:47.243Z appoptics:patching patched https 
2022-04-20T15:38:47.243Z appoptics:patching patched http 
2022-04-20T15:38:47.284Z appoptics:patching patched zlib 
2022-04-20T15:38:47.306Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:47.306Z appoptics:patching patched fs 
2022-04-20T15:38:47.401Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:38:47.413Z appoptics:patching patched express 3.17.1
2022-04-20T15:38:47.419Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:47.426Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.1
    ✓ UDP might lose a message
2022-04-20T15:38:47.466Z appoptics:patching patched raw-body 2.5.1
(node:2391) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.1: connect 2.x series is deprecated

removed 3 packages, changed 7 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:38:55.540Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:38:55.541Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:38:55.541Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:38:55.542Z appoptics:debug using context provider: ace-context
2022-04-20T15:38:55.611Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:38:55.767Z appoptics:patching patched crypto 
2022-04-20T15:38:55.788Z appoptics:patching patched https 
2022-04-20T15:38:55.789Z appoptics:patching patched http 
2022-04-20T15:38:55.828Z appoptics:patching patched zlib 
2022-04-20T15:38:55.851Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:38:55.851Z appoptics:patching patched fs 
2022-04-20T15:38:55.944Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:38:55.959Z appoptics:patching patched express 3.17.2
2022-04-20T15:38:55.966Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:38:55.974Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.2
    ✓ UDP might lose a message
2022-04-20T15:38:56.023Z appoptics:patching patched raw-body 2.5.1
(node:2413) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (288ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

added 1 package, changed 4 packages, and audited 1014 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:04.577Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:04.577Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:04.578Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:04.578Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:04.709Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:04.862Z appoptics:patching patched crypto 
2022-04-20T15:39:04.881Z appoptics:patching patched https 
2022-04-20T15:39:04.881Z appoptics:patching patched http 
2022-04-20T15:39:04.917Z appoptics:patching patched zlib 
2022-04-20T15:39:04.937Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:04.938Z appoptics:patching patched fs 
2022-04-20T15:39:05.022Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:39:05.033Z appoptics:patching patched express 3.17.3
2022-04-20T15:39:05.039Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:05.046Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.3
    ✓ UDP might lose a message
2022-04-20T15:39:05.088Z appoptics:patching patched raw-body 2.5.1
(node:2435) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (245ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.2: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:13.190Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:13.191Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:13.191Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:13.192Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:13.259Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:13.402Z appoptics:patching patched crypto 
2022-04-20T15:39:13.424Z appoptics:patching patched https 
2022-04-20T15:39:13.424Z appoptics:patching patched http 
2022-04-20T15:39:13.461Z appoptics:patching patched zlib 
2022-04-20T15:39:13.484Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:13.484Z appoptics:patching patched fs 
2022-04-20T15:39:13.573Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:39:13.584Z appoptics:patching patched express 3.17.4
2022-04-20T15:39:13.590Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:13.598Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.4
    ✓ UDP might lose a message
2022-04-20T15:39:13.650Z appoptics:patching patched raw-body 2.5.1
(node:2457) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (266ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.3: connect 2.x series is deprecated

removed 9 packages, changed 5 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:22.193Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:22.193Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:22.193Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:22.194Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:22.280Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:22.500Z appoptics:patching patched crypto 
2022-04-20T15:39:22.552Z appoptics:patching patched https 
2022-04-20T15:39:22.553Z appoptics:patching patched http 
2022-04-20T15:39:22.606Z appoptics:patching patched zlib 
2022-04-20T15:39:22.638Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:22.639Z appoptics:patching patched fs 
2022-04-20T15:39:22.788Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:39:22.805Z appoptics:patching patched express 3.17.5
2022-04-20T15:39:22.811Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:22.819Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.5
    ✓ UDP might lose a message
2022-04-20T15:39:22.862Z appoptics:patching patched raw-body 2.5.1
(node:2479) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (247ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.4: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:30.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:30.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:30.830Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:30.830Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:30.894Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:31.028Z appoptics:patching patched crypto 
2022-04-20T15:39:31.046Z appoptics:patching patched https 
2022-04-20T15:39:31.047Z appoptics:patching patched http 
2022-04-20T15:39:31.085Z appoptics:patching patched zlib 
2022-04-20T15:39:31.105Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:31.106Z appoptics:patching patched fs 
2022-04-20T15:39:31.182Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:39:31.193Z appoptics:patching patched express 3.17.6
2022-04-20T15:39:31.199Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:31.205Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.6
    ✓ UDP might lose a message
2022-04-20T15:39:31.243Z appoptics:patching patched raw-body 2.5.1
(node:2501) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (227ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.5: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:40.077Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:40.077Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:40.077Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:40.078Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:40.140Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:40.272Z appoptics:patching patched crypto 
2022-04-20T15:39:40.289Z appoptics:patching patched https 
2022-04-20T15:39:40.290Z appoptics:patching patched http 
2022-04-20T15:39:40.327Z appoptics:patching patched zlib 
2022-04-20T15:39:40.349Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:40.349Z appoptics:patching patched fs 
2022-04-20T15:39:40.423Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:39:40.434Z appoptics:patching patched express 3.17.7
2022-04-20T15:39:40.440Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:40.446Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.7
    ✓ UDP might lose a message
2022-04-20T15:39:40.484Z appoptics:patching patched raw-body 2.5.1
(node:2523) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (225ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.6: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:48.630Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:48.631Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:48.631Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:48.632Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:48.732Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:48.914Z appoptics:patching patched crypto 
2022-04-20T15:39:48.959Z appoptics:patching patched https 
2022-04-20T15:39:48.959Z appoptics:patching patched http 
2022-04-20T15:39:49.003Z appoptics:patching patched zlib 
2022-04-20T15:39:49.033Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:49.033Z appoptics:patching patched fs 
2022-04-20T15:39:49.154Z appoptics:patching patched morgan 1.3.2
2022-04-20T15:39:49.168Z appoptics:patching patched express 3.17.8
2022-04-20T15:39:49.175Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:49.184Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.8
    ✓ UDP might lose a message
2022-04-20T15:39:49.236Z appoptics:patching patched raw-body 2.5.1
(node:2545) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (271ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.0: connect 2.x series is deprecated

added 22 packages, removed 4 packages, changed 38 packages, and audited 1022 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:39:57.796Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:39:57.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:39:57.800Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:39:57.801Z appoptics:debug using context provider: ace-context
2022-04-20T15:39:57.875Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:39:58.038Z appoptics:patching patched crypto 
2022-04-20T15:39:58.080Z appoptics:patching patched https 
2022-04-20T15:39:58.081Z appoptics:patching patched http 
2022-04-20T15:39:58.119Z appoptics:patching patched zlib 
2022-04-20T15:39:58.149Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:39:58.150Z appoptics:patching patched fs 
2022-04-20T15:39:58.275Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:39:58.296Z appoptics:patching patched express 3.18.0
2022-04-20T15:39:58.301Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:39:58.309Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.0
    ✓ UDP might lose a message
Wed, 20 Apr 2022 15:39:58 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/express.js:36:9
2022-04-20T15:39:58.361Z appoptics:patching patched raw-body 2.5.1
(node:2567) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
Wed, 20 Apr 2022 15:39:58 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:487:9
Wed, 20 Apr 2022 15:39:58 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:490:30
Wed, 20 Apr 2022 15:39:58 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:493:9
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.1: connect 2.x series is deprecated

removed 9 packages, changed 8 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:06.784Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:06.785Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:06.785Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:06.786Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:06.853Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:07.004Z appoptics:patching patched crypto 
2022-04-20T15:40:07.026Z appoptics:patching patched https 
2022-04-20T15:40:07.027Z appoptics:patching patched http 
2022-04-20T15:40:07.067Z appoptics:patching patched zlib 
2022-04-20T15:40:07.094Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:07.094Z appoptics:patching patched fs 
2022-04-20T15:40:07.198Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:40:07.224Z appoptics:patching patched express 3.18.1
2022-04-20T15:40:07.228Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:07.236Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.1
    ✓ UDP might lose a message
2022-04-20T15:40:07.275Z appoptics:patching patched raw-body 2.5.1
(node:2589) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (233ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:16.113Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:16.114Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:16.114Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:16.114Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:16.179Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:16.314Z appoptics:patching patched crypto 
2022-04-20T15:40:16.332Z appoptics:patching patched https 
2022-04-20T15:40:16.333Z appoptics:patching patched http 
2022-04-20T15:40:16.369Z appoptics:patching patched zlib 
2022-04-20T15:40:16.393Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:16.393Z appoptics:patching patched fs 
2022-04-20T15:40:16.473Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:40:16.496Z appoptics:patching patched express 3.18.2
2022-04-20T15:40:16.500Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:16.507Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.2
    ✓ UDP might lose a message
2022-04-20T15:40:16.544Z appoptics:patching patched raw-body 2.5.1
(node:2611) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (243ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.3: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:24.613Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:24.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:24.614Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:24.614Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:24.715Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:24.873Z appoptics:patching patched crypto 
2022-04-20T15:40:24.893Z appoptics:patching patched https 
2022-04-20T15:40:24.894Z appoptics:patching patched http 
2022-04-20T15:40:24.957Z appoptics:patching patched zlib 
2022-04-20T15:40:24.999Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:24.999Z appoptics:patching patched fs 
2022-04-20T15:40:25.083Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:40:25.101Z appoptics:patching patched express 3.18.3
2022-04-20T15:40:25.105Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:25.111Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.3
    ✓ UDP might lose a message
2022-04-20T15:40:25.148Z appoptics:patching patched raw-body 2.5.1
(node:2633) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (247ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.4: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1012 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:34.037Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:34.038Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:34.038Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:34.039Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:34.112Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:34.256Z appoptics:patching patched crypto 
2022-04-20T15:40:34.274Z appoptics:patching patched https 
2022-04-20T15:40:34.275Z appoptics:patching patched http 
2022-04-20T15:40:34.313Z appoptics:patching patched zlib 
2022-04-20T15:40:34.338Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:34.338Z appoptics:patching patched fs 
2022-04-20T15:40:34.417Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:40:34.435Z appoptics:patching patched express 3.18.4
2022-04-20T15:40:34.439Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:34.446Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.4
    ✓ UDP might lose a message
2022-04-20T15:40:34.483Z appoptics:patching patched raw-body 2.5.1
(node:2655) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (244ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.6: connect 2.x series is deprecated

changed 3 packages, and audited 1012 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:42.608Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:42.609Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:42.609Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:42.610Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:42.680Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:42.861Z appoptics:patching patched crypto 
2022-04-20T15:40:42.907Z appoptics:patching patched https 
2022-04-20T15:40:42.908Z appoptics:patching patched http 
2022-04-20T15:40:42.963Z appoptics:patching patched zlib 
2022-04-20T15:40:43.001Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:43.001Z appoptics:patching patched fs 
2022-04-20T15:40:43.098Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:40:43.116Z appoptics:patching patched express 3.18.5
2022-04-20T15:40:43.120Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:43.127Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.5
    ✓ UDP might lose a message
2022-04-20T15:40:43.170Z appoptics:patching patched raw-body 2.5.1
(node:2677) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (248ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1012 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:40:51.502Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:40:51.503Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:40:51.503Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:40:51.504Z appoptics:debug using context provider: ace-context
2022-04-20T15:40:51.567Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:40:51.724Z appoptics:patching patched crypto 
2022-04-20T15:40:51.754Z appoptics:patching patched https 
2022-04-20T15:40:51.755Z appoptics:patching patched http 
2022-04-20T15:40:51.797Z appoptics:patching patched zlib 
2022-04-20T15:40:51.825Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:40:51.826Z appoptics:patching patched fs 
2022-04-20T15:40:51.916Z appoptics:patching patched morgan 1.4.1
2022-04-20T15:40:51.935Z appoptics:patching patched express 3.18.6
2022-04-20T15:40:51.939Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:40:51.946Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.6
    ✓ UDP might lose a message
2022-04-20T15:40:51.992Z appoptics:patching patched raw-body 2.5.1
(node:2699) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.1: connect 2.x series is deprecated

added 17 packages, removed 12 packages, changed 30 packages, and audited 1017 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:00.490Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:00.491Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:00.491Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:00.492Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:00.571Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:00.728Z appoptics:patching patched crypto 
2022-04-20T15:41:00.771Z appoptics:patching patched https 
2022-04-20T15:41:00.771Z appoptics:patching patched http 
2022-04-20T15:41:00.843Z appoptics:patching patched zlib 
2022-04-20T15:41:00.879Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:00.879Z appoptics:patching patched fs 
2022-04-20T15:41:01.030Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:41:01.048Z appoptics:patching patched express 3.19.0
2022-04-20T15:41:01.052Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:01.072Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.0
    ✓ UDP might lose a message
2022-04-20T15:41:01.160Z appoptics:patching patched raw-body 2.5.1
(node:2721) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (105ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (337ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.2: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1009 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:09.207Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:09.208Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:09.208Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:09.209Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:09.270Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:09.411Z appoptics:patching patched crypto 
2022-04-20T15:41:09.429Z appoptics:patching patched https 
2022-04-20T15:41:09.431Z appoptics:patching patched http 
2022-04-20T15:41:09.473Z appoptics:patching patched zlib 
2022-04-20T15:41:09.499Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:09.499Z appoptics:patching patched fs 
2022-04-20T15:41:09.594Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:41:09.611Z appoptics:patching patched express 3.19.1
2022-04-20T15:41:09.615Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:09.621Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.1
    ✓ UDP might lose a message
2022-04-20T15:41:09.672Z appoptics:patching patched raw-body 2.5.1
(node:2743) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (246ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.3: connect 2.x series is deprecated

changed 3 packages, and audited 1009 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:18.196Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:18.196Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:18.196Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:18.197Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:18.260Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:18.393Z appoptics:patching patched crypto 
2022-04-20T15:41:18.412Z appoptics:patching patched https 
2022-04-20T15:41:18.413Z appoptics:patching patched http 
2022-04-20T15:41:18.453Z appoptics:patching patched zlib 
2022-04-20T15:41:18.478Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:18.478Z appoptics:patching patched fs 
2022-04-20T15:41:18.561Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:41:18.578Z appoptics:patching patched express 3.19.2
2022-04-20T15:41:18.582Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:18.588Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.2
    ✓ UDP might lose a message
2022-04-20T15:41:18.631Z appoptics:patching patched raw-body 2.5.1
(node:2765) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (229ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.0: connect 2.x series is deprecated

added 13 packages, removed 5 packages, changed 22 packages, and audited 1017 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:27.126Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:27.127Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:27.127Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:27.127Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:27.200Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:27.397Z appoptics:patching patched crypto 
2022-04-20T15:41:27.449Z appoptics:patching patched https 
2022-04-20T15:41:27.450Z appoptics:patching patched http 
2022-04-20T15:41:27.491Z appoptics:patching patched zlib 
2022-04-20T15:41:27.521Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:27.522Z appoptics:patching patched fs 
2022-04-20T15:41:27.631Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:41:27.650Z appoptics:patching patched express 3.20.0
2022-04-20T15:41:27.654Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:27.660Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.0
    ✓ UDP might lose a message
2022-04-20T15:41:27.706Z appoptics:patching patched raw-body 2.5.1
(node:2787) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (49ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (285ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1017 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:35.264Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:35.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:35.265Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:35.265Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:35.330Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:35.476Z appoptics:patching patched crypto 
2022-04-20T15:41:35.497Z appoptics:patching patched https 
2022-04-20T15:41:35.497Z appoptics:patching patched http 
2022-04-20T15:41:35.537Z appoptics:patching patched zlib 
2022-04-20T15:41:35.563Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:35.563Z appoptics:patching patched fs 
2022-04-20T15:41:35.647Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:41:35.665Z appoptics:patching patched express 3.20.1
2022-04-20T15:41:35.669Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:35.675Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.1
    ✓ UDP might lose a message
2022-04-20T15:41:35.729Z appoptics:patching patched raw-body 2.5.1
(node:2809) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.1: connect 2.x series is deprecated

changed 8 packages, and audited 1017 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:44.373Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:44.374Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:44.374Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:44.375Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:44.443Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:44.597Z appoptics:patching patched crypto 
2022-04-20T15:41:44.618Z appoptics:patching patched https 
2022-04-20T15:41:44.618Z appoptics:patching patched http 
2022-04-20T15:41:44.657Z appoptics:patching patched zlib 
2022-04-20T15:41:44.685Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:44.685Z appoptics:patching patched fs 
2022-04-20T15:41:44.779Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:41:44.799Z appoptics:patching patched express 3.20.2
2022-04-20T15:41:44.803Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:44.810Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.2
    ✓ UDP might lose a message
2022-04-20T15:41:44.856Z appoptics:patching patched raw-body 2.5.1
(node:2831) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (229ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.2: connect 2.x series is deprecated

added 1 package, removed 14 packages, changed 15 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:41:53.779Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:41:53.780Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:41:53.780Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:41:53.781Z appoptics:debug using context provider: ace-context
2022-04-20T15:41:53.846Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:41:54.001Z appoptics:patching patched crypto 
2022-04-20T15:41:54.021Z appoptics:patching patched https 
2022-04-20T15:41:54.021Z appoptics:patching patched http 
2022-04-20T15:41:54.065Z appoptics:patching patched zlib 
2022-04-20T15:41:54.095Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:41:54.095Z appoptics:patching patched fs 
2022-04-20T15:41:54.180Z appoptics:patching patched morgan 1.5.3
2022-04-20T15:41:54.200Z appoptics:patching patched express 3.20.3
2022-04-20T15:41:54.204Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:41:54.210Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.3
    ✓ UDP might lose a message
2022-04-20T15:41:54.246Z appoptics:patching patched raw-body 2.5.1
(node:2853) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (238ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.0: connect 2.x series is deprecated

added 21 packages, removed 10 packages, changed 37 packages, and audited 1015 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:03.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:03.764Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:03.764Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:03.765Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:03.863Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:04.150Z appoptics:patching patched crypto 
2022-04-20T15:42:04.211Z appoptics:patching patched https 
2022-04-20T15:42:04.216Z appoptics:patching patched http 
2022-04-20T15:42:04.260Z appoptics:patching patched zlib 
2022-04-20T15:42:04.292Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:04.292Z appoptics:patching patched fs 
2022-04-20T15:42:04.451Z appoptics:patching patched morgan 1.6.1
2022-04-20T15:42:04.472Z appoptics:patching patched express 3.21.0
2022-04-20T15:42:04.477Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:04.486Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.0
    ✓ UDP might lose a message
2022-04-20T15:42:04.532Z appoptics:patching patched raw-body 2.5.1
(node:2875) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (217ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.1: connect 2.x series is deprecated

removed 2 packages, changed 6 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:12.165Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:12.166Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:12.166Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:12.167Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:12.257Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:12.449Z appoptics:patching patched crypto 
2022-04-20T15:42:12.491Z appoptics:patching patched https 
2022-04-20T15:42:12.492Z appoptics:patching patched http 
2022-04-20T15:42:12.546Z appoptics:patching patched zlib 
2022-04-20T15:42:12.577Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:12.577Z appoptics:patching patched fs 
2022-04-20T15:42:12.684Z appoptics:patching patched morgan 1.6.1
2022-04-20T15:42:12.702Z appoptics:patching patched express 3.21.1
2022-04-20T15:42:12.705Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:12.711Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.1
    ✓ UDP might lose a message
2022-04-20T15:42:12.759Z appoptics:patching patched raw-body 2.5.1
(node:2897) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.2: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:20.801Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:20.801Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:20.801Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:20.802Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:20.868Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:21.015Z appoptics:patching patched crypto 
2022-04-20T15:42:21.036Z appoptics:patching patched https 
2022-04-20T15:42:21.037Z appoptics:patching patched http 
2022-04-20T15:42:21.077Z appoptics:patching patched zlib 
2022-04-20T15:42:21.105Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:21.105Z appoptics:patching patched fs 
2022-04-20T15:42:21.198Z appoptics:patching patched morgan 1.6.1
2022-04-20T15:42:21.217Z appoptics:patching patched express 3.21.2
2022-04-20T15:42:21.221Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:21.227Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.2
    ✓ UDP might lose a message
2022-04-20T15:42:21.269Z appoptics:patching patched raw-body 2.5.1
(node:2919) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (229ms)
  2 pending


added 14 packages, removed 97 packages, changed 21 packages, and audited 930 packages in 17s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:38.685Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:38.686Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:38.686Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:38.687Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:38.755Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:38.926Z appoptics:patching patched crypto 
2022-04-20T15:42:38.945Z appoptics:patching patched https 
2022-04-20T15:42:38.945Z appoptics:patching patched http 
2022-04-20T15:42:38.981Z appoptics:patching patched zlib 
2022-04-20T15:42:38.993Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:38.993Z appoptics:patching patched fs 
2022-04-20T15:42:39.017Z appoptics:patching patched express 4.0.0
2022-04-20T15:42:39.022Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:39.029Z appoptics:debug starting runtimeMetrics


  probes.express 4.0.0
    ✓ UDP might lose a message
2022-04-20T15:42:39.066Z appoptics:patching patched raw-body 2.5.1
(node:2941) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (254ms)


added 1 package, removed 3 packages, changed 7 packages, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:46.716Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:46.717Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:46.717Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:46.717Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:46.784Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:46.935Z appoptics:patching patched crypto 
2022-04-20T15:42:46.955Z appoptics:patching patched https 
2022-04-20T15:42:46.955Z appoptics:patching patched http 
2022-04-20T15:42:46.994Z appoptics:patching patched zlib 
2022-04-20T15:42:47.004Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:47.005Z appoptics:patching patched fs 
2022-04-20T15:42:47.025Z appoptics:patching patched express 4.1.0
2022-04-20T15:42:47.032Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:47.038Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.0
    ✓ UDP might lose a message
2022-04-20T15:42:47.072Z appoptics:patching patched raw-body 2.5.1
(node:2963) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (47ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (259ms)


changed 1 package, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:42:54.682Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:42:54.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:42:54.683Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:42:54.683Z appoptics:debug using context provider: ace-context
2022-04-20T15:42:54.759Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:42:54.918Z appoptics:patching patched crypto 
2022-04-20T15:42:54.965Z appoptics:patching patched https 
2022-04-20T15:42:54.966Z appoptics:patching patched http 
2022-04-20T15:42:55.006Z appoptics:patching patched zlib 
2022-04-20T15:42:55.018Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:42:55.018Z appoptics:patching patched fs 
2022-04-20T15:42:55.041Z appoptics:patching patched express 4.1.1
2022-04-20T15:42:55.048Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:42:55.057Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.1
    ✓ UDP might lose a message
2022-04-20T15:42:55.112Z appoptics:patching patched raw-body 2.5.1
(node:2985) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (95ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (300ms)


changed 1 package, and audited 928 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:02.186Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:02.187Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:02.187Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:02.188Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:02.257Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:02.433Z appoptics:patching patched crypto 
2022-04-20T15:43:02.452Z appoptics:patching patched https 
2022-04-20T15:43:02.453Z appoptics:patching patched http 
2022-04-20T15:43:02.499Z appoptics:patching patched zlib 
2022-04-20T15:43:02.518Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:02.518Z appoptics:patching patched fs 
2022-04-20T15:43:02.541Z appoptics:patching patched express 4.1.2
2022-04-20T15:43:02.548Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:02.555Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.2
    ✓ UDP might lose a message
2022-04-20T15:43:02.592Z appoptics:patching patched raw-body 2.5.1
(node:3007) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (267ms)


changed 2 packages, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:10.655Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:10.656Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:10.656Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:10.657Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:10.720Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:10.852Z appoptics:patching patched crypto 
2022-04-20T15:43:10.871Z appoptics:patching patched https 
2022-04-20T15:43:10.871Z appoptics:patching patched http 
2022-04-20T15:43:10.909Z appoptics:patching patched zlib 
2022-04-20T15:43:10.920Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:10.921Z appoptics:patching patched fs 
2022-04-20T15:43:10.944Z appoptics:patching patched express 4.2.0
2022-04-20T15:43:10.951Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:10.957Z appoptics:debug starting runtimeMetrics


  probes.express 4.2.0
    ✓ UDP might lose a message
2022-04-20T15:43:10.994Z appoptics:patching patched raw-body 2.5.1
(node:3029) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (234ms)


added 2 packages, changed 2 packages, and audited 930 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:18.871Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:18.875Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:18.875Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:18.875Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:18.942Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:19.106Z appoptics:patching patched crypto 
2022-04-20T15:43:19.126Z appoptics:patching patched https 
2022-04-20T15:43:19.127Z appoptics:patching patched http 
2022-04-20T15:43:19.199Z appoptics:patching patched zlib 
2022-04-20T15:43:19.222Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:19.222Z appoptics:patching patched fs 
2022-04-20T15:43:19.282Z appoptics:patching patched express 4.3.0
2022-04-20T15:43:19.292Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:19.308Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.0
    ✓ UDP might lose a message
2022-04-20T15:43:19.356Z appoptics:patching patched raw-body 2.5.1
(node:3051) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (254ms)


changed 1 package, and audited 930 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:26.181Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:26.182Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:26.182Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:26.183Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:26.262Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:26.397Z appoptics:patching patched crypto 
2022-04-20T15:43:26.416Z appoptics:patching patched https 
2022-04-20T15:43:26.417Z appoptics:patching patched http 
2022-04-20T15:43:26.453Z appoptics:patching patched zlib 
2022-04-20T15:43:26.464Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:26.464Z appoptics:patching patched fs 
2022-04-20T15:43:26.488Z appoptics:patching patched express 4.3.1
2022-04-20T15:43:26.494Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:26.501Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.1
    ✓ UDP might lose a message
2022-04-20T15:43:26.539Z appoptics:patching patched raw-body 2.5.1
(node:3073) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (238ms)


changed 1 package, and audited 930 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:34.512Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:34.513Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:34.513Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:34.514Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:34.580Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:34.725Z appoptics:patching patched crypto 
2022-04-20T15:43:34.746Z appoptics:patching patched https 
2022-04-20T15:43:34.747Z appoptics:patching patched http 
2022-04-20T15:43:34.788Z appoptics:patching patched zlib 
2022-04-20T15:43:34.799Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:34.800Z appoptics:patching patched fs 
2022-04-20T15:43:34.825Z appoptics:patching patched express 4.3.2
2022-04-20T15:43:34.832Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:34.839Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.2
    ✓ UDP might lose a message
2022-04-20T15:43:34.883Z appoptics:patching patched raw-body 2.5.1
(node:3095) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (272ms)


added 1 package, changed 6 packages, and audited 931 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:42.873Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:42.874Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:42.874Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:42.875Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:42.954Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:43.118Z appoptics:patching patched crypto 
2022-04-20T15:43:43.161Z appoptics:patching patched https 
2022-04-20T15:43:43.162Z appoptics:patching patched http 
2022-04-20T15:43:43.213Z appoptics:patching patched zlib 
2022-04-20T15:43:43.227Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:43.227Z appoptics:patching patched fs 
2022-04-20T15:43:43.257Z appoptics:patching patched express 4.4.0
2022-04-20T15:43:43.266Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:43.276Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.0
    ✓ UDP might lose a message
2022-04-20T15:43:43.319Z appoptics:patching patched raw-body 2.5.1
(node:3117) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (107ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (49ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (350ms)


changed 4 packages, and audited 931 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:50.552Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:50.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:50.553Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:50.554Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:50.627Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:50.793Z appoptics:patching patched crypto 
2022-04-20T15:43:50.822Z appoptics:patching patched https 
2022-04-20T15:43:50.823Z appoptics:patching patched http 
2022-04-20T15:43:50.870Z appoptics:patching patched zlib 
2022-04-20T15:43:50.884Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:50.884Z appoptics:patching patched fs 
2022-04-20T15:43:50.917Z appoptics:patching patched express 4.4.1
2022-04-20T15:43:50.925Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:50.935Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.1
    ✓ UDP might lose a message
2022-04-20T15:43:50.992Z appoptics:patching patched raw-body 2.5.1
(node:3139) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (293ms)


added 5 packages, changed 9 packages, and audited 936 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:43:59.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:43:59.179Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:43:59.179Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:43:59.180Z appoptics:debug using context provider: ace-context
2022-04-20T15:43:59.252Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:43:59.387Z appoptics:patching patched crypto 
2022-04-20T15:43:59.406Z appoptics:patching patched https 
2022-04-20T15:43:59.407Z appoptics:patching patched http 
2022-04-20T15:43:59.442Z appoptics:patching patched zlib 
2022-04-20T15:43:59.454Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:43:59.454Z appoptics:patching patched fs 
2022-04-20T15:43:59.483Z appoptics:patching patched express 4.4.2
2022-04-20T15:43:59.492Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:43:59.499Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.2
    ✓ UDP might lose a message
2022-04-20T15:43:59.538Z appoptics:patching patched raw-body 2.5.1
(node:3161) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (244ms)


added 1 package, changed 8 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:07.235Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:07.236Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:07.236Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:07.237Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:07.357Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:07.539Z appoptics:patching patched crypto 
2022-04-20T15:44:07.582Z appoptics:patching patched https 
2022-04-20T15:44:07.583Z appoptics:patching patched http 
2022-04-20T15:44:07.622Z appoptics:patching patched zlib 
2022-04-20T15:44:07.637Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:07.637Z appoptics:patching patched fs 
2022-04-20T15:44:07.673Z appoptics:patching patched express 4.4.3
2022-04-20T15:44:07.682Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:07.690Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.3
    ✓ UDP might lose a message
2022-04-20T15:44:07.738Z appoptics:patching patched raw-body 2.5.1
(node:3183) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (66ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (408ms)


added 6 packages, removed 1 package, changed 6 packages, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:15.028Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:15.029Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:15.029Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:15.029Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:15.091Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:15.219Z appoptics:patching patched crypto 
2022-04-20T15:44:15.238Z appoptics:patching patched https 
2022-04-20T15:44:15.238Z appoptics:patching patched http 
2022-04-20T15:44:15.274Z appoptics:patching patched zlib 
2022-04-20T15:44:15.286Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:15.286Z appoptics:patching patched fs 
2022-04-20T15:44:15.315Z appoptics:patching patched express 4.4.4
2022-04-20T15:44:15.322Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:15.328Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.4
    ✓ UDP might lose a message
2022-04-20T15:44:15.366Z appoptics:patching patched raw-body 2.5.1
(node:3205) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (240ms)


changed 2 packages, and audited 942 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (1 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:23.339Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:23.340Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:23.340Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:23.340Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:23.419Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:23.570Z appoptics:patching patched crypto 
2022-04-20T15:44:23.590Z appoptics:patching patched https 
2022-04-20T15:44:23.591Z appoptics:patching patched http 
2022-04-20T15:44:23.627Z appoptics:patching patched zlib 
2022-04-20T15:44:23.639Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:23.640Z appoptics:patching patched fs 
2022-04-20T15:44:23.672Z appoptics:patching patched express 4.4.5
2022-04-20T15:44:23.680Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:23.687Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.5
    ✓ UDP might lose a message
2022-04-20T15:44:23.725Z appoptics:patching patched raw-body 2.5.1
(node:3227) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (239ms)


added 11 packages, removed 1 package, changed 5 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:31.133Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:31.134Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:31.134Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:31.135Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:31.214Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:31.361Z appoptics:patching patched crypto 
2022-04-20T15:44:31.403Z appoptics:patching patched https 
2022-04-20T15:44:31.403Z appoptics:patching patched http 
2022-04-20T15:44:31.440Z appoptics:patching patched zlib 
2022-04-20T15:44:31.455Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:31.455Z appoptics:patching patched fs 
2022-04-20T15:44:31.500Z appoptics:patching patched express 4.5.0
2022-04-20T15:44:31.507Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:31.514Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.0
    ✓ UDP might lose a message
2022-04-20T15:44:31.570Z appoptics:patching patched raw-body 2.5.1
(node:3249) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (315ms)


changed 1 package, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:39.018Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:39.019Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:39.019Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:39.020Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:39.084Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:39.210Z appoptics:patching patched crypto 
2022-04-20T15:44:39.229Z appoptics:patching patched https 
2022-04-20T15:44:39.230Z appoptics:patching patched http 
2022-04-20T15:44:39.269Z appoptics:patching patched zlib 
2022-04-20T15:44:39.282Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:39.282Z appoptics:patching patched fs 
2022-04-20T15:44:39.322Z appoptics:patching patched express 4.5.1
2022-04-20T15:44:39.329Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:39.336Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.1
    ✓ UDP might lose a message
2022-04-20T15:44:39.377Z appoptics:patching patched raw-body 2.5.1
(node:3271) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (241ms)


added 1 package, removed 6 packages, changed 9 packages, and audited 947 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:47.760Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:47.761Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:47.761Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:47.762Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:47.840Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:47.970Z appoptics:patching patched crypto 
2022-04-20T15:44:47.990Z appoptics:patching patched https 
2022-04-20T15:44:47.990Z appoptics:patching patched http 
2022-04-20T15:44:48.030Z appoptics:patching patched zlib 
2022-04-20T15:44:48.046Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:48.046Z appoptics:patching patched fs 
2022-04-20T15:44:48.080Z appoptics:patching patched express 4.6.0
2022-04-20T15:44:48.088Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:48.096Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.0
    ✓ UDP might lose a message
2022-04-20T15:44:48.140Z appoptics:patching patched raw-body 2.5.1
(node:3293) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (282ms)


changed 1 package, and audited 947 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:44:55.255Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:44:55.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:44:55.256Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:44:55.257Z appoptics:debug using context provider: ace-context
2022-04-20T15:44:55.329Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:44:55.488Z appoptics:patching patched crypto 
2022-04-20T15:44:55.521Z appoptics:patching patched https 
2022-04-20T15:44:55.522Z appoptics:patching patched http 
2022-04-20T15:44:55.567Z appoptics:patching patched zlib 
2022-04-20T15:44:55.591Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:44:55.591Z appoptics:patching patched fs 
2022-04-20T15:44:55.630Z appoptics:patching patched express 4.6.1
2022-04-20T15:44:55.638Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:44:55.646Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.1
    ✓ UDP might lose a message
2022-04-20T15:44:55.709Z appoptics:patching patched raw-body 2.5.1
(node:3315) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (145ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (50ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (424ms)


added 5 packages, changed 10 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:04.074Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:04.075Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:04.075Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:04.075Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:04.142Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:04.271Z appoptics:patching patched crypto 
2022-04-20T15:45:04.291Z appoptics:patching patched https 
2022-04-20T15:45:04.291Z appoptics:patching patched http 
2022-04-20T15:45:04.330Z appoptics:patching patched zlib 
2022-04-20T15:45:04.346Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:04.346Z appoptics:patching patched fs 
2022-04-20T15:45:04.385Z appoptics:patching patched express 4.7.0
2022-04-20T15:45:04.392Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:04.399Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.0
    ✓ UDP might lose a message
2022-04-20T15:45:04.437Z appoptics:patching patched raw-body 2.5.1
(node:3337) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (239ms)


changed 4 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:12.298Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:12.298Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:12.298Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:12.299Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:12.362Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:12.492Z appoptics:patching patched crypto 
2022-04-20T15:45:12.511Z appoptics:patching patched https 
2022-04-20T15:45:12.511Z appoptics:patching patched http 
2022-04-20T15:45:12.551Z appoptics:patching patched zlib 
2022-04-20T15:45:12.566Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:12.567Z appoptics:patching patched fs 
2022-04-20T15:45:12.614Z appoptics:patching patched express 4.7.1
2022-04-20T15:45:12.622Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:12.630Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.1
    ✓ UDP might lose a message
2022-04-20T15:45:12.675Z appoptics:patching patched raw-body 2.5.1
(node:3359) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (268ms)


changed 4 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:19.788Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:19.789Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:19.789Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:19.789Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:19.853Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:19.987Z appoptics:patching patched crypto 
2022-04-20T15:45:20.018Z appoptics:patching patched https 
2022-04-20T15:45:20.019Z appoptics:patching patched http 
2022-04-20T15:45:20.051Z appoptics:patching patched zlib 
2022-04-20T15:45:20.067Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:20.068Z appoptics:patching patched fs 
2022-04-20T15:45:20.111Z appoptics:patching patched express 4.7.2
2022-04-20T15:45:20.118Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:20.127Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.2
    ✓ UDP might lose a message
2022-04-20T15:45:20.163Z appoptics:patching patched raw-body 2.5.1
(node:3381) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (275ms)


changed 2 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:27.910Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:27.911Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:27.911Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:27.912Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:27.983Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:28.141Z appoptics:patching patched crypto 
2022-04-20T15:45:28.161Z appoptics:patching patched https 
2022-04-20T15:45:28.162Z appoptics:patching patched http 
2022-04-20T15:45:28.201Z appoptics:patching patched zlib 
2022-04-20T15:45:28.218Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:28.219Z appoptics:patching patched fs 
2022-04-20T15:45:28.261Z appoptics:patching patched express 4.7.3
2022-04-20T15:45:28.269Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:28.291Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.3
    ✓ UDP might lose a message
2022-04-20T15:45:28.347Z appoptics:patching patched raw-body 2.5.1
(node:3403) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (253ms)


removed 5 packages, changed 2 packages, and audited 947 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:36.407Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:36.408Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:36.408Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:36.409Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:36.471Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:36.631Z appoptics:patching patched crypto 
2022-04-20T15:45:36.652Z appoptics:patching patched https 
2022-04-20T15:45:36.653Z appoptics:patching patched http 
2022-04-20T15:45:36.691Z appoptics:patching patched zlib 
2022-04-20T15:45:36.708Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:36.708Z appoptics:patching patched fs 
2022-04-20T15:45:36.744Z appoptics:patching patched express 4.7.4
2022-04-20T15:45:36.751Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:36.759Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.4
    ✓ UDP might lose a message
2022-04-20T15:45:36.801Z appoptics:patching patched raw-body 2.5.1
(node:3425) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (258ms)


added 9 packages, changed 4 packages, and audited 956 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:43.905Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:43.906Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:43.906Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:43.907Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:43.971Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:44.135Z appoptics:patching patched crypto 
2022-04-20T15:45:44.186Z appoptics:patching patched https 
2022-04-20T15:45:44.187Z appoptics:patching patched http 
2022-04-20T15:45:44.233Z appoptics:patching patched zlib 
2022-04-20T15:45:44.249Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:44.249Z appoptics:patching patched fs 
2022-04-20T15:45:44.302Z appoptics:patching patched express 4.8.0
2022-04-20T15:45:44.309Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:44.319Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.0
    ✓ UDP might lose a message
2022-04-20T15:45:44.356Z appoptics:patching patched raw-body 2.5.1
(node:3447) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (255ms)


changed 2 packages, and audited 956 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:45:52.443Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:45:52.444Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:45:52.444Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:45:52.445Z appoptics:debug using context provider: ace-context
2022-04-20T15:45:52.521Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:45:52.694Z appoptics:patching patched crypto 
2022-04-20T15:45:52.715Z appoptics:patching patched https 
2022-04-20T15:45:52.716Z appoptics:patching patched http 
2022-04-20T15:45:52.757Z appoptics:patching patched zlib 
2022-04-20T15:45:52.772Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:45:52.772Z appoptics:patching patched fs 
2022-04-20T15:45:52.820Z appoptics:patching patched express 4.8.1
2022-04-20T15:45:52.827Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:45:52.835Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.1
    ✓ UDP might lose a message
2022-04-20T15:45:52.884Z appoptics:patching patched raw-body 2.5.1
(node:3469) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (282ms)


changed 2 packages, and audited 956 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:00.350Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:00.351Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:00.351Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:00.352Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:00.418Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:00.571Z appoptics:patching patched crypto 
2022-04-20T15:46:00.591Z appoptics:patching patched https 
2022-04-20T15:46:00.592Z appoptics:patching patched http 
2022-04-20T15:46:00.631Z appoptics:patching patched zlib 
2022-04-20T15:46:00.646Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:00.646Z appoptics:patching patched fs 
2022-04-20T15:46:00.695Z appoptics:patching patched express 4.8.2
2022-04-20T15:46:00.703Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:00.711Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.2
    ✓ UDP might lose a message
2022-04-20T15:46:00.753Z appoptics:patching patched raw-body 2.5.1
(node:3491) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (264ms)


removed 3 packages, changed 3 packages, and audited 953 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:08.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:08.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:08.041Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:08.042Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:08.106Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:08.249Z appoptics:patching patched crypto 
2022-04-20T15:46:08.270Z appoptics:patching patched https 
2022-04-20T15:46:08.271Z appoptics:patching patched http 
2022-04-20T15:46:08.312Z appoptics:patching patched zlib 
2022-04-20T15:46:08.328Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:08.328Z appoptics:patching patched fs 
2022-04-20T15:46:08.380Z appoptics:patching patched express 4.8.3
2022-04-20T15:46:08.387Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:08.394Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.3
    ✓ UDP might lose a message
2022-04-20T15:46:08.434Z appoptics:patching patched raw-body 2.5.1
(node:3513) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)


added 1 package, changed 3 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:16.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:16.241Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:16.241Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:16.241Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:16.306Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:16.437Z appoptics:patching patched crypto 
2022-04-20T15:46:16.456Z appoptics:patching patched https 
2022-04-20T15:46:16.457Z appoptics:patching patched http 
2022-04-20T15:46:16.523Z appoptics:patching patched zlib 
2022-04-20T15:46:16.536Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:16.537Z appoptics:patching patched fs 
2022-04-20T15:46:16.593Z appoptics:patching patched express 4.8.4
2022-04-20T15:46:16.605Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:16.612Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.4
    ✓ UDP might lose a message
2022-04-20T15:46:16.654Z appoptics:patching patched raw-body 2.5.1
(node:3535) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


added 3 packages, removed 3 packages, changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:24.494Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:24.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:24.494Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:24.495Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:24.640Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:24.812Z appoptics:patching patched crypto 
2022-04-20T15:46:24.832Z appoptics:patching patched https 
2022-04-20T15:46:24.833Z appoptics:patching patched http 
2022-04-20T15:46:24.872Z appoptics:patching patched zlib 
2022-04-20T15:46:24.885Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:24.886Z appoptics:patching patched fs 
2022-04-20T15:46:24.936Z appoptics:patching patched express 4.8.5
2022-04-20T15:46:24.943Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:24.951Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.5
    ✓ UDP might lose a message
2022-04-20T15:46:24.993Z appoptics:patching patched raw-body 2.5.1
(node:3557) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)


changed 2 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:31.970Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:31.971Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:31.971Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:31.972Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:32.046Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:32.207Z appoptics:patching patched crypto 
2022-04-20T15:46:32.227Z appoptics:patching patched https 
2022-04-20T15:46:32.228Z appoptics:patching patched http 
2022-04-20T15:46:32.266Z appoptics:patching patched zlib 
2022-04-20T15:46:32.281Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:32.281Z appoptics:patching patched fs 
2022-04-20T15:46:32.333Z appoptics:patching patched express 4.8.6
2022-04-20T15:46:32.341Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:32.349Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.6
    ✓ UDP might lose a message
2022-04-20T15:46:32.389Z appoptics:patching patched raw-body 2.5.1
(node:3579) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (263ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:40.636Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:40.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:40.637Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:40.638Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:40.720Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:40.883Z appoptics:patching patched crypto 
2022-04-20T15:46:40.915Z appoptics:patching patched https 
2022-04-20T15:46:40.915Z appoptics:patching patched http 
2022-04-20T15:46:40.966Z appoptics:patching patched zlib 
2022-04-20T15:46:40.978Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:40.979Z appoptics:patching patched fs 
2022-04-20T15:46:41.027Z appoptics:patching patched express 4.8.7
2022-04-20T15:46:41.034Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:41.042Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.7
    ✓ UDP might lose a message
2022-04-20T15:46:41.079Z appoptics:patching patched raw-body 2.5.1
(node:3601) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (235ms)


removed 8 packages, changed 2 packages, and audited 946 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:48.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:48.728Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:48.728Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:48.729Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:48.816Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:49.008Z appoptics:patching patched crypto 
2022-04-20T15:46:49.063Z appoptics:patching patched https 
2022-04-20T15:46:49.065Z appoptics:patching patched http 
2022-04-20T15:46:49.140Z appoptics:patching patched zlib 
2022-04-20T15:46:49.156Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:49.157Z appoptics:patching patched fs 
2022-04-20T15:46:49.221Z appoptics:patching patched express 4.8.8
2022-04-20T15:46:49.228Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:49.238Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.8
    ✓ UDP might lose a message
2022-04-20T15:46:49.296Z appoptics:patching patched raw-body 2.5.1
(node:3623) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (99ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (354ms)


added 14 packages, removed 1 package, changed 18 packages, and audited 959 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:46:56.794Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:46:56.795Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:46:56.795Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:46:56.796Z appoptics:debug using context provider: ace-context
2022-04-20T15:46:56.863Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:46:56.993Z appoptics:patching patched crypto 
2022-04-20T15:46:57.013Z appoptics:patching patched https 
2022-04-20T15:46:57.014Z appoptics:patching patched http 
2022-04-20T15:46:57.077Z appoptics:patching patched zlib 
2022-04-20T15:46:57.090Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:46:57.091Z appoptics:patching patched fs 
2022-04-20T15:46:57.155Z appoptics:patching patched express 4.9.0
2022-04-20T15:46:57.170Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:46:57.182Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.0
    ✓ UDP might lose a message
2022-04-20T15:46:57.273Z appoptics:patching patched raw-body 2.5.1
(node:3645) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (97ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (303ms)


removed 1 package, changed 4 packages, and audited 958 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:05.526Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:05.527Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:05.527Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:05.528Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:05.593Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:05.741Z appoptics:patching patched crypto 
2022-04-20T15:47:05.771Z appoptics:patching patched https 
2022-04-20T15:47:05.772Z appoptics:patching patched http 
2022-04-20T15:47:05.809Z appoptics:patching patched zlib 
2022-04-20T15:47:05.823Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:05.823Z appoptics:patching patched fs 
2022-04-20T15:47:05.882Z appoptics:patching patched express 4.9.1
2022-04-20T15:47:05.889Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:05.899Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.1
    ✓ UDP might lose a message
2022-04-20T15:47:05.938Z appoptics:patching patched raw-body 2.5.1
(node:3667) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)


changed 1 package, and audited 958 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:13.868Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:13.869Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:13.869Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:13.870Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:13.974Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:14.155Z appoptics:patching patched crypto 
2022-04-20T15:47:14.183Z appoptics:patching patched https 
2022-04-20T15:47:14.184Z appoptics:patching patched http 
2022-04-20T15:47:14.215Z appoptics:patching patched zlib 
2022-04-20T15:47:14.228Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:14.228Z appoptics:patching patched fs 
2022-04-20T15:47:14.282Z appoptics:patching patched express 4.9.2
2022-04-20T15:47:14.289Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:14.298Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.2
    ✓ UDP might lose a message
2022-04-20T15:47:14.333Z appoptics:patching patched raw-body 2.5.1
(node:3689) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (233ms)


added 1 package, changed 3 packages, and audited 959 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:21.390Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:21.391Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:21.391Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:21.392Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:21.456Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:21.584Z appoptics:patching patched crypto 
2022-04-20T15:47:21.604Z appoptics:patching patched https 
2022-04-20T15:47:21.604Z appoptics:patching patched http 
2022-04-20T15:47:21.646Z appoptics:patching patched zlib 
2022-04-20T15:47:21.659Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:21.659Z appoptics:patching patched fs 
2022-04-20T15:47:21.712Z appoptics:patching patched express 4.9.3
2022-04-20T15:47:21.719Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:21.726Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.3
    ✓ UDP might lose a message
2022-04-20T15:47:21.767Z appoptics:patching patched raw-body 2.5.1
(node:3711) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (231ms)


changed 2 packages, and audited 959 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:29.572Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:29.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:29.573Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:29.573Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:29.702Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:29.876Z appoptics:patching patched crypto 
2022-04-20T15:47:29.926Z appoptics:patching patched https 
2022-04-20T15:47:29.926Z appoptics:patching patched http 
2022-04-20T15:47:29.955Z appoptics:patching patched zlib 
2022-04-20T15:47:29.970Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:29.970Z appoptics:patching patched fs 
2022-04-20T15:47:30.031Z appoptics:patching patched express 4.9.4
2022-04-20T15:47:30.049Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:30.061Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.4
    ✓ UDP might lose a message
2022-04-20T15:47:30.101Z appoptics:patching patched raw-body 2.5.1
(node:3733) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)


removed 9 packages, changed 4 packages, and audited 950 packages in 17s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:48.413Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:48.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:48.414Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:48.414Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:48.502Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:48.665Z appoptics:patching patched crypto 
2022-04-20T15:47:48.712Z appoptics:patching patched https 
2022-04-20T15:47:48.713Z appoptics:patching patched http 
2022-04-20T15:47:48.755Z appoptics:patching patched zlib 
2022-04-20T15:47:48.769Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:48.769Z appoptics:patching patched fs 
2022-04-20T15:47:48.829Z appoptics:patching patched express 4.9.5
2022-04-20T15:47:48.841Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:48.862Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.5
    ✓ UDP might lose a message
2022-04-20T15:47:48.910Z appoptics:patching patched raw-body 2.5.1
(node:3755) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (82ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (300ms)


changed 1 package, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:47:56.921Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:47:56.922Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:47:56.922Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:47:56.923Z appoptics:debug using context provider: ace-context
2022-04-20T15:47:56.983Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:47:57.117Z appoptics:patching patched crypto 
2022-04-20T15:47:57.136Z appoptics:patching patched https 
2022-04-20T15:47:57.136Z appoptics:patching patched http 
2022-04-20T15:47:57.173Z appoptics:patching patched zlib 
2022-04-20T15:47:57.186Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:47:57.186Z appoptics:patching patched fs 
2022-04-20T15:47:57.229Z appoptics:patching patched express 4.9.6
2022-04-20T15:47:57.235Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:47:57.243Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.6
    ✓ UDP might lose a message
2022-04-20T15:47:57.284Z appoptics:patching patched raw-body 2.5.1
(node:3777) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (249ms)


changed 1 package, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:48:05.469Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:48:05.469Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:48:05.470Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:48:05.470Z appoptics:debug using context provider: ace-context
2022-04-20T15:48:05.531Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:48:05.679Z appoptics:patching patched crypto 
2022-04-20T15:48:05.699Z appoptics:patching patched https 
2022-04-20T15:48:05.700Z appoptics:patching patched http 
2022-04-20T15:48:05.763Z appoptics:patching patched zlib 
2022-04-20T15:48:05.776Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:48:05.776Z appoptics:patching patched fs 
2022-04-20T15:48:05.820Z appoptics:patching patched express 4.9.7
2022-04-20T15:48:05.827Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:48:05.834Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.7
    ✓ UDP might lose a message
2022-04-20T15:48:05.870Z appoptics:patching patched raw-body 2.5.1
(node:3799) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (247ms)


changed 1 package, and audited 950 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:48:12.677Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:48:12.677Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:48:12.678Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:48:12.678Z appoptics:debug using context provider: ace-context
2022-04-20T15:48:12.745Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:48:12.885Z appoptics:patching patched crypto 
2022-04-20T15:48:12.904Z appoptics:patching patched https 
2022-04-20T15:48:12.905Z appoptics:patching patched http 
2022-04-20T15:48:12.946Z appoptics:patching patched zlib 
2022-04-20T15:48:12.959Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:48:12.959Z appoptics:patching patched fs 
2022-04-20T15:48:13.004Z appoptics:patching patched express 4.9.8
2022-04-20T15:48:13.011Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:48:13.018Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.8
    ✓ UDP might lose a message
2022-04-20T15:48:13.060Z appoptics:patching patched raw-body 2.5.1
(node:3821) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (271ms)


added 4 packages, changed 17 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:48:20.947Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:48:20.948Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:48:20.948Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:48:20.949Z appoptics:debug using context provider: ace-context
2022-04-20T15:48:21.020Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:48:21.155Z appoptics:patching patched crypto 
2022-04-20T15:48:21.173Z appoptics:patching patched https 
2022-04-20T15:48:21.174Z appoptics:patching patched http 
2022-04-20T15:48:21.209Z appoptics:patching patched zlib 
2022-04-20T15:48:21.224Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:48:21.225Z appoptics:patching patched fs 
2022-04-20T15:48:21.274Z appoptics:patching patched express 4.10.0
2022-04-20T15:48:21.281Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:48:21.288Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.0
    ✓ UDP might lose a message
2022-04-20T15:48:21.327Z appoptics:patching patched raw-body 2.5.1
(node:3843) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (249ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:48:28.914Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:48:28.915Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:48:28.915Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:48:28.916Z appoptics:debug using context provider: ace-context
2022-04-20T15:48:28.987Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:48:29.125Z appoptics:patching patched crypto 
2022-04-20T15:48:29.144Z appoptics:patching patched https 
2022-04-20T15:48:29.145Z appoptics:patching patched http 
2022-04-20T15:48:29.182Z appoptics:patching patched zlib 
2022-04-20T15:48:29.196Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:48:29.197Z appoptics:patching patched fs 
2022-04-20T15:48:29.237Z appoptics:patching patched express 4.10.1
2022-04-20T15:48:29.243Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:48:29.250Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.1
    ✓ UDP might lose a message
2022-04-20T15:48:29.286Z appoptics:patching patched raw-body 2.5.1
(node:3865) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (43ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (277ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:48:36.497Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:48:36.497Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:48:36.498Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:48:36.498Z appoptics:debug using context provider: ace-context
2022-04-20T15:48:36.559Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:48:36.688Z appoptics:patching patched crypto 
2022-04-20T15:48:36.706Z appoptics:patching patched https 
2022-04-20T15:48:36.707Z appoptics:patching patched http 
2022-04-20T15:48:36.744Z appoptics:patching patched zlib 
2022-04-20T15:48:36.758Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:48:36.758Z appoptics:patching patched fs 
2022-04-20T15:48:36.797Z appoptics:patching patched express 4.10.2
2022-04-20T15:48:36.803Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:48:36.810Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.2
    ✓ UDP might lose a message
2022-04-20T15:48:36.847Z appoptics:patching patched raw-body 2.5.1
(node:3887) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (238ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:48:44.843Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:48:44.844Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:48:44.844Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:48:44.845Z appoptics:debug using context provider: ace-context
2022-04-20T15:48:44.925Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:48:45.080Z appoptics:patching patched crypto 
2022-04-20T15:48:45.111Z appoptics:patching patched https 
2022-04-20T15:48:45.116Z appoptics:patching patched http 
2022-04-20T15:48:45.151Z appoptics:patching patched zlib 
2022-04-20T15:48:45.166Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:48:45.166Z appoptics:patching patched fs 
2022-04-20T15:48:45.210Z appoptics:patching patched express 4.10.3
2022-04-20T15:48:45.217Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:48:45.224Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.3
    ✓ UDP might lose a message
2022-04-20T15:48:45.263Z appoptics:patching patched raw-body 2.5.1
(node:3909) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (237ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:48:53.320Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:48:53.321Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:48:53.321Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:48:53.322Z appoptics:debug using context provider: ace-context
2022-04-20T15:48:53.400Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:48:53.570Z appoptics:patching patched crypto 
2022-04-20T15:48:53.592Z appoptics:patching patched https 
2022-04-20T15:48:53.593Z appoptics:patching patched http 
2022-04-20T15:48:53.636Z appoptics:patching patched zlib 
2022-04-20T15:48:53.654Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:48:53.655Z appoptics:patching patched fs 
2022-04-20T15:48:53.708Z appoptics:patching patched express 4.10.4
2022-04-20T15:48:53.717Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:48:53.726Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.4
    ✓ UDP might lose a message
2022-04-20T15:48:53.774Z appoptics:patching patched raw-body 2.5.1
(node:3931) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (305ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:49:01.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:49:01.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:49:01.084Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:49:01.085Z appoptics:debug using context provider: ace-context
2022-04-20T15:49:01.158Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:49:01.291Z appoptics:patching patched crypto 
2022-04-20T15:49:01.310Z appoptics:patching patched https 
2022-04-20T15:49:01.310Z appoptics:patching patched http 
2022-04-20T15:49:01.354Z appoptics:patching patched zlib 
2022-04-20T15:49:01.369Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:49:01.370Z appoptics:patching patched fs 
2022-04-20T15:49:01.412Z appoptics:patching patched express 4.10.5
2022-04-20T15:49:01.418Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:49:01.425Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.5
    ✓ UDP might lose a message
2022-04-20T15:49:01.465Z appoptics:patching patched raw-body 2.5.1
(node:3953) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:49:09.610Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:49:09.611Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:49:09.611Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:49:09.612Z appoptics:debug using context provider: ace-context
2022-04-20T15:49:09.684Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:49:09.845Z appoptics:patching patched crypto 
2022-04-20T15:49:09.865Z appoptics:patching patched https 
2022-04-20T15:49:09.865Z appoptics:patching patched http 
2022-04-20T15:49:09.904Z appoptics:patching patched zlib 
2022-04-20T15:49:09.918Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:49:09.919Z appoptics:patching patched fs 
2022-04-20T15:49:09.961Z appoptics:patching patched express 4.10.6
2022-04-20T15:49:09.967Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:49:09.974Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.6
    ✓ UDP might lose a message
2022-04-20T15:49:10.020Z appoptics:patching patched raw-body 2.5.1
(node:3975) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (82ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (282ms)


changed 5 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:49:17.634Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:49:17.635Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:49:17.635Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:49:17.636Z appoptics:debug using context provider: ace-context
2022-04-20T15:49:17.700Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:49:17.829Z appoptics:patching patched crypto 
2022-04-20T15:49:17.848Z appoptics:patching patched https 
2022-04-20T15:49:17.848Z appoptics:patching patched http 
2022-04-20T15:49:17.891Z appoptics:patching patched zlib 
2022-04-20T15:49:17.908Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:49:17.908Z appoptics:patching patched fs 
2022-04-20T15:49:17.951Z appoptics:patching patched express 4.10.7
2022-04-20T15:49:17.957Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:49:17.964Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.7
    ✓ UDP might lose a message
2022-04-20T15:49:18.003Z appoptics:patching patched raw-body 2.5.1
(node:3997) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:49:25.142Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:49:25.143Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:49:25.143Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:49:25.144Z appoptics:debug using context provider: ace-context
2022-04-20T15:49:25.232Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:49:25.386Z appoptics:patching patched crypto 
2022-04-20T15:49:25.406Z appoptics:patching patched https 
2022-04-20T15:49:25.407Z appoptics:patching patched http 
2022-04-20T15:49:25.443Z appoptics:patching patched zlib 
2022-04-20T15:49:25.457Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:49:25.457Z appoptics:patching patched fs 
2022-04-20T15:49:25.526Z appoptics:patching patched express 4.10.8
2022-04-20T15:49:25.534Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:49:25.543Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.8
    ✓ UDP might lose a message
2022-04-20T15:49:25.595Z appoptics:patching patched raw-body 2.5.1
(node:4019) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (277ms)


added 10 packages, removed 8 packages, changed 8 packages, and audited 956 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:49:33.758Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:49:33.759Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:49:33.759Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:49:33.759Z appoptics:debug using context provider: ace-context
2022-04-20T15:49:33.831Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:49:33.994Z appoptics:patching patched crypto 
2022-04-20T15:49:34.017Z appoptics:patching patched https 
2022-04-20T15:49:34.018Z appoptics:patching patched http 
2022-04-20T15:49:34.058Z appoptics:patching patched zlib 
2022-04-20T15:49:34.077Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:49:34.077Z appoptics:patching patched fs 
2022-04-20T15:49:34.143Z appoptics:patching patched express 4.11.0
2022-04-20T15:49:34.154Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:49:34.167Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.0
    ✓ UDP might lose a message
2022-04-20T15:49:34.214Z appoptics:patching patched raw-body 2.5.1
(node:4041) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)


removed 8 packages, changed 2 packages, and audited 948 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:49:42.315Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:49:42.316Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:49:42.316Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:49:42.317Z appoptics:debug using context provider: ace-context
2022-04-20T15:49:42.530Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:49:42.761Z appoptics:patching patched crypto 
2022-04-20T15:49:42.800Z appoptics:patching patched https 
2022-04-20T15:49:42.806Z appoptics:patching patched http 
2022-04-20T15:49:42.839Z appoptics:patching patched zlib 
2022-04-20T15:49:42.856Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:49:42.857Z appoptics:patching patched fs 
2022-04-20T15:49:42.912Z appoptics:patching patched express 4.11.1
2022-04-20T15:49:42.919Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:49:42.927Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.1
    ✓ UDP might lose a message
2022-04-20T15:49:42.971Z appoptics:patching patched raw-body 2.5.1
(node:4063) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)


changed 1 package, and audited 948 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:49:50.033Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:49:50.034Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:49:50.034Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:49:50.035Z appoptics:debug using context provider: ace-context
2022-04-20T15:49:50.106Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:49:50.261Z appoptics:patching patched crypto 
2022-04-20T15:49:50.280Z appoptics:patching patched https 
2022-04-20T15:49:50.280Z appoptics:patching patched http 
2022-04-20T15:49:50.320Z appoptics:patching patched zlib 
2022-04-20T15:49:50.334Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:49:50.335Z appoptics:patching patched fs 
2022-04-20T15:49:50.381Z appoptics:patching patched express 4.11.2
2022-04-20T15:49:50.389Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:49:50.396Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.2
    ✓ UDP might lose a message
2022-04-20T15:49:50.439Z appoptics:patching patched raw-body 2.5.1
(node:4085) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (252ms)


added 9 packages, removed 3 packages, changed 5 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:49:58.725Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:49:58.725Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:49:58.725Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:49:58.726Z appoptics:debug using context provider: ace-context
2022-04-20T15:49:58.796Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:49:58.963Z appoptics:patching patched crypto 
2022-04-20T15:49:58.985Z appoptics:patching patched https 
2022-04-20T15:49:58.985Z appoptics:patching patched http 
2022-04-20T15:49:59.031Z appoptics:patching patched zlib 
2022-04-20T15:49:59.046Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:49:59.047Z appoptics:patching patched fs 
2022-04-20T15:49:59.098Z appoptics:patching patched express 4.12.0
2022-04-20T15:49:59.105Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:49:59.112Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.0
    ✓ UDP might lose a message
2022-04-20T15:49:59.153Z appoptics:patching patched raw-body 2.5.1
(node:4107) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


changed 2 packages, and audited 954 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:50:07.491Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:50:07.491Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:50:07.491Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:50:07.492Z appoptics:debug using context provider: ace-context
2022-04-20T15:50:07.554Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:50:07.682Z appoptics:patching patched crypto 
2022-04-20T15:50:07.701Z appoptics:patching patched https 
2022-04-20T15:50:07.701Z appoptics:patching patched http 
2022-04-20T15:50:07.738Z appoptics:patching patched zlib 
2022-04-20T15:50:07.756Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:50:07.756Z appoptics:patching patched fs 
2022-04-20T15:50:07.806Z appoptics:patching patched express 4.12.1
2022-04-20T15:50:07.813Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:50:07.820Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.1
    ✓ UDP might lose a message
2022-04-20T15:50:07.859Z appoptics:patching patched raw-body 2.5.1
(node:4129) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (244ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:50:14.846Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:50:14.847Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:50:14.847Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:50:14.848Z appoptics:debug using context provider: ace-context
2022-04-20T15:50:14.922Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:50:15.075Z appoptics:patching patched crypto 
2022-04-20T15:50:15.097Z appoptics:patching patched https 
2022-04-20T15:50:15.098Z appoptics:patching patched http 
2022-04-20T15:50:15.138Z appoptics:patching patched zlib 
2022-04-20T15:50:15.154Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:50:15.154Z appoptics:patching patched fs 
2022-04-20T15:50:15.217Z appoptics:patching patched express 4.12.2
2022-04-20T15:50:15.225Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:50:15.234Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.2
    ✓ UDP might lose a message
2022-04-20T15:50:15.280Z appoptics:patching patched raw-body 2.5.1
(node:4151) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (255ms)


changed 5 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:50:22.927Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:50:22.928Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:50:22.928Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:50:22.928Z appoptics:debug using context provider: ace-context
2022-04-20T15:50:22.993Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:50:23.131Z appoptics:patching patched crypto 
2022-04-20T15:50:23.149Z appoptics:patching patched https 
2022-04-20T15:50:23.150Z appoptics:patching patched http 
2022-04-20T15:50:23.189Z appoptics:patching patched zlib 
2022-04-20T15:50:23.204Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:50:23.204Z appoptics:patching patched fs 
2022-04-20T15:50:23.253Z appoptics:patching patched express 4.12.3
2022-04-20T15:50:23.260Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:50:23.267Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.3
    ✓ UDP might lose a message
2022-04-20T15:50:23.309Z appoptics:patching patched raw-body 2.5.1
(node:4173) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


removed 9 packages, changed 12 packages, and audited 945 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:50:31.002Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:50:31.002Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:50:31.003Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:50:31.003Z appoptics:debug using context provider: ace-context
2022-04-20T15:50:31.099Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:50:31.295Z appoptics:patching patched crypto 
2022-04-20T15:50:31.330Z appoptics:patching patched https 
2022-04-20T15:50:31.338Z appoptics:patching patched http 
2022-04-20T15:50:31.413Z appoptics:patching patched zlib 
2022-04-20T15:50:31.454Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:50:31.455Z appoptics:patching patched fs 
2022-04-20T15:50:31.542Z appoptics:patching patched express 4.12.4
2022-04-20T15:50:31.558Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:50:31.568Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.4
    ✓ UDP might lose a message
2022-04-20T15:50:31.642Z appoptics:patching patched raw-body 2.5.1
(node:4195) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (293ms)


added 13 packages, removed 4 packages, changed 13 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:50:38.731Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:50:38.731Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:50:38.731Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:50:38.732Z appoptics:debug using context provider: ace-context
2022-04-20T15:50:38.793Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:50:38.924Z appoptics:patching patched crypto 
2022-04-20T15:50:38.942Z appoptics:patching patched https 
2022-04-20T15:50:38.943Z appoptics:patching patched http 
2022-04-20T15:50:38.982Z appoptics:patching patched zlib 
2022-04-20T15:50:39.000Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:50:39.000Z appoptics:patching patched fs 
2022-04-20T15:50:39.047Z appoptics:patching patched express 4.13.0
2022-04-20T15:50:39.053Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:50:39.060Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.0
    ✓ UDP might lose a message
2022-04-20T15:50:39.099Z appoptics:patching patched raw-body 2.5.1
(node:4217) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (239ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:50:47.311Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:50:47.314Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:50:47.314Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:50:47.315Z appoptics:debug using context provider: ace-context
2022-04-20T15:50:47.428Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:50:47.591Z appoptics:patching patched crypto 
2022-04-20T15:50:47.626Z appoptics:patching patched https 
2022-04-20T15:50:47.627Z appoptics:patching patched http 
2022-04-20T15:50:47.654Z appoptics:patching patched zlib 
2022-04-20T15:50:47.672Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:50:47.672Z appoptics:patching patched fs 
2022-04-20T15:50:47.719Z appoptics:patching patched express 4.13.1
2022-04-20T15:50:47.726Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:50:47.733Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.1
    ✓ UDP might lose a message
2022-04-20T15:50:47.773Z appoptics:patching patched raw-body 2.5.1
(node:4239) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (230ms)


changed 3 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:50:55.392Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:50:55.393Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:50:55.394Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:50:55.395Z appoptics:debug using context provider: ace-context
2022-04-20T15:50:55.475Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:50:55.650Z appoptics:patching patched crypto 
2022-04-20T15:50:55.691Z appoptics:patching patched https 
2022-04-20T15:50:55.692Z appoptics:patching patched http 
2022-04-20T15:50:55.733Z appoptics:patching patched zlib 
2022-04-20T15:50:55.761Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:50:55.762Z appoptics:patching patched fs 
2022-04-20T15:50:55.824Z appoptics:patching patched express 4.13.2
2022-04-20T15:50:55.832Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:50:55.840Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.2
    ✓ UDP might lose a message
2022-04-20T15:50:55.890Z appoptics:patching patched raw-body 2.5.1
(node:4261) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (53ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (350ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:51:03.138Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:51:03.138Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:51:03.138Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:51:03.139Z appoptics:debug using context provider: ace-context
2022-04-20T15:51:03.210Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:51:03.359Z appoptics:patching patched crypto 
2022-04-20T15:51:03.380Z appoptics:patching patched https 
2022-04-20T15:51:03.381Z appoptics:patching patched http 
2022-04-20T15:51:03.418Z appoptics:patching patched zlib 
2022-04-20T15:51:03.437Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:51:03.437Z appoptics:patching patched fs 
2022-04-20T15:51:03.483Z appoptics:patching patched express 4.13.3
2022-04-20T15:51:03.489Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:51:03.497Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.3
    ✓ UDP might lose a message
2022-04-20T15:51:03.540Z appoptics:patching patched raw-body 2.5.1
(node:4283) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (286ms)


removed 3 packages, changed 11 packages, and audited 951 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:51:11.860Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:51:11.863Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:51:11.863Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:51:11.864Z appoptics:debug using context provider: ace-context
2022-04-20T15:51:11.941Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:51:12.077Z appoptics:patching patched crypto 
2022-04-20T15:51:12.096Z appoptics:patching patched https 
2022-04-20T15:51:12.097Z appoptics:patching patched http 
2022-04-20T15:51:12.134Z appoptics:patching patched zlib 
2022-04-20T15:51:12.153Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:51:12.153Z appoptics:patching patched fs 
2022-04-20T15:51:12.199Z appoptics:patching patched express 4.13.4
2022-04-20T15:51:12.206Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:51:12.213Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.4
    ✓ UDP might lose a message
2022-04-20T15:51:12.251Z appoptics:patching patched raw-body 2.5.1
(node:4305) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (244ms)


added 6 packages, removed 8 packages, changed 19 packages, and audited 949 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:51:19.968Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:51:19.969Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:51:19.971Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:51:19.971Z appoptics:debug using context provider: ace-context
2022-04-20T15:51:20.098Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:51:20.298Z appoptics:patching patched crypto 
2022-04-20T15:51:20.375Z appoptics:patching patched https 
2022-04-20T15:51:20.376Z appoptics:patching patched http 
2022-04-20T15:51:20.447Z appoptics:patching patched zlib 
2022-04-20T15:51:20.484Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:51:20.484Z appoptics:patching patched fs 
2022-04-20T15:51:20.584Z appoptics:patching patched express 4.14.0
2022-04-20T15:51:20.596Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:51:20.609Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.0
    ✓ UDP might lose a message
2022-04-20T15:51:20.699Z appoptics:patching patched raw-body 2.5.1
(node:4327) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (329ms)


added 1 package, removed 12 packages, changed 6 packages, and audited 938 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:51:27.991Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:51:27.991Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:51:27.991Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:51:27.993Z appoptics:debug using context provider: ace-context
2022-04-20T15:51:28.062Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:51:28.204Z appoptics:patching patched crypto 
2022-04-20T15:51:28.224Z appoptics:patching patched https 
2022-04-20T15:51:28.224Z appoptics:patching patched http 
2022-04-20T15:51:28.265Z appoptics:patching patched zlib 
2022-04-20T15:51:28.285Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:51:28.285Z appoptics:patching patched fs 
2022-04-20T15:51:28.323Z appoptics:patching patched express 4.14.1
2022-04-20T15:51:28.329Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:51:28.336Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.1
    ✓ UDP might lose a message
2022-04-20T15:51:28.376Z appoptics:patching patched raw-body 2.5.1
(node:4349) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)


added 5 packages, removed 4 packages, changed 14 packages, and audited 939 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:51:36.428Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:51:36.429Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:51:36.429Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:51:36.430Z appoptics:debug using context provider: ace-context
2022-04-20T15:51:36.503Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:51:36.669Z appoptics:patching patched crypto 
2022-04-20T15:51:36.690Z appoptics:patching patched https 
2022-04-20T15:51:36.691Z appoptics:patching patched http 
2022-04-20T15:51:36.733Z appoptics:patching patched zlib 
2022-04-20T15:51:36.759Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:51:36.759Z appoptics:patching patched fs 
2022-04-20T15:51:36.801Z appoptics:patching patched express 4.15.0
2022-04-20T15:51:36.807Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:51:36.814Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.0
    ✓ UDP might lose a message
2022-04-20T15:51:36.858Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (264ms)


changed 4 packages, and audited 939 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:51:44.588Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:51:44.589Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:51:44.589Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:51:44.589Z appoptics:debug using context provider: ace-context
2022-04-20T15:51:44.675Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:51:44.931Z appoptics:patching patched crypto 
2022-04-20T15:51:45.007Z appoptics:patching patched https 
2022-04-20T15:51:45.008Z appoptics:patching patched http 
2022-04-20T15:51:45.038Z appoptics:patching patched zlib 
2022-04-20T15:51:45.065Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:51:45.065Z appoptics:patching patched fs 
2022-04-20T15:51:45.115Z appoptics:patching patched express 4.15.1
2022-04-20T15:51:45.120Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:51:45.128Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.1
    ✓ UDP might lose a message
2022-04-20T15:51:45.200Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (84ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (68ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (381ms)


changed 2 packages, and audited 939 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:51:52.404Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:51:52.405Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:51:52.405Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:51:52.406Z appoptics:debug using context provider: ace-context
2022-04-20T15:51:52.518Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:51:52.702Z appoptics:patching patched crypto 
2022-04-20T15:51:52.747Z appoptics:patching patched https 
2022-04-20T15:51:52.764Z appoptics:patching patched http 
2022-04-20T15:51:52.813Z appoptics:patching patched zlib 
2022-04-20T15:51:52.841Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:51:52.841Z appoptics:patching patched fs 
2022-04-20T15:51:52.900Z appoptics:patching patched express 4.15.2
2022-04-20T15:51:52.905Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:51:52.912Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.2
    ✓ UDP might lose a message
2022-04-20T15:51:52.956Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (305ms)


removed 2 packages, changed 6 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:52:00.679Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:52:00.680Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:52:00.680Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:52:00.681Z appoptics:debug using context provider: ace-context
2022-04-20T15:52:00.743Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:52:00.873Z appoptics:patching patched crypto 
2022-04-20T15:52:00.893Z appoptics:patching patched https 
2022-04-20T15:52:00.894Z appoptics:patching patched http 
2022-04-20T15:52:00.933Z appoptics:patching patched zlib 
2022-04-20T15:52:00.955Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:52:00.955Z appoptics:patching patched fs 
2022-04-20T15:52:00.993Z appoptics:patching patched express 4.15.3
2022-04-20T15:52:00.998Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:52:01.004Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.3
    ✓ UDP might lose a message
2022-04-20T15:52:01.043Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (244ms)


changed 7 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:52:08.625Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:52:08.626Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:52:08.626Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:52:08.627Z appoptics:debug using context provider: ace-context
2022-04-20T15:52:08.699Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:52:08.882Z appoptics:patching patched crypto 
2022-04-20T15:52:08.931Z appoptics:patching patched https 
2022-04-20T15:52:08.932Z appoptics:patching patched http 
2022-04-20T15:52:08.974Z appoptics:patching patched zlib 
2022-04-20T15:52:08.998Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:52:08.998Z appoptics:patching patched fs 
2022-04-20T15:52:09.052Z appoptics:patching patched express 4.15.4
2022-04-20T15:52:09.057Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:52:09.065Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.4
    ✓ UDP might lose a message
2022-04-20T15:52:09.111Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (275ms)


removed 4 packages, changed 5 packages, and audited 933 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

13 vulnerabilities (10 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:52:16.806Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:52:16.806Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:52:16.806Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:52:16.807Z appoptics:debug using context provider: ace-context
2022-04-20T15:52:16.879Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:52:17.020Z appoptics:patching patched crypto 
2022-04-20T15:52:17.040Z appoptics:patching patched https 
2022-04-20T15:52:17.040Z appoptics:patching patched http 
2022-04-20T15:52:17.082Z appoptics:patching patched zlib 
2022-04-20T15:52:17.104Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:52:17.105Z appoptics:patching patched fs 
2022-04-20T15:52:17.143Z appoptics:patching patched express 4.15.5
2022-04-20T15:52:17.147Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:52:17.153Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.5
    ✓ UDP might lose a message
2022-04-20T15:52:17.193Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


added 11 packages, removed 2 packages, changed 11 packages, and audited 942 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:52:24.961Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:52:24.962Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:52:24.962Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:52:24.963Z appoptics:debug using context provider: ace-context
2022-04-20T15:52:25.025Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:52:25.169Z appoptics:patching patched crypto 
2022-04-20T15:52:25.188Z appoptics:patching patched https 
2022-04-20T15:52:25.189Z appoptics:patching patched http 
2022-04-20T15:52:25.233Z appoptics:patching patched zlib 
2022-04-20T15:52:25.256Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:52:25.257Z appoptics:patching patched fs 
2022-04-20T15:52:25.305Z appoptics:patching patched raw-body 2.3.2
2022-04-20T15:52:25.311Z appoptics:patching patched express 4.16.0
2022-04-20T15:52:25.316Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:52:25.325Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.0
    ✓ UDP might lose a message
2022-04-20T15:52:25.421Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (338ms)


changed 4 packages, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:52:32.448Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:52:32.449Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:52:32.449Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:52:32.449Z appoptics:debug using context provider: ace-context
2022-04-20T15:52:32.516Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:52:32.693Z appoptics:patching patched crypto 
2022-04-20T15:52:32.746Z appoptics:patching patched https 
2022-04-20T15:52:32.747Z appoptics:patching patched http 
2022-04-20T15:52:32.839Z appoptics:patching patched zlib 
2022-04-20T15:52:32.877Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:52:32.878Z appoptics:patching patched fs 
2022-04-20T15:52:32.971Z appoptics:patching patched raw-body 2.3.2
2022-04-20T15:52:32.977Z appoptics:patching patched express 4.16.1
2022-04-20T15:52:33.000Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:52:33.035Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.1
    ✓ UDP might lose a message
2022-04-20T15:52:33.118Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (288ms)


changed 1 package, and audited 942 packages in 18s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:52:51.978Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:52:51.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:52:51.979Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:52:51.980Z appoptics:debug using context provider: ace-context
2022-04-20T15:52:52.054Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:52:52.197Z appoptics:patching patched crypto 
2022-04-20T15:52:52.216Z appoptics:patching patched https 
2022-04-20T15:52:52.216Z appoptics:patching patched http 
2022-04-20T15:52:52.255Z appoptics:patching patched zlib 
2022-04-20T15:52:52.275Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:52:52.275Z appoptics:patching patched fs 
2022-04-20T15:52:52.323Z appoptics:patching patched raw-body 2.3.2
2022-04-20T15:52:52.328Z appoptics:patching patched express 4.16.2
2022-04-20T15:52:52.333Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:52:52.339Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.2
    ✓ UDP might lose a message
2022-04-20T15:52:52.379Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


removed 10 packages, changed 6 packages, and audited 932 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:53:01.137Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:53:01.138Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:53:01.138Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:53:01.139Z appoptics:debug using context provider: ace-context
2022-04-20T15:53:01.207Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:53:01.358Z appoptics:patching patched crypto 
2022-04-20T15:53:01.379Z appoptics:patching patched https 
2022-04-20T15:53:01.380Z appoptics:patching patched http 
2022-04-20T15:53:01.419Z appoptics:patching patched zlib 
2022-04-20T15:53:01.441Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:53:01.441Z appoptics:patching patched fs 
2022-04-20T15:53:01.487Z appoptics:patching patched raw-body 2.3.2
2022-04-20T15:53:01.493Z appoptics:patching patched express 4.16.3
2022-04-20T15:53:01.498Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:53:01.504Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.3
    ✓ UDP might lose a message
2022-04-20T15:53:01.543Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (233ms)


removed 3 packages, changed 6 packages, and audited 929 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:53:08.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:53:08.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:53:08.303Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:53:08.304Z appoptics:debug using context provider: ace-context
2022-04-20T15:53:08.367Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:53:08.541Z appoptics:patching patched crypto 
2022-04-20T15:53:08.564Z appoptics:patching patched https 
2022-04-20T15:53:08.564Z appoptics:patching patched http 
2022-04-20T15:53:08.610Z appoptics:patching patched zlib 
2022-04-20T15:53:08.633Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:53:08.633Z appoptics:patching patched fs 
2022-04-20T15:53:08.678Z appoptics:patching patched raw-body 2.3.3
2022-04-20T15:53:08.683Z appoptics:patching patched express 4.16.4
2022-04-20T15:53:08.688Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:53:08.694Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.4
    ✓ UDP might lose a message
2022-04-20T15:53:08.734Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (240ms)


added 13 packages, removed 5 packages, changed 15 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:53:16.948Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:53:16.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:53:16.950Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:53:16.950Z appoptics:debug using context provider: ace-context
2022-04-20T15:53:17.014Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:53:17.146Z appoptics:patching patched crypto 
2022-04-20T15:53:17.168Z appoptics:patching patched https 
2022-04-20T15:53:17.168Z appoptics:patching patched http 
2022-04-20T15:53:17.207Z appoptics:patching patched zlib 
2022-04-20T15:53:17.229Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:53:17.229Z appoptics:patching patched fs 
2022-04-20T15:53:17.285Z appoptics:patching patched raw-body 2.4.0
2022-04-20T15:53:17.293Z appoptics:patching patched express 4.17.0
2022-04-20T15:53:17.299Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:53:17.306Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.0
    ✓ UDP might lose a message
2022-04-20T15:53:17.348Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (261ms)


changed 1 package, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:53:25.226Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:53:25.227Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:53:25.227Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:53:25.228Z appoptics:debug using context provider: ace-context
2022-04-20T15:53:25.291Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:53:25.420Z appoptics:patching patched crypto 
2022-04-20T15:53:25.439Z appoptics:patching patched https 
2022-04-20T15:53:25.440Z appoptics:patching patched http 
2022-04-20T15:53:25.481Z appoptics:patching patched zlib 
2022-04-20T15:53:25.501Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:53:25.502Z appoptics:patching patched fs 
2022-04-20T15:53:25.543Z appoptics:patching patched raw-body 2.4.0
2022-04-20T15:53:25.549Z appoptics:patching patched express 4.17.1
2022-04-20T15:53:25.554Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:53:25.560Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.1
    ✓ UDP might lose a message
2022-04-20T15:53:25.594Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (232ms)


removed 9 packages, changed 14 packages, and audited 928 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:53:32.830Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:53:32.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:53:32.830Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:53:32.831Z appoptics:debug using context provider: ace-context
2022-04-20T15:53:32.901Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:53:33.028Z appoptics:patching patched crypto 
2022-04-20T15:53:33.046Z appoptics:patching patched https 
2022-04-20T15:53:33.047Z appoptics:patching patched http 
2022-04-20T15:53:33.085Z appoptics:patching patched zlib 
2022-04-20T15:53:33.105Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:53:33.105Z appoptics:patching patched fs 
2022-04-20T15:53:33.144Z appoptics:patching patched raw-body 2.4.2
2022-04-20T15:53:33.151Z appoptics:patching patched express 4.17.2
2022-04-20T15:53:33.154Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:53:33.161Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.2
    ✓ UDP might lose a message
2022-04-20T15:53:33.196Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (239ms)


removed 1 package, changed 5 packages, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-20T15:53:40.585Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:53:40.585Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:53:40.585Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:53:40.586Z appoptics:debug using context provider: ace-context
2022-04-20T15:53:40.654Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:53:40.813Z appoptics:patching patched crypto 
2022-04-20T15:53:40.833Z appoptics:patching patched https 
2022-04-20T15:53:40.834Z appoptics:patching patched http 
2022-04-20T15:53:40.873Z appoptics:patching patched zlib 
2022-04-20T15:53:40.896Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:53:40.896Z appoptics:patching patched fs 
2022-04-20T15:53:40.940Z appoptics:patching patched raw-body 2.4.3
2022-04-20T15:53:40.948Z appoptics:patching patched express 4.17.3
2022-04-20T15:53:40.953Z appoptics:patching patched morgan 1.10.0
2022-04-20T15:53:40.960Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.3
    ✓ UDP might lose a message
2022-04-20T15:53:41.000Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (251ms)


up to date, audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
