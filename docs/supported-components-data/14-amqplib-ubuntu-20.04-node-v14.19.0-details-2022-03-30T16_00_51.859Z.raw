npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.2.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.0
added 1 package from 3 contributors, removed 6 packages, updated 3 packages and audited 904 packages in 6.456s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:59.909Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:59.910Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:59.910Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:59.910Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:59.911Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:59.990Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:00.300Z appoptics:patching patched crypto 
2022-03-30T16:01:00.351Z appoptics:patching patched https 
2022-03-30T16:01:00.352Z appoptics:patching patched http 
2022-03-30T16:01:00.425Z appoptics:patching patched amqplib 0.2.0
2022-03-30T16:01:00.427Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:00.431Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.0
    ✔ UDP might lose a message
    promises
      1) "before all" hook for "should report send and consume in existing trace"
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      3) "before all" hook for "should report send and consume in existing trace"
      4) "after all" hook for "should include SourceTrace in consume external to traced publish"


  1 passing (4s)
  4 failing

  1) probes.amqplib 0.2.0
       promises
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  2) probes.amqplib 0.2.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:181:23)
      at processImmediate (internal/timers.js:464:21)
      at process.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.amqplib 0.2.0
       callbacks
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  4) probes.amqplib 0.2.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read property 'close' of undefined
      at Context.<anonymous> (test/probes/amqplib.test.js:211:23)
      at processImmediate (internal/timers.js:464:21)
      at process.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.2.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.2.1
updated 2 packages and audited 904 packages in 6.531s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:12.577Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:12.578Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:12.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:12.578Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:12.578Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:12.663Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:12.853Z appoptics:patching patched crypto 
2022-03-30T16:01:12.876Z appoptics:patching patched https 
2022-03-30T16:01:12.877Z appoptics:patching patched http 
2022-03-30T16:01:12.942Z appoptics:patching patched amqplib 0.2.1
2022-03-30T16:01:12.944Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:12.948Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.1
    ✔ UDP might lose a message
    promises
(node:895) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (53ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (226ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.0: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.0
updated 1 package and audited 904 packages in 5.825s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:20.356Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:20.357Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:20.357Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:20.357Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:20.357Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:20.454Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:20.671Z appoptics:patching patched crypto 
2022-03-30T16:01:20.714Z appoptics:patching patched https 
2022-03-30T16:01:20.715Z appoptics:patching patched http 
2022-03-30T16:01:20.769Z appoptics:patching patched amqplib 0.3.0
2022-03-30T16:01:20.772Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:20.774Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.0
    ✔ UDP might lose a message
    promises
(node:917) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (239ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.1: wanted: {"node":"0.8 || 0.9 || 0.10 || 0.11 || 0.12 || 1.0 || 1.1"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.1
updated 2 packages and audited 904 packages in 7.157s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:29.455Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:29.456Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:29.456Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:29.456Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:29.456Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:29.539Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:29.742Z appoptics:patching patched crypto 
2022-03-30T16:01:29.773Z appoptics:patching patched https 
2022-03-30T16:01:29.774Z appoptics:patching patched http 
2022-03-30T16:01:29.837Z appoptics:patching patched amqplib 0.3.1
2022-03-30T16:01:29.840Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:29.843Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.1
    ✔ UDP might lose a message
    promises
(node:939) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (62ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (273ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.3.2: wanted: {"node":">=0.8 <0.13 || ^1"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.3.2
updated 1 package and audited 904 packages in 5.944s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:37.597Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:37.598Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:37.598Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:37.598Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:37.599Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:37.689Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:37.921Z appoptics:patching patched crypto 
2022-03-30T16:01:37.983Z appoptics:patching patched https 
2022-03-30T16:01:37.984Z appoptics:patching patched http 
2022-03-30T16:01:38.050Z appoptics:patching patched amqplib 0.3.2
2022-03-30T16:01:38.052Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:38.056Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.2
    ✔ UDP might lose a message
    promises
(node:961) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (66ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (277ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.0: wanted: {"node":">=0.8 <4 || ^4"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.0
updated 1 package and audited 904 packages in 6.947s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:46.684Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:46.684Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:46.685Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:46.685Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:46.685Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:46.765Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:46.959Z appoptics:patching patched crypto 
2022-03-30T16:01:46.982Z appoptics:patching patched https 
2022-03-30T16:01:46.982Z appoptics:patching patched http 
2022-03-30T16:01:47.065Z appoptics:patching patched amqplib 0.4.0
2022-03-30T16:01:47.068Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:47.074Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.0
    ✔ UDP might lose a message
    promises
(node:983) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (49ms)
      1) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (51ms)
      ✔ should include SourceTrace in consume external to traced publish
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"


  7 passing (263ms)
  2 failing

  1) probes.amqplib 0.4.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (internal/streams/readable.js:555:12)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  2) probes.amqplib 0.4.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at emitReadable_ (internal/streams/readable.js:555:12)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.1: wanted: {"node":">=0.8 <5 || ^5"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.1
updated 1 package and audited 904 packages in 6.412s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:54.999Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:55.000Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:55.000Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:55.000Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:55.000Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:55.081Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:55.270Z appoptics:patching patched crypto 
2022-03-30T16:01:55.293Z appoptics:patching patched https 
2022-03-30T16:01:55.293Z appoptics:patching patched http 
2022-03-30T16:01:55.360Z appoptics:patching patched amqplib 0.4.1
2022-03-30T16:01:55.362Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:55.365Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.1
    ✔ UDP might lose a message
    promises
(node:1005) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (247ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.4.2: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.4.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.4.2
updated 1 package and audited 904 packages in 6.082s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:03.228Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:03.231Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:03.233Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:03.233Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:03.233Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:03.351Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:03.587Z appoptics:patching patched crypto 
2022-03-30T16:02:03.633Z appoptics:patching patched https 
2022-03-30T16:02:03.634Z appoptics:patching patched http 
2022-03-30T16:02:03.723Z appoptics:patching patched amqplib 0.4.2
2022-03-30T16:02:03.727Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:03.730Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.2
    ✔ UDP might lose a message
    promises
(node:1027) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (53ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (54ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (302ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.1: wanted: {"node":">=0.8 <6 || ^6"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.1
removed 1 package, updated 1 package and audited 904 packages in 5.313s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:10.670Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:10.671Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:10.671Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:10.671Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:10.671Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:10.749Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:10.939Z appoptics:patching patched crypto 
2022-03-30T16:02:10.960Z appoptics:patching patched https 
2022-03-30T16:02:10.960Z appoptics:patching patched http 
2022-03-30T16:02:11.074Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:02:11.079Z appoptics:patching patched amqplib 0.5.1
2022-03-30T16:02:11.083Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:11.086Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.1
    ✔ UDP might lose a message
    promises
(node:1049) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (47ms)


  7 passing (251ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.2: wanted: {"node":">=0.8 <=9"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.2
updated 1 package and audited 904 packages in 5.986s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:18.606Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:18.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:18.607Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:18.607Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:18.607Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:18.720Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:18.943Z appoptics:patching patched crypto 
2022-03-30T16:02:18.995Z appoptics:patching patched https 
2022-03-30T16:02:18.996Z appoptics:patching patched http 
2022-03-30T16:02:19.075Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:02:19.082Z appoptics:patching patched amqplib 0.5.2
2022-03-30T16:02:19.085Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:19.088Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.2
    ✔ UDP might lose a message
    promises
(node:1071) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (64ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (263ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.3: wanted: {"node":">=0.8 <=9"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.3
added 7 packages from 5 contributors, updated 3 packages and audited 911 packages in 5.83s

87 packages are looking for funding
  run `npm fund` for details

found 6 vulnerabilities (4 moderate, 1 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:02:26.485Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:26.486Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:26.486Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:26.486Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:26.486Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:26.565Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:26.749Z appoptics:patching patched crypto 
2022-03-30T16:02:26.771Z appoptics:patching patched https 
2022-03-30T16:02:26.771Z appoptics:patching patched http 
2022-03-30T16:02:26.851Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:02:26.854Z appoptics:patching patched amqplib 0.5.3
2022-03-30T16:02:26.856Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:26.859Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.3
    ✔ UDP might lose a message
    promises
(node:1093) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (42ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (57ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (288ms)

npm WARN deprecated amqplib@0.5.4: See github.com/squaremo/amqp.node/issues/534
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.4: wanted: {"node":">=0.8 <=12"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.4
updated 1 package and audited 911 packages in 6.943s

87 packages are looking for funding
  run `npm fund` for details

found 6 vulnerabilities (4 moderate, 1 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:02:35.540Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:35.541Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:35.541Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:35.541Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:35.541Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:35.622Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:35.817Z appoptics:patching patched crypto 
2022-03-30T16:02:35.841Z appoptics:patching patched https 
2022-03-30T16:02:35.841Z appoptics:patching patched http 

Error: Cannot find module './defs'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:902:15)
    at Function.Module._load (internal/modules/cjs/loader.js:746:27)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js:7:12)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js:11:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js:1:19)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.5: wanted: {"node":">=0.8 <=12"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.5
updated 1 package and audited 911 packages in 7.958s

87 packages are looking for funding
  run `npm fund` for details

found 6 vulnerabilities (4 moderate, 1 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:02:45.138Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:45.139Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:45.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:45.139Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:45.139Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:45.218Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:45.402Z appoptics:patching patched crypto 
2022-03-30T16:02:45.426Z appoptics:patching patched https 
2022-03-30T16:02:45.426Z appoptics:patching patched http 
2022-03-30T16:02:45.505Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:02:45.508Z appoptics:patching patched amqplib 0.5.5
2022-03-30T16:02:45.511Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:45.514Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.5
    ✔ UDP might lose a message
    promises
(node:1133) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (49ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (247ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN notsup Unsupported engine for amqplib@0.5.6: wanted: {"node":">=0.8 <=12"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: amqplib@0.5.6
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.5.6
updated 1 package and audited 911 packages in 5.342s

87 packages are looking for funding
  run `npm fund` for details

found 6 vulnerabilities (4 moderate, 1 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:02:52.417Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:52.418Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:52.419Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:52.419Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:52.419Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:52.578Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:52.864Z appoptics:patching patched crypto 
2022-03-30T16:02:52.904Z appoptics:patching patched https 
2022-03-30T16:02:52.905Z appoptics:patching patched http 
2022-03-30T16:02:53.008Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:02:53.011Z appoptics:patching patched amqplib 0.5.6
2022-03-30T16:02:53.014Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:53.017Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.6
    ✔ UDP might lose a message
    promises
(node:1155) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (47ms)


  7 passing (244ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.6.0
updated 1 package and audited 911 packages in 6.07s

87 packages are looking for funding
  run `npm fund` for details

found 6 vulnerabilities (4 moderate, 1 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:03:00.636Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:00.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:00.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:00.637Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:00.637Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:00.715Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:00.901Z appoptics:patching patched crypto 
2022-03-30T16:03:00.923Z appoptics:patching patched https 
2022-03-30T16:03:00.924Z appoptics:patching patched http 
2022-03-30T16:03:01.044Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:01.047Z appoptics:patching patched amqplib 0.6.0
2022-03-30T16:03:01.049Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:01.054Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.6.0
    ✔ UDP might lose a message
    promises
(node:1177) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (48ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (250ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.0
updated 1 package and audited 911 packages in 6.63s

87 packages are looking for funding
  run `npm fund` for details

found 6 vulnerabilities (4 moderate, 1 high, 1 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:03:09.273Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:09.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:09.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:09.275Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:09.275Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:09.351Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:09.536Z appoptics:patching patched crypto 
2022-03-30T16:03:09.558Z appoptics:patching patched https 
2022-03-30T16:03:09.558Z appoptics:patching patched http 
2022-03-30T16:03:09.635Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:09.637Z appoptics:patching patched amqplib 0.7.0
2022-03-30T16:03:09.640Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:09.642Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.0
    ✔ UDP might lose a message
    promises
(node:1199) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (64ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (49ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (258ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.7.1
removed 1 package, updated 2 packages and audited 910 packages in 5.594s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:16.786Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:16.788Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:16.788Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:16.788Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:16.788Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:16.873Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:17.058Z appoptics:patching patched crypto 
2022-03-30T16:03:17.081Z appoptics:patching patched https 
2022-03-30T16:03:17.081Z appoptics:patching patched http 
2022-03-30T16:03:17.178Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:17.181Z appoptics:patching patched amqplib 0.7.1
2022-03-30T16:03:17.185Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:17.189Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.1
    ✔ UDP might lose a message
    promises
(node:1221) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (62ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (49ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (49ms)


  7 passing (276ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 910 packages in 6.186s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:24.944Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:24.945Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:24.945Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:24.945Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:24.945Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:25.029Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:25.219Z appoptics:patching patched crypto 
2022-03-30T16:03:25.274Z appoptics:patching patched https 
2022-03-30T16:03:25.275Z appoptics:patching patched http 
2022-03-30T16:03:25.352Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:25.355Z appoptics:patching patched amqplib 0.8.0
2022-03-30T16:03:25.357Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:25.361Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.8.0
    ✔ UDP might lose a message
    promises
(node:1243) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (63ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (51ms)


  7 passing (255ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ amqplib@0.8.0
updated 1 package and audited 910 packages in 5.77s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

