npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.0
updated 2 packages and audited 935 packages in 4.16s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:25.614Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:25.615Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:25.615Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:25.615Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:25.679Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:25.808Z appoptics:patching patched crypto 
2022-04-21T16:15:25.826Z appoptics:patching patched https 
2022-04-21T16:15:25.826Z appoptics:patching patched http 
2022-04-21T16:15:25.869Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:25.869Z appoptics:patching patched fs 
2022-04-21T16:15:25.882Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v12.22.12)
2022-04-21T16:15:25.887Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-21T16:15:25.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9d1e00591bf509ec201ff0fcac98c141b05ce74-04dec5a678d584ca-01 outer:exit 2b-f9d1e00591bf509ec201ff0fcac98c141b05ce74-4bc506135d7dfa75-01
2022-04-21T16:15:25.942Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:26.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-e56a757a4d20bc16811edf821a87fe63adde2b69-134c3b933ee06866-01 outer:exit 2b-e56a757a4d20bc16811edf821a87fe63adde2b69-285d431952553967-01
2022-04-21T16:15:26.000Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:26.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8cba2a5c75337b9cd622ca8ed5399df4d757c60-cb404b89742de9b0-01 outer:exit 2b-d8cba2a5c75337b9cd622ca8ed5399df4d757c60-a0e51150f5b8fe3f-01
2022-04-21T16:15:26.007Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:26.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0a699a76f07352a819392f30c89fd0ed50d3c6e-8067ff8575f9ead2-01 outer:exit 2b-f0a699a76f07352a819392f30c89fd0ed50d3c6e-da2034037f2adff4-01
2022-04-21T16:15:26.010Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:26.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-c197fc2bab5629a15aef9ebbed62f33405896f63-2ebc9196cbafee9a-01 outer:exit 2b-c197fc2bab5629a15aef9ebbed62f33405896f63-5f1f1a298b47e2cf-01
2022-04-21T16:15:26.017Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:26.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fcc79639b764dfd061d19a47e08bf16dd288218-e8719ece1989b468-01 outer:exit 2b-6fcc79639b764dfd061d19a47e08bf16dd288218-a219362988d69376-01
2022-04-21T16:15:26.024Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:26.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-59e1931b55336ef8e0bda0246b187a276157cd31-5fbaf5d4cbd3aa26-01 outer:exit 2b-59e1931b55336ef8e0bda0246b187a276157cd31-8ef2d6211b464f11-01
2022-04-21T16:15:26.027Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:26.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-c65d54792d2d3bcebdc1fac613bd8be8314725d4-2a4332d6da132232-01 outer:exit 2b-c65d54792d2d3bcebdc1fac613bd8be8314725d4-b489be9945efc141-01
2022-04-21T16:15:26.030Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:26.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-defd6103d73598c1367ac056aff6238bb68f0b1d-5aa5b4a62f76b319-01 outer:exit 2b-defd6103d73598c1367ac056aff6238bb68f0b1d-484a62252e3dcca1-01
2022-04-21T16:15:26.034Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:26.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d45c7db055dc7599304517fcd560aa8afa75f3-bb504db8b11e3d0e-01 outer:exit 2b-60d45c7db055dc7599304517fcd560aa8afa75f3-551ffcddb9e63aca-01
2022-04-21T16:15:26.039Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:26.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb5e1fcf25647ca718be9b36a43f6d03815d3f19-0d442c69a1adcb98-01 outer:exit 2b-fb5e1fcf25647ca718be9b36a43f6d03815d3f19-9b49985ffa31e4bb-01
2022-04-21T16:15:26.046Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:26.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7adfe0890d007a20a322dd5506b495fb6371d3a-59db24ac7fbe5d3a-01 outer:exit 2b-e7adfe0890d007a20a322dd5506b495fb6371d3a-37f9728a9f74fdae-01
2022-04-21T16:15:26.095Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:26.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-aea4a69f50ce48024b83b896091cccaa03121dc5-c97f29d68507246c-01 outer:exit 2b-aea4a69f50ce48024b83b896091cccaa03121dc5-899e1208e95b7b2a-01
2022-04-21T16:15:26.121Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:26.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-850b250e942fec84833af867ce5024a7a92a3dda-4cb8f4224713d944-01 outer:exit 2b-850b250e942fec84833af867ce5024a7a92a3dda-a2ecc06f98ad7eda-01
2022-04-21T16:15:26.166Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:26.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-44352454612f4d28f4caaa8919ab9974e651a408-28ac420324563870-01 outer:exit 2b-44352454612f4d28f4caaa8919ab9974e651a408-7f7dc92afe0b306a-01
2022-04-21T16:15:26.172Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:26.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eaadb7be7500f0a5f3b9db9b717654af552a4ce-6c3d36cd0448d199-01 outer:exit 2b-9eaadb7be7500f0a5f3b9db9b717654af552a4ce-920e4f0f351e8046-01
2022-04-21T16:15:26.174Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:26.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-2876cf7b2b08a6d7f74a420d37996576ac370778-5b8db2e31fe57328-01 outer:exit 2b-2876cf7b2b08a6d7f74a420d37996576ac370778-e57c99fdf1a7293f-01
2022-04-21T16:15:26.180Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:26.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-02f804d5e381585709063dabdee81924aa238714-23098d5c5b009aa3-01 outer:exit 2b-02f804d5e381585709063dabdee81924aa238714-0e5f364fbe8e1859-01
2022-04-21T16:15:26.183Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:26.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4ec906fe02c9c944442dc28bf4c8630ae1aa2f-aad172067776f5dd-01 outer:exit 2b-5d4ec906fe02c9c944442dc28bf4c8630ae1aa2f-c246014524afa290-01
2022-04-21T16:15:26.186Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:26.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cb9291c2ab03ed8ba87dbe79dfdcf57df1a9aa8-33992c3a71f1907d-01 outer:exit 2b-5cb9291c2ab03ed8ba87dbe79dfdcf57df1a9aa8-7e973c25bf298762-01
2022-04-21T16:15:26.190Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:26.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef07dd0e142a7a2588967bf88537f1eecaa24fe4-576e1a42b19bd0e6-01 outer:exit 2b-ef07dd0e142a7a2588967bf88537f1eecaa24fe4-d18afaec769efb2a-01
2022-04-21T16:15:26.192Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:26.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0306719cb7abf0755e96d1ffa742743c601a926-cd3a67b51f01599b-01 outer:exit 2b-c0306719cb7abf0755e96d1ffa742743c601a926-2938cbbf8d68651c-01
2022-04-21T16:15:26.194Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:26.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8d859bdabb04279cc19ca4a8805cbf2efacdda5-0c59d8419d3a3356-01 outer:exit 2b-b8d859bdabb04279cc19ca4a8805cbf2efacdda5-8bac02e5702f7042-01
2022-04-21T16:15:26.197Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:26.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-37420c7012ae15ad75d5ff92ee7a4b3808570bcd-235cf56d07d0fcae-01 outer:exit 2b-37420c7012ae15ad75d5ff92ee7a4b3808570bcd-45001cd0cd631e2c-01
2022-04-21T16:15:26.200Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:26.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-85b28378e58ef68ea16ab82b6e60e8c15262e843-ef03e9a20804e088-01 outer:exit 2b-85b28378e58ef68ea16ab82b6e60e8c15262e843-cdcc9375f6b15f9d-01
2022-04-21T16:15:26.202Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:26.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc180b29c09102684dcd86557450f48157b3a306-e416c4c036556c04-01 outer:exit 2b-dc180b29c09102684dcd86557450f48157b3a306-3fc804ade2d8effb-01
2022-04-21T16:15:26.205Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:26.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9c957684963224fd082fe57bb46ef1c745ccd56-1053d9b70c717006-01 outer:exit 2b-e9c957684963224fd082fe57bb46ef1c745ccd56-4fa1afd24a781acc-01
2022-04-21T16:15:26.244Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:26.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-997ed64a06fae4a33687e71f307fbee7766e7cca-066cdd0474450dcc-01 outer:exit 2b-997ed64a06fae4a33687e71f307fbee7766e7cca-b26f67740b691865-01
2022-04-21T16:15:26.265Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:26.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-344df964418317e70caf30ca64d747949bee28d8-cded8c4618a460ac-01 outer:exit 2b-344df964418317e70caf30ca64d747949bee28d8-f6092be511c215f2-01
2022-04-21T16:15:26.276Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:26.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9b232bc94da1e06b455c2fbc218ff93b32463a2-1b39e390b87f0cb6-01 outer:exit 2b-a9b232bc94da1e06b455c2fbc218ff93b32463a2-269d064ddf42c1f7-01
2022-04-21T16:15:26.298Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:26.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-058cab15869ab9e4c511f29b82786718849816ed-fb01fa8dd7773983-01 outer:exit 2b-058cab15869ab9e4c511f29b82786718849816ed-cbce87644be9687c-01
2022-04-21T16:15:26.303Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:26.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-90ac57f214ba8fc22388cf745136280652dcf57f-2d0b8618b9bd7d21-01 outer:exit 2b-90ac57f214ba8fc22388cf745136280652dcf57f-cf7382bf3d59c26e-01
2022-04-21T16:15:26.306Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:26.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-ede87cb856db159a1e649361189261dec550d941-007483031e6bfafe-01 outer:exit 2b-ede87cb856db159a1e649361189261dec550d941-6b9f9cc53cac9122-01
2022-04-21T16:15:26.315Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:26.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-aba1ef98f51b91f76d017352df1f4acfced4c79c-ac22c4bc2dedf74d-01 outer:exit 2b-aba1ef98f51b91f76d017352df1f4acfced4c79c-839b9857645eac51-01
2022-04-21T16:15:26.323Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:26.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-26a9f8b95809cd1bfa91d3fe8d577bc1d6dbb036-5ea76b1b1b752440-01 outer:exit 2b-26a9f8b95809cd1bfa91d3fe8d577bc1d6dbb036-01b915d6d252dd9d-01
2022-04-21T16:15:26.326Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:26.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-e930e4937b5abf72b8b38e5bcaa1f57223daea11-2b91efce81865c82-01 outer:exit 2b-e930e4937b5abf72b8b38e5bcaa1f57223daea11-b197b7d22f610ce3-01
2022-04-21T16:15:26.329Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:26.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-382bbcb792438720d87893f8611df26e83edf343-865a1ff84e601571-01 outer:exit 2b-382bbcb792438720d87893f8611df26e83edf343-cb7959acb870e3ad-01
2022-04-21T16:15:26.331Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:26.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d492c999868800d681fe012b5f06199cc8faf82-8f8b298aad4fb2a0-01 outer:exit 2b-3d492c999868800d681fe012b5f06199cc8faf82-88d7901ffa093f02-01
2022-04-21T16:15:26.333Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:26.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-453c4130aae79c6427edb1953e7a468ca9148a81-07f22a8191d3f95e-01 outer:exit 2b-453c4130aae79c6427edb1953e7a468ca9148a81-90ba146f100cfe4b-01
2022-04-21T16:15:26.342Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:26.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f0def80b076c2b0aa908e4bd0c27e9b5cc66632-1d5c8872d9951895-01 outer:exit 2b-5f0def80b076c2b0aa908e4bd0c27e9b5cc66632-967bc872dbfc5d73-01
2022-04-21T16:15:26.351Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:26.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa209394258808129ce4784d28223fb89c36721d-3fec6b520add70ba-01 outer:exit 2b-fa209394258808129ce4784d28223fb89c36721d-d932ccb0c900b87d-01
2022-04-21T16:15:26.354Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:26.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2aba1f5e2622a31774299d47791094a64fb6987-a71acdca11476de5-01 outer:exit 2b-b2aba1f5e2622a31774299d47791094a64fb6987-c26cffe08dd9fefa-01
2022-04-21T16:15:26.357Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:26.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-070df8aece96ffdfde05abad5205ac636d97c3c4-99f478ee8fd62e72-01 outer:exit 2b-070df8aece96ffdfde05abad5205ac636d97c3c4-b113a2472c325a43-01
2022-04-21T16:15:26.406Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:26.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-31ede2e30514a28b9e45e497fcf04c4b3514bdaa-a0fb55887f185338-01 outer:exit 2b-31ede2e30514a28b9e45e497fcf04c4b3514bdaa-88d9b90b437449b6-01
2022-04-21T16:15:26.436Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (543ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.1
updated 1 package and audited 935 packages in 4.363s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:31.655Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:31.655Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:31.655Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:31.656Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:31.715Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:31.836Z appoptics:patching patched crypto 
2022-04-21T16:15:31.854Z appoptics:patching patched https 
2022-04-21T16:15:31.854Z appoptics:patching patched http 
2022-04-21T16:15:31.895Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:31.895Z appoptics:patching patched fs 
2022-04-21T16:15:31.908Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v12.22.12)
2022-04-21T16:15:31.913Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-21T16:15:31.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-446a881b44554f62fc95949c4434c369649cede9-282a697724fa66bc-01 outer:exit 2b-446a881b44554f62fc95949c4434c369649cede9-17bd79f3e45801f8-01
2022-04-21T16:15:31.952Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:31.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec925604fe3e3fbb3834183fc186d84620bca667-34024f5542cc1a90-01 outer:exit 2b-ec925604fe3e3fbb3834183fc186d84620bca667-f11933a00aa46fde-01
2022-04-21T16:15:31.996Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:32.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-c29c756236ae870b587b39d5d2fa0464db331b8f-1e992b793240a234-01 outer:exit 2b-c29c756236ae870b587b39d5d2fa0464db331b8f-95897683747aad6a-01
2022-04-21T16:15:32.005Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:32.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e1a0a9d793b9b16896d19a8d638f271027295f3-a6312ad3e95a442e-01 outer:exit 2b-1e1a0a9d793b9b16896d19a8d638f271027295f3-43687d4eac5c8008-01
2022-04-21T16:15:32.012Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:32.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-411fa513a9fcae5dfa13f09da638868b707b78d4-fc616f20078160e9-01 outer:exit 2b-411fa513a9fcae5dfa13f09da638868b707b78d4-15e9a6595a66f228-01
2022-04-21T16:15:32.023Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:32.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-894223ff44d11591e742a8fd38620e9cb3dc8b5b-e24352a909c2dfb1-01 outer:exit 2b-894223ff44d11591e742a8fd38620e9cb3dc8b5b-041a00d1788447ed-01
2022-04-21T16:15:32.030Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:32.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dd621db9a7bccfae386484a71dc3aa9972a5423-ae9ae1eaf5b5fa50-01 outer:exit 2b-5dd621db9a7bccfae386484a71dc3aa9972a5423-28bd8daffb229658-01
2022-04-21T16:15:32.034Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:32.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-f03282dae9f6fe1ecd3fc668d84b197f912ef195-5029407e0aa96ebd-01 outer:exit 2b-f03282dae9f6fe1ecd3fc668d84b197f912ef195-2c924b1757d4cbba-01
2022-04-21T16:15:32.036Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:32.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-5591928214ec0b03d6446827a8931477dbbfede0-836f93f670bb01da-01 outer:exit 2b-5591928214ec0b03d6446827a8931477dbbfede0-46a0de26368afb47-01
2022-04-21T16:15:32.041Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:32.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a73a7c6510bb4eadeb38f3a688195f299adc5c-9d5ff6b2f46da8a1-01 outer:exit 2b-c0a73a7c6510bb4eadeb38f3a688195f299adc5c-953c40535fbe3971-01
2022-04-21T16:15:32.046Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:32.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea533d534f380b4b193089e03cf0bd82238d4130-876fdfb462536bf8-01 outer:exit 2b-ea533d534f380b4b193089e03cf0bd82238d4130-08bd494ddcd2aa02-01
2022-04-21T16:15:32.058Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:32.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-338e4ee621804602555edc2967f811814264d8c4-ef30e132991f68e1-01 outer:exit 2b-338e4ee621804602555edc2967f811814264d8c4-cc0b56e296271b4e-01
2022-04-21T16:15:32.065Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:32.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-4327319f6db62d1dbe7608ba18c1f3d6fd4bc544-5a0da72d5dbd1b25-01 outer:exit 2b-4327319f6db62d1dbe7608ba18c1f3d6fd4bc544-31a26f544df3feac-01
2022-04-21T16:15:32.083Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:32.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-f15273612c1f96c4c25270f67b7cbcea945a1610-0d680d172f081ba7-01 outer:exit 2b-f15273612c1f96c4c25270f67b7cbcea945a1610-bd0271b75065c8d4-01
2022-04-21T16:15:32.125Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:32.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c10ae1cbda8ddea555df8f2ca24da25117116ef-539f45861e772865-01 outer:exit 2b-5c10ae1cbda8ddea555df8f2ca24da25117116ef-6ce4ad47db1491a5-01
2022-04-21T16:15:32.128Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:32.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-68f49d27c5229643416a354d315845c4ca3e91b7-b7cedac5a8d4ea8d-01 outer:exit 2b-68f49d27c5229643416a354d315845c4ca3e91b7-fa7b125aef6ab3ad-01
2022-04-21T16:15:32.130Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:32.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-823f402a79dd1782869ff58142b775637fd6306a-68bd60cf47bcda28-01 outer:exit 2b-823f402a79dd1782869ff58142b775637fd6306a-d7d91df976b75f2c-01
2022-04-21T16:15:32.137Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:32.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2caf9725fdaedc972828d77b7588e1714d8d8b9-12197ea87d53b09c-01 outer:exit 2b-a2caf9725fdaedc972828d77b7588e1714d8d8b9-a5ce329b5a782c68-01
2022-04-21T16:15:32.139Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:32.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdea4cb644488d04f908bdd4b829d77d1f6e147b-93625c3ca7ce41c7-01 outer:exit 2b-fdea4cb644488d04f908bdd4b829d77d1f6e147b-f5dc30b872f0619f-01
2022-04-21T16:15:32.142Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:32.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-40eed705093bcaba35f4c9474438b3987abc008a-c588bbba607d13e8-01 outer:exit 2b-40eed705093bcaba35f4c9474438b3987abc008a-b9c1d37adf6c5b04-01
2022-04-21T16:15:32.145Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:32.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-4de1bc91daced5e1253d39126e7028afc55258f7-a8081e21f2b5be07-01 outer:exit 2b-4de1bc91daced5e1253d39126e7028afc55258f7-04d37384a3acb41a-01
2022-04-21T16:15:32.147Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:32.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-514c1716668022bddde1e8a6ea3ef87fe218e116-f9efc18a0a0860ce-01 outer:exit 2b-514c1716668022bddde1e8a6ea3ef87fe218e116-a46de2eb983a0ad5-01
2022-04-21T16:15:32.149Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:32.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-622b2d995b69194d974e47a6352eb67f526263e0-b22e38fa1e473451-01 outer:exit 2b-622b2d995b69194d974e47a6352eb67f526263e0-43dc7fadc86086b7-01
2022-04-21T16:15:32.152Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:32.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-10cd923fac1f0145368ae82ae116ec5ff9c8cafa-80c8d780dabf31a1-01 outer:exit 2b-10cd923fac1f0145368ae82ae116ec5ff9c8cafa-720095f30329e7da-01
2022-04-21T16:15:32.155Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:32.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cc54e4c66ede00dfc7e1c68b620baa3cde44331-0ad61ce7279dd8a5-01 outer:exit 2b-6cc54e4c66ede00dfc7e1c68b620baa3cde44331-8f060a38007210f3-01
2022-04-21T16:15:32.157Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:32.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-4031ab7c2e2551294f6c9aa41226b9a00281c973-29742a2f7845d160-01 outer:exit 2b-4031ab7c2e2551294f6c9aa41226b9a00281c973-253f26c37e08f327-01
2022-04-21T16:15:32.159Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:32.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8d8e373cd2afdc0c9c9de6cc8c0d83420709a7f-beb351e74c1c27d6-01 outer:exit 2b-b8d8e373cd2afdc0c9c9de6cc8c0d83420709a7f-98d585986e60c635-01
2022-04-21T16:15:32.165Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:32.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4563aeabd519462b7a2b0ce05a273408ad58e9a-b8dedeb66b2ab056-01 outer:exit 2b-b4563aeabd519462b7a2b0ce05a273408ad58e9a-bc457d664ab5e5c6-01
2022-04-21T16:15:32.170Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:32.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93efc510d9d7d53bb7c983bd1e5afd3c89d3bee-7bb059f084e41ea8-01 outer:exit 2b-a93efc510d9d7d53bb7c983bd1e5afd3c89d3bee-2e4890f9407de46f-01
2022-04-21T16:15:32.179Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:32.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-f108ab92185495c9bed51b5611601089e6f054b9-3e882011e4635165-01 outer:exit 2b-f108ab92185495c9bed51b5611601089e6f054b9-b78e70b00d503c78-01
2022-04-21T16:15:32.186Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:32.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b4bb09bf693859eb2be85bac451aa04b158b573-061156a14725b592-01 outer:exit 2b-0b4bb09bf693859eb2be85bac451aa04b158b573-2577eed38b56fa9f-01
2022-04-21T16:15:32.188Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:32.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-9518d759a3ebad9613e51508525eebfc274462a8-034a9f2d3f08316e-01 outer:exit 2b-9518d759a3ebad9613e51508525eebfc274462a8-31267a6070fa15e8-01
2022-04-21T16:15:32.191Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:32.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a48b5e7a0a731c2bd5041b864e3794f5c58c049-4408d0f8c8ee7a30-01 outer:exit 2b-7a48b5e7a0a731c2bd5041b864e3794f5c58c049-8cdb47681acc28e3-01
2022-04-21T16:15:32.198Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:32.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6f32688e22c144ac9a337acddfe16d48c142753-48b53f804ebfe367-01 outer:exit 2b-b6f32688e22c144ac9a337acddfe16d48c142753-8ccd4ad2a2a048e0-01
2022-04-21T16:15:32.200Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:32.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-949390117bca453815474ed338de8ee1960beddc-c1562245d9c9d0a5-01 outer:exit 2b-949390117bca453815474ed338de8ee1960beddc-a9ffb06dea4c1057-01
2022-04-21T16:15:32.202Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:32.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-297384f0990861d6e5b039cc02456a6035d37ad9-3ca9507b1ffb8b6d-01 outer:exit 2b-297384f0990861d6e5b039cc02456a6035d37ad9-a32a686f5c99e036-01
2022-04-21T16:15:32.204Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:32.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-07f22b40f7df421bbf29fdce5e89db2401c68345-263ff8606afa5108-01 outer:exit 2b-07f22b40f7df421bbf29fdce5e89db2401c68345-4cfba6a6803aede4-01
2022-04-21T16:15:32.206Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:32.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-481e81147aed693668a92e098cf6ec4bc237bda8-d7a413a65572cbe8-01 outer:exit 2b-481e81147aed693668a92e098cf6ec4bc237bda8-d8311c2984af92a6-01
2022-04-21T16:15:32.208Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:32.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbe6da32a6ca7b09f0b34e2fd2b82a62aacd0853-bde93e1717dca6e2-01 outer:exit 2b-fbe6da32a6ca7b09f0b34e2fd2b82a62aacd0853-4a7453b17ba5a9c5-01
2022-04-21T16:15:32.217Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:32.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c37ed9a6ab635d9fb3cbdaa1e1b8c56747821aa-e195bf8b868ccc4d-01 outer:exit 2b-9c37ed9a6ab635d9fb3cbdaa1e1b8c56747821aa-2c55e4ff83a36cd3-01
2022-04-21T16:15:32.227Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:32.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-31c1e37a32d76c6cba16e1eaf217adfb5e7ac876-41a384687f0baa15-01 outer:exit 2b-31c1e37a32d76c6cba16e1eaf217adfb5e7ac876-c8e310d941b9374e-01
2022-04-21T16:15:32.230Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:32.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c1ca3a47ae770ac863714ffb361460ea723e06b-1ac54d518baa9ef7-01 outer:exit 2b-0c1ca3a47ae770ac863714ffb361460ea723e06b-8c17692af804c74f-01
2022-04-21T16:15:32.232Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:32.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9287e0a0043a0e5f09d2cb3aba3d01ec5b08090-04208fe3312d12b0-01 outer:exit 2b-f9287e0a0043a0e5f09d2cb3aba3d01ec5b08090-68b1764f6a59a013-01
2022-04-21T16:15:32.235Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:32.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-e37438f4e5a8508dc7f341ecd244481c3ea47aad-bd7dcf858d203896-01 outer:exit 2b-e37438f4e5a8508dc7f341ecd244481c3ea47aad-af4d3cc90b6f933c-01
2022-04-21T16:15:32.264Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (344ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.2
updated 1 package and audited 935 packages in 3.788s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:36.987Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:36.988Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:36.988Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:36.988Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:37.048Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:37.168Z appoptics:patching patched crypto 
2022-04-21T16:15:37.193Z appoptics:patching patched https 
2022-04-21T16:15:37.193Z appoptics:patching patched http 
2022-04-21T16:15:37.235Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:37.236Z appoptics:patching patched fs 
2022-04-21T16:15:37.248Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v12.22.12)
2022-04-21T16:15:37.253Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-21T16:15:37.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6a9d8091fb903d9269a1d66958c539476f5fa25-52773a4bd7a3abe2-01 outer:exit 2b-a6a9d8091fb903d9269a1d66958c539476f5fa25-eb72d8ee7b33c267-01
2022-04-21T16:15:37.292Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:37.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-a55f149e4125c2de3129ee32cca97bd33df805b2-3bc41456121288d0-01 outer:exit 2b-a55f149e4125c2de3129ee32cca97bd33df805b2-fdeca07df6612076-01
2022-04-21T16:15:37.335Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:37.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb6100d0fa4985fff5b42e10c96e37c120e2a1fa-66e6858dad494fca-01 outer:exit 2b-bb6100d0fa4985fff5b42e10c96e37c120e2a1fa-94c7a9681f7df0a3-01
2022-04-21T16:15:37.339Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:37.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b4b5d4ad4cbbc974c6827e8ab2779288956bf79-03cfad3a5d0b48ee-01 outer:exit 2b-9b4b5d4ad4cbbc974c6827e8ab2779288956bf79-d7e917c158f3f219-01
2022-04-21T16:15:37.341Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:37.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eeb43be9e000c56a4059e0867fc3df62a53f8f6-ce974aa714008729-01 outer:exit 2b-3eeb43be9e000c56a4059e0867fc3df62a53f8f6-def42d7ac59da3cc-01
2022-04-21T16:15:37.347Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:37.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-6510b09e693489b6e0198c9733e80a61f35dfd5e-88e7ef20af91c327-01 outer:exit 2b-6510b09e693489b6e0198c9733e80a61f35dfd5e-c3c29f5da990791d-01
2022-04-21T16:15:37.350Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:37.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3dbb4413b5a7f18a887de0c9e357c1fcfeba932-b162e06b658aa509-01 outer:exit 2b-d3dbb4413b5a7f18a887de0c9e357c1fcfeba932-408b681644bba38b-01
2022-04-21T16:15:37.352Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:37.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf7cff79c1e9c4df92badb58db6f6fdccb9ad9d8-5b9ee46abd6f120e-01 outer:exit 2b-bf7cff79c1e9c4df92badb58db6f6fdccb9ad9d8-3f399f2ca50caeff-01
2022-04-21T16:15:37.354Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:37.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5215b49b634b3e374d7a9779472b011e40a9d2b-3edfc187c1771839-01 outer:exit 2b-c5215b49b634b3e374d7a9779472b011e40a9d2b-4b2822ed8ab1081f-01
2022-04-21T16:15:37.356Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:37.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ea2374510c6b09bbcb86be66c3b7354c4d29920-49dc8c17054eee82-01 outer:exit 2b-5ea2374510c6b09bbcb86be66c3b7354c4d29920-a015cad9a193f0f6-01
2022-04-21T16:15:37.362Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:37.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-eac365b07006c104c2d479dccb44aaa2bcd435ca-f047f1000826a3b5-01 outer:exit 2b-eac365b07006c104c2d479dccb44aaa2bcd435ca-f8347f0211c66e09-01
2022-04-21T16:15:37.366Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:37.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-419757b7ba3f4d6fe67e4308f0ec5b5f9014e2e9-a10f93f8a907d095-01 outer:exit 2b-419757b7ba3f4d6fe67e4308f0ec5b5f9014e2e9-dd363548e6ed985c-01
2022-04-21T16:15:37.372Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:37.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-2643866adf65dbd0e2be167177c2fac4c4f88585-7a9d23b3e85a289d-01 outer:exit 2b-2643866adf65dbd0e2be167177c2fac4c4f88585-c06e38a78a35d491-01
2022-04-21T16:15:37.388Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:37.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-04cec0ff895c6f5b8996dcbac8e48dbc6fc8de19-90ea96ad7b5c4aec-01 outer:exit 2b-04cec0ff895c6f5b8996dcbac8e48dbc6fc8de19-1155859556955c49-01
2022-04-21T16:15:37.426Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:37.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-4915b781a67aa3b244e5425c6a69cd99a83cd2e3-5be8d84efd8ca3da-01 outer:exit 2b-4915b781a67aa3b244e5425c6a69cd99a83cd2e3-1a341f41d6e690a0-01
2022-04-21T16:15:37.428Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:37.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-4128ef6fe171564e919faf44d2b2cfde318b780e-f757783486da94ee-01 outer:exit 2b-4128ef6fe171564e919faf44d2b2cfde318b780e-df6cff18dabc4ca2-01
2022-04-21T16:15:37.430Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:37.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-91f53f22aded2b2144e74eeb9fa9ddeb55112702-c06aaa5a04e996c9-01 outer:exit 2b-91f53f22aded2b2144e74eeb9fa9ddeb55112702-a6cdb00963ea2b5a-01
2022-04-21T16:15:37.433Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:37.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf0e879c58b417f64c63698c4649fb0a098480b9-281d788f691bd6b2-01 outer:exit 2b-cf0e879c58b417f64c63698c4649fb0a098480b9-21027d435ba233d5-01
2022-04-21T16:15:37.435Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:37.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-73ff62c0d9033b8206e6b2bea67a93c61d8c301d-54997c0800d3238b-01 outer:exit 2b-73ff62c0d9033b8206e6b2bea67a93c61d8c301d-48734e31ecbaa34c-01
2022-04-21T16:15:37.437Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:37.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-f97b406ab73417d805d26847f22449996d07ff74-869d301e6b3a42a6-01 outer:exit 2b-f97b406ab73417d805d26847f22449996d07ff74-f945d2c2687d078a-01
2022-04-21T16:15:37.439Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:37.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-71641472c5b1ff8c1ef5322690a7151c88ae37b3-7ea6ddead8a3f5c5-01 outer:exit 2b-71641472c5b1ff8c1ef5322690a7151c88ae37b3-a5ef25d5295703d6-01
2022-04-21T16:15:37.441Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:37.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-d53f4252f230c89b51702ae5ad56498e45f4e1fb-5d56e408c14511b5-01 outer:exit 2b-d53f4252f230c89b51702ae5ad56498e45f4e1fb-f655bd57835be61c-01
2022-04-21T16:15:37.444Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:37.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d9b68ae6772e67aae2dbb1aa3f7b99b494fb1fc-b6e2490c4b2746e8-01 outer:exit 2b-8d9b68ae6772e67aae2dbb1aa3f7b99b494fb1fc-a1aebe03ade92a81-01
2022-04-21T16:15:37.446Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:37.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c546fe7b936473a1369cd33ba7aca162020a785-73d44797293ecc27-01 outer:exit 2b-1c546fe7b936473a1369cd33ba7aca162020a785-5ccd7db7b1937bf1-01
2022-04-21T16:15:37.449Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:37.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f3740bc0385d1d2226a764dc9cdedc841d66607-8b3037f1f2350ed4-01 outer:exit 2b-4f3740bc0385d1d2226a764dc9cdedc841d66607-cd9bdc1306ce350e-01
2022-04-21T16:15:37.451Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:37.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-6babe09d3de37824d7a6f26c06b1049e699c4799-8e4b1c47b931d356-01 outer:exit 2b-6babe09d3de37824d7a6f26c06b1049e699c4799-079f3605c6166691-01
2022-04-21T16:15:37.454Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:37.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-d209b70f60c363ea16b53e669b47d7603ac81025-bd227c4a4561dae5-01 outer:exit 2b-d209b70f60c363ea16b53e669b47d7603ac81025-6799093ca42e247c-01
2022-04-21T16:15:37.460Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:37.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-feac3197e3ba4bd2e93aec1eab59eea573e30536-728291d9ea56818e-01 outer:exit 2b-feac3197e3ba4bd2e93aec1eab59eea573e30536-1e6224eba46e9629-01
2022-04-21T16:15:37.464Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:37.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-82295e7f2cd66ce1a4e8ab94702cfca900688d91-d40d06a480bd8237-01 outer:exit 2b-82295e7f2cd66ce1a4e8ab94702cfca900688d91-e23225492efcadea-01
2022-04-21T16:15:37.472Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:37.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e8d4e0bfbcf77f24216717660d52c1298afb8cf-e957f263ff48631b-01 outer:exit 2b-7e8d4e0bfbcf77f24216717660d52c1298afb8cf-51f98797b009fbcc-01
2022-04-21T16:15:37.478Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:37.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-81d1195bb15eda75a3524277f443d436470ed667-801cea91b1a4fd1c-01 outer:exit 2b-81d1195bb15eda75a3524277f443d436470ed667-e1dcc94de75f9ab0-01
2022-04-21T16:15:37.480Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:37.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-06900c2b80b2bafcb8b5f04cf4d00e2a4db1755b-cc25d4a532d3394c-01 outer:exit 2b-06900c2b80b2bafcb8b5f04cf4d00e2a4db1755b-638bfc1556713d1c-01
2022-04-21T16:15:37.484Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:37.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e4a725cb291919020cd511ad8203e6921a56777-dd16e1a1465c2b84-01 outer:exit 2b-2e4a725cb291919020cd511ad8203e6921a56777-360944d615aedd83-01
2022-04-21T16:15:37.489Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:37.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-c82a0a59c902e3488f387e4f5ad7ac8e0afba400-383ef3709281d11b-01 outer:exit 2b-c82a0a59c902e3488f387e4f5ad7ac8e0afba400-d05e26c3aad9d227-01
2022-04-21T16:15:37.492Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:37.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bf275467b2089f5959a71368b82c3b1954b1250-a8b5f096e8de272f-01 outer:exit 2b-5bf275467b2089f5959a71368b82c3b1954b1250-31ba3bce7b289438-01
2022-04-21T16:15:37.494Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:37.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d2b7937f911af6b7eb4c5147a0f9447c8a27790-c43921cefdbe772d-01 outer:exit 2b-2d2b7937f911af6b7eb4c5147a0f9447c8a27790-0b70fa17cd862488-01
2022-04-21T16:15:37.495Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:37.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-705887996da53fd5a9c9efca703fa6e4a8d7fdef-2460030075a9ebc8-01 outer:exit 2b-705887996da53fd5a9c9efca703fa6e4a8d7fdef-256bb54bf189d53b-01
2022-04-21T16:15:37.497Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:37.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe232e722a209f51a3562973e4eecda7e038df00-f84da21cba7908a7-01 outer:exit 2b-fe232e722a209f51a3562973e4eecda7e038df00-818d102cd28a3e73-01
2022-04-21T16:15:37.499Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:37.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2ee135ee7c1ece2e4c6297778b8bddf3b92bb48-c5ba3a96f58818d8-01 outer:exit 2b-e2ee135ee7c1ece2e4c6297778b8bddf3b92bb48-97b929307549bb9c-01
2022-04-21T16:15:37.508Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:37.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7a7e5a085ec6e6bbcd7800131d44b812a117461-c3bd193d3c35c86c-01 outer:exit 2b-e7a7e5a085ec6e6bbcd7800131d44b812a117461-bfefc65b248bf036-01
2022-04-21T16:15:37.516Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:37.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9662ec7c2a79aefb0d14090543ef038e7cd67f2-d5bfec7ba69ee9f9-01 outer:exit 2b-f9662ec7c2a79aefb0d14090543ef038e7cd67f2-295095ef5ae12366-01
2022-04-21T16:15:37.519Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:37.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-d406b9bfaa05fe84fc9b556ee48c2c39f1f35f61-f033be649b5c5604-01 outer:exit 2b-d406b9bfaa05fe84fc9b556ee48c2c39f1f35f61-3d3f2ebedb2d6756-01
2022-04-21T16:15:37.521Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:37.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-6572a434e3d46315e8b5edafa1fa2de3192aaa84-1a6ff7b871449a49-01 outer:exit 2b-6572a434e3d46315e8b5edafa1fa2de3192aaa84-df8d3b2138212aed-01
2022-04-21T16:15:37.524Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:37.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fedb2b45901df9dd2aa9c00c16b30518c4dea77-b148646ac84644ec-01 outer:exit 2b-6fedb2b45901df9dd2aa9c00c16b30518c4dea77-dc3bf243c8b8bebb-01
2022-04-21T16:15:37.551Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (292ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.3
updated 1 package and audited 935 packages in 5.004s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:43.954Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:43.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:43.954Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:43.955Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:44.030Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:44.186Z appoptics:patching patched crypto 
2022-04-21T16:15:44.222Z appoptics:patching patched https 
2022-04-21T16:15:44.223Z appoptics:patching patched http 
2022-04-21T16:15:44.265Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:44.266Z appoptics:patching patched fs 
2022-04-21T16:15:44.278Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v12.22.12)
2022-04-21T16:15:44.283Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-21T16:15:44.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bf5caa6aaf4fbd8319d98bbcb2dd485112267ee-09e6fdd2c316cad1-01 outer:exit 2b-5bf5caa6aaf4fbd8319d98bbcb2dd485112267ee-483970f97c581f25-01
2022-04-21T16:15:44.329Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:44.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-08f6e84341bc518f70b9e2a02789c972507546ed-fb3a882ceeb1b3e4-01 outer:exit 2b-08f6e84341bc518f70b9e2a02789c972507546ed-684a7646fb108c65-01
2022-04-21T16:15:44.370Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:44.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d31dcf8f0d20c34c92dcb3016ae99898473c2b2-d61f51ecc4f720eb-01 outer:exit 2b-0d31dcf8f0d20c34c92dcb3016ae99898473c2b2-3c83fae1566f5825-01
2022-04-21T16:15:44.374Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:44.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-30ef303ecd7dd4ef318d8e8fa9b616e5e08d05fd-0634ad0bff6bea4e-01 outer:exit 2b-30ef303ecd7dd4ef318d8e8fa9b616e5e08d05fd-db40742449757bab-01
2022-04-21T16:15:44.377Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:44.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6a21c6d43bc1d8329f95ed26e7dbf9be79f68a4-42ab40a2c0270846-01 outer:exit 2b-a6a21c6d43bc1d8329f95ed26e7dbf9be79f68a4-df0d4bcd76f4a230-01
2022-04-21T16:15:44.386Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:44.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f07f9b39f29dfb17e7e06deadd4a13469a59767-425cac42258bbd27-01 outer:exit 2b-8f07f9b39f29dfb17e7e06deadd4a13469a59767-8704d87431871e3b-01
2022-04-21T16:15:44.389Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:44.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a061978912d2439916b8a8b1363916cf02c743e-cb07d0baa4104644-01 outer:exit 2b-2a061978912d2439916b8a8b1363916cf02c743e-51c8d59a4e29aa14-01
2022-04-21T16:15:44.392Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:44.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7083b5c6f0028726200663770d7e8f3ab0d1a54-58560c8df064847a-01 outer:exit 2b-e7083b5c6f0028726200663770d7e8f3ab0d1a54-7021f614ae6c1f11-01
2022-04-21T16:15:44.394Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:44.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca0a466e1887168baac1ff7424950b0805218a45-8d9ec75c82e4d868-01 outer:exit 2b-ca0a466e1887168baac1ff7424950b0805218a45-4da0bb25073c8589-01
2022-04-21T16:15:44.399Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:44.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ccf1a8f53d261a2a9b30bace711283e0d95606c-1006575cdf42b2ed-01 outer:exit 2b-7ccf1a8f53d261a2a9b30bace711283e0d95606c-18274f15db43b95d-01
2022-04-21T16:15:44.402Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:44.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fbb1a5dbcad63569fb50d20adbae4ec7152f917-7f0c03151270b66b-01 outer:exit 2b-4fbb1a5dbcad63569fb50d20adbae4ec7152f917-a7dcef2731a97d6a-01
2022-04-21T16:15:44.406Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:44.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-76ca2501e07de29755a316a4287e4347c1007893-939f035e92984992-01 outer:exit 2b-76ca2501e07de29755a316a4287e4347c1007893-3da38ae0719954f2-01
2022-04-21T16:15:44.416Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:44.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ea5a0092ca27eb08555664e365222548e1c4c14-afca1b9049f77adf-01 outer:exit 2b-9ea5a0092ca27eb08555664e365222548e1c4c14-b0fbdd87f8b566cb-01
2022-04-21T16:15:44.432Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:44.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-76eec1c6fca4dee063f090c1be28730b4d345c9d-3225b2ee0c264128-01 outer:exit 2b-76eec1c6fca4dee063f090c1be28730b4d345c9d-4b25791e4562027c-01
2022-04-21T16:15:44.472Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:44.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-98f29a432da0f5a455168db792158a70b6d229f2-6e81203db896e1c4-01 outer:exit 2b-98f29a432da0f5a455168db792158a70b6d229f2-4302277de9247cc4-01
2022-04-21T16:15:44.478Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:44.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-17b7673c64ebbc1e29b6cfb0ae40c20dd8d460da-f6e155ba4361cd3f-01 outer:exit 2b-17b7673c64ebbc1e29b6cfb0ae40c20dd8d460da-a839a50e9f95df8e-01
2022-04-21T16:15:44.480Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:44.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-a47bbe984ebd0be60b055f0d9d971be7b310a6d6-d7342322cb5c0bc5-01 outer:exit 2b-a47bbe984ebd0be60b055f0d9d971be7b310a6d6-b4659268bea29f7d-01
2022-04-21T16:15:44.483Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:44.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1a9cb058f1b4ca713391fc40d802b330efcd758-e973d40274a34594-01 outer:exit 2b-c1a9cb058f1b4ca713391fc40d802b330efcd758-d0ce51ed36aa756e-01
2022-04-21T16:15:44.486Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:44.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-309786842ad68382930b7bee368408dbcd8dc13e-62e82a7aba02b174-01 outer:exit 2b-309786842ad68382930b7bee368408dbcd8dc13e-8b4ddf14b3959893-01
2022-04-21T16:15:44.488Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:44.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-f93c65b2ea5967055a6e5696e953c1bda1390ce7-5f006cfe438e5191-01 outer:exit 2b-f93c65b2ea5967055a6e5696e953c1bda1390ce7-8204f6c890c7af91-01
2022-04-21T16:15:44.490Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:44.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5f31dc14c5306e6fb9bef25dd921ec07092902a-eab17ffc71bcf5e4-01 outer:exit 2b-a5f31dc14c5306e6fb9bef25dd921ec07092902a-2cf3455b239c8331-01
2022-04-21T16:15:44.492Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:44.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e6cf66f6f77d3585035e88423b41ac28345250-1a113110922c82cc-01 outer:exit 2b-23e6cf66f6f77d3585035e88423b41ac28345250-81f4f031068bb9b6-01
2022-04-21T16:15:44.494Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:44.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddafea06bbcd03cfcce0335b403c3ba0ed8a13b7-5f9f8d3f0701afea-01 outer:exit 2b-ddafea06bbcd03cfcce0335b403c3ba0ed8a13b7-08a2a3f1360fc864-01
2022-04-21T16:15:44.497Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:44.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e4053288f6bf35911a3ef3ca90dfa05b0c713e8-8c45738847ea1942-01 outer:exit 2b-3e4053288f6bf35911a3ef3ca90dfa05b0c713e8-124b7c7fcbb57391-01
2022-04-21T16:15:44.501Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:44.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-65e938550fbea5b1dab21202777ae651c01001c9-6637d50be97f3f30-01 outer:exit 2b-65e938550fbea5b1dab21202777ae651c01001c9-9c744efab816c017-01
2022-04-21T16:15:44.503Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:44.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-690a286c7549df34dab01c400dc9d97a317217b0-f6f3bca0fdb907a5-01 outer:exit 2b-690a286c7549df34dab01c400dc9d97a317217b0-1fd34c59727df3fd-01
2022-04-21T16:15:44.506Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:44.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e9b49a4fa5ca00dbd1bfd6ff00a8862da9faedb-a8c86664987de391-01 outer:exit 2b-3e9b49a4fa5ca00dbd1bfd6ff00a8862da9faedb-bfeaaf5f2dcecc30-01
2022-04-21T16:15:44.511Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:44.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa9a458dfaedebbb1c87992e552ae0998d740d4f-9ae408980ff2d8ef-01 outer:exit 2b-aa9a458dfaedebbb1c87992e552ae0998d740d4f-3ca51e93b0839c36-01
2022-04-21T16:15:44.516Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:44.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-7718510d786c54e0bba7a868a8f70edc8b88f035-6ca639afa0da43fb-01 outer:exit 2b-7718510d786c54e0bba7a868a8f70edc8b88f035-47511c30d4698d42-01
2022-04-21T16:15:44.526Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:44.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-50d2f77ebfa0e14c8a1bb541ccb40e1f4f8f6f18-564234e8329baf52-01 outer:exit 2b-50d2f77ebfa0e14c8a1bb541ccb40e1f4f8f6f18-1ff3ef9375e0068d-01
2022-04-21T16:15:44.533Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:44.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c51e6549a21f1c7aff4da6e3f9bcc5f84e3074c-19f14bf52ebc871e-01 outer:exit 2b-7c51e6549a21f1c7aff4da6e3f9bcc5f84e3074c-e336ab50add74f17-01
2022-04-21T16:15:44.535Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:44.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff0ae7795a928ed5adce6ccc344029144189ce0-bab470b16449a439-01 outer:exit 2b-4ff0ae7795a928ed5adce6ccc344029144189ce0-1181d1866a1aae4c-01
2022-04-21T16:15:44.539Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:44.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5506cb863c36d2e34af79c15b1d3000d4632df4-b79c43103c1b70d1-01 outer:exit 2b-d5506cb863c36d2e34af79c15b1d3000d4632df4-d4f43ef0d6820f12-01
2022-04-21T16:15:44.547Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:44.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d91a24160fa21a80d62229e79ba9ffe3e3f77fd-341f3cd9e51b513e-01 outer:exit 2b-1d91a24160fa21a80d62229e79ba9ffe3e3f77fd-0059d2b98c1ce722-01
2022-04-21T16:15:44.549Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:44.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-4314f5aeeb332c9506732a509e16f6b765767913-8f49b0f94150d816-01 outer:exit 2b-4314f5aeeb332c9506732a509e16f6b765767913-53266e75a04499d7-01
2022-04-21T16:15:44.551Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:44.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fc1afce7ebba697ef33f466f1dd8778ca2c409b-a7844df559b0084e-01 outer:exit 2b-3fc1afce7ebba697ef33f466f1dd8778ca2c409b-6ac8ebb0ab2c8817-01
2022-04-21T16:15:44.553Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:44.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-e259193cfe83ff9cc16e654a39b14b66aa8f7a4c-16df161816be82f7-01 outer:exit 2b-e259193cfe83ff9cc16e654a39b14b66aa8f7a4c-66b6194c8e847522-01
2022-04-21T16:15:44.555Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:44.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c12ffd498f8b934d949f5a25124207cc2017a39-b8781f09008e441d-01 outer:exit 2b-3c12ffd498f8b934d949f5a25124207cc2017a39-31ab90916cc7c71b-01
2022-04-21T16:15:44.557Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:44.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffc51b4ed812f9ea2f0ea9427a742e9355df2f37-b6de5198a4c2bc34-01 outer:exit 2b-ffc51b4ed812f9ea2f0ea9427a742e9355df2f37-fb3215aaa7f2f331-01
2022-04-21T16:15:44.567Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:44.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5fe1cc1a903ff43cf534c101dfd82cfad7743f6-5551ac69bcd9c396-01 outer:exit 2b-d5fe1cc1a903ff43cf534c101dfd82cfad7743f6-64f558bc65637739-01
2022-04-21T16:15:44.576Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:44.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-446c3549c77ff11f0b8b110fc65add9cf2c62bfe-bbfcb836455b3770-01 outer:exit 2b-446c3549c77ff11f0b8b110fc65add9cf2c62bfe-9558958236fe484f-01
2022-04-21T16:15:44.579Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:44.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ea2cc4950070afe14ff0b834479489aa1ae944-2440c22cd535d94e-01 outer:exit 2b-d7ea2cc4950070afe14ff0b834479489aa1ae944-c69e2254a4a00d8e-01
2022-04-21T16:15:44.582Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:44.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-d79c9b9c76557f0bd1d6f20d3cf7c67be66713a0-c8b5f5d93bc6616a-01 outer:exit 2b-d79c9b9c76557f0bd1d6f20d3cf7c67be66713a0-c44009034a19fd56-01
2022-04-21T16:15:44.585Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:44.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc1c320b662fd5ee84663c18027ceef89f8a5f9f-5549296c804fc6c6-01 outer:exit 2b-cc1c320b662fd5ee84663c18027ceef89f8a5f9f-b3d52c3b98401dd4-01
2022-04-21T16:15:44.613Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (324ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.4
updated 1 package and audited 935 packages in 4.633s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:50.295Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:50.296Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:50.296Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:50.296Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:50.361Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:50.486Z appoptics:patching patched crypto 
2022-04-21T16:15:50.504Z appoptics:patching patched https 
2022-04-21T16:15:50.504Z appoptics:patching patched http 
2022-04-21T16:15:50.548Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:50.548Z appoptics:patching patched fs 
2022-04-21T16:15:50.561Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v12.22.12)
2022-04-21T16:15:50.566Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-21T16:15:50.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-be2ac2a089cd80fe3dea625fa2c660d35f77324f-8a4ed9496b530c15-01 outer:exit 2b-be2ac2a089cd80fe3dea625fa2c660d35f77324f-bca42c68d2997a91-01
2022-04-21T16:15:50.612Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:50.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-a565e8885a5d420eaa6acf0ebabc7748778ad3e7-eda1105b45a6fae3-01 outer:exit 2b-a565e8885a5d420eaa6acf0ebabc7748778ad3e7-24becac5bd58cf56-01
2022-04-21T16:15:50.654Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:50.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d5ffc6579937fe37043e57c9918b0b5b7570340-4f3c08a6f2aca325-01 outer:exit 2b-3d5ffc6579937fe37043e57c9918b0b5b7570340-3833466421ff2e30-01
2022-04-21T16:15:50.657Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:50.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce525aa5b34149c2d478ee73ccd08d2c2c82d69c-f130821ab2fcafed-01 outer:exit 2b-ce525aa5b34149c2d478ee73ccd08d2c2c82d69c-25b91807914b4152-01
2022-04-21T16:15:50.660Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:50.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6ab728eb3f0cc89a39e943a0acc268bfe181b9a-2fc3cef5ad0bba57-01 outer:exit 2b-b6ab728eb3f0cc89a39e943a0acc268bfe181b9a-c6eb92b51db3f44e-01
2022-04-21T16:15:50.664Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:50.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-e357104f73d06cf752be762e116a1b5bb02dae03-b73d527d8f9e63c1-01 outer:exit 2b-e357104f73d06cf752be762e116a1b5bb02dae03-624b49c05682859c-01
2022-04-21T16:15:50.667Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:50.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-558f9f564c65d02bfb45c11bf4d8459598a127cb-687bf3b48ca5afd7-01 outer:exit 2b-558f9f564c65d02bfb45c11bf4d8459598a127cb-18b21dea5284383c-01
2022-04-21T16:15:50.670Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:50.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec77704d0961c5555120509d6e38e3721b96fe7f-c4eac4c86738f198-01 outer:exit 2b-ec77704d0961c5555120509d6e38e3721b96fe7f-d82ca40d27410d71-01
2022-04-21T16:15:50.672Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:50.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-000938e088dcb6a4be43f320fb8589736c84ba08-785a72743404594b-01 outer:exit 2b-000938e088dcb6a4be43f320fb8589736c84ba08-1b1b432492534ebc-01
2022-04-21T16:15:50.674Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:50.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-89e4c5a461e5c5627f02daf6972076298bec3385-97879bb348269a65-01 outer:exit 2b-89e4c5a461e5c5627f02daf6972076298bec3385-222d9d11c44f299a-01
2022-04-21T16:15:50.677Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:50.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0495241e8b9db55fba92d3a7a3b59f94a6ca388-237739dca502c9ba-01 outer:exit 2b-b0495241e8b9db55fba92d3a7a3b59f94a6ca388-bbe28cfc28de8745-01
2022-04-21T16:15:50.680Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:50.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c72ef082b78794bbb6f248b83fbceebd1a218b5-a30b25d46c70244d-01 outer:exit 2b-0c72ef082b78794bbb6f248b83fbceebd1a218b5-7871f89b564ecec9-01
2022-04-21T16:15:50.691Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:50.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fe4243e8cd6596d6bdc4b056ac743e44b0b6a5f-5ce847db6e9fb9f4-01 outer:exit 2b-8fe4243e8cd6596d6bdc4b056ac743e44b0b6a5f-45d563fe4da2e275-01
2022-04-21T16:15:50.705Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:50.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea2105ba54ee6fa62ea122e814ff296472b67bde-50b3b5dd171bc747-01 outer:exit 2b-ea2105ba54ee6fa62ea122e814ff296472b67bde-99ad8b58bf8d444f-01
2022-04-21T16:15:50.743Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:50.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-914a0f12e5115ec284d060ca78fc24e78e84581f-7a3c4d017571718e-01 outer:exit 2b-914a0f12e5115ec284d060ca78fc24e78e84581f-56681dd48b14edc6-01
2022-04-21T16:15:50.747Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:50.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-459249eefd14a99be597fc45504eb210222fc617-61f98d708f1e354d-01 outer:exit 2b-459249eefd14a99be597fc45504eb210222fc617-c37f530eefa24ad6-01
2022-04-21T16:15:50.750Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:50.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-47fdfe59c613ea9fbb4012c3d8c99fb37ff2a9a8-c576b776058a1298-01 outer:exit 2b-47fdfe59c613ea9fbb4012c3d8c99fb37ff2a9a8-b5972d864dd22620-01
2022-04-21T16:15:50.752Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:50.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-41247bab70b7b9936a90ce9aeafd2a52c6d0d9d8-248bac35a58387a4-01 outer:exit 2b-41247bab70b7b9936a90ce9aeafd2a52c6d0d9d8-c6d571af714f0b35-01
2022-04-21T16:15:50.755Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:50.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-7332693cb5bdbb164cc1371d53b08de8080b5eb7-3c2d66be6cdc8ab1-01 outer:exit 2b-7332693cb5bdbb164cc1371d53b08de8080b5eb7-5852e59f51067164-01
2022-04-21T16:15:50.757Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:50.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba71c4be4caddbf3e73d0275a5677956d5f711da-8bf189282a42a283-01 outer:exit 2b-ba71c4be4caddbf3e73d0275a5677956d5f711da-aae55c5eaad10e36-01
2022-04-21T16:15:50.759Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:50.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee41683d02f69ef9fe08b59716013993985ddd2c-561e1cc4a29fd963-01 outer:exit 2b-ee41683d02f69ef9fe08b59716013993985ddd2c-7ad197f6f7208fbd-01
2022-04-21T16:15:50.761Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:50.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-715755d4f59b4f3f5795cf40d33e8ffd5e7b13f0-0644d13774c6b96b-01 outer:exit 2b-715755d4f59b4f3f5795cf40d33e8ffd5e7b13f0-164d2d440fff29b5-01
2022-04-21T16:15:50.763Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:50.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebcb256a50d8124a8757fbf54fb7d16bfe9384d4-9ee640b19f4602e0-01 outer:exit 2b-ebcb256a50d8124a8757fbf54fb7d16bfe9384d4-24d1a33f60140f0b-01
2022-04-21T16:15:50.766Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:50.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cf4b3b2fbb1536f704faa5932885386eac3e9d7-7dcf182502cca04f-01 outer:exit 2b-6cf4b3b2fbb1536f704faa5932885386eac3e9d7-5a5e8136bd7993d7-01
2022-04-21T16:15:50.768Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:50.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-caa41b430eabe51e85ab42ea26039c675be62354-be1fd7ff7c439b83-01 outer:exit 2b-caa41b430eabe51e85ab42ea26039c675be62354-9c13776c5859a24d-01
2022-04-21T16:15:50.772Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:50.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-21451643273fa7f5048d85f1f9684e9b8809c5fb-1a82ed0db102fe0d-01 outer:exit 2b-21451643273fa7f5048d85f1f9684e9b8809c5fb-16cfdb557421e554-01
2022-04-21T16:15:50.774Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:50.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-717823062ec61e55692bdfbf547457c4787ac4ca-bed833dd2608924f-01 outer:exit 2b-717823062ec61e55692bdfbf547457c4787ac4ca-c297b8567081d8df-01
2022-04-21T16:15:50.780Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:50.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ab0549896d7dcf7a7f183b5f36ee563e13fad78-fce82b38ca4bda74-01 outer:exit 2b-4ab0549896d7dcf7a7f183b5f36ee563e13fad78-f12d6965bd25b4bd-01
2022-04-21T16:15:50.784Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:50.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-589bdfee3433e7cc3388e0e056cf51b7deeea2e1-c387048ec1fb36b1-01 outer:exit 2b-589bdfee3433e7cc3388e0e056cf51b7deeea2e1-6cffa217ccb206da-01
2022-04-21T16:15:50.792Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:50.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-61ba3b86bf7a58319aa2bbfd1a0237f7f3bd2f25-4582d4d47a8af902-01 outer:exit 2b-61ba3b86bf7a58319aa2bbfd1a0237f7f3bd2f25-21757e837074a518-01
2022-04-21T16:15:50.798Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:50.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b3b3dec2495c8d8dacd35d4deadb17aaaf1a98d-49cced7e8dee7425-01 outer:exit 2b-5b3b3dec2495c8d8dacd35d4deadb17aaaf1a98d-bf53c1722276646d-01
2022-04-21T16:15:50.800Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:50.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-c038e432addae5fbe8645a799d64b067595efb98-f2bd7aa02146b53d-01 outer:exit 2b-c038e432addae5fbe8645a799d64b067595efb98-450ec78ce61a2382-01
2022-04-21T16:15:50.803Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:50.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e97341d0143be9b4d9f659c125202a96fbe2e93-a11964991378ed04-01 outer:exit 2b-8e97341d0143be9b4d9f659c125202a96fbe2e93-dc694783adf079e3-01
2022-04-21T16:15:50.810Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:50.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b6a5e4e17a4177cd2497c7785cc0331b41e40e1-3e3dec79e3ae0851-01 outer:exit 2b-7b6a5e4e17a4177cd2497c7785cc0331b41e40e1-1bf3b970902e801a-01
2022-04-21T16:15:50.812Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:50.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-6626a419b7ba7a793c5935a8b75195a0f271932b-fd09b94924acfd3e-01 outer:exit 2b-6626a419b7ba7a793c5935a8b75195a0f271932b-934b4beb4ae92be1-01
2022-04-21T16:15:50.814Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:50.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-28aeb6e025ebfa83abb7667a2afac557ff1ab938-6c9e7435ea8c022e-01 outer:exit 2b-28aeb6e025ebfa83abb7667a2afac557ff1ab938-d79270aff53c8250-01
2022-04-21T16:15:50.816Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:50.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1df834c32291de56fd50018852294cd08d19853-6429653e6451bfea-01 outer:exit 2b-b1df834c32291de56fd50018852294cd08d19853-e7e1237e468c6c58-01
2022-04-21T16:15:50.818Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:50.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-d221a9e1b35b981a3ae9fe65fc0d8fd9a35646fa-16e285bdc1b34538-01 outer:exit 2b-d221a9e1b35b981a3ae9fe65fc0d8fd9a35646fa-4ff09981f149fc75-01
2022-04-21T16:15:50.820Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:50.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-478d926437753c021e14e2738b94dc866278406d-21f6594d8e4209f1-01 outer:exit 2b-478d926437753c021e14e2738b94dc866278406d-eb2fbde38a61c797-01
2022-04-21T16:15:50.833Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:50.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ced12cd81ade6a4f3ebd99560743d49bc610a39-879909ed8f7a66da-01 outer:exit 2b-9ced12cd81ade6a4f3ebd99560743d49bc610a39-432d6f96c7b3a8d4-01
2022-04-21T16:15:50.843Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:50.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0e0077d1fa9779044fd4b78692addae9ef0fa62-69e926bd124147f4-01 outer:exit 2b-a0e0077d1fa9779044fd4b78692addae9ef0fa62-8021879ac5cc2b0a-01
2022-04-21T16:15:50.846Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:50.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-54e8c7948d9ae71ac22b55977d38de58d3ce67fc-bfb1216945adb916-01 outer:exit 2b-54e8c7948d9ae71ac22b55977d38de58d3ce67fc-ea7cd2f9acede9c1-01
2022-04-21T16:15:50.850Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:50.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-6934ba15d2556ab6fb58561093ba825d404b9436-9c4f1303ccb179ce-01 outer:exit 2b-6934ba15d2556ab6fb58561093ba825d404b9436-a4d536042d81bec5-01
2022-04-21T16:15:50.852Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:50.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e359519c11b00f66a21025a76fcaee85fc97975-6b05e58864712b37-01 outer:exit 2b-8e359519c11b00f66a21025a76fcaee85fc97975-41f96a4fdc452a6b-01
2022-04-21T16:15:50.880Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (308ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.5
updated 1 package and audited 935 packages in 4.93s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:15:56.804Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:15:56.804Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:15:56.804Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:15:56.805Z appoptics:debug using context provider: ace-context
2022-04-21T16:15:56.872Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:15:56.998Z appoptics:patching patched crypto 
2022-04-21T16:15:57.027Z appoptics:patching patched https 
2022-04-21T16:15:57.028Z appoptics:patching patched http 
2022-04-21T16:15:57.070Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:15:57.070Z appoptics:patching patched fs 
2022-04-21T16:15:57.083Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v12.22.12)
2022-04-21T16:15:57.087Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-21T16:15:57.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f16ae4b8cfbf977cabc8c6e9b38d2f984c8288c-76f0f3cb84f760e1-01 outer:exit 2b-2f16ae4b8cfbf977cabc8c6e9b38d2f984c8288c-f17e6ec4b126d1c7-01
2022-04-21T16:15:57.126Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:15:57.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b5915dcb09e86b582e499dc58c7aa6c09633783-e395fc94915928f5-01 outer:exit 2b-8b5915dcb09e86b582e499dc58c7aa6c09633783-33d36b7a6f46babb-01
2022-04-21T16:15:57.169Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:15:57.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-98d1c714ab4336a974a965955992304bb82b0972-cfaba615d06686dd-01 outer:exit 2b-98d1c714ab4336a974a965955992304bb82b0972-7e8d64024b89bea5-01
2022-04-21T16:15:57.173Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:15:57.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ce83abb2e36ff88351de86b5a2d5cb97f1a1b16-8be9ad9ed467f87c-01 outer:exit 2b-0ce83abb2e36ff88351de86b5a2d5cb97f1a1b16-a1793841abe426e2-01
2022-04-21T16:15:57.175Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:15:57.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-b176e1a94f5b0ef79773acc38e6bb77892686db0-de3d432f60929b0f-01 outer:exit 2b-b176e1a94f5b0ef79773acc38e6bb77892686db0-09ec0589e3f0d1aa-01
2022-04-21T16:15:57.180Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:15:57.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-f74b2bdf6204267be7d6da1836b5758d90edfd73-54ba94ddf85ec664-01 outer:exit 2b-f74b2bdf6204267be7d6da1836b5758d90edfd73-e6e0eccb2326524e-01
2022-04-21T16:15:57.182Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:15:57.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecceaeebc13745ab122cf423d49792ee6bd02650-cea03958d27b0ee5-01 outer:exit 2b-ecceaeebc13745ab122cf423d49792ee6bd02650-7e13beb0eb4c3705-01
2022-04-21T16:15:57.185Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:15:57.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d6089cd05e5256524781174e0c70999e77ca4f1-968a85d9b3cebdc4-01 outer:exit 2b-3d6089cd05e5256524781174e0c70999e77ca4f1-20dcd353320a419b-01
2022-04-21T16:15:57.187Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:15:57.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-d95616cd00afed51a154cf11e0cbb969401c565a-59225764dea8e8b1-01 outer:exit 2b-d95616cd00afed51a154cf11e0cbb969401c565a-886b496dd8d66dbe-01
2022-04-21T16:15:57.192Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:15:57.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1674b564fd66007a660cd1201ec89d604367843-7dae86b956a4b54e-01 outer:exit 2b-a1674b564fd66007a660cd1201ec89d604367843-4b07e37e8db1037e-01
2022-04-21T16:15:57.195Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:15:57.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccdeeeac2adcfdaaa92fdf2371d3c256e1c11491-e82a7a1b0151877d-01 outer:exit 2b-ccdeeeac2adcfdaaa92fdf2371d3c256e1c11491-03ae86ae0e4e864f-01
2022-04-21T16:15:57.199Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:15:57.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-d72a64921757c0411d87da2e6b4680c39b92c19d-a2ad8a35d83ca6d5-01 outer:exit 2b-d72a64921757c0411d87da2e6b4680c39b92c19d-342c1f0e862a2540-01
2022-04-21T16:15:57.204Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:15:57.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-d84610f2c5fcbdb29c92c8f959839814d559f352-c4f72d7be95c0083-01 outer:exit 2b-d84610f2c5fcbdb29c92c8f959839814d559f352-0273e5e0b768f854-01
2022-04-21T16:15:57.219Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:15:57.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1a63e88f50c4ff2620fbaa936263fb0ea178bbd-5affc8ee83a00514-01 outer:exit 2b-f1a63e88f50c4ff2620fbaa936263fb0ea178bbd-fb554e51e5c0e17e-01
2022-04-21T16:15:57.256Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:15:57.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-52d3f589fafa59028b56de9960b610a9704cbaad-4800300071d62d14-01 outer:exit 2b-52d3f589fafa59028b56de9960b610a9704cbaad-51cde700d9cde366-01
2022-04-21T16:15:57.259Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:15:57.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-20aa2df404d071202b292f57b46a019415139b2a-1ebd68fca26eacf8-01 outer:exit 2b-20aa2df404d071202b292f57b46a019415139b2a-117183c67a29767c-01
2022-04-21T16:15:57.262Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:15:57.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7ae023eb908c463a111707c18bc0562abbe103b-94adefd2738ec9e5-01 outer:exit 2b-a7ae023eb908c463a111707c18bc0562abbe103b-fc3b723600605426-01
2022-04-21T16:15:57.264Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:15:57.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f90e8824bb528fcbc2575244192a3fee0ac1459-379dc9ff839a8f92-01 outer:exit 2b-0f90e8824bb528fcbc2575244192a3fee0ac1459-937019b5f460e631-01
2022-04-21T16:15:57.267Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:15:57.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a61a523e1c8e4e07144ece6c10152801f04d29c-82dd3d5cdcdc67cc-01 outer:exit 2b-2a61a523e1c8e4e07144ece6c10152801f04d29c-411ccc318f314424-01
2022-04-21T16:15:57.269Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:15:57.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-d75d12a53fd3ee80dbb717cc8744e6e986602da4-dc687d354012b3a4-01 outer:exit 2b-d75d12a53fd3ee80dbb717cc8744e6e986602da4-0d44c4e6888f552a-01
2022-04-21T16:15:57.271Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:15:57.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-249358766c37791647269d0aa478c49e1e7d6da0-b120904eabbe9b4e-01 outer:exit 2b-249358766c37791647269d0aa478c49e1e7d6da0-a847b082a327f363-01
2022-04-21T16:15:57.273Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:15:57.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-6426c3349befec736b145aa65fe7730808171479-333573e9b8730862-01 outer:exit 2b-6426c3349befec736b145aa65fe7730808171479-4054efc4d15a7e0e-01
2022-04-21T16:15:57.275Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:15:57.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-bda56f4ca14aa30f5786d11c26743ca0ec07524c-ddc7912db7ee2956-01 outer:exit 2b-bda56f4ca14aa30f5786d11c26743ca0ec07524c-05cf9225c893f529-01
2022-04-21T16:15:57.277Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:15:57.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-701fadb8cdc16b0aaf9cdc2733e41c1c65ef3b61-e25bed78ee27aaea-01 outer:exit 2b-701fadb8cdc16b0aaf9cdc2733e41c1c65ef3b61-466bc46905315ef1-01
2022-04-21T16:15:57.280Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:15:57.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-94e85087863109ccaa505737075bf000acb114fb-b4cfad23feb14167-01 outer:exit 2b-94e85087863109ccaa505737075bf000acb114fb-01d7337e94b5439e-01
2022-04-21T16:15:57.282Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:15:57.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-898d9917a0f27369785dc885538fad79f41e7606-8f3c306faf9505af-01 outer:exit 2b-898d9917a0f27369785dc885538fad79f41e7606-6e8ce0aa7d683160-01
2022-04-21T16:15:57.285Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:15:57.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-71e7b0bf348c8e2562cea7768f242d878a9f711e-86466477db24d243-01 outer:exit 2b-71e7b0bf348c8e2562cea7768f242d878a9f711e-e01ec4250d945071-01
2022-04-21T16:15:57.290Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:15:57.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f11683af5fcd329fb0c68947794d99ba08895eb-a48baab9d32e837e-01 outer:exit 2b-7f11683af5fcd329fb0c68947794d99ba08895eb-ac0e8b34e2b44571-01
2022-04-21T16:15:57.295Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:15:57.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ef5b50a2363ea22ae41e371b62dd701daa025d5-da5b4ddd723c1587-01 outer:exit 2b-4ef5b50a2363ea22ae41e371b62dd701daa025d5-814f57ba7cf12f5f-01
2022-04-21T16:15:57.302Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:15:57.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-71166b330af68f997cc76b0f4283534fb71dbd14-58e34dab4b7e0425-01 outer:exit 2b-71166b330af68f997cc76b0f4283534fb71dbd14-5f2540b419c08b90-01
2022-04-21T16:15:57.309Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:15:57.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a15e8e729627893b51e776ad5f30a8eba0eb90a-dc32524257cb690d-01 outer:exit 2b-1a15e8e729627893b51e776ad5f30a8eba0eb90a-93b97931fe3d8d21-01
2022-04-21T16:15:57.311Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:15:57.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b71e701b66cd6529912ad92e90797147d538fcb-b20c79789a1565c0-01 outer:exit 2b-1b71e701b66cd6529912ad92e90797147d538fcb-0456a6d02bff982d-01
2022-04-21T16:15:57.313Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:15:57.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-07177c63871aa1a940ce9b8f476c1101eb8ff534-666bfea0ec71fea9-01 outer:exit 2b-07177c63871aa1a940ce9b8f476c1101eb8ff534-1b8e92e0c9f907a0-01
2022-04-21T16:15:57.320Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:15:57.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-106ab7f904dbe45d839c4b9c5b5121a5e43b926b-445ca8b5c4756a6b-01 outer:exit 2b-106ab7f904dbe45d839c4b9c5b5121a5e43b926b-74da060eeee463fb-01
2022-04-21T16:15:57.323Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:15:57.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8294c4a2c1884980208ec834d0fdc2c8a009272-2345ac247f6ce52a-01 outer:exit 2b-e8294c4a2c1884980208ec834d0fdc2c8a009272-a9f5515f65b3ad13-01
2022-04-21T16:15:57.325Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:15:57.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-a48f1af9193915d7f5f5ad12e739b172c1b20b46-3db1d2e40eaa0f47-01 outer:exit 2b-a48f1af9193915d7f5f5ad12e739b172c1b20b46-c701027e6388efac-01
2022-04-21T16:15:57.327Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:15:57.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ee39bd005668b62413f8055b91cde1d519a56c7-8af6374555b295d5-01 outer:exit 2b-1ee39bd005668b62413f8055b91cde1d519a56c7-330c3a4e321fd0d1-01
2022-04-21T16:15:57.329Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:15:57.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4c1fc01c125bf5e68d84c8330029181570987a1-6511e1637e4c2b64-01 outer:exit 2b-b4c1fc01c125bf5e68d84c8330029181570987a1-9979a3ec8d1bd4b7-01
2022-04-21T16:15:57.331Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:15:57.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ed43558aa1cc68b11d28a37e77836616955d5b9-25ef6b4906689fc6-01 outer:exit 2b-3ed43558aa1cc68b11d28a37e77836616955d5b9-847fa81f4aaf183d-01
2022-04-21T16:15:57.340Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:15:57.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ee4cbf0bac40c8c91d4fa580fd1197b45275c83-9a7cdef893e412bf-01 outer:exit 2b-5ee4cbf0bac40c8c91d4fa580fd1197b45275c83-46e01eaa2bdfd38c-01
2022-04-21T16:15:57.347Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:15:57.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f6c89c9aa45310fbd935a4f3a4c9a39b53f5fab-12b6508d48262d8b-01 outer:exit 2b-2f6c89c9aa45310fbd935a4f3a4c9a39b53f5fab-912fc08e38b36687-01
2022-04-21T16:15:57.350Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:15:57.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-55ef3222b596338a18f084b43df32e3e2d8d0cce-baa934741b933c9c-01 outer:exit 2b-55ef3222b596338a18f084b43df32e3e2d8d0cce-b762ed1aac87b2e3-01
2022-04-21T16:15:57.352Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:15:57.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f9e864fce94d1ec0fdb1c745be710d217f59cbe-b9a7875af5e63936-01 outer:exit 2b-3f9e864fce94d1ec0fdb1c745be710d217f59cbe-0d7dc26173d768da-01
2022-04-21T16:15:57.355Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:15:57.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a9deab60d7e4ccd30f0cb464ed86409a5b100c1-917091a1f729b07c-01 outer:exit 2b-1a9deab60d7e4ccd30f0cb464ed86409a5b100c1-5535dab120dcacef-01
2022-04-21T16:15:57.382Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (288ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.6
updated 1 package and audited 935 packages in 3.759s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:02.012Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:02.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:02.013Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:02.013Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:02.074Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:02.199Z appoptics:patching patched crypto 
2022-04-21T16:16:02.220Z appoptics:patching patched https 
2022-04-21T16:16:02.221Z appoptics:patching patched http 
2022-04-21T16:16:02.261Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:02.262Z appoptics:patching patched fs 
2022-04-21T16:16:02.274Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v12.22.12)
2022-04-21T16:16:02.279Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-21T16:16:02.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-d00dabf74c62dff364ac26392b949c53e0d3f93b-ccf6a5cfecc0d05e-01 outer:exit 2b-d00dabf74c62dff364ac26392b949c53e0d3f93b-a333c8132381725a-01
2022-04-21T16:16:02.317Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:02.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf9ffacc302a6afd5a111f6c25d1d185189fae60-c967db5434594686-01 outer:exit 2b-bf9ffacc302a6afd5a111f6c25d1d185189fae60-60e6c057e143be71-01
2022-04-21T16:16:02.362Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:02.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6e73282c4dc6dedafc6e410ebeac4874978a194-631179338e9dfe05-01 outer:exit 2b-f6e73282c4dc6dedafc6e410ebeac4874978a194-37a20338f14bb509-01
2022-04-21T16:16:02.365Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:02.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c360b869be4245f5dcfbd0e62ec71743fe8974c-6474fe51f4e580d8-01 outer:exit 2b-1c360b869be4245f5dcfbd0e62ec71743fe8974c-e9575893ac5a304e-01
2022-04-21T16:16:02.367Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:02.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a229cfb7c81fd76ee8b0231b1d5a8f4a431df86-ec165d6bd388c370-01 outer:exit 2b-5a229cfb7c81fd76ee8b0231b1d5a8f4a431df86-7f9a5a23cdc08764-01
2022-04-21T16:16:02.372Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:02.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-dac7725e37a73c7e37e3acaef864b9a2e7c9d417-7697018fd103cb82-01 outer:exit 2b-dac7725e37a73c7e37e3acaef864b9a2e7c9d417-5dcbeb937866b3fb-01
2022-04-21T16:16:02.375Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:02.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d1aa093757057118da958e0dd217d69eaa40076-bfa386b629cf1b10-01 outer:exit 2b-6d1aa093757057118da958e0dd217d69eaa40076-1a681776007e2c3c-01
2022-04-21T16:16:02.377Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:02.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-a189689359cfe181877509a633905eab460aa8a2-83644b53759a41e8-01 outer:exit 2b-a189689359cfe181877509a633905eab460aa8a2-c7ca918a204b6ac7-01
2022-04-21T16:16:02.379Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:02.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e7f560102b48b45624684fb5b1a9c056ce14732-88eb39b954aff40f-01 outer:exit 2b-7e7f560102b48b45624684fb5b1a9c056ce14732-6d9687f3c61ae02a-01
2022-04-21T16:16:02.381Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:02.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f65c66641ef8c5752db11efe77f0a85133a65bb-0435a039262af760-01 outer:exit 2b-3f65c66641ef8c5752db11efe77f0a85133a65bb-4a73d8a1f775e1cd-01
2022-04-21T16:16:02.388Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:02.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-2abb0204de857260c164be3af3a76882f4624243-4132ac0e9ea01a40-01 outer:exit 2b-2abb0204de857260c164be3af3a76882f4624243-3e6bdfb0d351f181-01
2022-04-21T16:16:02.391Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:02.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-b047140e4d5f30ccdaabe6dc9efb5067952446c9-5a227066eb191e64-01 outer:exit 2b-b047140e4d5f30ccdaabe6dc9efb5067952446c9-2fb75025e3142691-01
2022-04-21T16:16:02.397Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:02.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-4723b486956d60748d40d11460ca5c6eb35e3969-c35a32c3277c12fe-01 outer:exit 2b-4723b486956d60748d40d11460ca5c6eb35e3969-60633c2315081175-01
2022-04-21T16:16:02.411Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:02.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc50c47ef05d4dea2e79b45b96d237e6164becf9-f1a7f46d7ef34906-01 outer:exit 2b-cc50c47ef05d4dea2e79b45b96d237e6164becf9-7bb177431283ca66-01
2022-04-21T16:16:02.449Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:02.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6e5cf75cff6308664e9130c6de94c8ea0132734-0df28e6b99614456-01 outer:exit 2b-b6e5cf75cff6308664e9130c6de94c8ea0132734-dae5b4f113898cf8-01
2022-04-21T16:16:02.452Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:02.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-d51599b49631709a424e23bbaa24e5dffa7d64df-7b08ff121c1e3415-01 outer:exit 2b-d51599b49631709a424e23bbaa24e5dffa7d64df-a598f7551ed98210-01
2022-04-21T16:16:02.454Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:02.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3417047f53b4f59655df674570c97d6f924af09-3236ff18985e4735-01 outer:exit 2b-c3417047f53b4f59655df674570c97d6f924af09-688c23c1a5f49bc1-01
2022-04-21T16:16:02.457Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:02.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-20f53b33cb27fa695382385359536ec8deef4e20-e7bcd0ab5f5ab432-01 outer:exit 2b-20f53b33cb27fa695382385359536ec8deef4e20-b2b74fd048dee803-01
2022-04-21T16:16:02.459Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:02.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-b84652b2f14b5eb95a96e6134cf7a61a05fcf4ec-7ae0678640e8900d-01 outer:exit 2b-b84652b2f14b5eb95a96e6134cf7a61a05fcf4ec-894c653ef8a69e84-01
2022-04-21T16:16:02.461Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:02.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-b801aa1574348bcf69ec8a601ce6389bd1723892-8c5d322a5786c52a-01 outer:exit 2b-b801aa1574348bcf69ec8a601ce6389bd1723892-0509dfa3fae61a29-01
2022-04-21T16:16:02.463Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:02.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f5bce35b79674bf397f32d28b477c0cbce57252-b3ee1b65903947c8-01 outer:exit 2b-8f5bce35b79674bf397f32d28b477c0cbce57252-21d9c50fae976f62-01
2022-04-21T16:16:02.465Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:02.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e3d422af381477f163978ff96cb2816358fb2d1-67867ef9ff601b25-01 outer:exit 2b-4e3d422af381477f163978ff96cb2816358fb2d1-f97d920237f4fac2-01
2022-04-21T16:16:02.467Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:02.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-21cbc23c4446a3e54c7440004b074ab50c49a813-35edc2406a0a0c22-01 outer:exit 2b-21cbc23c4446a3e54c7440004b074ab50c49a813-3d103d854669a085-01
2022-04-21T16:16:02.470Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:02.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-060a7091128e4cbdfbe81d91984058bd03e007f2-8f94658c38a44794-01 outer:exit 2b-060a7091128e4cbdfbe81d91984058bd03e007f2-57fad0d1b4621ce6-01
2022-04-21T16:16:02.473Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:02.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-736eef09497a416e16c6b820b7d13d8ebe96d5c4-ea859ba1070d9e61-01 outer:exit 2b-736eef09497a416e16c6b820b7d13d8ebe96d5c4-e0d194184334b48c-01
2022-04-21T16:16:02.475Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:02.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a878cf9c35182aa9c278522da931bee5a0e4836-660c3c0ffa5840c2-01 outer:exit 2b-5a878cf9c35182aa9c278522da931bee5a0e4836-80c44b1a4410aa63-01
2022-04-21T16:16:02.478Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:02.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdf61e76154d9ae9b2f2a9153a47360150d57eae-1baeba12e247a191-01 outer:exit 2b-fdf61e76154d9ae9b2f2a9153a47360150d57eae-e5de37bf71ac3ec4-01
2022-04-21T16:16:02.483Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:02.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-e05dcd8fc73b921d757d39bb21bc9e5ee25b7519-ab9fbf633a9805d6-01 outer:exit 2b-e05dcd8fc73b921d757d39bb21bc9e5ee25b7519-cbb0f6286d2848e8-01
2022-04-21T16:16:02.488Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:02.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd288dd9ffebd2f2fe456a966d4d9c9ca1e7e1e4-4824c589296b37d0-01 outer:exit 2b-cd288dd9ffebd2f2fe456a966d4d9c9ca1e7e1e4-e78428a379d57498-01
2022-04-21T16:16:02.505Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:02.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf432f1a3bf87a8c74bfcc79c3f33fea4cd6d3bc-f251d6a5bb1f8346-01 outer:exit 2b-bf432f1a3bf87a8c74bfcc79c3f33fea4cd6d3bc-8ccc5cdeb5a8d9ee-01
2022-04-21T16:16:02.511Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:02.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-408f5585c355c996e3826c7eb16a2f3132e1426d-558db1e80a721231-01 outer:exit 2b-408f5585c355c996e3826c7eb16a2f3132e1426d-aaf7d8b48b5bb2d4-01
2022-04-21T16:16:02.514Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:02.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-1027bff64371b7b256cff3b68be9d5eae9100042-8c87f46ea3b52d3b-01 outer:exit 2b-1027bff64371b7b256cff3b68be9d5eae9100042-a3cc30524afc37af-01
2022-04-21T16:16:02.516Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:02.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-33d525fc63267529f7d84eeeb87d5004808e499a-d1e68d5084997088-01 outer:exit 2b-33d525fc63267529f7d84eeeb87d5004808e499a-358965de56bc2e6c-01
2022-04-21T16:16:02.522Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:02.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cf24b2420e50b78e1186d2d78cbe375fe16d69c-76d54a1e858a92ab-01 outer:exit 2b-0cf24b2420e50b78e1186d2d78cbe375fe16d69c-7d19e68e3438baa1-01
2022-04-21T16:16:02.525Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:02.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-67ec5bb5cfd8f8f573adbdcce637721b9020336e-4347899037b390a1-01 outer:exit 2b-67ec5bb5cfd8f8f573adbdcce637721b9020336e-027bceb4dd800e13-01
2022-04-21T16:16:02.527Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:02.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-856fc5a596fef2cf18f55e605bdd12202785447e-036632e5a599e495-01 outer:exit 2b-856fc5a596fef2cf18f55e605bdd12202785447e-bf07d22840688477-01
2022-04-21T16:16:02.528Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:02.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-28500d5c7a1ea4e0da9b84eb4a191c67d43c5861-0d5dfefc4d1ca3de-01 outer:exit 2b-28500d5c7a1ea4e0da9b84eb4a191c67d43c5861-e77dff878b8c2e15-01
2022-04-21T16:16:02.530Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:02.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-e071aaa6650512feb43a4e2f197c24840c60b0c1-0c79bf667e2b8523-01 outer:exit 2b-e071aaa6650512feb43a4e2f197c24840c60b0c1-188effce254b8225-01
2022-04-21T16:16:02.532Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:02.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-2721c5f6884f42f26fa8614b5a3d5aba8b7eec09-cc801343b4340702-01 outer:exit 2b-2721c5f6884f42f26fa8614b5a3d5aba8b7eec09-e11551c8569e4c93-01
2022-04-21T16:16:02.541Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:02.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d9651435e52e9174b3667f718ce1b42c9bb813e-6b1d5fcca99d11d8-01 outer:exit 2b-4d9651435e52e9174b3667f718ce1b42c9bb813e-4c975dac929dddb6-01
2022-04-21T16:16:02.548Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:02.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-581aebe83d00a48ce9a535115e253c496e74dadc-8e1d9e2c448f25d2-01 outer:exit 2b-581aebe83d00a48ce9a535115e253c496e74dadc-40af9aa1d5b1cd6d-01
2022-04-21T16:16:02.551Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:02.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-0920a816fee43d2fd674a7110805a7c4b84695b4-c4c4f34b7422eaf0-01 outer:exit 2b-0920a816fee43d2fd674a7110805a7c4b84695b4-d405d66ed3f9f082-01
2022-04-21T16:16:02.554Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:02.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-75f5b2a4239a279b5c2b5cc827d46cfdd2822a58-d0f346df21a74e57-01 outer:exit 2b-75f5b2a4239a279b5c2b5cc827d46cfdd2822a58-9d79fe3e8767035e-01
2022-04-21T16:16:02.557Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:02.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-504be32a2e826538e5666a0727aaca5295847860-d3b26c395127e0ec-01 outer:exit 2b-504be32a2e826538e5666a0727aaca5295847860-2ec7c3b02b30325b-01
2022-04-21T16:16:02.584Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (298ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.7
updated 1 package and audited 935 packages in 5.111s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:08.582Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:08.583Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:08.583Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:08.583Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:08.647Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:08.768Z appoptics:patching patched crypto 
2022-04-21T16:16:08.785Z appoptics:patching patched https 
2022-04-21T16:16:08.785Z appoptics:patching patched http 
2022-04-21T16:16:08.828Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:08.828Z appoptics:patching patched fs 
2022-04-21T16:16:08.841Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v12.22.12)
2022-04-21T16:16:08.846Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-21T16:16:08.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e03cf37ab8e7f6bc4ea6d05f7e9d7756777ad18-874bc2d2be697ea1-01 outer:exit 2b-9e03cf37ab8e7f6bc4ea6d05f7e9d7756777ad18-88b952b41b72223a-01
2022-04-21T16:16:08.885Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:08.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4cfd7c8606de086f600d3c251fc207523fcbca5-f97a86868cf48b42-01 outer:exit 2b-c4cfd7c8606de086f600d3c251fc207523fcbca5-e7515e241a8da05a-01
2022-04-21T16:16:08.929Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:08.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-db7a94b1b1b53c5103d472cfc4467507358ab227-3956d9d29a8313ca-01 outer:exit 2b-db7a94b1b1b53c5103d472cfc4467507358ab227-5a94286a15d2d5ca-01
2022-04-21T16:16:08.932Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:08.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-54a21d305b9a3e4f770c7395bf0825b89f497c8d-a367022ca8e07716-01 outer:exit 2b-54a21d305b9a3e4f770c7395bf0825b89f497c8d-eed26ca6072661cc-01
2022-04-21T16:16:08.935Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:08.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-b16ea43eef37c68e102f9f90fe18efca0969f6e7-be9bdb544ef7a122-01 outer:exit 2b-b16ea43eef37c68e102f9f90fe18efca0969f6e7-b211ff8d4d23d714-01
2022-04-21T16:16:08.939Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:08.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e72bb83c8dcff129e29c502a9b8a16881ad77b8-c41fdbceb6a20f26-01 outer:exit 2b-7e72bb83c8dcff129e29c502a9b8a16881ad77b8-882c29e30b8dee3d-01
2022-04-21T16:16:08.942Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:08.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f50e3ca86a17cdb96f5bcfdf299ed55d52e9de7-20c41682a4527410-01 outer:exit 2b-5f50e3ca86a17cdb96f5bcfdf299ed55d52e9de7-6410f3e8124cca98-01
2022-04-21T16:16:08.944Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:08.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-10b109abdf73d4c386199be5c17beceeab35c38e-ce2c8c492c2c22b5-01 outer:exit 2b-10b109abdf73d4c386199be5c17beceeab35c38e-b453aefb466d50b4-01
2022-04-21T16:16:08.946Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:08.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b64ff261e6653a77f2b611b4c21bf813b19b8bd-b01003eafe86ac49-01 outer:exit 2b-7b64ff261e6653a77f2b611b4c21bf813b19b8bd-3b8d0d19d8a6d639-01
2022-04-21T16:16:08.948Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:08.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-15ec2b3e735cef523ff350b795d6bd1d4532db18-5d64703ad80dd84c-01 outer:exit 2b-15ec2b3e735cef523ff350b795d6bd1d4532db18-752017f338b9b5f6-01
2022-04-21T16:16:08.951Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:08.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6b12d2c4319d4a555b0d084d17a3f3a053f9a8a-b621eef4ce5e0902-01 outer:exit 2b-b6b12d2c4319d4a555b0d084d17a3f3a053f9a8a-bc4561db20a30173-01
2022-04-21T16:16:08.958Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:08.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dcfca9d54a17d79a18dbb5356aa5e84169cd390-a79daa49e2529d10-01 outer:exit 2b-9dcfca9d54a17d79a18dbb5356aa5e84169cd390-064f16192e9b2b82-01
2022-04-21T16:16:08.964Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:08.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ebe941fd8102538b4c00064ee8eb28916a094fd-ad675ce36f89e622-01 outer:exit 2b-9ebe941fd8102538b4c00064ee8eb28916a094fd-2dd048c1429b96b7-01
2022-04-21T16:16:08.976Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:09.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7eb83977a86cdcd6681781db64dbe1a5615f6f0-c77f27172fbd8bf8-01 outer:exit 2b-c7eb83977a86cdcd6681781db64dbe1a5615f6f0-fc5235dad0c57878-01
2022-04-21T16:16:09.016Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:09.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-90256def0f8d65bd65554dd8dae175ac21ff83e2-e7dc0af068f5c0e7-01 outer:exit 2b-90256def0f8d65bd65554dd8dae175ac21ff83e2-1cf5e259592e274b-01
2022-04-21T16:16:09.019Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:09.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcd86175076c8f735cf7c4d61b03fe92e914caf9-e83cc95bd1be5a13-01 outer:exit 2b-fcd86175076c8f735cf7c4d61b03fe92e914caf9-f9f71e8deac52c5f-01
2022-04-21T16:16:09.021Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:09.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-21cd682e3424911982e7bcbeb87706afe1fef2c2-6a81b72d3e19bf89-01 outer:exit 2b-21cd682e3424911982e7bcbeb87706afe1fef2c2-def72d513a54e49f-01
2022-04-21T16:16:09.024Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:09.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-b29c21a88b061153364490e6079f075b12a56150-d9cb55a19e5d2be7-01 outer:exit 2b-b29c21a88b061153364490e6079f075b12a56150-a93207c7b678a9e3-01
2022-04-21T16:16:09.026Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:09.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf79d3139297c6e67243cc68fa64b5a2d9be0c86-cc9361fa69010c32-01 outer:exit 2b-bf79d3139297c6e67243cc68fa64b5a2d9be0c86-63af4bf39b3aa0ad-01
2022-04-21T16:16:09.028Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:09.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e66bdf4b712973316df51c51a9b196243d2c4ff-5c221fb82ea7bd16-01 outer:exit 2b-6e66bdf4b712973316df51c51a9b196243d2c4ff-fa6b050a31b09a11-01
2022-04-21T16:16:09.030Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:09.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ae8a37365e5380f316d6065ef5bfab5be19761e-33cb1ae3387116cf-01 outer:exit 2b-6ae8a37365e5380f316d6065ef5bfab5be19761e-a8e9bee47017fafb-01
2022-04-21T16:16:09.031Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:09.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-f49c0f408691c5024c5f5a4d8b2bad53bbb9a913-ba017b431db672be-01 outer:exit 2b-f49c0f408691c5024c5f5a4d8b2bad53bbb9a913-a5d227c8959fb204-01
2022-04-21T16:16:09.034Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:09.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-328d33c0bde2e07a6d480efbb3e42d1e35d139d7-05e1648bd6241a4d-01 outer:exit 2b-328d33c0bde2e07a6d480efbb3e42d1e35d139d7-3ec121c76f036194-01
2022-04-21T16:16:09.036Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:09.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-43654e2f92a6b2a7cce4a98b73fafa50a08fc6cf-5112944730ab8042-01 outer:exit 2b-43654e2f92a6b2a7cce4a98b73fafa50a08fc6cf-a919d217391946c8-01
2022-04-21T16:16:09.039Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:09.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dfccf0bdbd861e6d9e681ba080d3987ea83e752-e5b4e9a118d8f7f4-01 outer:exit 2b-4dfccf0bdbd861e6d9e681ba080d3987ea83e752-1d7ba1fad949fec7-01
2022-04-21T16:16:09.041Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:09.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-994125c3551c183cddddd1235202dd44d65ebee7-a1622285264a28e3-01 outer:exit 2b-994125c3551c183cddddd1235202dd44d65ebee7-407e07aadb3bae90-01
2022-04-21T16:16:09.044Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:09.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6bb07834444b05a269eb8cd4d74c7feb50194b8-61a8bf9ad37aa4eb-01 outer:exit 2b-a6bb07834444b05a269eb8cd4d74c7feb50194b8-081f1f0606044af2-01
2022-04-21T16:16:09.049Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:09.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-fee511004b3fc7782cb2527ec3a501b90766a56e-2b8c0dbecdba1ccf-01 outer:exit 2b-fee511004b3fc7782cb2527ec3a501b90766a56e-c142dd137a4f2c1a-01
2022-04-21T16:16:09.053Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:09.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-1290e965bd4337051b02e10e9d50deabae607d6f-7fd747e784cde394-01 outer:exit 2b-1290e965bd4337051b02e10e9d50deabae607d6f-8f011a9a583606eb-01
2022-04-21T16:16:09.061Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:09.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-747b22024d00e1f1db14ea80a56b7a70b7c90423-33f14cffcfd657cb-01 outer:exit 2b-747b22024d00e1f1db14ea80a56b7a70b7c90423-1750fa867ea971f9-01
2022-04-21T16:16:09.067Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:09.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-99c3d5afc7d82abe4a7b04be84bf0fb4ba98bcb1-4715321f7827da22-01 outer:exit 2b-99c3d5afc7d82abe4a7b04be84bf0fb4ba98bcb1-dca2563c65671c64-01
2022-04-21T16:16:09.069Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:09.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7c75bc084c2fc49e3bf35155302be36f796a3c3-bca8f8e764f3d941-01 outer:exit 2b-d7c75bc084c2fc49e3bf35155302be36f796a3c3-559d74b0cc72b652-01
2022-04-21T16:16:09.072Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:09.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-73dff1e5b1d1ec650d57690c821c9367fe03e845-4a5cd2def895fdca-01 outer:exit 2b-73dff1e5b1d1ec650d57690c821c9367fe03e845-fa466469a4f81041-01
2022-04-21T16:16:09.079Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:09.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a4121fb3937e029e4cd18e2e53c5234ff9c9ee3-b4424869ad635729-01 outer:exit 2b-4a4121fb3937e029e4cd18e2e53c5234ff9c9ee3-c9bb43092ce6e550-01
2022-04-21T16:16:09.081Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:09.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-af4ecc5f9045cec428afff54eecb1b2cc3403ea2-8cab223fc89c8807-01 outer:exit 2b-af4ecc5f9045cec428afff54eecb1b2cc3403ea2-c49e33b299fc9b18-01
2022-04-21T16:16:09.083Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:09.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d480f5dae43da8743f351c534237ad53a5732cc-ddf6928d71e921a2-01 outer:exit 2b-5d480f5dae43da8743f351c534237ad53a5732cc-3371139d8bde9413-01
2022-04-21T16:16:09.085Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:09.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-9520228f4413ce0ac5aafe084d559300c822cda2-c205a78b3bd1206e-01 outer:exit 2b-9520228f4413ce0ac5aafe084d559300c822cda2-980e21312f15fe0f-01
2022-04-21T16:16:09.087Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:09.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9692801cde7ea867a90806fede85f6428e32c26-7796e4b2e799329c-01 outer:exit 2b-e9692801cde7ea867a90806fede85f6428e32c26-5cb883728f31ac55-01
2022-04-21T16:16:09.089Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:09.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-88df77019d35c4747fe1c64f39816d0ac1619ac0-1be7e208e629772d-01 outer:exit 2b-88df77019d35c4747fe1c64f39816d0ac1619ac0-f9a3ae2b8acf94f4-01
2022-04-21T16:16:09.099Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:09.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b5c9bb4fe7368c800cf1e6747b928f3ef67aedb-847263c2d43e1e7c-01 outer:exit 2b-2b5c9bb4fe7368c800cf1e6747b928f3ef67aedb-9553edf8e717df19-01
2022-04-21T16:16:09.108Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:09.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-312df76451a3b594bf7ea23f3c5eb237ff0a27f6-0a1c1d42da8f4a87-01 outer:exit 2b-312df76451a3b594bf7ea23f3c5eb237ff0a27f6-a4c8befa8a7faa8d-01
2022-04-21T16:16:09.111Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:09.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa765c4bdbf4c66032ec8e0d3e03dce52e05bd27-9644d3d209a17902-01 outer:exit 2b-aa765c4bdbf4c66032ec8e0d3e03dce52e05bd27-b84afdced48e4d94-01
2022-04-21T16:16:09.114Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:09.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-09629c3236cf83c41ebd2aac6f8e7c34f837ca67-ef4a398164ba5e8a-01 outer:exit 2b-09629c3236cf83c41ebd2aac6f8e7c34f837ca67-40bc90c7f04d142b-01
2022-04-21T16:16:09.116Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:09.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd4a4e7ba3e659f46bcf02a71a39d71f4d195787-f21171b66afcc350-01 outer:exit 2b-cd4a4e7ba3e659f46bcf02a71a39d71f4d195787-26f5866269516ef1-01
2022-04-21T16:16:09.142Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (290ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.8
updated 1 package and audited 935 packages in 3.538s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:13.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:13.525Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:13.525Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:13.526Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:13.586Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:13.725Z appoptics:patching patched crypto 
2022-04-21T16:16:13.742Z appoptics:patching patched https 
2022-04-21T16:16:13.742Z appoptics:patching patched http 
2022-04-21T16:16:13.785Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:13.785Z appoptics:patching patched fs 
2022-04-21T16:16:13.797Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v12.22.12)
2022-04-21T16:16:13.802Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-21T16:16:13.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-06dc881aa5af4252291f58d1ea4e309b665a81af-15c5fe6ed2b29f5e-01 outer:exit 2b-06dc881aa5af4252291f58d1ea4e309b665a81af-cb77089e5314cf46-01
2022-04-21T16:16:13.840Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:13.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-bee2e69edc8cc86b410005d504f19e17edb55c31-57f8c7d9dd5ca86c-01 outer:exit 2b-bee2e69edc8cc86b410005d504f19e17edb55c31-fc9bcda30a15a7d7-01
2022-04-21T16:16:13.884Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:13.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7ecbace72670ed4fc4826f1cb84c2c21b66589b-48e7968ff6313c7f-01 outer:exit 2b-a7ecbace72670ed4fc4826f1cb84c2c21b66589b-bd93a05ba6e2c079-01
2022-04-21T16:16:13.887Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:13.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-564cc21b4bc27e0afbfc839cea89bdf6de063b9c-c3e71c493b32e519-01 outer:exit 2b-564cc21b4bc27e0afbfc839cea89bdf6de063b9c-9672bb2b25375639-01
2022-04-21T16:16:13.889Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:13.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-97aec0b291ee41c1a5fc2b27ca8086a153535b6f-ca9c38009d8a6598-01 outer:exit 2b-97aec0b291ee41c1a5fc2b27ca8086a153535b6f-b269966632782ebd-01
2022-04-21T16:16:13.894Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:13.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-d77825c62db8073823f31fc4e9985357c2277d31-d0f4632defbd9fd2-01 outer:exit 2b-d77825c62db8073823f31fc4e9985357c2277d31-0a78dbea07dbaecc-01
2022-04-21T16:16:13.897Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:13.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-ada630a77e957bb7e92386e9ed5ad31729f83731-3b99d6ad9f5fbe3e-01 outer:exit 2b-ada630a77e957bb7e92386e9ed5ad31729f83731-bed8d75c18d460d6-01
2022-04-21T16:16:13.899Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:13.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-b94e32f11d2afca532e0f55605a0a2a4f078cb58-d69d26a6772b5d3a-01 outer:exit 2b-b94e32f11d2afca532e0f55605a0a2a4f078cb58-552c4059bdda3488-01
2022-04-21T16:16:13.901Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:13.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf24132683918ab22bf4c77c288f9ccc8f402372-fcaa8089952b9baf-01 outer:exit 2b-cf24132683918ab22bf4c77c288f9ccc8f402372-742866e51fa5987e-01
2022-04-21T16:16:13.904Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:13.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe3493f4af550cf5134522237236639c7e5f966d-3b722e6f5e6b18e0-01 outer:exit 2b-fe3493f4af550cf5134522237236639c7e5f966d-2c0b09e62988ad28-01
2022-04-21T16:16:13.906Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:13.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b67278da77ebf9ae9806d2473a9e34ccaa783a8-31091546a8f69afc-01 outer:exit 2b-5b67278da77ebf9ae9806d2473a9e34ccaa783a8-cc86276613f49b86-01
2022-04-21T16:16:13.910Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:13.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0782597293ac6687a2885dcb57395a575135641-d08671e11851bc95-01 outer:exit 2b-b0782597293ac6687a2885dcb57395a575135641-59bebf1576f773e3-01
2022-04-21T16:16:13.920Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:13.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad8b46d2a0ac0b9c339d7b3f8cc1d823441a0120-87ba86797c34b6d1-01 outer:exit 2b-ad8b46d2a0ac0b9c339d7b3f8cc1d823441a0120-db733aa0ea6d0c21-01
2022-04-21T16:16:13.934Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:13.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d2e23de049afbe9a150d907e0aebce0c7ff4dcc-af14150fcfabde5e-01 outer:exit 2b-7d2e23de049afbe9a150d907e0aebce0c7ff4dcc-5bf56e5d19cf3045-01
2022-04-21T16:16:13.974Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:13.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd27e7d74a253f6d69325bd3eb485666a43bdfaa-5fc2e7c786937767-01 outer:exit 2b-fd27e7d74a253f6d69325bd3eb485666a43bdfaa-75af1f92c732725f-01
2022-04-21T16:16:13.976Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:13.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-53ba9c4ad1985bedaeb11d8a75f6ab6dce043beb-367bf2a0f58ad98b-01 outer:exit 2b-53ba9c4ad1985bedaeb11d8a75f6ab6dce043beb-3fc9d6b8aa09df1c-01
2022-04-21T16:16:13.979Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:13.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-df454b7166d41afd8650c292c755152b3970305c-0ad35495e64d2135-01 outer:exit 2b-df454b7166d41afd8650c292c755152b3970305c-ea4ed0a957bc4f17-01
2022-04-21T16:16:13.982Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:13.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-56f212c9f7bfe9f99bf2efeda8f5df0798ae96cf-33280360818496b0-01 outer:exit 2b-56f212c9f7bfe9f99bf2efeda8f5df0798ae96cf-b4223c28c415a430-01
2022-04-21T16:16:13.984Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:13.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-890b831b5582f649b474aaf54cee4d299525d7d3-8558f9af35b389a7-01 outer:exit 2b-890b831b5582f649b474aaf54cee4d299525d7d3-5a9d439b5ddb2b1b-01
2022-04-21T16:16:13.986Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:13.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbe5b486552715154df55f3a34edc6d7d3fd377b-1882299cddc8ff83-01 outer:exit 2b-fbe5b486552715154df55f3a34edc6d7d3fd377b-02af285be4bce377-01
2022-04-21T16:16:13.988Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:13.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6220f2ff713788e7bd4ff8c5446ee4834c0de96-9fe0effb998f1a52-01 outer:exit 2b-b6220f2ff713788e7bd4ff8c5446ee4834c0de96-16d3b8de9cbda237-01
2022-04-21T16:16:13.990Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:13.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-49540055941b7c5e3b792460da6d2621dd93c7a8-70c4f3e266e48441-01 outer:exit 2b-49540055941b7c5e3b792460da6d2621dd93c7a8-ceb004278ce1b4c5-01
2022-04-21T16:16:13.992Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:13.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-86b4619b8078221c44aeee0503d09040e19826c7-d1465480a13dba0f-01 outer:exit 2b-86b4619b8078221c44aeee0503d09040e19826c7-9790a500cec31760-01
2022-04-21T16:16:13.994Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:13.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-95c25c4aab7388a2fa2f469f47c83a30cc3bbc63-480beae44f480737-01 outer:exit 2b-95c25c4aab7388a2fa2f469f47c83a30cc3bbc63-5d0517aa40003ad8-01
2022-04-21T16:16:13.997Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:13.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c61b700a12432f7b98fe6b260e371f4b32be6c4-dda10b41abb5267e-01 outer:exit 2b-6c61b700a12432f7b98fe6b260e371f4b32be6c4-183e0754628e2380-01
2022-04-21T16:16:13.999Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:14.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-9376160ba2ab5ab03fa67b83ad754ecae3f5e44d-b97b7d8c1f3350be-01 outer:exit 2b-9376160ba2ab5ab03fa67b83ad754ecae3f5e44d-8214893ce9c5b91b-01
2022-04-21T16:16:14.002Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:14.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5565890d2f185580ee8a1d444ad50a866c170c-273621fdcc5cfde3-01 outer:exit 2b-0b5565890d2f185580ee8a1d444ad50a866c170c-edc3cb8a8164425b-01
2022-04-21T16:16:14.008Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:14.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-a27e5cd6b3f1df9ca0662c64d81efdb993e4a95a-fa0c65ee568aa623-01 outer:exit 2b-a27e5cd6b3f1df9ca0662c64d81efdb993e4a95a-9a4c8528929c7dc9-01
2022-04-21T16:16:14.013Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:14.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-86f5d905b2897430828d459a0811d3f07ba1d73c-5b122c91bdcc5c48-01 outer:exit 2b-86f5d905b2897430828d459a0811d3f07ba1d73c-b067b4a3c2f33bbd-01
2022-04-21T16:16:14.021Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:14.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-37d09e54bc2cbb19071577804d592de404749cd7-4eaed9f3b125a331-01 outer:exit 2b-37d09e54bc2cbb19071577804d592de404749cd7-1bfd09f61578df15-01
2022-04-21T16:16:14.027Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:14.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-c83b7cf99acdc38b94f330fd7274abdc89e55e4a-8168d482f6911c4f-01 outer:exit 2b-c83b7cf99acdc38b94f330fd7274abdc89e55e4a-aafce6e953c782b5-01
2022-04-21T16:16:14.030Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:14.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-58f1eea9940e7f300ef1bf4dd898ffbf532d70a0-3a38d9a5f454d3c4-01 outer:exit 2b-58f1eea9940e7f300ef1bf4dd898ffbf532d70a0-204edd060aa835d6-01
2022-04-21T16:16:14.032Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:14.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-31980e9e248807c7be598b53797b4ccc1263983c-da61ff64dbffad17-01 outer:exit 2b-31980e9e248807c7be598b53797b4ccc1263983c-65316301f3843388-01
2022-04-21T16:16:14.038Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:14.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-e18c85543c2726735615c65749983a94f6965507-3384717cf728ba94-01 outer:exit 2b-e18c85543c2726735615c65749983a94f6965507-624febd499906237-01
2022-04-21T16:16:14.041Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:14.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-70eccf8deecc969064e2e8c13e1d2d7184dde275-42471600a55b377c-01 outer:exit 2b-70eccf8deecc969064e2e8c13e1d2d7184dde275-3bda4f4333760b16-01
2022-04-21T16:16:14.043Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:14.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a40701900757dd50baf32957bf357c075c711be-fdc6e5ee23bfe9fc-01 outer:exit 2b-7a40701900757dd50baf32957bf357c075c711be-920b9ad8477a0290-01
2022-04-21T16:16:14.045Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:14.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-313cff0854603b0f638a1414a0974223b4e56182-3378ece36151df73-01 outer:exit 2b-313cff0854603b0f638a1414a0974223b4e56182-54b8bb883d341339-01
2022-04-21T16:16:14.047Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:14.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-27e24fb255679dd42480c8ce1e1e66c03ec8ea17-b8e9690c87eb26bb-01 outer:exit 2b-27e24fb255679dd42480c8ce1e1e66c03ec8ea17-c91a425d9f8a922b-01
2022-04-21T16:16:14.048Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:14.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1e2de5d97d03dbaeb6b810b400b10032506612d-8e744ade2a2d1ecf-01 outer:exit 2b-c1e2de5d97d03dbaeb6b810b400b10032506612d-4e4201c9985b76c2-01
2022-04-21T16:16:14.057Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:14.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-1584a4651cd0c2eb63ca84944aa9eb375b629446-55369eba9e807e3e-01 outer:exit 2b-1584a4651cd0c2eb63ca84944aa9eb375b629446-5af5d89fb3d2df01-01
2022-04-21T16:16:14.065Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:14.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a50a7475132b1fad3578e5c25ff89db88c9d0b4-67c75b1ad19bb1a4-01 outer:exit 2b-0a50a7475132b1fad3578e5c25ff89db88c9d0b4-7122854cc256386e-01
2022-04-21T16:16:14.068Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:14.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-f857f702aad8f0eadc0da40b01e7ada99d028f68-4076dec99831baee-01 outer:exit 2b-f857f702aad8f0eadc0da40b01e7ada99d028f68-f365a29430ee38e5-01
2022-04-21T16:16:14.070Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:14.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ebc3b9ec6fd301675326296e0e27cb97be7cb0a-1daaa71770a13ae7-01 outer:exit 2b-9ebc3b9ec6fd301675326296e0e27cb97be7cb0a-3a4499821c2fcaab-01
2022-04-21T16:16:14.073Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:14.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab10e8169bba7c3e957fcc642e297ea53bb119ce-c00d25efc984cf26-01 outer:exit 2b-ab10e8169bba7c3e957fcc642e297ea53bb119ce-09f8f039ce2e1503-01
2022-04-21T16:16:14.099Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (292ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.9
updated 1 package and audited 935 packages in 4.995s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:19.931Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:19.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:19.932Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:19.933Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:19.992Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:20.115Z appoptics:patching patched crypto 
2022-04-21T16:16:20.133Z appoptics:patching patched https 
2022-04-21T16:16:20.133Z appoptics:patching patched http 
2022-04-21T16:16:20.174Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:20.174Z appoptics:patching patched fs 
2022-04-21T16:16:20.187Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v12.22.12)
2022-04-21T16:16:20.192Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-21T16:16:20.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-97d9eecd3d94d9c950d95fb85e9698fdd02d3ad5-6641aacc192c01b0-01 outer:exit 2b-97d9eecd3d94d9c950d95fb85e9698fdd02d3ad5-e80073889dd25ad9-01
2022-04-21T16:16:20.231Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:20.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-37e88f1113162ef1d7220011064656932f9d4fb1-7ff704ca03285987-01 outer:exit 2b-37e88f1113162ef1d7220011064656932f9d4fb1-ec7fbe5ebf4a92b5-01
2022-04-21T16:16:20.274Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:20.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-902cbef722c39390df7b69d51338879206bd4b95-4bbb8eaefdb798c4-01 outer:exit 2b-902cbef722c39390df7b69d51338879206bd4b95-2264541c2ae12815-01
2022-04-21T16:16:20.277Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:20.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-90a9d76b966401f94a2e39cc08157315ca01040a-b3759ff5158a9f30-01 outer:exit 2b-90a9d76b966401f94a2e39cc08157315ca01040a-44dfac9a4297e06b-01
2022-04-21T16:16:20.280Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:20.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-1577a4519a24a7ea46b351dd82d25b041387a530-9260d1f0cdf9f1dc-01 outer:exit 2b-1577a4519a24a7ea46b351dd82d25b041387a530-9e75d6b4bd6589a5-01
2022-04-21T16:16:20.284Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:20.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f71653c47504eb5cce48c861a3a682d54f6d052-3b244532f161aa50-01 outer:exit 2b-0f71653c47504eb5cce48c861a3a682d54f6d052-c36e3d342d038945-01
2022-04-21T16:16:20.287Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:20.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-31a4e1bde7d7867d588e265e0ddf112ef498e879-7ad81ac3c0f273f6-01 outer:exit 2b-31a4e1bde7d7867d588e265e0ddf112ef498e879-849e41217e304012-01
2022-04-21T16:16:20.290Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:20.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-81cca1054eb2810ec33e46852e4e683b5aae7798-432abeea17377bb6-01 outer:exit 2b-81cca1054eb2810ec33e46852e4e683b5aae7798-7d190e7897a38698-01
2022-04-21T16:16:20.292Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:20.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-63232eb34bd3adc74625cc34407904d5452fb877-d297f0fff6ac0e53-01 outer:exit 2b-63232eb34bd3adc74625cc34407904d5452fb877-d6b419f4f0e6504e-01
2022-04-21T16:16:20.294Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:20.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-378c7ada0674279c9ec4f94550e57c7b98cf4487-a32392bea16b1714-01 outer:exit 2b-378c7ada0674279c9ec4f94550e57c7b98cf4487-ca59ca20622e899b-01
2022-04-21T16:16:20.297Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:20.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee3af6225af97d6ead956d0cefe470227e7819ea-a8d9f557008ed36f-01 outer:exit 2b-ee3af6225af97d6ead956d0cefe470227e7819ea-cec55bfc904fc1ce-01
2022-04-21T16:16:20.300Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:20.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaf5f29853bf742978c15a8ceb6c7354c8b453c8-817123e003e05116-01 outer:exit 2b-aaf5f29853bf742978c15a8ceb6c7354c8b453c8-7f0cf173acfda4a9-01
2022-04-21T16:16:20.309Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:20.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dca5df08eac17ad9c527c2196bb2a7c94e42d08-43437d83f2c97a60-01 outer:exit 2b-2dca5df08eac17ad9c527c2196bb2a7c94e42d08-f68569cbbd97a409-01
2022-04-21T16:16:20.324Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:20.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-b942cfc76ba9384c9c5349869b66cfb2301ad767-30d2ca17deb1366a-01 outer:exit 2b-b942cfc76ba9384c9c5349869b66cfb2301ad767-2c107218c47f90f9-01
2022-04-21T16:16:20.363Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:20.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf981390fe4d3b98fbee3450580a4d2c052ba357-0b3ad3e994528474-01 outer:exit 2b-cf981390fe4d3b98fbee3450580a4d2c052ba357-3a0d9c38930d198c-01
2022-04-21T16:16:20.367Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:20.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-b64d089526c9e3e163545c2ec3dad3ca3e9543c6-399b610bc8f6cd1f-01 outer:exit 2b-b64d089526c9e3e163545c2ec3dad3ca3e9543c6-5148ad927910a992-01
2022-04-21T16:16:20.369Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:20.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-f59933571ac068146d4deb4e284f7f60fde0cf79-527150028a61c3b7-01 outer:exit 2b-f59933571ac068146d4deb4e284f7f60fde0cf79-92cf236426412f41-01
2022-04-21T16:16:20.372Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:20.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-caba099311dc17194a22b1f5db0a3bcfe8d1e2e2-762f8d98bdb046d4-01 outer:exit 2b-caba099311dc17194a22b1f5db0a3bcfe8d1e2e2-9dcbf45564e0c189-01
2022-04-21T16:16:20.374Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:20.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7e182496f95f26d7dd176497b47822246b0952b-d81f9ea507dee1ed-01 outer:exit 2b-f7e182496f95f26d7dd176497b47822246b0952b-d83217a9454b5545-01
2022-04-21T16:16:20.376Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:20.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-6261044f7895f63f54be8baea7aea10605bb75b8-0d156fd1ad56ef7f-01 outer:exit 2b-6261044f7895f63f54be8baea7aea10605bb75b8-0d83a76a96ab2a90-01
2022-04-21T16:16:20.378Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:20.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-92cd8f7f29b2e5d9484908c5342f3e878db0c3d8-98094e2419d76d5e-01 outer:exit 2b-92cd8f7f29b2e5d9484908c5342f3e878db0c3d8-1e08b2d28869ae3a-01
2022-04-21T16:16:20.380Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:20.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-db1053cb757bafd190c0c8101acd703bf4f1d006-0e33c85932abd65e-01 outer:exit 2b-db1053cb757bafd190c0c8101acd703bf4f1d006-154f4a787dd28ca9-01
2022-04-21T16:16:20.382Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:20.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-a26a051c0e3b03d43e65dc0a5febbc361ac43488-d7a7e607397dc065-01 outer:exit 2b-a26a051c0e3b03d43e65dc0a5febbc361ac43488-62848cc6aafd2fb5-01
2022-04-21T16:16:20.384Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:20.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-5187f60968575d1188bdab8db3f0e93f550935e4-7c4db21bd7366c5b-01 outer:exit 2b-5187f60968575d1188bdab8db3f0e93f550935e4-ab74f03ef07e4f4f-01
2022-04-21T16:16:20.387Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:20.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c3db51bc59afc353a0e92054a7c65b2fffc433b-e1701f0b63acfb4c-01 outer:exit 2b-8c3db51bc59afc353a0e92054a7c65b2fffc433b-b28a65c56abf7374-01
2022-04-21T16:16:20.390Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:20.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-86dd852a2827bf0e54baf2e2960968a73dbef3ae-db51e37c8e493213-01 outer:exit 2b-86dd852a2827bf0e54baf2e2960968a73dbef3ae-0c2e0971d73f0d41-01
2022-04-21T16:16:20.392Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:20.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-072140389efdf6c3b734f1d07332f82fe297af53-62f457e92d74a868-01 outer:exit 2b-072140389efdf6c3b734f1d07332f82fe297af53-e2ea34966b510dbd-01
2022-04-21T16:16:20.398Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:20.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-28373f0aa56686f0d3b1b6ec8fb68d817a72c14c-ce39c87641ba1e80-01 outer:exit 2b-28373f0aa56686f0d3b1b6ec8fb68d817a72c14c-52db2596f093be18-01
2022-04-21T16:16:20.404Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:20.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-3766a8c57a7215ccc1c52bd24f5e6d23b9cb6733-dec8d1baec0f8c59-01 outer:exit 2b-3766a8c57a7215ccc1c52bd24f5e6d23b9cb6733-3482d1ab84573a4d-01
2022-04-21T16:16:20.410Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:20.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-06862dc76b26809bd466fd6c35a51d8fcf5ca9bc-53adb5dd845c6d11-01 outer:exit 2b-06862dc76b26809bd466fd6c35a51d8fcf5ca9bc-829305008e89473b-01
2022-04-21T16:16:20.417Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:20.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fc5d1b17773b5d7ac30c8c71f547b001627e199-7b887b8c5ee4cf85-01 outer:exit 2b-3fc5d1b17773b5d7ac30c8c71f547b001627e199-b6d4a2590070c98b-01
2022-04-21T16:16:20.419Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:20.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-f921677aed8bdb48f9acc408222298f2459e3bdc-9d540a74221f9ad5-01 outer:exit 2b-f921677aed8bdb48f9acc408222298f2459e3bdc-ae668b26cb93d670-01
2022-04-21T16:16:20.422Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:20.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcc75cae426a93d29b74351fdc1534b18ddf82dd-779f35c66088e357-01 outer:exit 2b-bcc75cae426a93d29b74351fdc1534b18ddf82dd-6b09b181175003e6-01
2022-04-21T16:16:20.428Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:20.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8eeeb04cad6760b2180d569ee622f66ee7cb850-1c183a2330935511-01 outer:exit 2b-e8eeeb04cad6760b2180d569ee622f66ee7cb850-0e69707b9caab60a-01
2022-04-21T16:16:20.430Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:20.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-028356b86f726162aae0ea7dab7cb0c8e8d35a97-3125565df35ed06f-01 outer:exit 2b-028356b86f726162aae0ea7dab7cb0c8e8d35a97-eb6223b3ba25a61a-01
2022-04-21T16:16:20.432Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:20.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-aac964d7a6125ba511830afa27c28a57b44fd4dd-b7d7e8b64b604ec3-01 outer:exit 2b-aac964d7a6125ba511830afa27c28a57b44fd4dd-ef55658d74544099-01
2022-04-21T16:16:20.434Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:20.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad1fed0bcb9b4044fdecb72473c3c22c00c9169d-efa2f2d5ddd7b6b9-01 outer:exit 2b-ad1fed0bcb9b4044fdecb72473c3c22c00c9169d-349317ce701d3c2d-01
2022-04-21T16:16:20.436Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:20.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7a89e2548e4f555a78243b7387e649617a7ba50-ff249fd45388c456-01 outer:exit 2b-b7a89e2548e4f555a78243b7387e649617a7ba50-194dbfd4fcba9343-01
2022-04-21T16:16:20.438Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:20.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-7975e582c4258a01f504f4fe2c7d98f9d21eed84-112b1da69389ccbc-01 outer:exit 2b-7975e582c4258a01f504f4fe2c7d98f9d21eed84-366f13301d6c3de9-01
2022-04-21T16:16:20.446Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:20.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d36d28f831213ac50ae03142e066d79aff4d542-317a2c1112b25e12-01 outer:exit 2b-2d36d28f831213ac50ae03142e066d79aff4d542-3268e16a94f860f7-01
2022-04-21T16:16:20.454Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:20.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-653f48e848ef4cbd1feda8104beb1733250695c0-792e82dcedd3c1cc-01 outer:exit 2b-653f48e848ef4cbd1feda8104beb1733250695c0-7e54a1d743752f52-01
2022-04-21T16:16:20.456Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:20.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-c05ceff71551e7b025158fa9544601d94a0c22a1-77e2166451162d1b-01 outer:exit 2b-c05ceff71551e7b025158fa9544601d94a0c22a1-6937db6de740503c-01
2022-04-21T16:16:20.459Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:20.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ab29bcd2aec64103d16de25f025cf0a2b659004-5a042e32dabdb7a1-01 outer:exit 2b-0ab29bcd2aec64103d16de25f025cf0a2b659004-c341d136ff5af6a0-01
2022-04-21T16:16:20.461Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:20.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb3e8c2a114e0b384ce3c4f0373fdebcc9a853f2-3532c4ecafa4bd77-01 outer:exit 2b-eb3e8c2a114e0b384ce3c4f0373fdebcc9a853f2-4d02407afda2a295-01
2022-04-21T16:16:20.488Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (291ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.10
updated 1 package and audited 935 packages in 3.563s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:24.904Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:24.904Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:24.904Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:24.905Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:24.965Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:25.088Z appoptics:patching patched crypto 
2022-04-21T16:16:25.105Z appoptics:patching patched https 
2022-04-21T16:16:25.106Z appoptics:patching patched http 
2022-04-21T16:16:25.149Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:25.149Z appoptics:patching patched fs 
2022-04-21T16:16:25.161Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v12.22.12)
2022-04-21T16:16:25.166Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-21T16:16:25.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c489133c14be8037932130fe144d50dd56665f5-384d1b09dba2f10f-01 outer:exit 2b-5c489133c14be8037932130fe144d50dd56665f5-f09ca50289fb33dc-01
2022-04-21T16:16:25.204Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:25.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b57a74090017ae946ee1d6505f8cae218efbf09-6254c007c7f0844a-01 outer:exit 2b-6b57a74090017ae946ee1d6505f8cae218efbf09-cb2dc0c1b6ee934f-01
2022-04-21T16:16:25.247Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:25.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f0ae5340017434e947ce05cd719c15c3afa267a-7aa971805478d730-01 outer:exit 2b-1f0ae5340017434e947ce05cd719c15c3afa267a-8e94fc64bc0fc56b-01
2022-04-21T16:16:25.251Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:25.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf726a8396a8b2f415d05adfabb1834d3209db15-5160d5b15c049f5b-01 outer:exit 2b-bf726a8396a8b2f415d05adfabb1834d3209db15-c41e96d47ffa7dd6-01
2022-04-21T16:16:25.254Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:25.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4bde458ff6de9440077a82fbfcdae66970978e3-935ddcb380964f9e-01 outer:exit 2b-d4bde458ff6de9440077a82fbfcdae66970978e3-14e1e9db1787c834-01
2022-04-21T16:16:25.258Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:25.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-8163cf3e47cf5a4a8970190f6044f4cbb4cedaa1-a93efd4e4cfc5dcc-01 outer:exit 2b-8163cf3e47cf5a4a8970190f6044f4cbb4cedaa1-7362cfc0e6557a7b-01
2022-04-21T16:16:25.262Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:25.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-69e980d66499b61509f4e729cfba9c34277f538f-e3872fd07c6ccdb5-01 outer:exit 2b-69e980d66499b61509f4e729cfba9c34277f538f-8eae60e439408a15-01
2022-04-21T16:16:25.270Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:25.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-e52d9445dd8bef7796a97af40add37620b7c1541-89c869f10abba9eb-01 outer:exit 2b-e52d9445dd8bef7796a97af40add37620b7c1541-59f708c472eba2e8-01
2022-04-21T16:16:25.273Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:25.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d38d70a5845adab4c869270e9660aa68d0cdff-d6bbe4030f594e6f-01 outer:exit 2b-e8d38d70a5845adab4c869270e9660aa68d0cdff-34f9fabf19072bb6-01
2022-04-21T16:16:25.275Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:25.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5a9e469099be4fae6f3798cddb81f7a392dbb9d-1a3dc2c02add2b8f-01 outer:exit 2b-b5a9e469099be4fae6f3798cddb81f7a392dbb9d-a9a37362f77e8d5b-01
2022-04-21T16:16:25.279Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:25.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-c40c72ce663035cefde9fa6146c89ca82e1630b9-502012b4bd18c2ef-01 outer:exit 2b-c40c72ce663035cefde9fa6146c89ca82e1630b9-14d560679e7b4ee5-01
2022-04-21T16:16:25.287Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:25.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-c15818b38c0884fda0c6bb3b595841aa362f6a0b-97d6ba021a590122-01 outer:exit 2b-c15818b38c0884fda0c6bb3b595841aa362f6a0b-bd088bc00287b0d9-01
2022-04-21T16:16:25.307Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:25.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4e0a6c17ffe9cf37cbe5a14fe167b4e860aa9ad-58ba8a4b376e18f5-01 outer:exit 2b-a4e0a6c17ffe9cf37cbe5a14fe167b4e860aa9ad-11b5dc12a282efd4-01
2022-04-21T16:16:25.323Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:25.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1734eb9cabb4e461a5812e843b39b85de86bbb6-cdda3ae478214aaf-01 outer:exit 2b-b1734eb9cabb4e461a5812e843b39b85de86bbb6-b4cf6744656d4f70-01
2022-04-21T16:16:25.370Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:25.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbfb1aa2808ee0a788672760fa25af5f970325a9-9d7aa70f345ccdde-01 outer:exit 2b-bbfb1aa2808ee0a788672760fa25af5f970325a9-7adaab3182ec4610-01
2022-04-21T16:16:25.373Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:25.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-c42e77d9ec8fcd36fa4484b7f3b6cb45c0fd0797-a0e64276b3627f6d-01 outer:exit 2b-c42e77d9ec8fcd36fa4484b7f3b6cb45c0fd0797-a8c81ebbaca4928a-01
2022-04-21T16:16:25.375Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:25.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-81acda96e4fb52fb2ea900d241dc358f21d1eb5b-a8929c72564c8496-01 outer:exit 2b-81acda96e4fb52fb2ea900d241dc358f21d1eb5b-6176d2c846ed3e77-01
2022-04-21T16:16:25.378Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:25.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8a34268881d1fd19c2e67bbadb4a0a7292525e2-d240532c5f112a02-01 outer:exit 2b-b8a34268881d1fd19c2e67bbadb4a0a7292525e2-64d3e065917cc12e-01
2022-04-21T16:16:25.380Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:25.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aac199f00c2cabe43e424f9d54725072927a7cd-4cef21599b1e45ea-01 outer:exit 2b-8aac199f00c2cabe43e424f9d54725072927a7cd-160d5c87cd73f228-01
2022-04-21T16:16:25.382Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:25.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-c939d042b516d5a77b32d35eae1c22e986ca91a1-32cdd635bdfba392-01 outer:exit 2b-c939d042b516d5a77b32d35eae1c22e986ca91a1-6f9d6927b9c83c73-01
2022-04-21T16:16:25.384Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:25.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-2694c6a639c44d6d46db7bb81608bb839f02e36b-355ceca0273ca01f-01 outer:exit 2b-2694c6a639c44d6d46db7bb81608bb839f02e36b-8f07a14764da0b39-01
2022-04-21T16:16:25.386Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:25.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-752f3535316cfdcf2eed95fc2677e21bd00cf6bc-b721e1ba14af7129-01 outer:exit 2b-752f3535316cfdcf2eed95fc2677e21bd00cf6bc-0ed146ea2cf47f66-01
2022-04-21T16:16:25.388Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:25.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-813cd72feefc660f83b74e77c9e2327fe4a2fb2a-b09a8d533ee3e9b7-01 outer:exit 2b-813cd72feefc660f83b74e77c9e2327fe4a2fb2a-6f85f5420f6ddb33-01
2022-04-21T16:16:25.391Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:25.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-920a1892ded6459cfae19d58e75d857884844263-acdf6d43fc5188e5-01 outer:exit 2b-920a1892ded6459cfae19d58e75d857884844263-2433548e90e7c91d-01
2022-04-21T16:16:25.393Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:25.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-160ab45dd4bf69f773978259dede64d86baa8e08-a519334d0a018a45-01 outer:exit 2b-160ab45dd4bf69f773978259dede64d86baa8e08-12c64aead38da83b-01
2022-04-21T16:16:25.395Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:25.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-70f5371874d4637770fa7de5a3f3ac0cc500a101-ad79da55bc8fd2a6-01 outer:exit 2b-70f5371874d4637770fa7de5a3f3ac0cc500a101-23d4cac9f1c4e7ed-01
2022-04-21T16:16:25.398Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:25.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f51c4496bf02d5dda37e6330715bcd29cc8938e-ac2f614f2a355e86-01 outer:exit 2b-6f51c4496bf02d5dda37e6330715bcd29cc8938e-5b92b6d79f0a33b1-01
2022-04-21T16:16:25.403Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:25.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8fab3870ad11492d5cf45196d769804dba3dbf4-bbed98ab040e6a71-01 outer:exit 2b-f8fab3870ad11492d5cf45196d769804dba3dbf4-136f53954aa48b18-01
2022-04-21T16:16:25.409Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:25.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-20a8bf84aafd3046bcc098216b2539ed61912d6c-13bbcf9efde8c994-01 outer:exit 2b-20a8bf84aafd3046bcc098216b2539ed61912d6c-b08b20f31a9ac16e-01
2022-04-21T16:16:25.416Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:25.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4217ab9052aecf9545c766590bf3ef1b3dff0fb-704bb3ea388251ff-01 outer:exit 2b-a4217ab9052aecf9545c766590bf3ef1b3dff0fb-b7b6f8c4ae606823-01
2022-04-21T16:16:25.422Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:25.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-6219b30c88224e333efc92402592ffb03d62cd8c-fb771003ec1ab0db-01 outer:exit 2b-6219b30c88224e333efc92402592ffb03d62cd8c-fa7bb09344b4db9c-01
2022-04-21T16:16:25.424Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:25.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-f895e7a5e2ecf220f83c8356fd601104de905d75-a6bcf6892f394025-01 outer:exit 2b-f895e7a5e2ecf220f83c8356fd601104de905d75-d37840e5bd6b2413-01
2022-04-21T16:16:25.427Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:25.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-12892d45bc0734e084af18ab22db5bdee34b7bfe-24eeed9e780f5ae5-01 outer:exit 2b-12892d45bc0734e084af18ab22db5bdee34b7bfe-a18c259796e12b6a-01
2022-04-21T16:16:25.432Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:25.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-e67c5cf93debb9b6f3a99129aa49a3e28d344304-15a2f29f66b499a6-01 outer:exit 2b-e67c5cf93debb9b6f3a99129aa49a3e28d344304-ea1d1a42036af0c5-01
2022-04-21T16:16:25.434Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:25.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-2989ac1d8e6167a5ecff1a77dedf04e4e1cd25cd-8881ae1f6eef446b-01 outer:exit 2b-2989ac1d8e6167a5ecff1a77dedf04e4e1cd25cd-5543da3cb523a388-01
2022-04-21T16:16:25.436Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:25.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-9896ae61f92696067490142f75c2ce6246de621b-00f82011bcb69200-01 outer:exit 2b-9896ae61f92696067490142f75c2ce6246de621b-b6f7379422fecefe-01
2022-04-21T16:16:25.438Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:25.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9572f55227ec421dcd94c0b8daa39dc720147c6-20ecda8c269edafd-01 outer:exit 2b-e9572f55227ec421dcd94c0b8daa39dc720147c6-450c557ed4bedc14-01
2022-04-21T16:16:25.440Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:25.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-903d143d375509989bb722eede849cf77a315044-c94713c2ca76645d-01 outer:exit 2b-903d143d375509989bb722eede849cf77a315044-03099ade1ceeebb4-01
2022-04-21T16:16:25.442Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:25.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f6cad3c0d58bb380f63e8c4b278704287fb4d6a-605308229cd0ae3d-01 outer:exit 2b-4f6cad3c0d58bb380f63e8c4b278704287fb4d6a-5c4aa25a709311da-01
2022-04-21T16:16:25.451Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:25.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-81ad0c104310d13e26e63debcfeb72f5978d7da9-22c8d9100062b52e-01 outer:exit 2b-81ad0c104310d13e26e63debcfeb72f5978d7da9-73b98d81ba948a4b-01
2022-04-21T16:16:25.458Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:25.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc4cf14224124a1d00388f85c9444be132e1a156-df619e115bcd3472-01 outer:exit 2b-fc4cf14224124a1d00388f85c9444be132e1a156-07363aa68d05872e-01
2022-04-21T16:16:25.462Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:25.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-b80ac9a3dba97238ef323ab6eab8bdae9c6ce23c-71647bdc96227326-01 outer:exit 2b-b80ac9a3dba97238ef323ab6eab8bdae9c6ce23c-8885e7fa5f964b51-01
2022-04-21T16:16:25.464Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:25.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea2994436acd3bce1175ea3c8cb36afb326e089a-1504b047737b4db4-01 outer:exit 2b-ea2994436acd3bce1175ea3c8cb36afb326e089a-31e613d730a62e27-01
2022-04-21T16:16:25.467Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:25.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-f76139e7ac0f4bb9b71213a042b6a9636adb118a-13e42df114206e4d-01 outer:exit 2b-f76139e7ac0f4bb9b71213a042b6a9636adb118a-b6d715414d3461a4-01
2022-04-21T16:16:25.492Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (320ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.11
updated 1 package and audited 935 packages in 4.786s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:31.140Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:31.140Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:31.140Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:31.141Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:31.203Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:31.328Z appoptics:patching patched crypto 
2022-04-21T16:16:31.345Z appoptics:patching patched https 
2022-04-21T16:16:31.345Z appoptics:patching patched http 
2022-04-21T16:16:31.390Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:31.390Z appoptics:patching patched fs 
2022-04-21T16:16:31.403Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v12.22.12)
2022-04-21T16:16:31.408Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-21T16:16:31.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf4ee362b42f2ce827662f38b5f1c8e6eaf2af02-2d0f570e91c836f5-01 outer:exit 2b-cf4ee362b42f2ce827662f38b5f1c8e6eaf2af02-26e9ec568fdc8f81-01
2022-04-21T16:16:31.447Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:31.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-333ad4e89552b6a81968b6a409e1ebe6f2d07243-b76128a4aa67fd0d-01 outer:exit 2b-333ad4e89552b6a81968b6a409e1ebe6f2d07243-a62d9eef48c01183-01
2022-04-21T16:16:31.491Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:31.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-10b21bb0542661cbaf694fc8a89a20d7a12c79cf-3fb8be8afe53445f-01 outer:exit 2b-10b21bb0542661cbaf694fc8a89a20d7a12c79cf-3973617287d1e6dc-01
2022-04-21T16:16:31.494Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:31.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-215dbfeaaf86355f371cbba74e1243fd6767ed22-6173a134bedefde2-01 outer:exit 2b-215dbfeaaf86355f371cbba74e1243fd6767ed22-2ab3a9c97ac45f54-01
2022-04-21T16:16:31.497Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:31.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-e66dfac6133f76da0dcd27fbe1b9ca4cf9c3d158-f1fd186cd7328d8f-01 outer:exit 2b-e66dfac6133f76da0dcd27fbe1b9ca4cf9c3d158-09301227704adac9-01
2022-04-21T16:16:31.501Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:31.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-b17ae0fda7d0050a646b13dce4b3d44857ad04c1-846b1f79b1c70291-01 outer:exit 2b-b17ae0fda7d0050a646b13dce4b3d44857ad04c1-e1078ee618a5eb2b-01
2022-04-21T16:16:31.504Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:31.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-890b338a15593d0dd8a67c4f653e7bf020ab8622-0bc0c29370319e59-01 outer:exit 2b-890b338a15593d0dd8a67c4f653e7bf020ab8622-208470176732aaee-01
2022-04-21T16:16:31.506Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:31.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-431172d6e33c5a4b219ecf982e734ef163c062aa-fe877ed04396c0a9-01 outer:exit 2b-431172d6e33c5a4b219ecf982e734ef163c062aa-edd9db8610dca1bf-01
2022-04-21T16:16:31.509Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:31.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-30234e641b394431293a25646140a140cd9887a8-f7166313d54428c5-01 outer:exit 2b-30234e641b394431293a25646140a140cd9887a8-521ba1d4d81edb38-01
2022-04-21T16:16:31.511Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:31.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4070aa9023642a06f2025a6095beb082e935421-3da23d27db7ada19-01 outer:exit 2b-d4070aa9023642a06f2025a6095beb082e935421-8aa15c27523ad335-01
2022-04-21T16:16:31.515Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:31.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-0160be7801d1cf7ff04f4358a4e576c5c0dd063d-575f5c42a193a5a6-01 outer:exit 2b-0160be7801d1cf7ff04f4358a4e576c5c0dd063d-5b72d9a96ccc0796-01
2022-04-21T16:16:31.522Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:31.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-5006f077c70810fde0c9cf8194965a09c330ba5e-50f5bb43212146f7-01 outer:exit 2b-5006f077c70810fde0c9cf8194965a09c330ba5e-ba490e136c467bc5-01
2022-04-21T16:16:31.528Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:31.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-d90b0d665076a8d85ad59398e4624e359a90b312-9d107f9abd5ea817-01 outer:exit 2b-d90b0d665076a8d85ad59398e4624e359a90b312-95382bad1bd7c7c9-01
2022-04-21T16:16:31.544Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:31.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-48796b1401264edcd01e93c398158cf7100ff69f-cfe96177eb74810e-01 outer:exit 2b-48796b1401264edcd01e93c398158cf7100ff69f-3c79b175e9c15bc3-01
2022-04-21T16:16:31.587Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:31.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea65a37440ee5b0009cc5f84d8a6c3136c81cca8-52a911bb27262a8c-01 outer:exit 2b-ea65a37440ee5b0009cc5f84d8a6c3136c81cca8-a7aa7a3f213f61c8-01
2022-04-21T16:16:31.591Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:31.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-1efb8a74c3b514263cfd168f7a66da1e710a8f30-3b1e97ce48bb5455-01 outer:exit 2b-1efb8a74c3b514263cfd168f7a66da1e710a8f30-5285fa34ecc2c4f3-01
2022-04-21T16:16:31.593Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:31.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-f186d5255d4d49798c0f3ee4af0ae7040ee989f0-5561597c6d4612f2-01 outer:exit 2b-f186d5255d4d49798c0f3ee4af0ae7040ee989f0-4d243d09fee373d3-01
2022-04-21T16:16:31.596Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:31.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfc0837290fd733b1856029615bca26bbca607fb-03df100ea63e50bd-01 outer:exit 2b-bfc0837290fd733b1856029615bca26bbca607fb-9b74ebd05fb5fb43-01
2022-04-21T16:16:31.598Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:31.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5b47608bd6dac9533c23a425e869dd07fa365bc-2f12fe7bbb57e2e1-01 outer:exit 2b-b5b47608bd6dac9533c23a425e869dd07fa365bc-09bad0313f9934e4-01
2022-04-21T16:16:31.600Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:31.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b4ca3cf8f38ad8f59db7af4233f95928a1c4252-427bf253ba434076-01 outer:exit 2b-8b4ca3cf8f38ad8f59db7af4233f95928a1c4252-6bb9f19c01ff8d33-01
2022-04-21T16:16:31.602Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:31.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddede54a6f87198e728a98458732770b51742482-2293ac8c5b7c6125-01 outer:exit 2b-ddede54a6f87198e728a98458732770b51742482-4b38384f42fb8eb8-01
2022-04-21T16:16:31.604Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:31.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-a179cbd1ee20d58bc9cc0b8fb0ddcb87543c57c5-27b703e960cc0469-01 outer:exit 2b-a179cbd1ee20d58bc9cc0b8fb0ddcb87543c57c5-6edcf0a14da2d06c-01
2022-04-21T16:16:31.606Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:31.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6e7b4c246ced49ad1ba1780d8714fb9c88a126a-1241cddcbde672d3-01 outer:exit 2b-e6e7b4c246ced49ad1ba1780d8714fb9c88a126a-33de2b58c6e89223-01
2022-04-21T16:16:31.609Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:31.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b05c60ad9f3791a049fe828d8a27db1a1dcb41-ae37d6507e370b47-01 outer:exit 2b-06b05c60ad9f3791a049fe828d8a27db1a1dcb41-985c3594ada41461-01
2022-04-21T16:16:31.612Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:31.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c1ce1c6573eb380d510318faa0be1d45afbfa12-701c826ec369506d-01 outer:exit 2b-1c1ce1c6573eb380d510318faa0be1d45afbfa12-7efbd3283cc3bf84-01
2022-04-21T16:16:31.614Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:31.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-52c412d02a332c2808c97c98856af7e6da4ff09d-753e8c8305bf1728-01 outer:exit 2b-52c412d02a332c2808c97c98856af7e6da4ff09d-5fbac710003d584a-01
2022-04-21T16:16:31.617Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:31.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-fce7ce2073d14a2ee29a61a5def98ea3c0e04875-eee13db3f8212251-01 outer:exit 2b-fce7ce2073d14a2ee29a61a5def98ea3c0e04875-95d259c54e0ffb7b-01
2022-04-21T16:16:31.624Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:31.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f9cb2e8f9cfe8306d0444ce056ae051baca3d32-4429787ac4d5926b-01 outer:exit 2b-4f9cb2e8f9cfe8306d0444ce056ae051baca3d32-1442f38f413a5561-01
2022-04-21T16:16:31.630Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:31.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-39a739bbba50bedba519c78baaa467426e6e1b31-d499c3e5c372d8c3-01 outer:exit 2b-39a739bbba50bedba519c78baaa467426e6e1b31-88d33d3baaa594d1-01
2022-04-21T16:16:31.638Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:31.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-f736a5b59bb5780ef82cebd1df7ca7fa1cf1e655-56628564731956c7-01 outer:exit 2b-f736a5b59bb5780ef82cebd1df7ca7fa1cf1e655-59783875cb25650b-01
2022-04-21T16:16:31.644Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:31.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a74d2de1b7ac4842de9e3cf0fd7eebb938f2c63-526950a5ee41aac3-01 outer:exit 2b-2a74d2de1b7ac4842de9e3cf0fd7eebb938f2c63-5d231663ce831bb6-01
2022-04-21T16:16:31.646Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:31.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-547919a6ae1119afc1d546484f11de3ece537a6f-ade9d2b56f81f837-01 outer:exit 2b-547919a6ae1119afc1d546484f11de3ece537a6f-d1f37b0c5e70a269-01
2022-04-21T16:16:31.648Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:31.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-62e92be2f464e859e8c9dbc44d39c2cb05655c34-bc383198ce03af30-01 outer:exit 2b-62e92be2f464e859e8c9dbc44d39c2cb05655c34-2044704332cb0d13-01
2022-04-21T16:16:31.655Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:31.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-91c4cb787b863ec76953c21247137c919634b767-c8b4f74b2518fff4-01 outer:exit 2b-91c4cb787b863ec76953c21247137c919634b767-57685ae41305b054-01
2022-04-21T16:16:31.657Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:31.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-37ba28b60c659dc3b3bcc719d4cfd38c3df4c69a-6387c0f4dd3b4b53-01 outer:exit 2b-37ba28b60c659dc3b3bcc719d4cfd38c3df4c69a-9d5181c3d8508078-01
2022-04-21T16:16:31.659Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:31.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd7f0983a72fe8cb0ffb9f80aa05e8fdb302b3e1-83662a1d08a96c92-01 outer:exit 2b-dd7f0983a72fe8cb0ffb9f80aa05e8fdb302b3e1-4baae63fc4b36d0b-01
2022-04-21T16:16:31.661Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:31.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-25f3bfa2e02b6925a3919889d2efb4478e3e2e12-acaa4b5f98ef4641-01 outer:exit 2b-25f3bfa2e02b6925a3919889d2efb4478e3e2e12-45dca4b6761fdfe8-01
2022-04-21T16:16:31.663Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:31.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f6d7d71c83ca9628cdb0f0b66940f73217803fd-1d619d1e08797369-01 outer:exit 2b-5f6d7d71c83ca9628cdb0f0b66940f73217803fd-fc0332552a820257-01
2022-04-21T16:16:31.665Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:31.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-382c7434d216ce689c63b8bfa218a3fedddd0005-d7283485a45f11db-01 outer:exit 2b-382c7434d216ce689c63b8bfa218a3fedddd0005-b5921f670847c930-01
2022-04-21T16:16:31.673Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:31.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fe7e5e3cdb96f4d733a5949a67538f65707697b-bcd5272bcc8b72b4-01 outer:exit 2b-8fe7e5e3cdb96f4d733a5949a67538f65707697b-5b23d6284312376d-01
2022-04-21T16:16:31.681Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:31.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e2b5a3356fc6071de2f9e8982a2fd89dcbd3553-fc72b8a7f1e6be47-01 outer:exit 2b-3e2b5a3356fc6071de2f9e8982a2fd89dcbd3553-8adeb13f517a7f59-01
2022-04-21T16:16:31.684Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:31.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca411a81cb7d2f841950cf52f504cbdeb68b46d1-a694f383aa41f3c9-01 outer:exit 2b-ca411a81cb7d2f841950cf52f504cbdeb68b46d1-bf68539ad89d4883-01
2022-04-21T16:16:31.687Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:31.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e0c58f53ee108c7f031b2435375b2ba9f543bbc-ac460008c5ae7580-01 outer:exit 2b-5e0c58f53ee108c7f031b2435375b2ba9f543bbc-d2cb230360b71f09-01
2022-04-21T16:16:31.691Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:31.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fb13788b121b311a2dab18d9f508b76af04437c-c5831d620fc7c303-01 outer:exit 2b-2fb13788b121b311a2dab18d9f508b76af04437c-a68970dc53022d73-01
2022-04-21T16:16:31.716Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (303ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.12
updated 1 package and audited 935 packages in 3.639s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:36.258Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:36.259Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:36.259Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:36.260Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:36.322Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:36.441Z appoptics:patching patched crypto 
2022-04-21T16:16:36.459Z appoptics:patching patched https 
2022-04-21T16:16:36.459Z appoptics:patching patched http 
2022-04-21T16:16:36.502Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:36.502Z appoptics:patching patched fs 
2022-04-21T16:16:36.515Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v12.22.12)
2022-04-21T16:16:36.520Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-21T16:16:36.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-6158c5052371292c57889f30866b79b317b48dfe-55e2b71b3cc6b4e9-01 outer:exit 2b-6158c5052371292c57889f30866b79b317b48dfe-45f11e2037f65907-01
2022-04-21T16:16:36.574Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:36.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-d035c258da6a10d35a368d614abf4484e79faabf-9d631a6f2885756b-01 outer:exit 2b-d035c258da6a10d35a368d614abf4484e79faabf-5ef11d0610d15076-01
2022-04-21T16:16:36.641Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:36.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7429dc2d6e76a56b55390e0b7a82ceae9a1e0dc-02b1ad869ef52b67-01 outer:exit 2b-f7429dc2d6e76a56b55390e0b7a82ceae9a1e0dc-1bea86b055fc3d15-01
2022-04-21T16:16:36.644Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:36.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-cda7b449c8740483003ea6fb52fd205a43586549-38a68e00b44499cd-01 outer:exit 2b-cda7b449c8740483003ea6fb52fd205a43586549-b291f9f660e556e4-01
2022-04-21T16:16:36.647Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:36.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-a446c91c89449d46fc179edd399a8ec6da42bab2-ef4cac74ebe96a2b-01 outer:exit 2b-a446c91c89449d46fc179edd399a8ec6da42bab2-a2987e63c9e8a741-01
2022-04-21T16:16:36.651Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:36.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-8835e5b70c4251dae4f51c409ff0e69626d75752-0aa8fe20a988642f-01 outer:exit 2b-8835e5b70c4251dae4f51c409ff0e69626d75752-627640b6b0aa36e3-01
2022-04-21T16:16:36.654Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:36.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-4968f18b06754320874963677c74ae17a83e0baf-73a45a50e3949f03-01 outer:exit 2b-4968f18b06754320874963677c74ae17a83e0baf-2b3de68741ab94fb-01
2022-04-21T16:16:36.656Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:36.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c4d2c99a57a7e15b69331378c245264af116cd2-356001929a51c4ed-01 outer:exit 2b-2c4d2c99a57a7e15b69331378c245264af116cd2-5ea19fefa598e6be-01
2022-04-21T16:16:36.659Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:36.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5b95d86e4a8c3cedb0b3086bc208f8aa36f3c30-4eeba5819248c29f-01 outer:exit 2b-c5b95d86e4a8c3cedb0b3086bc208f8aa36f3c30-2b38195898393844-01
2022-04-21T16:16:36.661Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:36.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-e456752ae832b34483fbe4346abaef91d4a409de-642b0a576a35f586-01 outer:exit 2b-e456752ae832b34483fbe4346abaef91d4a409de-067811d1e3085c7b-01
2022-04-21T16:16:36.664Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:36.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-c17508ca6553089e2f00ebe551ef05e5bcba0175-6baf125803e34e34-01 outer:exit 2b-c17508ca6553089e2f00ebe551ef05e5bcba0175-30945b0544e447e5-01
2022-04-21T16:16:36.671Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:36.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e5d7d4fd0f97e8a56065416ed3922ccdb76cb83-3e9c3e2861d78897-01 outer:exit 2b-9e5d7d4fd0f97e8a56065416ed3922ccdb76cb83-c15061728e7a35f5-01
2022-04-21T16:16:36.688Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:36.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c3c5baa6222663a6e6826e205d2d4dbdeed93e9-d3f7d8db9c44d0bb-01 outer:exit 2b-2c3c5baa6222663a6e6826e205d2d4dbdeed93e9-b20eb73ff2006b96-01
2022-04-21T16:16:36.703Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:36.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecaeef02011308d9e533cde81a4b7ecd21bcd61b-2e917744ef618515-01 outer:exit 2b-ecaeef02011308d9e533cde81a4b7ecd21bcd61b-4f1e47ec689f1e8f-01
2022-04-21T16:16:36.741Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:36.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aea2e8a57942820adf490ddebaa25b171d5d9fc-6de594e3b1172d12-01 outer:exit 2b-1aea2e8a57942820adf490ddebaa25b171d5d9fc-8f2f61126698cc79-01
2022-04-21T16:16:36.744Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:36.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-06839b7548420b18ae3065adc4ae5b68b092285f-9730e6bd623eae9a-01 outer:exit 2b-06839b7548420b18ae3065adc4ae5b68b092285f-9264fe29c2408a7b-01
2022-04-21T16:16:36.746Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:36.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-ade2a6a985b5c1187bc6579ad8e15d3e4b9ecc06-7c5583af929e152b-01 outer:exit 2b-ade2a6a985b5c1187bc6579ad8e15d3e4b9ecc06-af86e2d5f6e6366b-01
2022-04-21T16:16:36.749Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:36.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3d6c7cb14f4541023ed971e4cbff44f5ba21816-95e63cea3d90b03c-01 outer:exit 2b-a3d6c7cb14f4541023ed971e4cbff44f5ba21816-072bd6d81855b550-01
2022-04-21T16:16:36.751Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:36.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-de295e9b7ba99364d9a1aea179eb9f803aec20a9-01ff6aa0fdc483ab-01 outer:exit 2b-de295e9b7ba99364d9a1aea179eb9f803aec20a9-0084de5e5deeed40-01
2022-04-21T16:16:36.752Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:36.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fc34a002f12cbed529383b2bc4c3eebbf0f4d0b-cd38a125749adafb-01 outer:exit 2b-4fc34a002f12cbed529383b2bc4c3eebbf0f4d0b-8fd3ca544779a172-01
2022-04-21T16:16:36.754Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:36.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-764405d638a71bb1f622e9b0b9d38066eaf77e19-a505062a26489df5-01 outer:exit 2b-764405d638a71bb1f622e9b0b9d38066eaf77e19-9e1bbcc96ef40498-01
2022-04-21T16:16:36.756Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:36.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f04a63b0999c622a07058fd4b4111a7ea1476f6-a7a60ce2a9fe2cf1-01 outer:exit 2b-0f04a63b0999c622a07058fd4b4111a7ea1476f6-955d7eef51038dec-01
2022-04-21T16:16:36.758Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:36.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-901904a1a76b71ca7ae6ab881c7aca77b773c45b-ccaacf3b3e3cae3f-01 outer:exit 2b-901904a1a76b71ca7ae6ab881c7aca77b773c45b-3a3dd12f95a842f9-01
2022-04-21T16:16:36.761Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:36.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-186275e5b901215c902c9738b9762c97fae86a00-624031ebc493669b-01 outer:exit 2b-186275e5b901215c902c9738b9762c97fae86a00-5c28a7a951976702-01
2022-04-21T16:16:36.763Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:36.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9c4c82101c5e408ba3c66b98a63f74f4f66d5e9-652805ae38f3ee93-01 outer:exit 2b-e9c4c82101c5e408ba3c66b98a63f74f4f66d5e9-723f6558aa951e40-01
2022-04-21T16:16:36.766Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:36.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-44523a11783d3128060a165f378a1bb4e8b64c55-cfba29ec4d9423d4-01 outer:exit 2b-44523a11783d3128060a165f378a1bb4e8b64c55-62e2381eb8d6e823-01
2022-04-21T16:16:36.768Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:36.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-c540e6274edb2ff452e8849a51450921d1a121e0-38c80e36a776e097-01 outer:exit 2b-c540e6274edb2ff452e8849a51450921d1a121e0-33fa1890755e5a5b-01
2022-04-21T16:16:36.786Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:36.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-0893965093e518c0ce8c6effb36184ba145bf1f2-f44b3e06a2a248da-01 outer:exit 2b-0893965093e518c0ce8c6effb36184ba145bf1f2-74d5b411b7df7abb-01
2022-04-21T16:16:36.803Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:36.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6362dbdccce6132288d709cbe5c5514a35f2fd-6b6b166e5efb5d53-01 outer:exit 2b-bc6362dbdccce6132288d709cbe5c5514a35f2fd-a005671218e27157-01
2022-04-21T16:16:36.811Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:36.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-160bb00a5fce71bd9826bb43aa8c23d6228bbc0e-d569891cece94244-01 outer:exit 2b-160bb00a5fce71bd9826bb43aa8c23d6228bbc0e-fea50a23218ef839-01
2022-04-21T16:16:36.817Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:36.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f2eecc3298aa1578d67ca54cb1765aa78203ae3-0f71260817e9e29a-01 outer:exit 2b-1f2eecc3298aa1578d67ca54cb1765aa78203ae3-5001e92fc86e0469-01
2022-04-21T16:16:36.819Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:36.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b00d63599da67057cb0a6e6a78003978e3f32c-42e13f852cee4250-01 outer:exit 2b-51b00d63599da67057cb0a6e6a78003978e3f32c-6c8f0191ae02c14f-01
2022-04-21T16:16:36.822Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:36.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ff8e986dbe54923aab2f0614ca0f53463e71d89-e5d356523cb7838b-01 outer:exit 2b-1ff8e986dbe54923aab2f0614ca0f53463e71d89-15aa0c18d76d0b43-01
2022-04-21T16:16:36.828Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:36.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b01b2068243294b844426bdab4dbf616f956724-3d85087976027c7d-01 outer:exit 2b-7b01b2068243294b844426bdab4dbf616f956724-0fcdb28e43418e45-01
2022-04-21T16:16:36.830Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:36.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0b3282b15eef488d9d9723385e2d48b6288e765-3a2d9ec58f2488f3-01 outer:exit 2b-e0b3282b15eef488d9d9723385e2d48b6288e765-018ccbb93827e367-01
2022-04-21T16:16:36.832Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:36.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-b32adf497bc023b8aad6b59804b361e485234a37-a36fa5fe65f8e6c8-01 outer:exit 2b-b32adf497bc023b8aad6b59804b361e485234a37-2425d41278073dcd-01
2022-04-21T16:16:36.834Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:36.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-fedc9d49ac92cf34e757bf46281db1572ef6a8df-2bfd95af46054f4e-01 outer:exit 2b-fedc9d49ac92cf34e757bf46281db1572ef6a8df-f10884fae21159b2-01
2022-04-21T16:16:36.836Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:36.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-e208a7312c2a02221b937497cf062bf22d50796e-f1bdbf4c42038c91-01 outer:exit 2b-e208a7312c2a02221b937497cf062bf22d50796e-ab173c3575b6467b-01
2022-04-21T16:16:36.838Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:36.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cf478a8939d134c49adf9275723fb15e4b87e8b-a8d90c280252fa39-01 outer:exit 2b-8cf478a8939d134c49adf9275723fb15e4b87e8b-7b1c70004e411226-01
2022-04-21T16:16:36.846Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:36.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb7835b02e6aaecfb0a24fd519f3747b69eafb5e-c143af64d639fa24-01 outer:exit 2b-fb7835b02e6aaecfb0a24fd519f3747b69eafb5e-4e407a74456da7c6-01
2022-04-21T16:16:36.855Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:36.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-984423d8e248653a6c05ba18a9e7290c383c0286-186789553e87e026-01 outer:exit 2b-984423d8e248653a6c05ba18a9e7290c383c0286-d5283c94a3894fb3-01
2022-04-21T16:16:36.857Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:36.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-f07ad12010d8a6d6d546ad68dbfa333988be4c1d-d2e42f9366810acd-01 outer:exit 2b-f07ad12010d8a6d6d546ad68dbfa333988be4c1d-c7e1fa1a191933b2-01
2022-04-21T16:16:36.860Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:36.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e7d778ac08c0cf312d468a0b75ba877ff7727be-4e14bf5c10f9a4bd-01 outer:exit 2b-1e7d778ac08c0cf312d468a0b75ba877ff7727be-68e7af699a93103d-01
2022-04-21T16:16:36.874Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:36.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ca48c7b810909efeeb6d7708e9e345c11ea384b-0264e19e89d18eea-01 outer:exit 2b-6ca48c7b810909efeeb6d7708e9e345c11ea384b-d4ce38426d890dc8-01
2022-04-21T16:16:36.901Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (371ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.13
updated 1 package and audited 935 packages in 5.598s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:43.366Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:43.366Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:43.367Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:43.367Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:43.429Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:43.552Z appoptics:patching patched crypto 
2022-04-21T16:16:43.570Z appoptics:patching patched https 
2022-04-21T16:16:43.571Z appoptics:patching patched http 
2022-04-21T16:16:43.614Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:43.614Z appoptics:patching patched fs 
2022-04-21T16:16:43.627Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v12.22.12)
2022-04-21T16:16:43.632Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-21T16:16:43.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae7f68f899b083a2404657461e261e5fe3a27f31-d72aa95aeac0bf5f-01 outer:exit 2b-ae7f68f899b083a2404657461e261e5fe3a27f31-d0cf410368413317-01
2022-04-21T16:16:43.672Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:43.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-2de2352c69f31cea51fc279fb51acacce7d500c6-49eb21fd09f19929-01 outer:exit 2b-2de2352c69f31cea51fc279fb51acacce7d500c6-33abc63500feaeda-01
2022-04-21T16:16:43.716Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:43.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-aabb3cd54459525ffe29e3068f6a2bb9c375624d-fd142133125d7165-01 outer:exit 2b-aabb3cd54459525ffe29e3068f6a2bb9c375624d-c414946209ee2cee-01
2022-04-21T16:16:43.719Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:43.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-7be7bb5930125ff7f3e9d3d82b989e3380524d09-8d6e7a54af0d6783-01 outer:exit 2b-7be7bb5930125ff7f3e9d3d82b989e3380524d09-07cbc3a2b9b6b47e-01
2022-04-21T16:16:43.722Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:43.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1ff8185c768ea79a59ad581a3b7c639b72e1662-b403e8e34edf6247-01 outer:exit 2b-d1ff8185c768ea79a59ad581a3b7c639b72e1662-0a2449fe3851f079-01
2022-04-21T16:16:43.727Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:43.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb2190a80f324db53bd3bcd5c497589f2acf02a6-48e143aa04d9fdae-01 outer:exit 2b-eb2190a80f324db53bd3bcd5c497589f2acf02a6-7fe354e231cdc26a-01
2022-04-21T16:16:43.729Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:43.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-640b15834a7c644fbcce61a57dc9c26d09646cef-9fda3d42f7a59299-01 outer:exit 2b-640b15834a7c644fbcce61a57dc9c26d09646cef-7b8cf022124e1345-01
2022-04-21T16:16:43.732Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:43.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-2960d3cfccb2c1c47129d45c6b59b8336e09e069-31cc58a1c1124be5-01 outer:exit 2b-2960d3cfccb2c1c47129d45c6b59b8336e09e069-dda5a95460de2f2c-01
2022-04-21T16:16:43.734Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:43.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-7202e8c2844131a1b1554b92d74763da5a01e181-73e41439358c24d6-01 outer:exit 2b-7202e8c2844131a1b1554b92d74763da5a01e181-bd189a19eb2c0cb7-01
2022-04-21T16:16:43.736Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:43.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc956de67bbcdf172192390dd2e65b8f41b516de-a3c4d357e11076e1-01 outer:exit 2b-dc956de67bbcdf172192390dd2e65b8f41b516de-59b975416f795a9a-01
2022-04-21T16:16:43.739Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:43.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-388e9768fb8927c8b9e0c65c13cbb1ec458536d8-83d6d14349584410-01 outer:exit 2b-388e9768fb8927c8b9e0c65c13cbb1ec458536d8-c2ccbe0c1d0c4420-01
2022-04-21T16:16:43.746Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:43.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e19db8f4e846168919f0c8b65fcaf1feb10d29b-ee63e58427f0ab35-01 outer:exit 2b-6e19db8f4e846168919f0c8b65fcaf1feb10d29b-f33065e8eaa270cd-01
2022-04-21T16:16:43.752Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:43.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c01d4a0635c46a6d80ccd9b94007d3694a4f305-4c3a0d42c0e1f96c-01 outer:exit 2b-0c01d4a0635c46a6d80ccd9b94007d3694a4f305-d99e3d940592cb66-01
2022-04-21T16:16:43.767Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:43.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-720ae55a319778fda7cf1dcb75ae891720fbd77f-2ac16bb9e01edce0-01 outer:exit 2b-720ae55a319778fda7cf1dcb75ae891720fbd77f-3c284c337c0c2b64-01
2022-04-21T16:16:43.811Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:43.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-e302d40832aaa4e4e6d3ab6eda65faee54629ccc-135034583ce3faf5-01 outer:exit 2b-e302d40832aaa4e4e6d3ab6eda65faee54629ccc-fc07bc63465b0b0d-01
2022-04-21T16:16:43.814Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:43.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-d205aa1a53186384323356fe952d01fa49c63e31-cd14746df0524994-01 outer:exit 2b-d205aa1a53186384323356fe952d01fa49c63e31-b9ed57cf8e857b07-01
2022-04-21T16:16:43.816Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:43.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-565d61b931b984d9c2f217d7475c8adfae73a192-f0236f69a7732663-01 outer:exit 2b-565d61b931b984d9c2f217d7475c8adfae73a192-7d079b9ecdc9f8d4-01
2022-04-21T16:16:43.819Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:43.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-957700182ef11ed8f5d86d301b4d35b6dd2f94b0-63ab431c91c0df2c-01 outer:exit 2b-957700182ef11ed8f5d86d301b4d35b6dd2f94b0-68bce7fb1fa66830-01
2022-04-21T16:16:43.822Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:43.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3824cc22001d317e0470e1d82b549ec28fa8aa6-80b253c4e4d15db1-01 outer:exit 2b-d3824cc22001d317e0470e1d82b549ec28fa8aa6-e05a80075c9da792-01
2022-04-21T16:16:43.824Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:43.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b1baeeb19fe0df507a4d7caa0db5b23f5e9c491-2e366f41b2addc30-01 outer:exit 2b-3b1baeeb19fe0df507a4d7caa0db5b23f5e9c491-5cda1f95dbaff58c-01
2022-04-21T16:16:43.826Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:43.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d024b3fcf3efefd8f25614d7ccefea1a1f1f02-7d0155925eea963b-01 outer:exit 2b-f7d024b3fcf3efefd8f25614d7ccefea1a1f1f02-35683bf1401d441f-01
2022-04-21T16:16:43.827Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:43.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-180044a7f40a3480fb2d1e6831207e27976a0539-979362b91f0db949-01 outer:exit 2b-180044a7f40a3480fb2d1e6831207e27976a0539-9e421a08efff0c0b-01
2022-04-21T16:16:43.830Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:43.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-c983e0dc44f127f4e6d993e6a0bc08cb30475503-d195e96c93cb40cc-01 outer:exit 2b-c983e0dc44f127f4e6d993e6a0bc08cb30475503-8517b89df9ec08b2-01
2022-04-21T16:16:43.832Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:43.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a7531123af45000efed384f81936d56ddcbfd0a-5dfb45433a45d897-01 outer:exit 2b-4a7531123af45000efed384f81936d56ddcbfd0a-8222edc61a83395f-01
2022-04-21T16:16:43.835Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:43.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-250f85283f3aee6c9db97528b026f5e8e6cb1ce2-2c4748ce5c7c0345-01 outer:exit 2b-250f85283f3aee6c9db97528b026f5e8e6cb1ce2-3ea372511ecb92ba-01
2022-04-21T16:16:43.837Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:43.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcaf345398ea2663ba0d0a23cb91afddeca1dca3-6c7ba61a7e570c14-01 outer:exit 2b-bcaf345398ea2663ba0d0a23cb91afddeca1dca3-54aafb6405f74057-01
2022-04-21T16:16:43.840Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:43.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-b959f8539e0f5984151a2ef1763f40230c71a9a6-4550831cdb5f2740-01 outer:exit 2b-b959f8539e0f5984151a2ef1763f40230c71a9a6-4dc2876dbffe5159-01
2022-04-21T16:16:43.847Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:43.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2c1402fe70a72249368a8289d57ca1e7590846e-becff99eec9b2ab8-01 outer:exit 2b-b2c1402fe70a72249368a8289d57ca1e7590846e-fa100bb3b6e67b91-01
2022-04-21T16:16:43.851Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:43.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-00a77b8308dd2dc0b8ff9b6371eff4ccb8e636ae-cb3cb9d1dd3e28b6-01 outer:exit 2b-00a77b8308dd2dc0b8ff9b6371eff4ccb8e636ae-b32a3c23f31322af-01
2022-04-21T16:16:43.859Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:43.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-f05b264036bf35d511cbee31ee2ac3dce4570e06-7e0c3cfc7072d3a9-01 outer:exit 2b-f05b264036bf35d511cbee31ee2ac3dce4570e06-d07ec61af650ae07-01
2022-04-21T16:16:43.865Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:43.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-223bc18962f3af0884af3bb4d05c50ec409572b3-2f9761e1fa4721c3-01 outer:exit 2b-223bc18962f3af0884af3bb4d05c50ec409572b3-b07e0507cb3b5821-01
2022-04-21T16:16:43.868Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:43.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c23fd08d307670ee0d1d95ea199381f840c9346-ad868e14d7eda1e9-01 outer:exit 2b-0c23fd08d307670ee0d1d95ea199381f840c9346-993f40690132609a-01
2022-04-21T16:16:43.870Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:43.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2aa238ce46bfdb53a90462f3528e56af1338ce-7e15b90d1b6ff0fe-01 outer:exit 2b-0c2aa238ce46bfdb53a90462f3528e56af1338ce-64096156cf032c5f-01
2022-04-21T16:16:43.877Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:43.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-41fd65173968f01679975c7be86debbb16a1c857-c69a47d7c826e9fd-01 outer:exit 2b-41fd65173968f01679975c7be86debbb16a1c857-81c79c236357d7b6-01
2022-04-21T16:16:43.879Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:43.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0748c7c0e92b303d0cb2b145836e5cf43996d58-47ac03d25d453cf4-01 outer:exit 2b-a0748c7c0e92b303d0cb2b145836e5cf43996d58-4fb4a611800c38a8-01
2022-04-21T16:16:43.881Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:43.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5d0e2bf992410b53b5ee6508779f0b0eb0c19f3-308f18ccec321e32-01 outer:exit 2b-c5d0e2bf992410b53b5ee6508779f0b0eb0c19f3-7198b139776e4075-01
2022-04-21T16:16:43.883Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:43.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-501d67bff27f080101fa5f6ad78e4535d0dade59-206c8847d1bce1e5-01 outer:exit 2b-501d67bff27f080101fa5f6ad78e4535d0dade59-6a47c879e8890ef5-01
2022-04-21T16:16:43.884Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:43.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-2db5923ef7687efab340a4772c3df1579815e77b-072aa0bbf846976d-01 outer:exit 2b-2db5923ef7687efab340a4772c3df1579815e77b-6a78008b85a380ad-01
2022-04-21T16:16:43.887Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:43.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3e27b76aaab1f60791e50e90560dd0e0f6f1803-7e272462cc503970-01 outer:exit 2b-c3e27b76aaab1f60791e50e90560dd0e0f6f1803-adfd41bd4496ac0b-01
2022-04-21T16:16:43.894Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:43.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f08cf2c1ae5d2b12715d2b68cc8ab4d46e25f56-370c9cb4bec4ef62-01 outer:exit 2b-0f08cf2c1ae5d2b12715d2b68cc8ab4d46e25f56-f13bad8229c2854a-01
2022-04-21T16:16:43.902Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:43.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-da42b4a1720a80592522c0f17d8f268f09108d68-a02ef50af531c7b8-01 outer:exit 2b-da42b4a1720a80592522c0f17d8f268f09108d68-23bd9b5250c64497-01
2022-04-21T16:16:43.905Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:43.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bff3fd2a313655ba7bdcd9402edcfb0eea82c40-02c23557f6d6ea4c-01 outer:exit 2b-7bff3fd2a313655ba7bdcd9402edcfb0eea82c40-d4d04fd74bd7b4f8-01
2022-04-21T16:16:43.908Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:43.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-c71c2f0994baaca074243f42320cefaf3289469b-fc3676daf50713c5-01 outer:exit 2b-c71c2f0994baaca074243f42320cefaf3289469b-9f5e95983a41a2af-01
2022-04-21T16:16:43.911Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:43.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-0261c95a939c310b5d93f23424426a5ea36ea2e1-9f73f1df9b4582a7-01 outer:exit 2b-0261c95a939c310b5d93f23424426a5ea36ea2e1-ceea12fa3881e9f9-01
2022-04-21T16:16:43.937Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (300ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.14
updated 1 package and audited 935 packages in 3.737s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (3 moderate, 7 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:48.636Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:48.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:48.637Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:48.638Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:48.700Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:48.825Z appoptics:patching patched crypto 
2022-04-21T16:16:48.842Z appoptics:patching patched https 
2022-04-21T16:16:48.843Z appoptics:patching patched http 
2022-04-21T16:16:48.885Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:48.885Z appoptics:patching patched fs 
2022-04-21T16:16:48.898Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v12.22.12)
2022-04-21T16:16:48.903Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-21T16:16:48.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-78c31ac6739a8fad1958c16ece423430e0ef02c1-4e05a6f2a1dd56ec-01 outer:exit 2b-78c31ac6739a8fad1958c16ece423430e0ef02c1-c38d38c9963490cd-01
2022-04-21T16:16:48.953Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:48.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c208255ed9ed7e566806a868f3981c901e8ea44-d7b68a9ca75f9dd6-01 outer:exit 2b-3c208255ed9ed7e566806a868f3981c901e8ea44-da7fde722d7c7f38-01
2022-04-21T16:16:48.996Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:49.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8a06cc85eae9d016b875b68b9993dc90f2f94cd-630bc1eb58e5c9f0-01 outer:exit 2b-a8a06cc85eae9d016b875b68b9993dc90f2f94cd-3d4fb968ec8f5bb4-01
2022-04-21T16:16:49.001Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:49.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-421dc8eb5737b4bb41dabeb121547b1275b35f00-16bdeffe6340e48f-01 outer:exit 2b-421dc8eb5737b4bb41dabeb121547b1275b35f00-c09eab321c681961-01
2022-04-21T16:16:49.004Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:49.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbd629d087a55eaa6af041664c84364160b1fbd9-9eae93949a3621d3-01 outer:exit 2b-dbd629d087a55eaa6af041664c84364160b1fbd9-4c426fec85b1753b-01
2022-04-21T16:16:49.008Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:49.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-62cc90e0b1f647cae693a43d3e10277056eaec11-35d7141f2eaff6c4-01 outer:exit 2b-62cc90e0b1f647cae693a43d3e10277056eaec11-df093d7f474b98d7-01
2022-04-21T16:16:49.011Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:49.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-572528dd192262b523668617ad99cf6b59043891-c3617d581ef15b63-01 outer:exit 2b-572528dd192262b523668617ad99cf6b59043891-ebbea5e86c177539-01
2022-04-21T16:16:49.014Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:49.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-a244c0ca72f870e8f4c5b90e14767e126281e8c9-7ba919a3a153edcf-01 outer:exit 2b-a244c0ca72f870e8f4c5b90e14767e126281e8c9-df27a0512418fde3-01
2022-04-21T16:16:49.016Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:49.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-272c967b2661ff5feee7364291c63bb23de9dc68-1ab48ce63fc5a089-01 outer:exit 2b-272c967b2661ff5feee7364291c63bb23de9dc68-d267479111467af8-01
2022-04-21T16:16:49.019Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:49.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-d48b1761f89acdaea1aa096618febbd3bc49bdb7-8ea2abce9d86d3c4-01 outer:exit 2b-d48b1761f89acdaea1aa096618febbd3bc49bdb7-28d145533ac6cef9-01
2022-04-21T16:16:49.021Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:49.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-46c7d4b63b37539b85d08bd7ea9071c53c91d935-919aa827a5377f0c-01 outer:exit 2b-46c7d4b63b37539b85d08bd7ea9071c53c91d935-ecca81e2628862c7-01
2022-04-21T16:16:49.025Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:49.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-162556713fcbd9353ba7abda77abd3a47ed1fdec-fbb5359638df267b-01 outer:exit 2b-162556713fcbd9353ba7abda77abd3a47ed1fdec-6a8c361ae979fee1-01
2022-04-21T16:16:49.038Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:49.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-58a689be75205f76a617043866475b4007e3cef0-9dce102677764992-01 outer:exit 2b-58a689be75205f76a617043866475b4007e3cef0-437e8fd230289a9f-01
2022-04-21T16:16:49.054Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:49.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-03b1ea56768afaeeccc50a044447ce29e2e314a8-077bc12e8c40bfaa-01 outer:exit 2b-03b1ea56768afaeeccc50a044447ce29e2e314a8-0f376327538772e3-01
2022-04-21T16:16:49.095Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:49.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d49eac01db3a42b86a74255f2f1f1325f5682b-78d288f099ab7b81-01 outer:exit 2b-48d49eac01db3a42b86a74255f2f1f1325f5682b-8ba5ea8497f81de4-01
2022-04-21T16:16:49.102Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:49.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecde94ca15f87ddf2c48e670ec50b381465f1079-848e7b20f3c574ce-01 outer:exit 2b-ecde94ca15f87ddf2c48e670ec50b381465f1079-d2fd6bb5386f0069-01
2022-04-21T16:16:49.104Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:49.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ee60f4b5935341adcaa3233b9ad81bc0e62c2e0-dc92025550adb465-01 outer:exit 2b-7ee60f4b5935341adcaa3233b9ad81bc0e62c2e0-9178a07ca3ff84ff-01
2022-04-21T16:16:49.107Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:49.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-6711db035894d5b1598c39ed9e215a94b8c1a2a4-87ac899367284899-01 outer:exit 2b-6711db035894d5b1598c39ed9e215a94b8c1a2a4-95e25b789640b50b-01
2022-04-21T16:16:49.109Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:49.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-0edf2882834e508958b2ae2894c169e4fc68c7a7-7bb13d058756a30a-01 outer:exit 2b-0edf2882834e508958b2ae2894c169e4fc68c7a7-b5de51d2d47edfbb-01
2022-04-21T16:16:49.111Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:49.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-52793b9fac53a3f0b1a76cf9d5083c5344b1a44c-fb3e18473a27b982-01 outer:exit 2b-52793b9fac53a3f0b1a76cf9d5083c5344b1a44c-ac417574ca0824ea-01
2022-04-21T16:16:49.113Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:49.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-84a05b22b068986571d9bf1184828aed072cfa49-27027bd3268af9eb-01 outer:exit 2b-84a05b22b068986571d9bf1184828aed072cfa49-516adadf8a24312e-01
2022-04-21T16:16:49.115Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:49.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-09aeefff3d4f1f4c6fa50070c475a22ba0cbf725-329cfb23c2f7ba30-01 outer:exit 2b-09aeefff3d4f1f4c6fa50070c475a22ba0cbf725-7f8f3dcc26a3bd56-01
2022-04-21T16:16:49.117Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:49.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-59f103fe192d621900588ea9e3181bc7f72aa3f1-217635142e8fdffd-01 outer:exit 2b-59f103fe192d621900588ea9e3181bc7f72aa3f1-a13e9f38391e81d3-01
2022-04-21T16:16:49.120Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:49.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-10bd4346139143fb12b1c0e7e43e04ecd197e741-5ea9809bcce0aa66-01 outer:exit 2b-10bd4346139143fb12b1c0e7e43e04ecd197e741-46163ebdce46576d-01
2022-04-21T16:16:49.123Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:49.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f9eeb3812f60d58f756265057c3b8c5d92d243f-4951e9ee3a2a47cc-01 outer:exit 2b-1f9eeb3812f60d58f756265057c3b8c5d92d243f-c15101ae38a264f5-01
2022-04-21T16:16:49.125Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:49.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9316db7e4c95df19ae1dcbc3b99432ce25b9f48-38652a82e29fa492-01 outer:exit 2b-c9316db7e4c95df19ae1dcbc3b99432ce25b9f48-bc71ac2e47ab9335-01
2022-04-21T16:16:49.128Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:49.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-917db2aaf53a76328b68281195eb526a047ed139-c06064e2ada2f997-01 outer:exit 2b-917db2aaf53a76328b68281195eb526a047ed139-f1f62b027aabdf56-01
2022-04-21T16:16:49.135Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:49.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-359202fe1d43f40411a4e1c299f71f12033cbceb-31ad27f7cec6aea0-01 outer:exit 2b-359202fe1d43f40411a4e1c299f71f12033cbceb-0b6881377a212098-01
2022-04-21T16:16:49.146Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:49.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bad5d5e0d8835ac52ea95e492eaba2c07a981b8-15e8f69bf4b02c18-01 outer:exit 2b-6bad5d5e0d8835ac52ea95e492eaba2c07a981b8-41f429689c1d06bb-01
2022-04-21T16:16:49.154Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:49.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-12e390adee1a704cb89bf775e6c04fc47d051d22-2cd54c91cefc9bad-01 outer:exit 2b-12e390adee1a704cb89bf775e6c04fc47d051d22-263357231289cdb4-01
2022-04-21T16:16:49.160Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:49.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-b816f115c2d27b9b3f1c6948462ecd4f2f7df636-3e2792e6d58d088a-01 outer:exit 2b-b816f115c2d27b9b3f1c6948462ecd4f2f7df636-d4ca473c219b9b43-01
2022-04-21T16:16:49.162Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:49.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8027397213c26b69b6ba842005f3509399f9603-1e5b4ec3672317bb-01 outer:exit 2b-e8027397213c26b69b6ba842005f3509399f9603-b1b631de22c5816c-01
2022-04-21T16:16:49.165Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:49.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-55e12bcc4ca384123db92b7b1204afb3aec3c2a1-da3e04df5661380b-01 outer:exit 2b-55e12bcc4ca384123db92b7b1204afb3aec3c2a1-c672585b86701949-01
2022-04-21T16:16:49.172Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:49.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-802f8313379f74ee68ddc818f478d4f7b2d22426-0c13e079d299291f-01 outer:exit 2b-802f8313379f74ee68ddc818f478d4f7b2d22426-d58b73f340f1459d-01
2022-04-21T16:16:49.174Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:49.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-482cc1aab0c46ad5dbf8d82a637bf8a5148b8640-8250858a066de9d1-01 outer:exit 2b-482cc1aab0c46ad5dbf8d82a637bf8a5148b8640-e0c121dfe180d5dd-01
2022-04-21T16:16:49.176Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:49.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-274b336828e3e24f27cbffae64f46a6dc2faff62-ee8a5b294eafc68f-01 outer:exit 2b-274b336828e3e24f27cbffae64f46a6dc2faff62-119582ab9ab3d47f-01
2022-04-21T16:16:49.178Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:49.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bdb9d0d024e5dc00e9ff8ac6a929d943aade1fc-13051c6298ec552e-01 outer:exit 2b-1bdb9d0d024e5dc00e9ff8ac6a929d943aade1fc-1f40dd965b4c4587-01
2022-04-21T16:16:49.180Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:49.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-89f7e30233b6130219b32e82fecb002bb9b37767-129e6f188e6ea1c8-01 outer:exit 2b-89f7e30233b6130219b32e82fecb002bb9b37767-828382fc76c2cbeb-01
2022-04-21T16:16:49.182Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:49.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6c7b532dbafa4418353e44761979d65f5dc691c-db88ad87a88d3ff5-01 outer:exit 2b-a6c7b532dbafa4418353e44761979d65f5dc691c-9b1cf582e24e8d27-01
2022-04-21T16:16:49.191Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:49.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc77bc7c13c1d7213895056d0f89b53d1a1df2a3-abbf2aad60e5e963-01 outer:exit 2b-dc77bc7c13c1d7213895056d0f89b53d1a1df2a3-3dfa9877e85ec190-01
2022-04-21T16:16:49.200Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:49.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4f7e2f37a3834f774ff1bc1ca31dc73ca45de81-16487db87f3b58a7-01 outer:exit 2b-c4f7e2f37a3834f774ff1bc1ca31dc73ca45de81-a2475f8f87338bb4-01
2022-04-21T16:16:49.203Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:49.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-20d5f2f75adfdf491f3c516b7b6ff05e313c0c50-dd68de8389edd8c7-01 outer:exit 2b-20d5f2f75adfdf491f3c516b7b6ff05e313c0c50-1fc537a65c2313d8-01
2022-04-21T16:16:49.205Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:49.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-17e4b3ddca3b287d488b0d37b0b26a1a7ad548dd-676a9e61b0240b5e-01 outer:exit 2b-17e4b3ddca3b287d488b0d37b0b26a1a7ad548dd-b456b038c44ae8cd-01
2022-04-21T16:16:49.208Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:49.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3d0d31520f27d14b9a11d34d999c09529d5aec6-2939cef267dac475-01 outer:exit 2b-a3d0d31520f27d14b9a11d34d999c09529d5aec6-91a3117b1a2af84f-01
2022-04-21T16:16:49.240Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (332ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.0
updated 2 packages and audited 935 packages in 4.397s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:54.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:54.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:54.637Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:54.638Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:54.701Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:54.827Z appoptics:patching patched crypto 
2022-04-21T16:16:54.848Z appoptics:patching patched https 
2022-04-21T16:16:54.849Z appoptics:patching patched http 
2022-04-21T16:16:54.886Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:54.887Z appoptics:patching patched fs 
2022-04-21T16:16:54.910Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v12.22.12)
2022-04-21T16:16:54.915Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-21T16:16:54.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-514602e05642b2d67febdbe76a8750ec33665286-405123d2794b455f-01 outer:exit 2b-514602e05642b2d67febdbe76a8750ec33665286-4c74076aa1fd8ee7-01
2022-04-21T16:16:54.955Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:55.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-57ad92ea281deeaa813768e5d02a7f6b5dd06105-091a6bbc6a6180c5-01 outer:exit 2b-57ad92ea281deeaa813768e5d02a7f6b5dd06105-e8528e285977b51b-01
2022-04-21T16:16:55.002Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:55.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-0471e0e6070ed3cd3c23935835b13645bf47264d-ae00ca1cb1e150b4-01 outer:exit 2b-0471e0e6070ed3cd3c23935835b13645bf47264d-c86eb5e92285186a-01
2022-04-21T16:16:55.005Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:55.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-98708938cef1490ed96dec1f3d19ce3eee74106a-cee219f8eabe3482-01 outer:exit 2b-98708938cef1490ed96dec1f3d19ce3eee74106a-a5d49c4009260fd7-01
2022-04-21T16:16:55.008Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:55.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-5af5f0332e3e7ddf42d0663b188f1073b87ef062-0ed0fe5984a43ee8-01 outer:exit 2b-5af5f0332e3e7ddf42d0663b188f1073b87ef062-f7c9e857b89f4658-01
2022-04-21T16:16:55.013Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:55.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-823348e0f854d42bb88eea30a629717570c19a54-e641a5f33e1d03e8-01 outer:exit 2b-823348e0f854d42bb88eea30a629717570c19a54-3f53fbd15888c1e7-01
2022-04-21T16:16:55.019Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:55.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-51e32e288e896490fac9ad5783b98bb4b227bfe2-16017650bcb85172-01 outer:exit 2b-51e32e288e896490fac9ad5783b98bb4b227bfe2-c0fef3da9ee373c4-01
2022-04-21T16:16:55.021Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:55.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-12c0b5ca57e4efb97c5ddda49af06df7569c166e-25e01b5fbbc761c4-01 outer:exit 2b-12c0b5ca57e4efb97c5ddda49af06df7569c166e-a10628936888f35a-01
2022-04-21T16:16:55.024Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:55.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-2286dadf7867fffb1f0bb696fa9564de6eb0c7bb-28fdf79c9750a743-01 outer:exit 2b-2286dadf7867fffb1f0bb696fa9564de6eb0c7bb-717046e704cf09b2-01
2022-04-21T16:16:55.026Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:55.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-d16c64eb92145fa7f9d4ebd4de9b14b28c93eede-4066a0f078e355f2-01 outer:exit 2b-d16c64eb92145fa7f9d4ebd4de9b14b28c93eede-9f0526ae798a8c64-01
2022-04-21T16:16:55.029Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:55.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-630864afaa1a848f103b38c0f7131c54847632fe-5a22588d674a76a5-01 outer:exit 2b-630864afaa1a848f103b38c0f7131c54847632fe-e7645968d0bf50c7-01
2022-04-21T16:16:55.032Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:55.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-f50c2250e093b243453aaf32b66d178f9da1e20f-d389fe0eb63bbea0-01 outer:exit 2b-f50c2250e093b243453aaf32b66d178f9da1e20f-384a3a6fc0493df8-01
2022-04-21T16:16:55.038Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:55.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc821653e1798a4ba8b3df98a222615b4e9bdaf9-436caa3a837edd2a-01 outer:exit 2b-dc821653e1798a4ba8b3df98a222615b4e9bdaf9-615e2b540ff45fe4-01
2022-04-21T16:16:55.053Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:55.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b64195aa71c2cb8aced6dc2f95b3b5ed25e1896-f36f941aab973a98-01 outer:exit 2b-5b64195aa71c2cb8aced6dc2f95b3b5ed25e1896-03549b14e298e666-01
2022-04-21T16:16:55.100Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:55.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9a48fb630cf30ab5360660aec8ed6a7a87670ea-45235eac21cb89c0-01 outer:exit 2b-a9a48fb630cf30ab5360660aec8ed6a7a87670ea-c5c2da40cc9e1416-01
2022-04-21T16:16:55.103Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:55.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-a49f2adba9deabff64e6e070452e5e62ac4c4a2d-cff44e06abf48412-01 outer:exit 2b-a49f2adba9deabff64e6e070452e5e62ac4c4a2d-375f38e87dcdeb6e-01
2022-04-21T16:16:55.106Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:55.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaeb54e0204dd55f2ecc36ae60c4d0e3bb11d525-f5d403437b94f116-01 outer:exit 2b-aaeb54e0204dd55f2ecc36ae60c4d0e3bb11d525-3e67251f9d38fed0-01
2022-04-21T16:16:55.109Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:55.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-35e69e37d359bd66e8478fb4a05627b9d43e0d9a-f2197bde7b09b9cf-01 outer:exit 2b-35e69e37d359bd66e8478fb4a05627b9d43e0d9a-5513808ab39a61c1-01
2022-04-21T16:16:55.111Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:55.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a875eeaad7a5503c3a89c5c909767489fcfe8bf-fe644cd2844ae5b1-01 outer:exit 2b-2a875eeaad7a5503c3a89c5c909767489fcfe8bf-02ae9e5a6e65bee4-01
2022-04-21T16:16:55.113Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:55.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-dee5f3fef843e44daa4d1ae213d646a570f7ee78-d1ad37ddfd861a9a-01 outer:exit 2b-dee5f3fef843e44daa4d1ae213d646a570f7ee78-d1edcaefa266cf53-01
2022-04-21T16:16:55.115Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:55.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-f591119e30e4ad9bda8c9267ff907680ace9812f-c7ce861558f0a010-01 outer:exit 2b-f591119e30e4ad9bda8c9267ff907680ace9812f-d4df3fdfd767bd87-01
2022-04-21T16:16:55.117Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:55.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b2054fad6e69723751828bee5fa70efd03cadc6-dd16de014abad880-01 outer:exit 2b-0b2054fad6e69723751828bee5fa70efd03cadc6-822a9a633d16643c-01
2022-04-21T16:16:55.120Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:55.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-ade976a1756b075fcb554dcc56f895a8e0832640-e0cacca66357b502-01 outer:exit 2b-ade976a1756b075fcb554dcc56f895a8e0832640-7ba8c66737a56e01-01
2022-04-21T16:16:55.123Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:55.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5a354dcc34fc326faf01ba3a891664a6fee88cd-b8e349cc4f5abe9c-01 outer:exit 2b-f5a354dcc34fc326faf01ba3a891664a6fee88cd-343da60bcb89ebd6-01
2022-04-21T16:16:55.126Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:55.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-097f8e63b0ab9488485eda885591b5a88ff80ebe-cdc20bc3ff5e718c-01 outer:exit 2b-097f8e63b0ab9488485eda885591b5a88ff80ebe-16a4cb58b1de3685-01
2022-04-21T16:16:55.128Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:55.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7f76721b518c73041ac47336181b2714f46d38a-a242992ad4908215-01 outer:exit 2b-b7f76721b518c73041ac47336181b2714f46d38a-253177728c709776-01
2022-04-21T16:16:55.130Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:55.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-24a9c191ab2fdbcc1909ea366d46f0d91700cffd-bae056377caf6ba4-01 outer:exit 2b-24a9c191ab2fdbcc1909ea366d46f0d91700cffd-231326ddc265b735-01
2022-04-21T16:16:55.138Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:55.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-183f0264536ee2b8dee434629b6f32de743d8c7e-4ccb723bb4c81928-01 outer:exit 2b-183f0264536ee2b8dee434629b6f32de743d8c7e-0de9de915d0fdf01-01
2022-04-21T16:16:55.144Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:55.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91ba28ec4ad08f3e89a91149bc184832552e700-03400e5cbd3a5a21-01 outer:exit 2b-b91ba28ec4ad08f3e89a91149bc184832552e700-b1184a67fa4b643f-01
2022-04-21T16:16:55.153Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:55.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-681a86ac5dd03217f7185e76985bcdd0dbde4249-852df9eddb70aca9-01 outer:exit 2b-681a86ac5dd03217f7185e76985bcdd0dbde4249-cb52c012fa965acb-01
2022-04-21T16:16:55.159Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:55.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-cedc9289f7869dbdc84d98c8b112a2e6b9cf213b-4c4a1a55b122c16c-01 outer:exit 2b-cedc9289f7869dbdc84d98c8b112a2e6b9cf213b-3f776c284a1f44d8-01
2022-04-21T16:16:55.161Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:55.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a306d36900092926cd69a9a39e91b82eb863d5d-6778127cbafeddf5-01 outer:exit 2b-5a306d36900092926cd69a9a39e91b82eb863d5d-676cebe4e8c1ea53-01
2022-04-21T16:16:55.164Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:55.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-063b687c72a5ad652efd084a99541cf26a261daa-bf861a3c6e257cfe-01 outer:exit 2b-063b687c72a5ad652efd084a99541cf26a261daa-df5c5d1b4bf610c7-01
2022-04-21T16:16:55.171Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:55.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8885a5330481c93d7ddd3832bb6415756af09df-49cbfa3c135b2a1a-01 outer:exit 2b-d8885a5330481c93d7ddd3832bb6415756af09df-f9a4d38eb7156af9-01
2022-04-21T16:16:55.173Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:55.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-2191afbb4bf852320a1ae8547a23ba1b23ec49f3-fb7d2aa9f6ac183b-01 outer:exit 2b-2191afbb4bf852320a1ae8547a23ba1b23ec49f3-82044b77b34b6c8c-01
2022-04-21T16:16:55.175Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:55.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-28c07c4f42a8db1c14abc3c9febb55d6bb49aecf-8c6ae2b4a5cc41c1-01 outer:exit 2b-28c07c4f42a8db1c14abc3c9febb55d6bb49aecf-ef9809a51fa0cacd-01
2022-04-21T16:16:55.177Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:55.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7daab60578aef9b2c3c01784dc857fab1cf21af-3783528178be19ef-01 outer:exit 2b-f7daab60578aef9b2c3c01784dc857fab1cf21af-e1b14beaf1ab6cce-01
2022-04-21T16:16:55.179Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:55.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-e580f41e7b872b23ff8daff577fdda1a34818ad9-93866b5c797052dc-01 outer:exit 2b-e580f41e7b872b23ff8daff577fdda1a34818ad9-ba2cfcfeb9029aa7-01
2022-04-21T16:16:55.181Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:55.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dd7e6b5a47a73b2cc96a2d6f53a279ef52728cc-b5c8717b5cc342c3-01 outer:exit 2b-4dd7e6b5a47a73b2cc96a2d6f53a279ef52728cc-1d4ba989e7386636-01
2022-04-21T16:16:55.190Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:55.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecccd880256c04ce345ddbab2400ede54d6bc6c3-91cc8059cfed6dd7-01 outer:exit 2b-ecccd880256c04ce345ddbab2400ede54d6bc6c3-77abb80bf4a0281c-01
2022-04-21T16:16:55.198Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:55.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-7967ae6b13436afdee845cc56106e7dae3d815a2-28267c3a754b9f43-01 outer:exit 2b-7967ae6b13436afdee845cc56106e7dae3d815a2-18233c69f8140f8b-01
2022-04-21T16:16:55.201Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:55.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-639f5502c89598505873b032c16c0a8152e60f60-6a25e02d87e5b54d-01 outer:exit 2b-639f5502c89598505873b032c16c0a8152e60f60-47620b59e6b12056-01
2022-04-21T16:16:55.204Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:55.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-444a8d8e879bd2216ee43b5fdebcd172c298e6fd-12107e3f452ffb23-01 outer:exit 2b-444a8d8e879bd2216ee43b5fdebcd172c298e6fd-c5cd8f9ddc2def2c-01
2022-04-21T16:16:55.207Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:55.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-d807f3cf74cbd66bd31e54deeebbe355b9768c0b-0fa1c80f529e7237-01 outer:exit 2b-d807f3cf74cbd66bd31e54deeebbe355b9768c0b-b7a5025c1bb98dbb-01
2022-04-21T16:16:55.234Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (313ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.1
updated 1 package and audited 935 packages in 3.842s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:16:59.949Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:59.950Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:59.950Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:59.950Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:00.016Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:00.165Z appoptics:patching patched crypto 
2022-04-21T16:17:00.197Z appoptics:patching patched https 
2022-04-21T16:17:00.198Z appoptics:patching patched http 
2022-04-21T16:17:00.249Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:00.249Z appoptics:patching patched fs 
2022-04-21T16:17:00.274Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v12.22.12)
2022-04-21T16:17:00.279Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-21T16:17:00.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-26b4081476d811f93f6369d9073c5a00c15265a4-f696febc9efae4c9-01 outer:exit 2b-26b4081476d811f93f6369d9073c5a00c15265a4-001cda4e114341d1-01
2022-04-21T16:17:00.323Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:00.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-a452b94d20e0c1d2471daa8d051075a5feeb1aef-54592f11d0605efc-01 outer:exit 2b-a452b94d20e0c1d2471daa8d051075a5feeb1aef-5b1a09be42fe085e-01
2022-04-21T16:17:00.368Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:00.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-60c41890cb66b81c94f0eb444a46083fe2729dd1-9a3ca8ddeff8c893-01 outer:exit 2b-60c41890cb66b81c94f0eb444a46083fe2729dd1-c2d83cd3cb081295-01
2022-04-21T16:17:00.371Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:00.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e765746d2d36691af4f56d8f97b87c352b8198f-ade394415dde8720-01 outer:exit 2b-0e765746d2d36691af4f56d8f97b87c352b8198f-0d435e7b4d42e307-01
2022-04-21T16:17:00.380Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:00.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fde768e31f3a063ba72aaff6b7d781a61e50c31-815c3a07ea14d9f1-01 outer:exit 2b-5fde768e31f3a063ba72aaff6b7d781a61e50c31-241cef5c7d1d4d4f-01
2022-04-21T16:17:00.385Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:00.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7a44c07aa22880806acd3e3aec9773334ea7959-c0d7e1effbfab216-01 outer:exit 2b-f7a44c07aa22880806acd3e3aec9773334ea7959-727ae525bef3ca59-01
2022-04-21T16:17:00.388Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:00.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee706ccafe7a788ffce545b06e0b341ff1d7dc2f-90ee3ba56ae95cd7-01 outer:exit 2b-ee706ccafe7a788ffce545b06e0b341ff1d7dc2f-9f338030464c8b1d-01
2022-04-21T16:17:00.391Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:00.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-5490ef29ce34141dff9767ea8d432f389ed6e18d-2c0e81d7090e0845-01 outer:exit 2b-5490ef29ce34141dff9767ea8d432f389ed6e18d-b282ba019cc33710-01
2022-04-21T16:17:00.393Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:00.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-d43ea5022754f31e81e2ae728920a75bf7faa398-cfb4eb85c789cee2-01 outer:exit 2b-d43ea5022754f31e81e2ae728920a75bf7faa398-368eace13039cf3b-01
2022-04-21T16:17:00.395Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:00.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d42f8c5019e9ebbc397371402c36f00a1910334-6acf2048008bd78d-01 outer:exit 2b-2d42f8c5019e9ebbc397371402c36f00a1910334-38c011af49aa4741-01
2022-04-21T16:17:00.398Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:00.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-97c0f743c332abab270edd81ed94366d9a25a0c0-58eb615808f2347d-01 outer:exit 2b-97c0f743c332abab270edd81ed94366d9a25a0c0-94cf1125ba00327d-01
2022-04-21T16:17:00.402Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:00.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14a3d594a83980a051af7f68fb6ecc16464b398-f14b3d9616c5c51b-01 outer:exit 2b-f14a3d594a83980a051af7f68fb6ecc16464b398-c89b592fd66c5792-01
2022-04-21T16:17:00.408Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:00.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-04489995df15b0175a1915e9e7ff0d09ac535394-f68b998304b11c51-01 outer:exit 2b-04489995df15b0175a1915e9e7ff0d09ac535394-051109eddc5d9468-01
2022-04-21T16:17:00.425Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:00.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-1064e4bc2e8535c51ea135d94e7ec8cc9f4f3eeb-dac7cc927dfede4d-01 outer:exit 2b-1064e4bc2e8535c51ea135d94e7ec8cc9f4f3eeb-04012e22a3ab04b9-01
2022-04-21T16:17:00.466Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:00.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-036e81ad08e62a6cb545dcf0be4fb3c18a881cea-57798e87f54b6a22-01 outer:exit 2b-036e81ad08e62a6cb545dcf0be4fb3c18a881cea-5b02daa25c72a812-01
2022-04-21T16:17:00.469Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:00.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-fda0952de60a3f924fcf44f26f888652e5422718-043ad88b74984d93-01 outer:exit 2b-fda0952de60a3f924fcf44f26f888652e5422718-fad70ba5774f43c9-01
2022-04-21T16:17:00.472Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:00.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3a37abdc57210058a0c341912a638a8e0b251d8-aa02637d3b73de4c-01 outer:exit 2b-d3a37abdc57210058a0c341912a638a8e0b251d8-cb6ef3711f8e793b-01
2022-04-21T16:17:00.475Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:00.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-04bf62ddbe425d5946860b98c04bf7eb7180a372-ac2cffed838827aa-01 outer:exit 2b-04bf62ddbe425d5946860b98c04bf7eb7180a372-e84618ccb6fc95e4-01
2022-04-21T16:17:00.478Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:00.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-84188ea5fe9f3b458b61205d2d88359b59d44bd0-e037594c9ad250b6-01 outer:exit 2b-84188ea5fe9f3b458b61205d2d88359b59d44bd0-dadad6b9468cf6d2-01
2022-04-21T16:17:00.481Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:00.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-118384b1a5f2a547c5843d4a5880b56fc9d050a4-8eeefa83e275eb6d-01 outer:exit 2b-118384b1a5f2a547c5843d4a5880b56fc9d050a4-ee20a6ed99d5c09b-01
2022-04-21T16:17:00.485Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:00.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bfebb98b6937fd9215bc84d61a3e1b310cce68e-82417098c67eca7a-01 outer:exit 2b-8bfebb98b6937fd9215bc84d61a3e1b310cce68e-af15d2468bd0b5fa-01
2022-04-21T16:17:00.488Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:00.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6a9a61884dcdb6dc9bd7502c0fa173568780084-5eed481c6ddb5d20-01 outer:exit 2b-f6a9a61884dcdb6dc9bd7502c0fa173568780084-1a417274c8f74a5e-01
2022-04-21T16:17:00.490Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:00.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b090d5c10e3dc3239bb8f28113579bf9c3876be-8362c3dc5d55724f-01 outer:exit 2b-4b090d5c10e3dc3239bb8f28113579bf9c3876be-659be85b721b0918-01
2022-04-21T16:17:00.493Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:00.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b25fe07d445192fb2ae5d7931bf9ad3cf48538a-86279028577e5525-01 outer:exit 2b-2b25fe07d445192fb2ae5d7931bf9ad3cf48538a-5fd6847fcb9f99a8-01
2022-04-21T16:17:00.495Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:00.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2784740fa3b6ff20b7c394a341ceb4d8630d376-fe795e53f9c22f06-01 outer:exit 2b-e2784740fa3b6ff20b7c394a341ceb4d8630d376-74dce2feec0c6656-01
2022-04-21T16:17:00.498Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:00.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-86cb20c5de2fedcb1461dfc119062e1c5a342a18-2b5799b740c73bec-01 outer:exit 2b-86cb20c5de2fedcb1461dfc119062e1c5a342a18-7c9732e45ce4e0ff-01
2022-04-21T16:17:00.500Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:00.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc6454505a594bf9bced9efd99f223cc643da93-3802c7736cd1f64e-01 outer:exit 2b-5bc6454505a594bf9bced9efd99f223cc643da93-7907946750d6af18-01
2022-04-21T16:17:00.509Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:00.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa3d9782d5fbb14c8c3cc3c9402f9591304703aa-f4c84d2b172329a6-01 outer:exit 2b-aa3d9782d5fbb14c8c3cc3c9402f9591304703aa-18d279d0d6c00ac5-01
2022-04-21T16:17:00.513Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:00.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d363ae6550e48e0b73849a0bf18ee5eadf03b35-7df90cb0b53ca79d-01 outer:exit 2b-8d363ae6550e48e0b73849a0bf18ee5eadf03b35-b744856e568b57b0-01
2022-04-21T16:17:00.522Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:00.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7ebd1d641e0d69c63ae037a9e4aa4827e6917b4-699f7c9db6b5a212-01 outer:exit 2b-d7ebd1d641e0d69c63ae037a9e4aa4827e6917b4-5bdda3aba96f112f-01
2022-04-21T16:17:00.529Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:00.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-659196d044c5fec69c1ee881033ef24f2e824bad-ec33c8bf51595546-01 outer:exit 2b-659196d044c5fec69c1ee881033ef24f2e824bad-3356424e6231cf32-01
2022-04-21T16:17:00.533Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:00.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfce70b090555331bf2dc5a7d868af2c390c0c77-40f933c51de5c932-01 outer:exit 2b-bfce70b090555331bf2dc5a7d868af2c390c0c77-79dab8b5f1af9a46-01
2022-04-21T16:17:00.537Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:00.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-13a037376ac3504268e5752c30ec645a871eb2e6-c3958830fa351e41-01 outer:exit 2b-13a037376ac3504268e5752c30ec645a871eb2e6-269594769f21f64d-01
2022-04-21T16:17:00.545Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:00.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ea65e75f8fc5e35bcd6b1d4786b05368e4d301e-2c53d47db47cf988-01 outer:exit 2b-5ea65e75f8fc5e35bcd6b1d4786b05368e4d301e-ce1b41402f880b0c-01
2022-04-21T16:17:00.548Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:00.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c79eacc8660647f6c6cb47354bea52a7696996b-de7d2c59c856fae5-01 outer:exit 2b-8c79eacc8660647f6c6cb47354bea52a7696996b-b5fce06c137fe676-01
2022-04-21T16:17:00.551Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:00.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aa81fc150cf0f2c7e1247626cc951240be6f1e9-4c407e981de6780a-01 outer:exit 2b-2aa81fc150cf0f2c7e1247626cc951240be6f1e9-769c3907c4ff71da-01
2022-04-21T16:17:00.555Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:00.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9e6f53a3dc65825397238c543bc24d8cefeb657-b818e6896eef3c42-01 outer:exit 2b-d9e6f53a3dc65825397238c543bc24d8cefeb657-584ff6af87b7b198-01
2022-04-21T16:17:00.558Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:00.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9b2948529a3ceab052b2ba16e39d9b647bdbcbc-b5d083846b82efcf-01 outer:exit 2b-f9b2948529a3ceab052b2ba16e39d9b647bdbcbc-d04855a1412aa239-01
2022-04-21T16:17:00.562Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:00.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bd2b77e090797d983711fcd491f60efed7d83be-df24f4a22408dfdd-01 outer:exit 2b-7bd2b77e090797d983711fcd491f60efed7d83be-582f796f33e60b05-01
2022-04-21T16:17:00.573Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:00.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb99ecc0f45f4ea6fcb6e6c95514a2757f99fee2-739f078a1e87f39d-01 outer:exit 2b-bb99ecc0f45f4ea6fcb6e6c95514a2757f99fee2-f1b075fa491a9abc-01
2022-04-21T16:17:00.582Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:00.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4de0e972d341f8f16f1074da2126e666e2c7094-6eda8863609feee1-01 outer:exit 2b-c4de0e972d341f8f16f1074da2126e666e2c7094-f6f491a7337f82eb-01
2022-04-21T16:17:00.584Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:00.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-6543a4dcd6a2e87af376f21b7cfe69e304e329d6-9c64b318e1b4e40e-01 outer:exit 2b-6543a4dcd6a2e87af376f21b7cfe69e304e329d6-f96bff56ac4cf170-01
2022-04-21T16:17:00.587Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:00.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-321f8d2611e0409999246c2ea023beffd55013fa-1d0683efd97e934a-01 outer:exit 2b-321f8d2611e0409999246c2ea023beffd55013fa-72ad5e8246a367e9-01
2022-04-21T16:17:00.590Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:00.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-7be4fe8a78b8a7fffd4c4c8e074faf5fc93a61db-bdce257ef2f62522-01 outer:exit 2b-7be4fe8a78b8a7fffd4c4c8e074faf5fc93a61db-e1c2da5806eef7d8-01
2022-04-21T16:17:00.621Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (335ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.2
updated 1 package and audited 935 packages in 4.079s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:05.784Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:05.785Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:05.785Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:05.793Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:05.882Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:06.073Z appoptics:patching patched crypto 
2022-04-21T16:17:06.093Z appoptics:patching patched https 
2022-04-21T16:17:06.093Z appoptics:patching patched http 
2022-04-21T16:17:06.135Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:06.136Z appoptics:patching patched fs 
2022-04-21T16:17:06.159Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v12.22.12)
2022-04-21T16:17:06.163Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-21T16:17:06.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-26d081c03ead83d3fed442bc6ab5ca225e575ebd-35fb4c11912af87c-01 outer:exit 2b-26d081c03ead83d3fed442bc6ab5ca225e575ebd-02b10e85721be76e-01
2022-04-21T16:17:06.204Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:06.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-4953fe46846d41ce92165fe81a1437ff4c40be0b-1d682d0f2326898d-01 outer:exit 2b-4953fe46846d41ce92165fe81a1437ff4c40be0b-9ada9a8e4fea9f11-01
2022-04-21T16:17:06.249Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:06.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-a31f8d4d736e842b4eeab5f2ce70d5b7ba039aa5-bde763268d29fc61-01 outer:exit 2b-a31f8d4d736e842b4eeab5f2ce70d5b7ba039aa5-aa5ab1189d21d79a-01
2022-04-21T16:17:06.252Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:06.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-c306adad173ba44e55666e3c4f9ded911fa9992d-44b393f2b1ba2038-01 outer:exit 2b-c306adad173ba44e55666e3c4f9ded911fa9992d-b89f00d42c35e04d-01
2022-04-21T16:17:06.259Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:06.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-a95f2b4e643c4b451e6823a762132fc3cd64bb41-596b6ccb14129288-01 outer:exit 2b-a95f2b4e643c4b451e6823a762132fc3cd64bb41-f1a68fac0b62b167-01
2022-04-21T16:17:06.263Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:06.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1875fa32871fe1cef7c197af7d7ae168c62b250-398340c53f6ce060-01 outer:exit 2b-d1875fa32871fe1cef7c197af7d7ae168c62b250-f039341917a2fe56-01
2022-04-21T16:17:06.267Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:06.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-106ec0dd7abceda4a040cbb6c78648df46eec233-bb816097f2d25e6f-01 outer:exit 2b-106ec0dd7abceda4a040cbb6c78648df46eec233-e2c9098c633a5a1f-01
2022-04-21T16:17:06.269Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:06.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdab549e0812207700ed93d6e6523104db0ffb9c-f951efd105f3e3df-01 outer:exit 2b-cdab549e0812207700ed93d6e6523104db0ffb9c-682e18ae1094a976-01
2022-04-21T16:17:06.272Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:06.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-915a12f695bd2b1b511b2e74790b28ba5cabda2b-57b3dcea4daaf5ce-01 outer:exit 2b-915a12f695bd2b1b511b2e74790b28ba5cabda2b-56a87e20bc0756d0-01
2022-04-21T16:17:06.274Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:06.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-44356f3a616ff6a4edd5297e8ea35f8a684024fb-63f8e26e4c690f4e-01 outer:exit 2b-44356f3a616ff6a4edd5297e8ea35f8a684024fb-c36b3e30d61f98c3-01
2022-04-21T16:17:06.277Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:06.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c7f84c462e0b873f020c39daf0420b5fa7adbb4-191a44feb92e2abb-01 outer:exit 2b-1c7f84c462e0b873f020c39daf0420b5fa7adbb4-dd212c75196b0c80-01
2022-04-21T16:17:06.280Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:06.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-491be6e34f8cdd570f7d7a38ef9f8603bb8712af-289163379ba2d28e-01 outer:exit 2b-491be6e34f8cdd570f7d7a38ef9f8603bb8712af-d107d6534b5112e9-01
2022-04-21T16:17:06.287Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:06.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d906d456fcd2b95974ddf0d87cc9dd8ab465f9-15ef8b5464c2813e-01 outer:exit 2b-48d906d456fcd2b95974ddf0d87cc9dd8ab465f9-bc0d6597f1df5584-01
2022-04-21T16:17:06.303Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:06.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fb15d63d939c9b3b613654d713b0f3f749f55ab-0d9b263e7e559cfe-01 outer:exit 2b-5fb15d63d939c9b3b613654d713b0f3f749f55ab-fdbda34a29fefcd9-01
2022-04-21T16:17:06.345Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:06.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-2db18e3423cd3bbfca3a6c5eaa0ea2a8e3def5bc-1478f5a4bfe32615-01 outer:exit 2b-2db18e3423cd3bbfca3a6c5eaa0ea2a8e3def5bc-46bb5f50752da3eb-01
2022-04-21T16:17:06.349Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:06.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-cab9dcc2c385b0cf1c09abce70dca13e69d52dad-db2444040450f050-01 outer:exit 2b-cab9dcc2c385b0cf1c09abce70dca13e69d52dad-e4237ba3b5fac815-01
2022-04-21T16:17:06.351Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:06.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-62993094abb0f656cb55fb61ab0e98dd59416538-e12dce14fc05a148-01 outer:exit 2b-62993094abb0f656cb55fb61ab0e98dd59416538-a19ebbf4b370d7bf-01
2022-04-21T16:17:06.354Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:06.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-477501c41e6bb99d94b19c9cc50b28936a4ae4ac-cccd151fc88ad9b1-01 outer:exit 2b-477501c41e6bb99d94b19c9cc50b28936a4ae4ac-83c73d780694af30-01
2022-04-21T16:17:06.356Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:06.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-b41c762b8c60361582f33c8e90f92cd52751d377-f2eaf3c4740d2dcc-01 outer:exit 2b-b41c762b8c60361582f33c8e90f92cd52751d377-b9a4342e79664b6c-01
2022-04-21T16:17:06.359Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:06.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-58d907b5ce0405df29b1bcee916d46c93b9997e4-f1862dc44097b5c2-01 outer:exit 2b-58d907b5ce0405df29b1bcee916d46c93b9997e4-941551236e083d9c-01
2022-04-21T16:17:06.361Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:06.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-dabcfd47d712ca73f5f2e7a444a038a2724691d4-077b941c233f0fe1-01 outer:exit 2b-dabcfd47d712ca73f5f2e7a444a038a2724691d4-a57d8981c0eee7df-01
2022-04-21T16:17:06.363Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:06.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-438ab81407cdcf7219e701822402d810260681a4-dd597ccf9dd1b7ea-01 outer:exit 2b-438ab81407cdcf7219e701822402d810260681a4-aae63c2e7fde049b-01
2022-04-21T16:17:06.365Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:06.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-9960152e315406a0982dac7f10378c5da2d8b78d-715bff9d4a60f43a-01 outer:exit 2b-9960152e315406a0982dac7f10378c5da2d8b78d-d954f7a6b001288d-01
2022-04-21T16:17:06.368Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:06.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-593ba3923c171b0bf345a0bd6dbe416917e16ced-8d0a95061d668de2-01 outer:exit 2b-593ba3923c171b0bf345a0bd6dbe416917e16ced-edb7072d725b8ab7-01
2022-04-21T16:17:06.372Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:06.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b07629af57991725e3e47a7e25ebbe488db22ef-0db486743ac3309b-01 outer:exit 2b-9b07629af57991725e3e47a7e25ebbe488db22ef-15beed265fd8dc1c-01
2022-04-21T16:17:06.374Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:06.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-8167c4d74d8ad6c7f8d7400ed1b63be61001b5a7-f5b42c775951e9a2-01 outer:exit 2b-8167c4d74d8ad6c7f8d7400ed1b63be61001b5a7-3e70920662c4795a-01
2022-04-21T16:17:06.377Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:06.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ee670b84280294ed35d7c49f1658be8cac2200-3310f4b053505b97-01 outer:exit 2b-b0ee670b84280294ed35d7c49f1658be8cac2200-502b1c2edc4daa86-01
2022-04-21T16:17:06.384Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:06.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc35b9bfac53e82e87583d2b43b2cb5949b47627-dae89f29de4ed5a5-01 outer:exit 2b-dc35b9bfac53e82e87583d2b43b2cb5949b47627-a5112158d74cbc4b-01
2022-04-21T16:17:06.389Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:06.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-7875f351780676f59d4bad4533acb1ffecc52a0b-4061ca91785c599f-01 outer:exit 2b-7875f351780676f59d4bad4533acb1ffecc52a0b-622b939e7d84e145-01
2022-04-21T16:17:06.398Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:06.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-c71ab404fee1464d10152cca1698fbb6df47354e-26a3bac3bb050a41-01 outer:exit 2b-c71ab404fee1464d10152cca1698fbb6df47354e-fbe7a7b79695954d-01
2022-04-21T16:17:06.406Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:06.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-2acf52f12c08f2c44518c4bc69a1a867025c71b5-f992818374f877af-01 outer:exit 2b-2acf52f12c08f2c44518c4bc69a1a867025c71b5-469dc7dc0f994e54-01
2022-04-21T16:17:06.408Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:06.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6a52956b917f13b98c089184c7df64fca8da27f-3356c987cc4578d8-01 outer:exit 2b-f6a52956b917f13b98c089184c7df64fca8da27f-d9203f2200a80a4a-01
2022-04-21T16:17:06.412Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:06.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-b99ccb9c12c23b7f5f606321668f7a3d0a73ff7b-f63fde8f61396c81-01 outer:exit 2b-b99ccb9c12c23b7f5f606321668f7a3d0a73ff7b-86cc6b79f6f7995a-01
2022-04-21T16:17:06.417Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:06.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-69d8c2dea4752c5568618329c8ee3f07040aaf3a-c9db7e579878574a-01 outer:exit 2b-69d8c2dea4752c5568618329c8ee3f07040aaf3a-9c4949ccbe4d6188-01
2022-04-21T16:17:06.420Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:06.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-3869bba11e764cac6e155f89bd75b047053314d5-5d5c01e982792aec-01 outer:exit 2b-3869bba11e764cac6e155f89bd75b047053314d5-176afbb95b65e957-01
2022-04-21T16:17:06.422Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:06.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-59a6d5ee879ba54482056b2bdb131a8470fcc8a3-5a126a143fd44a0b-01 outer:exit 2b-59a6d5ee879ba54482056b2bdb131a8470fcc8a3-1a29066b1ecd855b-01
2022-04-21T16:17:06.424Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:06.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-a33a29b4ead71110339a3e3aacae386d14b18e7e-1b7c777383fd680f-01 outer:exit 2b-a33a29b4ead71110339a3e3aacae386d14b18e7e-ec26f35e639564e3-01
2022-04-21T16:17:06.426Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:06.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-708659fe68f6c71ba18d3ce5f4bb76d8bbb137b6-104ddba06491c43b-01 outer:exit 2b-708659fe68f6c71ba18d3ce5f4bb76d8bbb137b6-2fcbf99f3b4d18b8-01
2022-04-21T16:17:06.428Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:06.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5fc1c74e9ccc3cc95407c0b1359a9673d82d5a4-9b5b01d3f967cced-01 outer:exit 2b-b5fc1c74e9ccc3cc95407c0b1359a9673d82d5a4-619ecc34fc5f4b9b-01
2022-04-21T16:17:06.437Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:06.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-30ade82f91acb34a91e93d4590a8249117698df3-74a483844898dc1d-01 outer:exit 2b-30ade82f91acb34a91e93d4590a8249117698df3-a94d582094db2b1a-01
2022-04-21T16:17:06.446Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:06.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1fa0deabb5db36dc67f9d9e1b46e37d049d0a3b-0e96605d774e2f1c-01 outer:exit 2b-b1fa0deabb5db36dc67f9d9e1b46e37d049d0a3b-0206ee91b5894197-01
2022-04-21T16:17:06.449Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:06.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-315372b957afa2652e8cfa25088f11d036efeb22-54da44c81eb0badb-01 outer:exit 2b-315372b957afa2652e8cfa25088f11d036efeb22-d61626a5375ffcea-01
2022-04-21T16:17:06.452Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:06.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-49ec2768e79515090efa9d22d33bd2cdf342c2fc-f4397f171a1fd772-01 outer:exit 2b-49ec2768e79515090efa9d22d33bd2cdf342c2fc-b6be6381d113b1e4-01
2022-04-21T16:17:06.454Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:06.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-208552b4fe8d7e83cc7c68d3c00b614815884ab8-4fee711964ac460b-01 outer:exit 2b-208552b4fe8d7e83cc7c68d3c00b614815884ab8-57bf33eea52ae14f-01
2022-04-21T16:17:06.481Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (312ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.3
updated 1 package and audited 935 packages in 3.775s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:11.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:11.201Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:11.201Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:11.202Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:11.268Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:11.462Z appoptics:patching patched crypto 
2022-04-21T16:17:11.484Z appoptics:patching patched https 
2022-04-21T16:17:11.484Z appoptics:patching patched http 
2022-04-21T16:17:11.540Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:11.540Z appoptics:patching patched fs 
2022-04-21T16:17:11.562Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v12.22.12)
2022-04-21T16:17:11.567Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-21T16:17:11.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-528724b2d940d30bfb84793c0a00240e82ed63db-5919308fcd63bc35-01 outer:exit 2b-528724b2d940d30bfb84793c0a00240e82ed63db-3ca9a2940bdb6893-01
2022-04-21T16:17:11.606Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:11.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-6adff8e967f0ed74b12a6be6911ba8e9c115e836-c720b6ca03975aca-01 outer:exit 2b-6adff8e967f0ed74b12a6be6911ba8e9c115e836-8cb9cbf70b4b8a84-01
2022-04-21T16:17:11.650Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:11.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-62af0921db8df0c63aa85397258ed2e97d155177-f8af0038c1e356a2-01 outer:exit 2b-62af0921db8df0c63aa85397258ed2e97d155177-831ab118022a85fc-01
2022-04-21T16:17:11.654Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:11.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-fddcb66dbad1dcbfe42acc22542a30ebe8f03c38-84ce1c28edd08ec1-01 outer:exit 2b-fddcb66dbad1dcbfe42acc22542a30ebe8f03c38-f11474e767f27e2c-01
2022-04-21T16:17:11.656Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:11.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-814973f732d0497c0d6742f43dbbb167e76d210b-ae492538243461cd-01 outer:exit 2b-814973f732d0497c0d6742f43dbbb167e76d210b-59e403d87e4adce6-01
2022-04-21T16:17:11.660Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:11.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-d16655a7ec63edd62dcc4b6cbed42e5c33f535e3-0241633bd93cfa46-01 outer:exit 2b-d16655a7ec63edd62dcc4b6cbed42e5c33f535e3-b6e8653211cd7c26-01
2022-04-21T16:17:11.663Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:11.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-90533d6769cb3c0130caf0a0958122d088843769-296c16ca10f2aabc-01 outer:exit 2b-90533d6769cb3c0130caf0a0958122d088843769-2f4a6ebb321c7f0f-01
2022-04-21T16:17:11.670Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:11.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-048764ec81f224f89683181494f14a5f59bf255f-587797e42cc28d92-01 outer:exit 2b-048764ec81f224f89683181494f14a5f59bf255f-1bf27d88f7d903fe-01
2022-04-21T16:17:11.672Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:11.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-4942337eac3f472079cbff390062cf3071870a30-d8663408cd3f61cc-01 outer:exit 2b-4942337eac3f472079cbff390062cf3071870a30-66dd957d6c640a11-01
2022-04-21T16:17:11.674Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:11.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed2d6c9601d895245716714a0936e1ac590c6042-118908e850e778bf-01 outer:exit 2b-ed2d6c9601d895245716714a0936e1ac590c6042-359a24cc8841d727-01
2022-04-21T16:17:11.677Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:11.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbc918a4a74f50986a7e0729ff35555342fa360b-89e7bdcbfead5f25-01 outer:exit 2b-bbc918a4a74f50986a7e0729ff35555342fa360b-d26b036b9aea14a1-01
2022-04-21T16:17:11.680Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:11.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f15758dfe9fd71a8e2769f5e2ae42fdbdd6f9dd-523e69a3b973a6c6-01 outer:exit 2b-6f15758dfe9fd71a8e2769f5e2ae42fdbdd6f9dd-e9e7bed856c9aedc-01
2022-04-21T16:17:11.686Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:11.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1372eaeb3db057a12e300409c37c8366fce8fcc-8f5bbadcafd4daff-01 outer:exit 2b-f1372eaeb3db057a12e300409c37c8366fce8fcc-e1bb3fb3640a7eef-01
2022-04-21T16:17:11.699Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:11.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbbb44e2d9b71416a7a1c66869b85a02d6365ca4-ae1c9c4e3e8c3e9b-01 outer:exit 2b-dbbb44e2d9b71416a7a1c66869b85a02d6365ca4-d7a0dea953ff6b4f-01
2022-04-21T16:17:11.738Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:11.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-161b2abc7b3b66809565aa0f78ea6f4c1fa540d6-315c176fd1a3a209-01 outer:exit 2b-161b2abc7b3b66809565aa0f78ea6f4c1fa540d6-dc44f893533cb233-01
2022-04-21T16:17:11.741Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:11.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd84e4428557607cdf916ee623682e573995b4a2-325d079636bb643d-01 outer:exit 2b-bd84e4428557607cdf916ee623682e573995b4a2-c6ec496025b87a9f-01
2022-04-21T16:17:11.743Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:11.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-478d49c3a9db2e0b6bc39c94d12adbc5b75f8533-5482067e7a7dcf73-01 outer:exit 2b-478d49c3a9db2e0b6bc39c94d12adbc5b75f8533-c23d5102a6a9d4a7-01
2022-04-21T16:17:11.746Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:11.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-54d76276831cd93ca9dfda40472f5daf3f3d60f1-5c4b727c227d303d-01 outer:exit 2b-54d76276831cd93ca9dfda40472f5daf3f3d60f1-d7f89e45329eccf9-01
2022-04-21T16:17:11.748Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:11.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-d91d3828a17e13f15aa7ec24d996403f3465add7-a7cfe79ef19c5778-01 outer:exit 2b-d91d3828a17e13f15aa7ec24d996403f3465add7-3f08a55e66151199-01
2022-04-21T16:17:11.750Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:11.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-da67f6b243cece1bf376f1827e50d564e82b5f1b-5005ef3056bc41aa-01 outer:exit 2b-da67f6b243cece1bf376f1827e50d564e82b5f1b-69280e966b3a742d-01
2022-04-21T16:17:11.752Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:11.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-878a4b6266e3697d027321f2bb8adc5c80d1b29e-c6843a2206a9f16e-01 outer:exit 2b-878a4b6266e3697d027321f2bb8adc5c80d1b29e-c9e0b96f038fe8e7-01
2022-04-21T16:17:11.754Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:11.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b58ec7281b9f69417f289d36cea32993303cff-9865e4cbf32441bc-01 outer:exit 2b-51b58ec7281b9f69417f289d36cea32993303cff-43a21c1662ea3fc6-01
2022-04-21T16:17:11.756Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:11.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-abc89669f10cf2d41f3103a6dca12646298290cf-b4172c8338bebd14-01 outer:exit 2b-abc89669f10cf2d41f3103a6dca12646298290cf-f2c7a139bc32ebc6-01
2022-04-21T16:17:11.759Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:11.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f4ccd322f74e9d59c5a22816005a92b9e086da8-a9a3da6412775536-01 outer:exit 2b-6f4ccd322f74e9d59c5a22816005a92b9e086da8-796f2c3e61dbe747-01
2022-04-21T16:17:11.762Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:11.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-c18b38003a12f14477df447a7020775d70412f10-96bb70c4c9330619-01 outer:exit 2b-c18b38003a12f14477df447a7020775d70412f10-8a425ecc158e9856-01
2022-04-21T16:17:11.764Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:11.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-13edb30df03f2dac5895dfaac6a43ab208a2a50d-4c1cff42cac5fa62-01 outer:exit 2b-13edb30df03f2dac5895dfaac6a43ab208a2a50d-e2ec000ccb593004-01
2022-04-21T16:17:11.766Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:11.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-03325260f62cc80e05797980fe731c4a5cc7254e-1a5669621dd878fd-01 outer:exit 2b-03325260f62cc80e05797980fe731c4a5cc7254e-df1b0ef67e0c9b76-01
2022-04-21T16:17:11.774Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:11.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a243279cd2b902407f819ab2e15c10919138e60-6e77581ef321ed6b-01 outer:exit 2b-8a243279cd2b902407f819ab2e15c10919138e60-19cc20ed92d31086-01
2022-04-21T16:17:11.778Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:11.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-28e8374bc1ff29c80e2dfadb0545b03d76c12917-77baa0fad21c274f-01 outer:exit 2b-28e8374bc1ff29c80e2dfadb0545b03d76c12917-772020cc00c040a5-01
2022-04-21T16:17:11.786Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:11.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-24d6b8bf8bcb221fd5c63c5614ac9b25fe8b0745-122edf6528772a82-01 outer:exit 2b-24d6b8bf8bcb221fd5c63c5614ac9b25fe8b0745-83bb4374c3f81688-01
2022-04-21T16:17:11.792Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:11.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-05a3c5515c083d0cb054943978e8d068ade81480-a9f94352fcee9139-01 outer:exit 2b-05a3c5515c083d0cb054943978e8d068ade81480-ea9d25d51bcfbcaa-01
2022-04-21T16:17:11.795Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:11.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-37dff754d81ffe7fc27d4417d8b3248a230d9daf-43f6c71ac47c708e-01 outer:exit 2b-37dff754d81ffe7fc27d4417d8b3248a230d9daf-7c3adbd53fce9858-01
2022-04-21T16:17:11.797Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:11.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-442e617160a13a5fd16609ddd2c8c72e616c2711-561f3dabdcfec81c-01 outer:exit 2b-442e617160a13a5fd16609ddd2c8c72e616c2711-34727832ddbd5661-01
2022-04-21T16:17:11.804Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:11.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-125eea2b6ab9b50928107e5e1355130509515855-f25971d99897eb1e-01 outer:exit 2b-125eea2b6ab9b50928107e5e1355130509515855-9a0e1fc8313bde80-01
2022-04-21T16:17:11.806Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:11.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4429b52a168c68954fd51aa25990c22e4ff4c95-1bc2d7d2b29b0fea-01 outer:exit 2b-e4429b52a168c68954fd51aa25990c22e4ff4c95-22fd787010f9e7f3-01
2022-04-21T16:17:11.808Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:11.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-d74a7133bc0cd383f05393380e19769a6b14ea0a-ae6aed9080141427-01 outer:exit 2b-d74a7133bc0cd383f05393380e19769a6b14ea0a-32509570aff0dd9a-01
2022-04-21T16:17:11.810Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:11.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-7979fcb975d4b32bd777fd0c380c8dd38de36fec-f62fedcf2b878eaf-01 outer:exit 2b-7979fcb975d4b32bd777fd0c380c8dd38de36fec-41e856d2ca85f1dd-01
2022-04-21T16:17:11.812Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:11.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9dcca65eb34aa295199d9223a476e88ac78be88-1bbc7c216c78527b-01 outer:exit 2b-c9dcca65eb34aa295199d9223a476e88ac78be88-0d4160607a28647e-01
2022-04-21T16:17:11.814Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:11.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bad8a55decd33f569eec6af1cd8720726dd9dc1-8e295164f515b5c0-01 outer:exit 2b-1bad8a55decd33f569eec6af1cd8720726dd9dc1-a6228a36c1fd77ea-01
2022-04-21T16:17:11.822Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:11.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-0898a1c21f5dfe7f81f1d3dd3aaa132fccc2ef6e-7e76105579dc943d-01 outer:exit 2b-0898a1c21f5dfe7f81f1d3dd3aaa132fccc2ef6e-b45393eb6a3ea1ab-01
2022-04-21T16:17:11.830Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:11.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7704ca5277ef03a04d6d9b26995fa96fd1ebff5-f31fa21811389686-01 outer:exit 2b-b7704ca5277ef03a04d6d9b26995fa96fd1ebff5-6594bd10cf96405c-01
2022-04-21T16:17:11.833Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:11.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef8ac97dfe225777bad1ab404f9b3f95c1cb371f-ddea94fa928ffdbb-01 outer:exit 2b-ef8ac97dfe225777bad1ab404f9b3f95c1cb371f-f0503e7c8572a9f9-01
2022-04-21T16:17:11.835Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:11.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-90d42373112063e9cb94898aaf97d0ae91aeee0d-7e238938b4ff333a-01 outer:exit 2b-90d42373112063e9cb94898aaf97d0ae91aeee0d-569733c238a9fc4a-01
2022-04-21T16:17:11.838Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:11.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-f60ffe3013f393093e08990e59dc7f3c16a04146-46a601104dd1e756-01 outer:exit 2b-f60ffe3013f393093e08990e59dc7f3c16a04146-6ffa73ef86ca835e-01
2022-04-21T16:17:11.864Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (291ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.4
updated 1 package and audited 935 packages in 3.732s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:16.515Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:16.516Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:16.516Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:16.517Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:16.595Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:16.819Z appoptics:patching patched crypto 
2022-04-21T16:17:16.854Z appoptics:patching patched https 
2022-04-21T16:17:16.855Z appoptics:patching patched http 
2022-04-21T16:17:16.908Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:16.909Z appoptics:patching patched fs 
2022-04-21T16:17:16.934Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v12.22.12)
2022-04-21T16:17:16.938Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-21T16:17:16.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-5de7f99c8edc44899682d010fd6c5a5c57d53f36-fac4970163930f03-01 outer:exit 2b-5de7f99c8edc44899682d010fd6c5a5c57d53f36-0cdbf3547551d79b-01
2022-04-21T16:17:16.984Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:17.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-a98aa43ab598e942ec97a613c6ed09fa39040b89-2b7d3caa5a469aa7-01 outer:exit 2b-a98aa43ab598e942ec97a613c6ed09fa39040b89-c49033532701128f-01
2022-04-21T16:17:17.042Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:17.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-d437ecdf197e5b8a2098b61b41241e44f0161e00-56ae7304eb038554-01 outer:exit 2b-d437ecdf197e5b8a2098b61b41241e44f0161e00-d3a9ea520cd795f5-01
2022-04-21T16:17:17.046Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:17.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-609bfe003572983d31ac43c4a9a1c792f14dbd96-f7cc025cc9565965-01 outer:exit 2b-609bfe003572983d31ac43c4a9a1c792f14dbd96-6cf3c4a51d3d5da9-01
2022-04-21T16:17:17.049Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:17.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-8658ddc35a47cf6cc1e9184f4a5a8c611d4958f7-54cabc8d45f96768-01 outer:exit 2b-8658ddc35a47cf6cc1e9184f4a5a8c611d4958f7-4b4b722ac300e02d-01
2022-04-21T16:17:17.067Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:17.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ee2ca5dde58670d1461a717a48c1106895e0fb8-5441676f26859519-01 outer:exit 2b-2ee2ca5dde58670d1461a717a48c1106895e0fb8-98de858059f5ab15-01
2022-04-21T16:17:17.078Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:17.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d9a02ecb0d5f1fa775f7a0a575f0b161333bf70-fe4adfa90e1d9967-01 outer:exit 2b-3d9a02ecb0d5f1fa775f7a0a575f0b161333bf70-4c0fcb2ea0765029-01
2022-04-21T16:17:17.093Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:17.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-b85def6eced9e34740b02b1f33ec7ea179dbf9d0-4f070618f4c47f55-01 outer:exit 2b-b85def6eced9e34740b02b1f33ec7ea179dbf9d0-0cdb6d8995eb483f-01
2022-04-21T16:17:17.095Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:17.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a8d1ea182c4a5a142ad1c37abca20db8a336909-f8868409d4b1b52d-01 outer:exit 2b-6a8d1ea182c4a5a142ad1c37abca20db8a336909-fdeac22235056bcc-01
2022-04-21T16:17:17.100Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:17.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aac88613b319d2fc74a151b6b2e806bd5860862-fa2b1cdb51dde0f4-01 outer:exit 2b-3aac88613b319d2fc74a151b6b2e806bd5860862-aa6da7eba1f7216e-01
2022-04-21T16:17:17.103Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:17.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-7310c12415b665b6082388a3ba921081a0a83298-15bcb88fd5e91969-01 outer:exit 2b-7310c12415b665b6082388a3ba921081a0a83298-84b86ab03a71c613-01
2022-04-21T16:17:17.111Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:17.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-e48f7a618156f0178dd95844f32c891d3317b9aa-ea4954de9a27b6f1-01 outer:exit 2b-e48f7a618156f0178dd95844f32c891d3317b9aa-3587aefada63258d-01
2022-04-21T16:17:17.120Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:17.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcaef1b024ef161c08c9abe13138fc6c748c8a2e-4c711f43e04c2ec4-01 outer:exit 2b-bcaef1b024ef161c08c9abe13138fc6c748c8a2e-36d803b30761d244-01
2022-04-21T16:17:17.151Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:17.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f1981d0335601d228cc00747f75e7fce0a68767-037640ed4ef6441a-01 outer:exit 2b-7f1981d0335601d228cc00747f75e7fce0a68767-cba3a7e56e996a5b-01
2022-04-21T16:17:17.219Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:17.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab49660786a1fcc4333c4fe02878a3a1c6c22c6e-26fcb978119d64eb-01 outer:exit 2b-ab49660786a1fcc4333c4fe02878a3a1c6c22c6e-7f37df6fba5364c1-01
2022-04-21T16:17:17.223Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:17.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-01ee85f11109d092ff6c840b7e081d6fd1b3ce22-22124ccef61d0dea-01 outer:exit 2b-01ee85f11109d092ff6c840b7e081d6fd1b3ce22-77ee2770a3836516-01
2022-04-21T16:17:17.226Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:17.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fa9d065f9ac47ae0febe9e09886eb03484156b8-f942021067090d2b-01 outer:exit 2b-3fa9d065f9ac47ae0febe9e09886eb03484156b8-61c707a361506881-01
2022-04-21T16:17:17.230Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:17.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0767ca1b8069ef5d04f1b71750f67679e478837-cf20a8ef6b6ac104-01 outer:exit 2b-e0767ca1b8069ef5d04f1b71750f67679e478837-ad06d073736b2e48-01
2022-04-21T16:17:17.234Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:17.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc3d9e98839e22ebf04dfd399b6c6f81ba7720f9-4fbd3b15d66cbca8-01 outer:exit 2b-bc3d9e98839e22ebf04dfd399b6c6f81ba7720f9-9369718fe6b5fff5-01
2022-04-21T16:17:17.237Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:17.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-657ecad8246f20859cccc2d6f5cdc632ab250625-36db12e47fb82c2c-01 outer:exit 2b-657ecad8246f20859cccc2d6f5cdc632ab250625-68b4761c62ea2d8e-01
2022-04-21T16:17:17.239Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:17.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-18ab579daf4251fcdf9dccfef338c68e7d43154c-c84bcf59e77c7f73-01 outer:exit 2b-18ab579daf4251fcdf9dccfef338c68e7d43154c-f09b3cf446c177d7-01
2022-04-21T16:17:17.242Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:17.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-b36c683c3960ed4eec3eac0841ca473fc2b4bd85-7ca0d10c07689fe6-01 outer:exit 2b-b36c683c3960ed4eec3eac0841ca473fc2b4bd85-31048274df24e6a6-01
2022-04-21T16:17:17.244Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:17.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-170e084c3e081f3d8cc0d6aa2a56046d3a32b9d0-40952453b7662e1c-01 outer:exit 2b-170e084c3e081f3d8cc0d6aa2a56046d3a32b9d0-d1d3b3720deef55d-01
2022-04-21T16:17:17.247Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:17.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b5915ddceb369bc8f5e8b24510ac9c89d17388a-48114f02fd682d20-01 outer:exit 2b-4b5915ddceb369bc8f5e8b24510ac9c89d17388a-8a99a2cdc7fa0f67-01
2022-04-21T16:17:17.251Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:17.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-f117c33761615fde01128e87a95bbb51319dd932-8b3ea2136c3fc963-01 outer:exit 2b-f117c33761615fde01128e87a95bbb51319dd932-053ef453271c33be-01
2022-04-21T16:17:17.253Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:17.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a44497f3f46ae4692ebd7bd26e81673de37a75-c1cf71a0ee60812d-01 outer:exit 2b-77a44497f3f46ae4692ebd7bd26e81673de37a75-8bf0ef9700214678-01
2022-04-21T16:17:17.256Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:17.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-54e7e4bff5788d4e50f0ce628a4447c64ccfba45-40f411537eaabd94-01 outer:exit 2b-54e7e4bff5788d4e50f0ce628a4447c64ccfba45-37f4c562ca4466d5-01
2022-04-21T16:17:17.263Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:17.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5930a64b58cb34427696fcbc798d8ad004af762-b9c3282288f79964-01 outer:exit 2b-a5930a64b58cb34427696fcbc798d8ad004af762-0519aa38e3f53409-01
2022-04-21T16:17:17.268Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:17.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b54d96d5e8e4e94c8910168581d17699e8c800e-089a8f6365058e47-01 outer:exit 2b-5b54d96d5e8e4e94c8910168581d17699e8c800e-cc2d3b2d6015e3f3-01
2022-04-21T16:17:17.280Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:17.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea8f893b0008fcad29cc79e25810544f1050ff46-1f690fccd5fa79a9-01 outer:exit 2b-ea8f893b0008fcad29cc79e25810544f1050ff46-26cc5877914249cc-01
2022-04-21T16:17:17.287Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:17.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-d759344dc79c1261325b661890d691ca776e8e86-34caa8e3f36389bb-01 outer:exit 2b-d759344dc79c1261325b661890d691ca776e8e86-dce8475d3682bbd6-01
2022-04-21T16:17:17.290Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:17.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-2088e34b195bec6abafb17c3a7b7317fc7f99c08-5e35cc7270d98f02-01 outer:exit 2b-2088e34b195bec6abafb17c3a7b7317fc7f99c08-ab7979a033638b99-01
2022-04-21T16:17:17.293Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:17.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-03ca6c4a1ab601cd2a0a80042b4b10e430d1acbe-4cf4db49c440ed54-01 outer:exit 2b-03ca6c4a1ab601cd2a0a80042b4b10e430d1acbe-ae04a70045fba69e-01
2022-04-21T16:17:17.301Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:17.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-146e5f578be6440e777294f32b718c566f8eb1b7-3a20128805c4fbce-01 outer:exit 2b-146e5f578be6440e777294f32b718c566f8eb1b7-72ca9895cad937b8-01
2022-04-21T16:17:17.303Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:17.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-54fa5f25680e8fbde2a261d446095599528adbc3-3a019de95a35e90e-01 outer:exit 2b-54fa5f25680e8fbde2a261d446095599528adbc3-6c598336b4c34909-01
2022-04-21T16:17:17.305Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:17.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a0b626ddc704a05c501bc55e320c629fbe09503-b105d4426b6ad0fd-01 outer:exit 2b-3a0b626ddc704a05c501bc55e320c629fbe09503-c876493093553d4b-01
2022-04-21T16:17:17.307Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:17.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d0fc48aace2be4d3b5b82424fff7f76c7e114bf-207d32d6fa8d4c0d-01 outer:exit 2b-1d0fc48aace2be4d3b5b82424fff7f76c7e114bf-ba2a1fd1a4563ccc-01
2022-04-21T16:17:17.310Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:17.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-b372b893aa2e1d01c35ef158012fe23c8818bb2b-91a71eb910eef7af-01 outer:exit 2b-b372b893aa2e1d01c35ef158012fe23c8818bb2b-47d641ead5c1f875-01
2022-04-21T16:17:17.314Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:17.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4f96362ec15c9af3ee48b1a5404c3a5969df48d-ed1035d72ab7fe00-01 outer:exit 2b-f4f96362ec15c9af3ee48b1a5404c3a5969df48d-c3b976b1baf6a782-01
2022-04-21T16:17:17.323Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:17.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-519b0131e354309f1d62230018d4e73e3af44ea9-d15694a70e0c4a1e-01 outer:exit 2b-519b0131e354309f1d62230018d4e73e3af44ea9-936137eceeb2ed7a-01
2022-04-21T16:17:17.331Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:17.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a4df3f0923595b36a007d5c277befe28d0e0185-2d666d1e00bc1926-01 outer:exit 2b-9a4df3f0923595b36a007d5c277befe28d0e0185-eacb31a6cbcdf7d2-01
2022-04-21T16:17:17.334Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:17.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-47dd5d756e61e2f907d60c4f154c79c989c4a85b-f47093a76e4f2f64-01 outer:exit 2b-47dd5d756e61e2f907d60c4f154c79c989c4a85b-5584a363ff0b935e-01
2022-04-21T16:17:17.337Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:17.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a51e119cc0126690160e20e0100efc2516cb16b-4e99591f04c60189-01 outer:exit 2b-1a51e119cc0126690160e20e0100efc2516cb16b-40506ec5c34b08ab-01
2022-04-21T16:17:17.339Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:17.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-a76a825f9c049fa126a04591618670b34334334f-7dbc916202986009-01 outer:exit 2b-a76a825f9c049fa126a04591618670b34334334f-6fb0df9ada30f936-01
2022-04-21T16:17:17.376Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (431ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.5
updated 1 package and audited 935 packages in 4.657s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:22.986Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:22.987Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:22.987Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:22.987Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:23.049Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:23.178Z appoptics:patching patched crypto 
2022-04-21T16:17:23.199Z appoptics:patching patched https 
2022-04-21T16:17:23.199Z appoptics:patching patched http 
2022-04-21T16:17:23.238Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:23.239Z appoptics:patching patched fs 
2022-04-21T16:17:23.261Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v12.22.12)
2022-04-21T16:17:23.266Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-21T16:17:23.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7789b9b4b2a6d945ff020c980fc8c36e6e17984-f01bfcb0f2093666-01 outer:exit 2b-f7789b9b4b2a6d945ff020c980fc8c36e6e17984-31a7dd72035f03f2-01
2022-04-21T16:17:23.308Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:23.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-35b36268be01032c6ccfeccc6c0d0d9a0a41c8ae-da2ee9f3e4966955-01 outer:exit 2b-35b36268be01032c6ccfeccc6c0d0d9a0a41c8ae-01643df5b78a4978-01
2022-04-21T16:17:23.350Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:23.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-e12c545462b55a28f2c84d9a230897836cc0b0e4-c06bef366f6ea3b6-01 outer:exit 2b-e12c545462b55a28f2c84d9a230897836cc0b0e4-313a3c8de6b9aa67-01
2022-04-21T16:17:23.353Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:23.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-d19747a50020fc58f8ceabb467f52cfc6a87b85b-158239250a85f3f5-01 outer:exit 2b-d19747a50020fc58f8ceabb467f52cfc6a87b85b-256befa8a799cbc1-01
2022-04-21T16:17:23.356Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:23.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-683c3cf9163fae793d12cfc95563321517b24a2a-44c2c2614a06a025-01 outer:exit 2b-683c3cf9163fae793d12cfc95563321517b24a2a-55a24cb5dd497ee7-01
2022-04-21T16:17:23.364Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:23.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e7f66a7dfb8a441601f349683ca2aa2955859b0-48380d30c27850b1-01 outer:exit 2b-8e7f66a7dfb8a441601f349683ca2aa2955859b0-bf88385072461f78-01
2022-04-21T16:17:23.368Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:23.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b22c8e9f6e67ce4a7853cc0de58809e75ca2fa-224cc8cf43c579d9-01 outer:exit 2b-51b22c8e9f6e67ce4a7853cc0de58809e75ca2fa-f12e93a5367825d6-01
2022-04-21T16:17:23.371Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:23.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-0beb8a2f87e621628f09a166bb4c28014abacdcf-e2010062c314e9ed-01 outer:exit 2b-0beb8a2f87e621628f09a166bb4c28014abacdcf-be9245f71c96b987-01
2022-04-21T16:17:23.373Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:23.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-d336a18d22dddcde7748a7d0ff353e738c740890-29a2099aaa9fcc5a-01 outer:exit 2b-d336a18d22dddcde7748a7d0ff353e738c740890-b2348c983e8e02c2-01
2022-04-21T16:17:23.375Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:23.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffd20cdd23a6539c0d1e04f58c85909b5261f359-f77d3984604a5cda-01 outer:exit 2b-ffd20cdd23a6539c0d1e04f58c85909b5261f359-c784433d7de1dc32-01
2022-04-21T16:17:23.378Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:23.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-108e6006fc26a67267a4155c822adfbe6d2993d1-a64364846c021067-01 outer:exit 2b-108e6006fc26a67267a4155c822adfbe6d2993d1-14e6f31e8ae52875-01
2022-04-21T16:17:23.382Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:23.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14e9270f74c8d227f0591f15e2270175e4b8b00-c47c9ff13553cb42-01 outer:exit 2b-e14e9270f74c8d227f0591f15e2270175e4b8b00-dd8d8aebf2b20810-01
2022-04-21T16:17:23.389Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:23.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-42b2c0520fd47fa00c93b4455b868f93c7309d28-7892c6286e419cf7-01 outer:exit 2b-42b2c0520fd47fa00c93b4455b868f93c7309d28-0898b4996e345b14-01
2022-04-21T16:17:23.403Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:23.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-eab89c2d28ff4fafc3f56b1ebb845b457b1e7605-3581e3d00a747766-01 outer:exit 2b-eab89c2d28ff4fafc3f56b1ebb845b457b1e7605-03327285c5ab1119-01
2022-04-21T16:17:23.442Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:23.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-499c2f151bc02238255cc510ad56973c59962eb3-3b383b9608f8a942-01 outer:exit 2b-499c2f151bc02238255cc510ad56973c59962eb3-72fdf4d6c5af7d94-01
2022-04-21T16:17:23.445Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:23.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-acafd87fc9ed8ebd5ffba0358029799b2b7b66f8-8dda8e9b96460900-01 outer:exit 2b-acafd87fc9ed8ebd5ffba0358029799b2b7b66f8-df42854e2d62ba4d-01
2022-04-21T16:17:23.448Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:23.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-68e76b61a816c560e6eadeaee5237232eebd26dd-eecb0b10795ac7f5-01 outer:exit 2b-68e76b61a816c560e6eadeaee5237232eebd26dd-aa108f10a0fa0325-01
2022-04-21T16:17:23.451Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:23.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-0229ed57d0cb96089d60d24d7ef5f0f289b49c29-940d2e8f55a9a9fa-01 outer:exit 2b-0229ed57d0cb96089d60d24d7ef5f0f289b49c29-f41e205514abcdb9-01
2022-04-21T16:17:23.453Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:23.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bc73f430a6a37a5ab666f0639d474528f62a4fa-1f6e1d848fc47faa-01 outer:exit 2b-4bc73f430a6a37a5ab666f0639d474528f62a4fa-a2b26e708ed98eb4-01
2022-04-21T16:17:23.455Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:23.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-68c4618ddc19a9a1b96114de93f6a63ae1aa6350-7f711371d6043f2a-01 outer:exit 2b-68c4618ddc19a9a1b96114de93f6a63ae1aa6350-440091e7cec3f225-01
2022-04-21T16:17:23.457Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:23.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cda1d030a5287fc8f256233250eb9301e0b314a-7c5ede4088d5235d-01 outer:exit 2b-0cda1d030a5287fc8f256233250eb9301e0b314a-ddacb7e7887419c9-01
2022-04-21T16:17:23.459Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:23.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb58d5c5a2bf9ba185230a943186d1fd702c1813-5d013e10e53c8c79-01 outer:exit 2b-fb58d5c5a2bf9ba185230a943186d1fd702c1813-3ef9d1dbba4ba9c0-01
2022-04-21T16:17:23.461Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:23.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ee12bb549ab216fcdf140cdd9838223926ff1e4-e356a15358306686-01 outer:exit 2b-8ee12bb549ab216fcdf140cdd9838223926ff1e4-0a8099b384d102e9-01
2022-04-21T16:17:23.464Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:23.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-de0cbd6095674d716489caaa08002f6780606ac2-8f581b33c3a03170-01 outer:exit 2b-de0cbd6095674d716489caaa08002f6780606ac2-65cfc628f91344e9-01
2022-04-21T16:17:23.467Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:23.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-61915ac4169c0b7efc29f2e2f94e8d9b5f384bb4-2a1c17ffaf589152-01 outer:exit 2b-61915ac4169c0b7efc29f2e2f94e8d9b5f384bb4-516c99ff2af51b58-01
2022-04-21T16:17:23.469Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:23.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-e38744d46b69c1ba903c89935f9cc86fef3ab618-8fc3ef276b9f40cd-01 outer:exit 2b-e38744d46b69c1ba903c89935f9cc86fef3ab618-8cbf3f32828153b2-01
2022-04-21T16:17:23.472Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:23.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4d74ad0db7645ff31b40e0dd9bbd54995462a39-e0ca8993e3f2a3ce-01 outer:exit 2b-c4d74ad0db7645ff31b40e0dd9bbd54995462a39-bfc7b25d5a9c0f38-01
2022-04-21T16:17:23.479Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:23.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-fee723703330d23aeae4fe99f540c1d49b7bfca1-9ed99a431a467bde-01 outer:exit 2b-fee723703330d23aeae4fe99f540c1d49b7bfca1-471922a7d0c2d463-01
2022-04-21T16:17:23.484Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:23.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9908935ab7140071d6a861f0a8958b60768cc3d-5ae7bd25949d08d6-01 outer:exit 2b-e9908935ab7140071d6a861f0a8958b60768cc3d-0f874e4bca84f2ca-01
2022-04-21T16:17:23.492Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:23.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-56fa9ea0eda67f37d6ccd32b7da92b8f2d631017-3eb981287dc23bdd-01 outer:exit 2b-56fa9ea0eda67f37d6ccd32b7da92b8f2d631017-69a0d4ad61a1bd83-01
2022-04-21T16:17:23.499Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:23.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-561d13b2b1cb7e549a9e9b290374077b3580c111-7f4d1e70bf46696c-01 outer:exit 2b-561d13b2b1cb7e549a9e9b290374077b3580c111-a96fe0d1bb1b1705-01
2022-04-21T16:17:23.502Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:23.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f4bd3c75248d3a46066d162568d5f7db81790ba-fd4935099649f7cc-01 outer:exit 2b-7f4bd3c75248d3a46066d162568d5f7db81790ba-bf4d41631a0c7438-01
2022-04-21T16:17:23.506Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:23.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-768e616cf43d281cdbf5ee50ab8bddfcb8f042b5-1cb6d2b9beb388a1-01 outer:exit 2b-768e616cf43d281cdbf5ee50ab8bddfcb8f042b5-8fd13ad1a6736f89-01
2022-04-21T16:17:23.512Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:23.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-1797b16066cc86d24b25504e8a7b2cdc7b518868-503228cf151f58a0-01 outer:exit 2b-1797b16066cc86d24b25504e8a7b2cdc7b518868-4a2761b14ed39a82-01
2022-04-21T16:17:23.514Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:23.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-267c7c2acb05cfb75e84c36452340213b263739b-b3785e775cfbd7a8-01 outer:exit 2b-267c7c2acb05cfb75e84c36452340213b263739b-7f78095fd30bc6ac-01
2022-04-21T16:17:23.516Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:23.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a41bb165ce48b3fa32691baedf36f2ed73299f2-79349725a5eaf6ce-01 outer:exit 2b-0a41bb165ce48b3fa32691baedf36f2ed73299f2-ec3a591b9a0dcc05-01
2022-04-21T16:17:23.518Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:23.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb70dace0af65689adfebb546dd5c6db8825562d-6a30a9c69e9990bf-01 outer:exit 2b-cb70dace0af65689adfebb546dd5c6db8825562d-97062b9bb652d86d-01
2022-04-21T16:17:23.520Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:23.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f683a95ed6e4e597738226cf7a19aec490c1a8d-e6f0c73f70ac9531-01 outer:exit 2b-7f683a95ed6e4e597738226cf7a19aec490c1a8d-ff043d2346b5365b-01
2022-04-21T16:17:23.522Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:23.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-fca3a4eb3d278fc17fc49c8abf94008b8fb5ea90-eceb61871af15865-01 outer:exit 2b-fca3a4eb3d278fc17fc49c8abf94008b8fb5ea90-d5fb72f01283cd2e-01
2022-04-21T16:17:23.540Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:23.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-076a97a6d4a2d1671de6fe0eebb49edb846d8afa-0213ef859b953fa8-01 outer:exit 2b-076a97a6d4a2d1671de6fe0eebb49edb846d8afa-2a96a7b87752359d-01
2022-04-21T16:17:23.552Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:23.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fec4b1c18770431a4b6bed0cd610a7482bf9b95-bb60697527393eea-01 outer:exit 2b-4fec4b1c18770431a4b6bed0cd610a7482bf9b95-fb48eb0e7503d548-01
2022-04-21T16:17:23.555Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:23.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2724823704e5588d45952bd8f46e8e7e93fdce4-8e1654f19416b552-01 outer:exit 2b-f2724823704e5588d45952bd8f46e8e7e93fdce4-ffb2c409da28c687-01
2022-04-21T16:17:23.562Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:23.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4886d4f6b42e4343f7dadb9745ba78d57bccf19-3a7e648f54c5a77d-01 outer:exit 2b-c4886d4f6b42e4343f7dadb9745ba78d57bccf19-bf3c87e8740e6868-01
2022-04-21T16:17:23.570Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:23.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-61fb2c7fe3cf827b33b44e80e2209f5596f14438-720899b9e3cb314a-01 outer:exit 2b-61fb2c7fe3cf827b33b44e80e2209f5596f14438-4005efd19a983fb9-01
2022-04-21T16:17:23.599Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (326ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.6
updated 1 package and audited 935 packages in 5.213s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:29.758Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:29.758Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:29.758Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:29.759Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:29.835Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:30.003Z appoptics:patching patched crypto 
2022-04-21T16:17:30.043Z appoptics:patching patched https 
2022-04-21T16:17:30.044Z appoptics:patching patched http 
2022-04-21T16:17:30.105Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:30.105Z appoptics:patching patched fs 
2022-04-21T16:17:30.135Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v12.22.12)
2022-04-21T16:17:30.140Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-21T16:17:30.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-75b1bb39f0821607d9f6a1db26eaa529bfd0438c-e1973f59bab445f5-01 outer:exit 2b-75b1bb39f0821607d9f6a1db26eaa529bfd0438c-db7cdbc611d895b0-01
2022-04-21T16:17:30.213Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:30.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c3117bc8dc108acb2773d5af0047812994264b7-10d10064a16ef8c8-01 outer:exit 2b-0c3117bc8dc108acb2773d5af0047812994264b7-257b896869f59525-01
2022-04-21T16:17:30.265Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:30.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-c22fae9bde1a34f47b4f803d6ef4c6c998598937-3b40918d407f0d52-01 outer:exit 2b-c22fae9bde1a34f47b4f803d6ef4c6c998598937-8c42aeee45a9fa4a-01
2022-04-21T16:17:30.269Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:30.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-088b73fd3b9cc06a36e2c4e8d71e8c9d79f1a82d-b8d9b6170695c2ed-01 outer:exit 2b-088b73fd3b9cc06a36e2c4e8d71e8c9d79f1a82d-4a1227a85e7328fd-01
2022-04-21T16:17:30.272Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:30.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-2665c7bf7a791c2bab891985a8a60df30e10ac0f-1753e3534e5c4c2c-01 outer:exit 2b-2665c7bf7a791c2bab891985a8a60df30e10ac0f-92e0d4f94a6da8e7-01
2022-04-21T16:17:30.289Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:30.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-916ea45f32ceb5dd41e5cb2bd927e777af2e7468-891c8bd29cbdcb4a-01 outer:exit 2b-916ea45f32ceb5dd41e5cb2bd927e777af2e7468-e491256180a69c82-01
2022-04-21T16:17:30.292Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:30.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaf368fbe9fc1bd1974eb899b7680e7c7748ec0b-8ebd075d9aa81a01-01 outer:exit 2b-aaf368fbe9fc1bd1974eb899b7680e7c7748ec0b-466ace6b7ef18d44-01
2022-04-21T16:17:30.295Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:30.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e44083b97629260a18c253af010fc5a17852f8d-a79de7aeb5a02eae-01 outer:exit 2b-7e44083b97629260a18c253af010fc5a17852f8d-a1ce9884b9ec5fd3-01
2022-04-21T16:17:30.297Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:30.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4d7e32644e4ad3a42f2fdf3e3d3979459eb1e0a-3a80a529682dd25e-01 outer:exit 2b-a4d7e32644e4ad3a42f2fdf3e3d3979459eb1e0a-5909ff3a091f1326-01
2022-04-21T16:17:30.300Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:30.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-836d0a460f882dcabd9a1a0e0224faf7f06410c4-ad4b2c714a486342-01 outer:exit 2b-836d0a460f882dcabd9a1a0e0224faf7f06410c4-f609e14181ea21a0-01
2022-04-21T16:17:30.302Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:30.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-9568ebb5beb94f0f66a224b4b9bf347b04210c68-e8f7fcc0c8470200-01 outer:exit 2b-9568ebb5beb94f0f66a224b4b9bf347b04210c68-73ab7d842ce009a2-01
2022-04-21T16:17:30.306Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:30.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-24fbb27a64696da8787c05c9dc8882abde97e98b-9335878acbc7661d-01 outer:exit 2b-24fbb27a64696da8787c05c9dc8882abde97e98b-487eb1ea3e2fdf8d-01
2022-04-21T16:17:30.312Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:30.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7331cc7ae9801ebfbadbbe90adc1942894e869e-418a6ac4c40fe353-01 outer:exit 2b-a7331cc7ae9801ebfbadbbe90adc1942894e869e-ab94920ef9075673-01
2022-04-21T16:17:30.327Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:30.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-52d50c7fa13a1e1dc561449d9f570f90e75bfe8b-cd96badb43fd88d8-01 outer:exit 2b-52d50c7fa13a1e1dc561449d9f570f90e75bfe8b-3d8bf7a6a43f4824-01
2022-04-21T16:17:30.366Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:30.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-223eab1d8bf23c6d4888722762dbe22d5599910b-e3a8bfc064abe344-01 outer:exit 2b-223eab1d8bf23c6d4888722762dbe22d5599910b-65e739c166507d52-01
2022-04-21T16:17:30.369Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:30.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-73ed9cedb2a7ab7ce0b9cb8dbc2b84708f6ee16c-b584801bdf9bc6dc-01 outer:exit 2b-73ed9cedb2a7ab7ce0b9cb8dbc2b84708f6ee16c-d9a9523369c7bd94-01
2022-04-21T16:17:30.371Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:30.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-3199b9397895f9c17287ce5a265d32a6670b3866-39bce0ccb7c2ef85-01 outer:exit 2b-3199b9397895f9c17287ce5a265d32a6670b3866-cecf5e36e223bfda-01
2022-04-21T16:17:30.374Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:30.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-36e4d555cde6766237c75dd98fd6ab5da3796357-e4ef3a35b9c5b108-01 outer:exit 2b-36e4d555cde6766237c75dd98fd6ab5da3796357-c8757fcee836705b-01
2022-04-21T16:17:30.376Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:30.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9c93cb7fc559b2dc687acb9c798112b0f651133-14289e6ad52fe613-01 outer:exit 2b-b9c93cb7fc559b2dc687acb9c798112b0f651133-f5741c7c7fc6fa4d-01
2022-04-21T16:17:30.378Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:30.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad8e3fae93b1257102882319aef12990a3ba8f9a-9faa3ad4609d8722-01 outer:exit 2b-ad8e3fae93b1257102882319aef12990a3ba8f9a-c8c9cf567e468610-01
2022-04-21T16:17:30.380Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:30.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-af7e92174fef1c6a3fea6d1eadb852f5060bc9e8-399bd50bec7cf5a5-01 outer:exit 2b-af7e92174fef1c6a3fea6d1eadb852f5060bc9e8-5b041b899377390a-01
2022-04-21T16:17:30.382Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:30.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-3304d5e86c5e1fde4ae01fe7acc4a79d9bf3d47b-43a80264c46dbb40-01 outer:exit 2b-3304d5e86c5e1fde4ae01fe7acc4a79d9bf3d47b-3204933945d449c0-01
2022-04-21T16:17:30.384Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:30.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2925575eeedabf3291892cacd056e8d9bd3b4f3-953570140bb8c3a0-01 outer:exit 2b-f2925575eeedabf3291892cacd056e8d9bd3b4f3-4015dfee78300821-01
2022-04-21T16:17:30.387Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:30.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-e40643d73b9f28d1b69689643c4bf95041175597-dd6b4a15b8264dfa-01 outer:exit 2b-e40643d73b9f28d1b69689643c4bf95041175597-d93e0eba09166383-01
2022-04-21T16:17:30.390Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:30.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-b835d487f225f75623e7417cfb1a97559fa5c85a-c1f35c97193e9068-01 outer:exit 2b-b835d487f225f75623e7417cfb1a97559fa5c85a-2bb6d611122158b2-01
2022-04-21T16:17:30.392Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:30.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-35d11e47679d195eb4fadb788ac628962a730fcd-c1efac8124abf908-01 outer:exit 2b-35d11e47679d195eb4fadb788ac628962a730fcd-aa67c070e493a021-01
2022-04-21T16:17:30.395Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:30.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-462a023de393b060afc7afbe8f605d77d54365f4-9b691c6e0e2080fc-01 outer:exit 2b-462a023de393b060afc7afbe8f605d77d54365f4-6f4daed846ba1b82-01
2022-04-21T16:17:30.402Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:30.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-b96655a672b2525fe6322f9d5d821b4b9f92da20-27dff4c1c50e456d-01 outer:exit 2b-b96655a672b2525fe6322f9d5d821b4b9f92da20-50e12b5a770d08fb-01
2022-04-21T16:17:30.407Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:30.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-31a21345a6ac406d51c724f8ac24d38c194eab4b-6110933f504cbffc-01 outer:exit 2b-31a21345a6ac406d51c724f8ac24d38c194eab4b-f8c9ea7c3d6aa026-01
2022-04-21T16:17:30.414Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:30.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-26b12018c66f0f36b776b3650d95a32b24a74b2e-f65c18b016f388f1-01 outer:exit 2b-26b12018c66f0f36b776b3650d95a32b24a74b2e-3b08718131c17a84-01
2022-04-21T16:17:30.421Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:30.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e63b0022e5755b668b23b107e215e4b6bb10d64-5e5192aed592ebc5-01 outer:exit 2b-2e63b0022e5755b668b23b107e215e4b6bb10d64-6395a175c017f694-01
2022-04-21T16:17:30.423Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:30.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef798d3d23943f997f24b2d5e05dd29ab0a982f1-07c4384ccb161e80-01 outer:exit 2b-ef798d3d23943f997f24b2d5e05dd29ab0a982f1-16a76d37ad283f69-01
2022-04-21T16:17:30.425Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:30.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-276b8e5bf4634bbf5db4b77b95dadd35a94b37e7-42c5858d035c0e51-01 outer:exit 2b-276b8e5bf4634bbf5db4b77b95dadd35a94b37e7-715fa4d433ca26ca-01
2022-04-21T16:17:30.432Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:30.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-54b843fd58b43006c33c2b049d5a7de20d95dd5d-29f8b187eea136e5-01 outer:exit 2b-54b843fd58b43006c33c2b049d5a7de20d95dd5d-82c39d9acff15991-01
2022-04-21T16:17:30.434Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:30.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-91277fa41bdca6b9beadddb0dfd7cd18efd78b75-3aaa67b1500319fa-01 outer:exit 2b-91277fa41bdca6b9beadddb0dfd7cd18efd78b75-e313766df2043d3e-01
2022-04-21T16:17:30.436Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:30.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-2afa65f394fd7ab6acb7748b77084e874956ba71-54d40590424b28ed-01 outer:exit 2b-2afa65f394fd7ab6acb7748b77084e874956ba71-5931672558d40f58-01
2022-04-21T16:17:30.438Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:30.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-58a256abc80738824854e773d5ac1e2dfe7da6ee-f9b5b89468b7fe58-01 outer:exit 2b-58a256abc80738824854e773d5ac1e2dfe7da6ee-3edc283012af5cd7-01
2022-04-21T16:17:30.440Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:30.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-54a29e5ab6ac9f1c8e2c10c374f2a586fe5eda08-be45c097a91170f9-01 outer:exit 2b-54a29e5ab6ac9f1c8e2c10c374f2a586fe5eda08-8b12e8dde5ecaeae-01
2022-04-21T16:17:30.442Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:30.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ea77879a7770186825963c5b1f9a43cd4f90c6e-fe30739e70b9117f-01 outer:exit 2b-0ea77879a7770186825963c5b1f9a43cd4f90c6e-9bcee6891c9655b9-01
2022-04-21T16:17:30.451Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:30.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cb726436d370a06221142d430c432f2747d7992-fd41142702d4e2be-01 outer:exit 2b-2cb726436d370a06221142d430c432f2747d7992-396716dc71f31c9a-01
2022-04-21T16:17:30.460Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:30.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-26de71f519aede2c504ace21046f79d78690a3a9-c05055fe99beffa6-01 outer:exit 2b-26de71f519aede2c504ace21046f79d78690a3a9-3fdc69cfcddf2efc-01
2022-04-21T16:17:30.464Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:30.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb74657b567458daf17193dcf8604da10f3bdf7b-f1cc1730a39719bd-01 outer:exit 2b-fb74657b567458daf17193dcf8604da10f3bdf7b-f1e8cad313946020-01
2022-04-21T16:17:30.467Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:30.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfea7d3f064ad466920a47d9e6639ff44452ba23-293730e9bd9adb6c-01 outer:exit 2b-dfea7d3f064ad466920a47d9e6639ff44452ba23-b3e837dcd7252d4b-01
2022-04-21T16:17:30.469Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:30.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-90ab1f79a4f9c61dd60f3134b4beba2794ac7ab1-a2740043bee71395-01 outer:exit 2b-90ab1f79a4f9c61dd60f3134b4beba2794ac7ab1-626f0440174ef111-01
2022-04-21T16:17:30.496Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (351ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.7
updated 1 package and audited 935 packages in 3.72s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:35.129Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:35.130Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:35.130Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:35.131Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:35.188Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:35.309Z appoptics:patching patched crypto 
2022-04-21T16:17:35.326Z appoptics:patching patched https 
2022-04-21T16:17:35.326Z appoptics:patching patched http 
2022-04-21T16:17:35.368Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:35.368Z appoptics:patching patched fs 
2022-04-21T16:17:35.390Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v12.22.12)
2022-04-21T16:17:35.395Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-21T16:17:35.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fdc5786b98858701146666b5afa419f196237bb-8604a7740e7a94be-01 outer:exit 2b-7fdc5786b98858701146666b5afa419f196237bb-6f83eda41b8677be-01
2022-04-21T16:17:35.436Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:35.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8228aafb5c618da522d179c9765b3c7994d952a-fb6615761bdf83b5-01 outer:exit 2b-e8228aafb5c618da522d179c9765b3c7994d952a-897d591b0935eaae-01
2022-04-21T16:17:35.476Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:35.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d2a5a589c5c91a0e809725d2fa6dc07520c4a7d-93a0d784a7ec64e2-01 outer:exit 2b-3d2a5a589c5c91a0e809725d2fa6dc07520c4a7d-bc5b47d679b04a6b-01
2022-04-21T16:17:35.479Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:35.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcb8e44d403ff9c6e50dfb233b47659074909ef1-99603d0b5e3efa08-01 outer:exit 2b-bcb8e44d403ff9c6e50dfb233b47659074909ef1-ee024988625c8993-01
2022-04-21T16:17:35.482Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:35.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-174dc6c4929e3835f2d2b603e5715b7cef101f5b-282cf69bbe2c380e-01 outer:exit 2b-174dc6c4929e3835f2d2b603e5715b7cef101f5b-cdad742156cd5b67-01
2022-04-21T16:17:35.486Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:35.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b779a7dff0f18838eff834f206b1ee0b506c0f3-b6aa18b00b125582-01 outer:exit 2b-1b779a7dff0f18838eff834f206b1ee0b506c0f3-00791df2bc0b09b4-01
2022-04-21T16:17:35.490Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:35.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cdee28cab2173b6b5fe845d417ddb45d1723006-97cdad943501af13-01 outer:exit 2b-0cdee28cab2173b6b5fe845d417ddb45d1723006-359d0978eefb95c6-01
2022-04-21T16:17:35.492Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:35.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-afe10bff04f63cee12b9f209f6deae9d8aa761bf-53fc8f506dd0c7c8-01 outer:exit 2b-afe10bff04f63cee12b9f209f6deae9d8aa761bf-2ea4ee7592fb8a98-01
2022-04-21T16:17:35.494Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:35.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b3d409154c921c606b39ab4bf5eb752e8a9aa04-aa392d60b6cc6488-01 outer:exit 2b-8b3d409154c921c606b39ab4bf5eb752e8a9aa04-14eceecae32aa5d3-01
2022-04-21T16:17:35.497Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:35.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ca072bdafa40088c220fd342b6fa1677781827-721e1883e3f4b2aa-01 outer:exit 2b-66ca072bdafa40088c220fd342b6fa1677781827-e35a24f5e196e92b-01
2022-04-21T16:17:35.499Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:35.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f9395aa979f2853a9938ba0093b60e0845738bf-61ba2c4671ffe339-01 outer:exit 2b-6f9395aa979f2853a9938ba0093b60e0845738bf-3bca95a9526adc76-01
2022-04-21T16:17:35.507Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:35.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce456b68de59cbe331920778b54993cfa4eb00c7-db3eefc6a32a4874-01 outer:exit 2b-ce456b68de59cbe331920778b54993cfa4eb00c7-e10b6ea801dc11a1-01
2022-04-21T16:17:35.513Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:35.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-47638245dcdc8a35fdc815f85adaa4e39ff349a2-b3a6418dd84bc133-01 outer:exit 2b-47638245dcdc8a35fdc815f85adaa4e39ff349a2-468fa0ae053abe38-01
2022-04-21T16:17:35.528Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:35.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-38ccf2ac2da4b318b2c6ae37c0695bed018d9efc-fa93ae7468ff7270-01 outer:exit 2b-38ccf2ac2da4b318b2c6ae37c0695bed018d9efc-35ac2fefc1a5656c-01
2022-04-21T16:17:35.566Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:35.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-82797df2c110e584cc39c912da938fd2f95bab44-174c4269dda36fe5-01 outer:exit 2b-82797df2c110e584cc39c912da938fd2f95bab44-da77ab6e0c9b3912-01
2022-04-21T16:17:35.569Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:35.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-a28bb9b13214b478f6cdc4cd6356577f8336b7a0-c6b7c060586d4fbd-01 outer:exit 2b-a28bb9b13214b478f6cdc4cd6356577f8336b7a0-4f8d6d8d559e142b-01
2022-04-21T16:17:35.571Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:35.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae5f37b36ae8d02866032b967000cdb159ce37ad-f3bdf5bc59427b54-01 outer:exit 2b-ae5f37b36ae8d02866032b967000cdb159ce37ad-cae011d99e86c9aa-01
2022-04-21T16:17:35.574Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:35.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-972b9f966c63d5ae056a664270cc533fdd5adc7a-e834bf85a8a86034-01 outer:exit 2b-972b9f966c63d5ae056a664270cc533fdd5adc7a-b5c8aa243a19fa1b-01
2022-04-21T16:17:35.576Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:35.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-045894a9659b5aa5562218646f1beae170eedfcb-a561d4064303c54c-01 outer:exit 2b-045894a9659b5aa5562218646f1beae170eedfcb-e7e538c731fa92ad-01
2022-04-21T16:17:35.578Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:35.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-42c1923c8bd47bf7e1b1f1e3e4dfa200a4e5aaa6-b2d9aeb4a3eb8893-01 outer:exit 2b-42c1923c8bd47bf7e1b1f1e3e4dfa200a4e5aaa6-9d2ec34f25e35490-01
2022-04-21T16:17:35.580Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:35.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-65f790cc501c649f5d325a6aef835db10e279611-bcbeb0f3e700623e-01 outer:exit 2b-65f790cc501c649f5d325a6aef835db10e279611-9a825cc50cd9046c-01
2022-04-21T16:17:35.582Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:35.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-b233d139750e9b1df6c3d0f79263fa94f064afd0-a828e5f8b91dc687-01 outer:exit 2b-b233d139750e9b1df6c3d0f79263fa94f064afd0-0daf1a58f0b23b0e-01
2022-04-21T16:17:35.584Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:35.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-90dac0d6a1bbe7a0ca911a85bca1fe1d954ed9e0-a54312b642ce0f58-01 outer:exit 2b-90dac0d6a1bbe7a0ca911a85bca1fe1d954ed9e0-3a00ca1d24fbc409-01
2022-04-21T16:17:35.587Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:35.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f32616c15aab3ca3e3d572935386654d3affdbe-0f451ccce833d66b-01 outer:exit 2b-8f32616c15aab3ca3e3d572935386654d3affdbe-3dd416fe30c0caba-01
2022-04-21T16:17:35.590Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:35.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-41c8cf38c0de7e254ce0b5d5e02172dd3098d67b-9a6bd838ec9f6d8a-01 outer:exit 2b-41c8cf38c0de7e254ce0b5d5e02172dd3098d67b-0f1b12eefb2df0e4-01
2022-04-21T16:17:35.592Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:35.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-63d842d896437444761fc3827c21e0bf89594290-0b674b4deee72da0-01 outer:exit 2b-63d842d896437444761fc3827c21e0bf89594290-a44ab921bdff58d0-01
2022-04-21T16:17:35.594Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:35.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-97f636d4817c80831bcd3cd1ad43a71ca7af8395-32d750fef3f0c103-01 outer:exit 2b-97f636d4817c80831bcd3cd1ad43a71ca7af8395-2c823891da6a61cb-01
2022-04-21T16:17:35.602Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:35.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-1512e48c9d4a3eacfefb999ea6c6b319ef4413a3-83070afd8c9f499b-01 outer:exit 2b-1512e48c9d4a3eacfefb999ea6c6b319ef4413a3-d21b46f3bcc57e07-01
2022-04-21T16:17:35.606Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:35.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3814bdcb3a0a67a87b5d323f6e290603ac25a44-b449e7f21e80889d-01 outer:exit 2b-c3814bdcb3a0a67a87b5d323f6e290603ac25a44-594c85810782529e-01
2022-04-21T16:17:35.613Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:35.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffe4da1caa34e24fb27abc913eab14e03d9d9469-094944e25c095bc2-01 outer:exit 2b-ffe4da1caa34e24fb27abc913eab14e03d9d9469-536934867990d79a-01
2022-04-21T16:17:35.620Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:35.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4a306b1e2b16a46bc5efbfe27fbacf4e7217610-b11b23ecd5bffef6-01 outer:exit 2b-d4a306b1e2b16a46bc5efbfe27fbacf4e7217610-b58e9349481ce8c0-01
2022-04-21T16:17:35.622Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:35.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f38f1a637f44817fbf5d468298960041aad418-0e0e404b313c6c3e-01 outer:exit 2b-f7f38f1a637f44817fbf5d468298960041aad418-757802447daa568c-01
2022-04-21T16:17:35.625Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:35.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb111a8f1934faa37a9a6f76a85a939efc51632f-61efdcdf0ae72eb8-01 outer:exit 2b-fb111a8f1934faa37a9a6f76a85a939efc51632f-16df77cd209c19da-01
2022-04-21T16:17:35.631Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:35.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ad44d24703fa3b738d904f21049372d133a1994-160a152e685cf76d-01 outer:exit 2b-1ad44d24703fa3b738d904f21049372d133a1994-03feb2f937000067-01
2022-04-21T16:17:35.633Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:35.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d395305ddbbf7e85c53103e9ea82e94044e34d8-40744456566971b6-01 outer:exit 2b-1d395305ddbbf7e85c53103e9ea82e94044e34d8-6e9a1b209466ae02-01
2022-04-21T16:17:35.635Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:35.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-265e5fb09cbdbc65368c595920025c3821420fd3-524c59ccff3621ab-01 outer:exit 2b-265e5fb09cbdbc65368c595920025c3821420fd3-20218c4b8569ebf0-01
2022-04-21T16:17:35.637Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:35.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a7ebe0d244543b25024442ade14bd6ab9858891-747c9cc1641fa903-01 outer:exit 2b-2a7ebe0d244543b25024442ade14bd6ab9858891-11e7a502dd977f56-01
2022-04-21T16:17:35.639Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:35.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-38cfbdee4a3e02752020985fefd2a5709d495d9a-f17be43449fefa10-01 outer:exit 2b-38cfbdee4a3e02752020985fefd2a5709d495d9a-ae7e288017856581-01
2022-04-21T16:17:35.641Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:35.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-de0cdf9b788d3fc9fa66e2868a68cf7ea1c5f742-09a6362105fb6219-01 outer:exit 2b-de0cdf9b788d3fc9fa66e2868a68cf7ea1c5f742-7f8792a3c1453138-01
2022-04-21T16:17:35.649Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:35.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dbfe1edec0682ed965cc3485e1b687a0e22c376-3ca755bcf0bf0163-01 outer:exit 2b-2dbfe1edec0682ed965cc3485e1b687a0e22c376-cb35fe1510df0272-01
2022-04-21T16:17:35.657Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:35.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-abcaa4f15af036c4055349d8f359540b88faecb9-d72641091669319c-01 outer:exit 2b-abcaa4f15af036c4055349d8f359540b88faecb9-f55baa74f119a6ef-01
2022-04-21T16:17:35.660Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:35.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f6c2c5cc93a526dd1554464d9987bae2988225e-41006387c239e543-01 outer:exit 2b-8f6c2c5cc93a526dd1554464d9987bae2988225e-4bb4a654d7d90b89-01
2022-04-21T16:17:35.663Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:35.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bc1cf881217ec7031a5c2c23855f4231bb063da-18de2eb6766a071d-01 outer:exit 2b-6bc1cf881217ec7031a5c2c23855f4231bb063da-c0db2cd78e78a263-01
2022-04-21T16:17:35.666Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:35.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-a98ec490285b7691c0fbc5215ea67b15c57f1eae-999b306810bb1069-01 outer:exit 2b-a98ec490285b7691c0fbc5215ea67b15c57f1eae-e486cf52b18b9aa1-01
2022-04-21T16:17:35.692Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (291ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.8
updated 1 package and audited 935 packages in 3.731s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:40.281Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:40.281Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:40.281Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:40.282Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:40.352Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:40.495Z appoptics:patching patched crypto 
2022-04-21T16:17:40.526Z appoptics:patching patched https 
2022-04-21T16:17:40.526Z appoptics:patching patched http 
2022-04-21T16:17:40.562Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:40.563Z appoptics:patching patched fs 
2022-04-21T16:17:40.586Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v12.22.12)
2022-04-21T16:17:40.591Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-21T16:17:40.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ce462bc59bfe7ff9052b3e1a056bc0a6ee01c1e-74c0b4f06127dbf7-01 outer:exit 2b-7ce462bc59bfe7ff9052b3e1a056bc0a6ee01c1e-9bf74b389b4b5340-01
2022-04-21T16:17:40.636Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:40.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-28c3c41ccc7a2d0451a89ccbb8642f4fccf0e213-c0cd64803bcb6f53-01 outer:exit 2b-28c3c41ccc7a2d0451a89ccbb8642f4fccf0e213-fb679117e79ba000-01
2022-04-21T16:17:40.684Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:40.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b8e938186f2faf24a0d3fd393ff0906a73f7b84-71c0622a9973a022-01 outer:exit 2b-6b8e938186f2faf24a0d3fd393ff0906a73f7b84-5bee5f712c1047ca-01
2022-04-21T16:17:40.688Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:40.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-7965192be479e25305272affeb08e165703ccbb4-eeba54b43ec791b8-01 outer:exit 2b-7965192be479e25305272affeb08e165703ccbb4-ba03d1650d1112fb-01
2022-04-21T16:17:40.691Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:40.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-f793f77723d4c5a0ec1dfa2db7011056719574cd-1cceb31e51fcdded-01 outer:exit 2b-f793f77723d4c5a0ec1dfa2db7011056719574cd-2040f72b394dc60e-01
2022-04-21T16:17:40.696Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:40.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae23b06a65a6825bc7b649f5fb3dc1c66778c3bb-51bcbfa4849dabad-01 outer:exit 2b-ae23b06a65a6825bc7b649f5fb3dc1c66778c3bb-967f0b8727dd2d40-01
2022-04-21T16:17:40.702Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:40.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-95be3f30115dccb8e6a0d66a6da52643acd7c639-0f7f8d54a8a06d02-01 outer:exit 2b-95be3f30115dccb8e6a0d66a6da52643acd7c639-618a718be21b915d-01
2022-04-21T16:17:40.705Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:40.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-202620eb616466c0d03dbaa968620a344da6f2ec-58e5a2d42e7bfdf2-01 outer:exit 2b-202620eb616466c0d03dbaa968620a344da6f2ec-ed861ee011487a89-01
2022-04-21T16:17:40.707Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:40.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-382496b50341e18379ae6e500a6cb977dd1e2595-1cfa70fc5ba0d6fc-01 outer:exit 2b-382496b50341e18379ae6e500a6cb977dd1e2595-fc2499c2fe00464c-01
2022-04-21T16:17:40.710Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:40.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-55087f971018e5d1f80575e9091349c3586eb06a-8d87d278d3049a25-01 outer:exit 2b-55087f971018e5d1f80575e9091349c3586eb06a-9752ec5963f3c964-01
2022-04-21T16:17:40.713Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:40.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-35e65251c820762b14a8136610eb86384ab1a9aa-f7e01e00a1f15736-01 outer:exit 2b-35e65251c820762b14a8136610eb86384ab1a9aa-96196e8b9c7da8bf-01
2022-04-21T16:17:40.717Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:40.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-86f0c4c2e69a93209d9a0719df0710990c6a73bf-d4672d518bc0e405-01 outer:exit 2b-86f0c4c2e69a93209d9a0719df0710990c6a73bf-f779c2bbc147a27f-01
2022-04-21T16:17:40.724Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:40.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae4a2180410993497eca6f34839308a0d94c7ed1-9dbd413575115d29-01 outer:exit 2b-ae4a2180410993497eca6f34839308a0d94c7ed1-1aed25f7bbd7022b-01
2022-04-21T16:17:40.742Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:40.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f9c5a5f0090fc6dc9c32336130cbc2578c1b5eb-67bb1f4047dbbd36-01 outer:exit 2b-2f9c5a5f0090fc6dc9c32336130cbc2578c1b5eb-e4a493356998dc59-01
2022-04-21T16:17:40.782Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:40.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8cd00a6d530552a81742ea4b8e832e647cb35ee-38b3f29c188b1895-01 outer:exit 2b-f8cd00a6d530552a81742ea4b8e832e647cb35ee-4dcc1f8dac87aae0-01
2022-04-21T16:17:40.785Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:40.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-abe5251ae89bcb769fa997b9b21f7784ace63df3-9634ba4e8dba17b7-01 outer:exit 2b-abe5251ae89bcb769fa997b9b21f7784ace63df3-5f431c51507bfc8e-01
2022-04-21T16:17:40.788Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:40.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ea1ab7609865e8e334c9b2f173489227efa0cf9-e1b7ab3245e068f0-01 outer:exit 2b-9ea1ab7609865e8e334c9b2f173489227efa0cf9-304c9f7a3015becf-01
2022-04-21T16:17:40.792Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:40.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cd0d9540b9e0986dfe5212302514c2d6b39d3cb-d6f04ca2f159963f-01 outer:exit 2b-0cd0d9540b9e0986dfe5212302514c2d6b39d3cb-b882c16982d3f311-01
2022-04-21T16:17:40.794Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:40.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b1d777469883bde153b9ab504f80023c00adf4-77829adf88846b69-01 outer:exit 2b-c6b1d777469883bde153b9ab504f80023c00adf4-d0faf4b9f65a3ab6-01
2022-04-21T16:17:40.796Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:40.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-0955a879be71b329f52e7722cd13ad88a872579a-b3ecac534e03bae9-01 outer:exit 2b-0955a879be71b329f52e7722cd13ad88a872579a-9734559c76e46f3a-01
2022-04-21T16:17:40.798Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:40.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-a199c88c6bdec6927a78ab9804582db853aaa274-c1383dd20a813be8-01 outer:exit 2b-a199c88c6bdec6927a78ab9804582db853aaa274-6026c2240475528c-01
2022-04-21T16:17:40.801Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:40.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b4021b38e3800c2f83455be14434780eb25de6d-201a955d23f60c5c-01 outer:exit 2b-1b4021b38e3800c2f83455be14434780eb25de6d-f5f672874cdd0757-01
2022-04-21T16:17:40.803Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:40.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-657b3e6f3afea2d3da8f3f4bf0abe1aad535db6c-204e068dc3191824-01 outer:exit 2b-657b3e6f3afea2d3da8f3f4bf0abe1aad535db6c-fbca47b4b3857805-01
2022-04-21T16:17:40.805Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:40.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-164d63a1d07dc77bb0c84675a3103767efb5b81b-a206229686e58cec-01 outer:exit 2b-164d63a1d07dc77bb0c84675a3103767efb5b81b-06f39de5474b45a4-01
2022-04-21T16:17:40.808Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:40.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-b430c74c63ae9793a94d5b1ee21cc36caf5091a2-ff02f8c28ac08dec-01 outer:exit 2b-b430c74c63ae9793a94d5b1ee21cc36caf5091a2-bc138012ffa41d22-01
2022-04-21T16:17:40.810Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:40.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-34cbeebb73b426d63d9da84ce499edcb1291a4a4-d480910666f98a62-01 outer:exit 2b-34cbeebb73b426d63d9da84ce499edcb1291a4a4-7af4cae396df7468-01
2022-04-21T16:17:40.813Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:40.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14e9bcc3c2954024e68f183f7677bb32192b8ac-42ccaa6e21235e06-01 outer:exit 2b-e14e9bcc3c2954024e68f183f7677bb32192b8ac-2d056890052e86a9-01
2022-04-21T16:17:40.821Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:40.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeda34e44d37130efad86bd66f140cf13b5d2cc9-702bbcf8c793d955-01 outer:exit 2b-aeda34e44d37130efad86bd66f140cf13b5d2cc9-b821d4c440393b5a-01
2022-04-21T16:17:40.828Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:40.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e213f02671442f695fa5e0d79c891f970b31920-4848e4f6d29b2e74-01 outer:exit 2b-7e213f02671442f695fa5e0d79c891f970b31920-41e2197e403312f7-01
2022-04-21T16:17:40.836Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:40.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d5feff5e877399b749f64ad4921fbf2b81f26d8-474833254a2f1522-01 outer:exit 2b-1d5feff5e877399b749f64ad4921fbf2b81f26d8-feccbeb00940869d-01
2022-04-21T16:17:40.843Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:40.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-07d08d4df3bb437d59173d95e139f24c8b2ff21a-b53e3093362a5f3a-01 outer:exit 2b-07d08d4df3bb437d59173d95e139f24c8b2ff21a-c54bae1419defcdb-01
2022-04-21T16:17:40.846Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:40.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dc07ddb1b4dd6959bc4a23c77c6bcea681f45d9-8d504d1baa16aa73-01 outer:exit 2b-8dc07ddb1b4dd6959bc4a23c77c6bcea681f45d9-0f1c2d8aac6a2c9c-01
2022-04-21T16:17:40.849Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:40.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-b855aa78a769da1f4b3763d7d51804a36d5455ce-b1cc8570c9b26680-01 outer:exit 2b-b855aa78a769da1f4b3763d7d51804a36d5455ce-116a750871677320-01
2022-04-21T16:17:40.862Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:40.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-d24fb724b2c24dab3a5df7c3872c0fd8c55d42e6-60f05b43c96bc26a-01 outer:exit 2b-d24fb724b2c24dab3a5df7c3872c0fd8c55d42e6-ecfcbf3e0cba989e-01
2022-04-21T16:17:40.864Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:40.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-d13773d3e9504b98d98d06709b161f53e2a86fe7-73f1712be8d17db3-01 outer:exit 2b-d13773d3e9504b98d98d06709b161f53e2a86fe7-839e16c6f6939b8c-01
2022-04-21T16:17:40.866Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:40.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-7898c2d2d63d8943ccfc5f213a7f10556bbd73a3-e2385876f9e1c5c5-01 outer:exit 2b-7898c2d2d63d8943ccfc5f213a7f10556bbd73a3-7b946b569853eb40-01
2022-04-21T16:17:40.870Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:40.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-de2f6cba447b13557508e838103a1b1c7b4c26f0-677e1d6fa1a79568-01 outer:exit 2b-de2f6cba447b13557508e838103a1b1c7b4c26f0-69e7db81d9b92620-01
2022-04-21T16:17:40.872Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:40.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0e90514897644df0b26def1a25968998006ea34-5d2d7f1616de4de8-01 outer:exit 2b-a0e90514897644df0b26def1a25968998006ea34-384cbb2c70548cd1-01
2022-04-21T16:17:40.878Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:40.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-c227f39599c7d6b6c1546bbda04e6920b679bb1c-d6b55f61770ea7a5-01 outer:exit 2b-c227f39599c7d6b6c1546bbda04e6920b679bb1c-744965da5efc4513-01
2022-04-21T16:17:40.888Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:40.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d816280090a449e975132594ed3ef9ec01caac0-04ec3cba5847df52-01 outer:exit 2b-4d816280090a449e975132594ed3ef9ec01caac0-9497f05a1fce0f1a-01
2022-04-21T16:17:40.898Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:40.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-134fc569efc9b843eafced113976789799d3b8d3-bdefaa250cc8ffd2-01 outer:exit 2b-134fc569efc9b843eafced113976789799d3b8d3-242df43460ae107f-01
2022-04-21T16:17:40.901Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:40.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-348f4f52bd8d7ad13d0793d35aeb3f193d34b2fc-439805e2d30954af-01 outer:exit 2b-348f4f52bd8d7ad13d0793d35aeb3f193d34b2fc-e64e67a71b949288-01
2022-04-21T16:17:40.904Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:40.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-9083ac6bcf07b5ce2b61cbcb92fde18fda5d6ef8-5e4efabd84a42e79-01 outer:exit 2b-9083ac6bcf07b5ce2b61cbcb92fde18fda5d6ef8-53c43504706ff828-01
2022-04-21T16:17:40.908Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:40.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-12d0ef1b6d0c960cafbebee3ce883a5a985d2cdd-049d527f800eb0c9-01 outer:exit 2b-12d0ef1b6d0c960cafbebee3ce883a5a985d2cdd-26d96faed478849d-01
2022-04-21T16:17:40.944Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (347ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.9
updated 1 package and audited 935 packages in 3.975s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:45.942Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:45.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:45.942Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:45.943Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:46.004Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:46.149Z appoptics:patching patched crypto 
2022-04-21T16:17:46.166Z appoptics:patching patched https 
2022-04-21T16:17:46.167Z appoptics:patching patched http 
2022-04-21T16:17:46.202Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:46.202Z appoptics:patching patched fs 
2022-04-21T16:17:46.225Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v12.22.12)
2022-04-21T16:17:46.230Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-21T16:17:46.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-4311f78c6dd00dceb06c64840f189b37c96059bf-484466defa820b01-01 outer:exit 2b-4311f78c6dd00dceb06c64840f189b37c96059bf-9a1ff2b35d2f5601-01
2022-04-21T16:17:46.272Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:46.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-305911b1e504ca725924c324b08801658a480205-b65117255d105491-01 outer:exit 2b-305911b1e504ca725924c324b08801658a480205-91ca268975515c61-01
2022-04-21T16:17:46.323Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:46.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-65ad5b19c7c2137840607aa4b518262e571278b3-7a4deeb80d6e7375-01 outer:exit 2b-65ad5b19c7c2137840607aa4b518262e571278b3-35265c9741ca9693-01
2022-04-21T16:17:46.327Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:46.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-586644156caa6eb91f3873af4be3f7cae926825c-59313534e01c8c4f-01 outer:exit 2b-586644156caa6eb91f3873af4be3f7cae926825c-4061bd11d7b7a8ec-01
2022-04-21T16:17:46.330Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:46.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-f00dacb601d4088e092aaecfeeca09a9d1dcc6cb-5f270d9d5799206d-01 outer:exit 2b-f00dacb601d4088e092aaecfeeca09a9d1dcc6cb-9f25b2fcfbba6399-01
2022-04-21T16:17:46.334Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:46.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7eef79ade38bd2015991e445d7f8771a52fd79d-ad89bbbc2086a550-01 outer:exit 2b-b7eef79ade38bd2015991e445d7f8771a52fd79d-b29344a5a80409d2-01
2022-04-21T16:17:46.337Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:46.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a553577860a36bf937a7c72ce1eac4c5384433-16b23a64de8174b2-01 outer:exit 2b-53a553577860a36bf937a7c72ce1eac4c5384433-52828a804eaa1aae-01
2022-04-21T16:17:46.340Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:46.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ede2ddd5a31dc6fb7be763e37858d841c0c15a5-3362fed7009b78f1-01 outer:exit 2b-0ede2ddd5a31dc6fb7be763e37858d841c0c15a5-e9efd0b1785abd07-01
2022-04-21T16:17:46.346Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:46.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0351f4e4412e0f608ace85ebfd1d557e3b2cf7a-657f30ce96712748-01 outer:exit 2b-b0351f4e4412e0f608ace85ebfd1d557e3b2cf7a-e050a7b6ee8ac404-01
2022-04-21T16:17:46.349Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:46.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-c471948946951a6772f2bc982898b24440618295-13ed223226f7c6f5-01 outer:exit 2b-c471948946951a6772f2bc982898b24440618295-100e0f1280963df9-01
2022-04-21T16:17:46.351Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:46.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-56f1d4ba4314289e8c3dcdd7cc3914e2c12790af-cc08d889b4ccecb1-01 outer:exit 2b-56f1d4ba4314289e8c3dcdd7cc3914e2c12790af-bc4da0c37fcaf1c3-01
2022-04-21T16:17:46.355Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:46.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-9489167c25169e1c29913b95b9bccd116714f56e-795f525a364fc390-01 outer:exit 2b-9489167c25169e1c29913b95b9bccd116714f56e-f581993d3d5f6c85-01
2022-04-21T16:17:46.373Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:46.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c15d5ab1ffbb9bb33c75820c81242be8cc05d44-aa5bc784b96c8782-01 outer:exit 2b-3c15d5ab1ffbb9bb33c75820c81242be8cc05d44-623c1b52c69fac91-01
2022-04-21T16:17:46.388Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:46.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-15f8730f2a90e091b5fba76d4c4b72ef7fe97b6c-14dbe0c77776e3af-01 outer:exit 2b-15f8730f2a90e091b5fba76d4c4b72ef7fe97b6c-a76ad411731e16f3-01
2022-04-21T16:17:46.426Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:46.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bfb07d723c33bc4cebddca89b19bcbd1408a463-731665e70c308f31-01 outer:exit 2b-5bfb07d723c33bc4cebddca89b19bcbd1408a463-f47fce0d90c2694d-01
2022-04-21T16:17:46.429Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:46.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aa5ddc35e589389d9376ff85f5625bb160eaa47-6711cfacc5fccd6c-01 outer:exit 2b-8aa5ddc35e589389d9376ff85f5625bb160eaa47-a978d9c38439b07f-01
2022-04-21T16:17:46.431Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:46.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e008fb8414816828037950c685ebc5963a70ee9-2761335f317d1435-01 outer:exit 2b-9e008fb8414816828037950c685ebc5963a70ee9-1a1f61f8abdcdf1a-01
2022-04-21T16:17:46.434Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:46.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-9af66f6146250c4324c431312feb9a50c465ee11-8b1971786fa3c177-01 outer:exit 2b-9af66f6146250c4324c431312feb9a50c465ee11-daa718ab4f8d2c3d-01
2022-04-21T16:17:46.436Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:46.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-b70590a2ffb26156252464c9ee6035b93b632639-dfcbd3642d2c65ba-01 outer:exit 2b-b70590a2ffb26156252464c9ee6035b93b632639-d8227b846eb5cfe0-01
2022-04-21T16:17:46.438Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:46.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-152718479c627b9c7db94e31288d55727dc43b4a-262398caad228ac9-01 outer:exit 2b-152718479c627b9c7db94e31288d55727dc43b4a-ae6d6201f7654999-01
2022-04-21T16:17:46.440Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:46.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c7a7f895d56d82cb331f8981f9c7df088916694-176934f029bf8161-01 outer:exit 2b-3c7a7f895d56d82cb331f8981f9c7df088916694-fb4bc377df0447d7-01
2022-04-21T16:17:46.442Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:46.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad968ed311b2d76931be1dd6e602d950f5d98788-1103794b8524a27a-01 outer:exit 2b-ad968ed311b2d76931be1dd6e602d950f5d98788-f388364a8ff7e524-01
2022-04-21T16:17:46.444Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:46.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4723b7af084b0a4e6d5d5764e839b9c83100fb5-165a7caa43ee88dc-01 outer:exit 2b-f4723b7af084b0a4e6d5d5764e839b9c83100fb5-5a683ea144f2efab-01
2022-04-21T16:17:46.447Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:46.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-97e6b2c30d0391788465224a232475fcc8774a08-c644b2bbcf46dfb5-01 outer:exit 2b-97e6b2c30d0391788465224a232475fcc8774a08-83c78be640028190-01
2022-04-21T16:17:46.450Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:46.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1de1f811c3285d8a9754fd1a6a33c21bb6d5afe-7c4024ce8e29ad92-01 outer:exit 2b-e1de1f811c3285d8a9754fd1a6a33c21bb6d5afe-be82d3e15cd9b0c3-01
2022-04-21T16:17:46.452Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:46.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f396296972e4338333f59344f07d6bc87ac9f6a-4e1030802313e121-01 outer:exit 2b-0f396296972e4338333f59344f07d6bc87ac9f6a-6d47fd1bfc0bef22-01
2022-04-21T16:17:46.455Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:46.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fea96f0ac906317d265aad921b615da547dd2b7-e7539d3c5fd037cc-01 outer:exit 2b-4fea96f0ac906317d265aad921b615da547dd2b7-c39038772a022426-01
2022-04-21T16:17:46.474Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:46.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-34d2f59f2508f5bd5357b3ced60e440e5e4e3639-cb4cad87c290cefd-01 outer:exit 2b-34d2f59f2508f5bd5357b3ced60e440e5e4e3639-c81b50c6fd4e19a2-01
2022-04-21T16:17:46.491Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:46.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-95835adf1ee4afdd615328debaaf76a796462d0f-9ce4582b0cf39dc6-01 outer:exit 2b-95835adf1ee4afdd615328debaaf76a796462d0f-c017f5e9a4c0f5ca-01
2022-04-21T16:17:46.499Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:46.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-195fc1a839721514824b043800d9764afa44df84-9bce828d2f8ce5f5-01 outer:exit 2b-195fc1a839721514824b043800d9764afa44df84-e8b301b9a8cc1e28-01
2022-04-21T16:17:46.505Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:46.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-13857c35268681b94a44812e27af9031fadfe302-f9780b4d7d1d9276-01 outer:exit 2b-13857c35268681b94a44812e27af9031fadfe302-d4f6052887033f51-01
2022-04-21T16:17:46.508Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:46.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fad73dc3ba094e3e988bf946756e4fa34bb793e-0d08e3ba803b1dda-01 outer:exit 2b-6fad73dc3ba094e3e988bf946756e4fa34bb793e-fa987ad66acd3d58-01
2022-04-21T16:17:46.511Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:46.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecacdc04fd9ca6c35183565b189284f5247b9283-9cac608d88f9bba1-01 outer:exit 2b-ecacdc04fd9ca6c35183565b189284f5247b9283-4259207c943c89da-01
2022-04-21T16:17:46.518Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:46.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-60efd8075f0e6574fbac6f72d3dcdb7929840fcf-26949a006ae2d128-01 outer:exit 2b-60efd8075f0e6574fbac6f72d3dcdb7929840fcf-9b6bd7d2100d2b5f-01
2022-04-21T16:17:46.520Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:46.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-a206bd3e7de3ae11c2eb11a2e0a03ac8bcd37976-a3f15dfdc0a202ef-01 outer:exit 2b-a206bd3e7de3ae11c2eb11a2e0a03ac8bcd37976-620f1bece78ef70d-01
2022-04-21T16:17:46.524Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:46.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff0567fb36bc6b933b8ee54b430174bfdf5dd2ec-79ce13d97afe4bc7-01 outer:exit 2b-ff0567fb36bc6b933b8ee54b430174bfdf5dd2ec-805760b8977f3235-01
2022-04-21T16:17:46.526Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:46.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-a615e98fef5a3b47a82811620ec9b00cdec80a5e-66379a34149175dd-01 outer:exit 2b-a615e98fef5a3b47a82811620ec9b00cdec80a5e-a90fcb273c8a22a3-01
2022-04-21T16:17:46.528Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:46.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-de0449d4b4b9b6850047c3f99298d30a0f75379d-68d7c35c1bef5c6b-01 outer:exit 2b-de0449d4b4b9b6850047c3f99298d30a0f75379d-af25d3592e448bec-01
2022-04-21T16:17:46.530Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:46.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-769aa0be8ad774ff4b869c254a9a9ad9f7bc8844-f0f58b99fab8242f-01 outer:exit 2b-769aa0be8ad774ff4b869c254a9a9ad9f7bc8844-d53484a45243f052-01
2022-04-21T16:17:46.539Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:46.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-11b7e6b5dd3ce7c877712b188c9903908e1681f7-2d0d5e2f770a261e-01 outer:exit 2b-11b7e6b5dd3ce7c877712b188c9903908e1681f7-7c406876523d3caf-01
2022-04-21T16:17:46.547Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:46.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8a708f0081c53837063e97672ce00aa6a5373c4-2c426f8ad2ed5c3b-01 outer:exit 2b-e8a708f0081c53837063e97672ce00aa6a5373c4-81107ae63af06a88-01
2022-04-21T16:17:46.550Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:46.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ea6f62e6b72f5efb3fa4e8be6457e41cf3496e5-eadfdc8cf7ccc942-01 outer:exit 2b-9ea6f62e6b72f5efb3fa4e8be6457e41cf3496e5-5aa8850ec1a5bc83-01
2022-04-21T16:17:46.553Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:46.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7a22e3ec480f5d071e3e43970e4b9635a2c18a4-16d710f6d477b6c7-01 outer:exit 2b-d7a22e3ec480f5d071e3e43970e4b9635a2c18a4-4abe4ed6db67df94-01
2022-04-21T16:17:46.568Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:46.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-46abf8fb4da8ffb0eb60ab674372334b89e3c2e6-1867c4fa42a5bd37-01 outer:exit 2b-46abf8fb4da8ffb0eb60ab674372334b89e3c2e6-ed18aec9e1bc2d88-01
2022-04-21T16:17:46.595Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (360ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.10
updated 1 package and audited 935 packages in 3.903s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:51.339Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:51.340Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:51.340Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:51.340Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:51.401Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:51.526Z appoptics:patching patched crypto 
2022-04-21T16:17:51.554Z appoptics:patching patched https 
2022-04-21T16:17:51.555Z appoptics:patching patched http 
2022-04-21T16:17:51.588Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:51.589Z appoptics:patching patched fs 
2022-04-21T16:17:51.611Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v12.22.12)
2022-04-21T16:17:51.615Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-21T16:17:51.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-90f18c8d1b9e8eb6893a217d7a6fab66b5d9868a-ddb6cce978529a40-01 outer:exit 2b-90f18c8d1b9e8eb6893a217d7a6fab66b5d9868a-7fa7fc4678593daf-01
2022-04-21T16:17:51.656Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:51.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-6214fb6900150b1fd6cca9e60adb962ee6faf0a3-7349334e53ba39b4-01 outer:exit 2b-6214fb6900150b1fd6cca9e60adb962ee6faf0a3-3eb5383eebd1767c-01
2022-04-21T16:17:51.700Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:51.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-22f064507f47ddcdfd6a4a53b63fd6864c92de49-e3d75ed8c92843d7-01 outer:exit 2b-22f064507f47ddcdfd6a4a53b63fd6864c92de49-a18ca45af7af8abf-01
2022-04-21T16:17:51.704Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:51.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b1ab9cfd18b0088861166d8d547a92ae7b9eea7-eac3718bfaecb873-01 outer:exit 2b-8b1ab9cfd18b0088861166d8d547a92ae7b9eea7-aee8820f9668161d-01
2022-04-21T16:17:51.707Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:51.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc2fc9d266fa62e390be4fbc932337cb36087d8a-75be4f3525ec7c63-01 outer:exit 2b-bc2fc9d266fa62e390be4fbc932337cb36087d8a-a1c8a48e54b11af2-01
2022-04-21T16:17:51.714Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:51.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-45d9ef5b266b8f7025cb811ff98d1ceb402fece0-9d5ed8455dd46726-01 outer:exit 2b-45d9ef5b266b8f7025cb811ff98d1ceb402fece0-f2b06326f046421b-01
2022-04-21T16:17:51.717Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:51.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4d64bbb6a17c467faff7f9c45f7908fc6504b60-106c18e103c49d38-01 outer:exit 2b-a4d64bbb6a17c467faff7f9c45f7908fc6504b60-4f8b767708f7c76b-01
2022-04-21T16:17:51.719Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:51.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a5d39909f33b6627d6e49d6f32bd285facfdf12-79ee3352d3000591-01 outer:exit 2b-8a5d39909f33b6627d6e49d6f32bd285facfdf12-cf40646dd3837d30-01
2022-04-21T16:17:51.722Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:51.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-7329851f65d7946b263005b8d4f3e53bcca3dbba-2773b51a5409278f-01 outer:exit 2b-7329851f65d7946b263005b8d4f3e53bcca3dbba-848e25942f967c1f-01
2022-04-21T16:17:51.724Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:51.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-68048ab7448bae71d0976be1daa39ef118339513-71e73f9b7ae3095c-01 outer:exit 2b-68048ab7448bae71d0976be1daa39ef118339513-8c3337be1d524042-01
2022-04-21T16:17:51.727Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:51.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6997a1202fb08a95e0161d4d3736aeeb10aadbe-d08e726cf38d0110-01 outer:exit 2b-b6997a1202fb08a95e0161d4d3736aeeb10aadbe-412c4099ad5d85e7-01
2022-04-21T16:17:51.731Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:51.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-8547466eb1dfa8eb7be86a63ff068aedb6da5222-8b2b2846b22640d1-01 outer:exit 2b-8547466eb1dfa8eb7be86a63ff068aedb6da5222-69027cf594dc4331-01
2022-04-21T16:17:51.736Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:51.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae13c69b23126c154d8a03eda251e63174277110-dba2fee4c6a22788-01 outer:exit 2b-ae13c69b23126c154d8a03eda251e63174277110-219abbd16c09d2dd-01
2022-04-21T16:17:51.752Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:51.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-96e0b655400d8022dac34eb726f6dccbf5d2abb9-725c45b297250751-01 outer:exit 2b-96e0b655400d8022dac34eb726f6dccbf5d2abb9-94e0b11750c447c9-01
2022-04-21T16:17:51.789Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:51.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-a11e95af6967dad003ebee47d0f8b8fb398513e5-0c87c0bf136bd8a4-01 outer:exit 2b-a11e95af6967dad003ebee47d0f8b8fb398513e5-203f3e81b96202da-01
2022-04-21T16:17:51.792Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:51.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef03eaea0fb8cde265c2fbddbd090064e2d0983c-f3c732cd72394e75-01 outer:exit 2b-ef03eaea0fb8cde265c2fbddbd090064e2d0983c-907d460262f24fb4-01
2022-04-21T16:17:51.794Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:51.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-835c10d717782dcd9f4592651bed2f646c05447a-3a5e90422698095a-01 outer:exit 2b-835c10d717782dcd9f4592651bed2f646c05447a-74f25dfe04857dd0-01
2022-04-21T16:17:51.797Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:51.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-5142a90c44681ef71d20f3f1b8c8570e54d5cec3-d235ed074ffe4772-01 outer:exit 2b-5142a90c44681ef71d20f3f1b8c8570e54d5cec3-c61a159a8cbd8901-01
2022-04-21T16:17:51.799Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:51.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-74c5c49183cf471a6c0fcc37fa69d2a5e642f1cf-e203c0613a009b88-01 outer:exit 2b-74c5c49183cf471a6c0fcc37fa69d2a5e642f1cf-9c5f2b074f6577b8-01
2022-04-21T16:17:51.801Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:51.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-38b5f4e979a0413e1b37ecba87bc736d35b70d64-1228e4f520349134-01 outer:exit 2b-38b5f4e979a0413e1b37ecba87bc736d35b70d64-76f0841a91893287-01
2022-04-21T16:17:51.803Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:51.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a0342c8a68e919ee329abab4dc6c1709e19b4f-8679809a6aec2de4-01 outer:exit 2b-42a0342c8a68e919ee329abab4dc6c1709e19b4f-7a18c5b1fa0fd3d8-01
2022-04-21T16:17:51.805Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:51.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fcd65b3268035ac98cc8aed1f45b178b042246d-fe478cfc06f1f5c1-01 outer:exit 2b-0fcd65b3268035ac98cc8aed1f45b178b042246d-232baa067bbcfbd0-01
2022-04-21T16:17:51.808Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:51.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-e19ae48eec7a62c520348d6a7073a7634a7b435b-a83ec74ddddba157-01 outer:exit 2b-e19ae48eec7a62c520348d6a7073a7634a7b435b-4e35cb3b97eb9ff1-01
2022-04-21T16:17:51.811Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:51.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-a88180fd20b4e1452e96920ca7821feef0ab6702-fc2f44f49eaa2315-01 outer:exit 2b-a88180fd20b4e1452e96920ca7821feef0ab6702-687d22a857753866-01
2022-04-21T16:17:51.813Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:51.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-d364cabdbc877cc6520c7a594637399e377a6317-dcca6e53ca466d95-01 outer:exit 2b-d364cabdbc877cc6520c7a594637399e377a6317-8b047d173c0ef8a6-01
2022-04-21T16:17:51.816Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:51.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab6539db2d25254294d29345b47ccbebe9ca8355-7a1b8798c0555f5c-01 outer:exit 2b-ab6539db2d25254294d29345b47ccbebe9ca8355-be1d7e776082cbc9-01
2022-04-21T16:17:51.818Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:51.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5358f5037f8f67511cf8f7fb2804603f982f302-32672aa368c9491c-01 outer:exit 2b-d5358f5037f8f67511cf8f7fb2804603f982f302-97fe38f1c5eb6d0b-01
2022-04-21T16:17:51.826Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:51.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-edefa6a1afb73641168262439c491e1469faf956-db2ed399eadeb93f-01 outer:exit 2b-edefa6a1afb73641168262439c491e1469faf956-05de330ceedbd7d3-01
2022-04-21T16:17:51.830Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:51.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bd8d8beac9df4994c6619ead2e3d5cb498b7b54-4a66972d3f6acd60-01 outer:exit 2b-0bd8d8beac9df4994c6619ead2e3d5cb498b7b54-4997c5c3771c7775-01
2022-04-21T16:17:51.839Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:51.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1af430735d7b50384253b2d472f956404b374a6-4d3ed6c1ea3ca108-01 outer:exit 2b-a1af430735d7b50384253b2d472f956404b374a6-1c58bf841de3975a-01
2022-04-21T16:17:51.845Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:51.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-c970cac86167fc6fbf72ac0488190c94d06056f6-ffbeb38fa92d44ca-01 outer:exit 2b-c970cac86167fc6fbf72ac0488190c94d06056f6-0b75b90cd6bf1c22-01
2022-04-21T16:17:51.847Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:51.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-78bbae2a74345cee0175b2d3cdfec930f820e9e1-f9a93abccb84dc8f-01 outer:exit 2b-78bbae2a74345cee0175b2d3cdfec930f820e9e1-59a347782d9d0dc4-01
2022-04-21T16:17:51.850Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:51.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-16a556dfa0db23cb7624214ac01123c7eb2c3b45-ee12fbeff9c522d5-01 outer:exit 2b-16a556dfa0db23cb7624214ac01123c7eb2c3b45-311354aa40398856-01
2022-04-21T16:17:51.856Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:51.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4f1e4d9d6e6329f0afcdd9907879c3598eeaab2-8099b161cf9f9b26-01 outer:exit 2b-f4f1e4d9d6e6329f0afcdd9907879c3598eeaab2-62ff76866360b2b5-01
2022-04-21T16:17:51.858Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:51.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-840522e71a256ee32cdb050f5f9a04ef7ea5e896-63ffdd2f017af183-01 outer:exit 2b-840522e71a256ee32cdb050f5f9a04ef7ea5e896-7b91bc42f348c1bc-01
2022-04-21T16:17:51.860Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:51.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5735c60445df996c682d391a30fe65d3085dd2c-c40f4ed480ca4c70-01 outer:exit 2b-e5735c60445df996c682d391a30fe65d3085dd2c-6727a3b7650c020c-01
2022-04-21T16:17:51.862Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:51.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-4898072a95a8e8e7d4f3170b40a9837c1c720e0f-c490379842cc3d83-01 outer:exit 2b-4898072a95a8e8e7d4f3170b40a9837c1c720e0f-28de005b8bfa177d-01
2022-04-21T16:17:51.864Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:51.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-41cded567548dd268686edbab98329fd29efbe6f-dacf6ca91de0d66f-01 outer:exit 2b-41cded567548dd268686edbab98329fd29efbe6f-7c2bfcfe9fa84a71-01
2022-04-21T16:17:51.866Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:51.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-028ff1c685513907883230394bdd3660d354e096-8b9e2d3ecbf8ec63-01 outer:exit 2b-028ff1c685513907883230394bdd3660d354e096-f3e8782ef9e24792-01
2022-04-21T16:17:51.874Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:51.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-717ed91d2dc20801f1d83b24864b8e6551066e26-f1b370172e82b3c9-01 outer:exit 2b-717ed91d2dc20801f1d83b24864b8e6551066e26-4479391fa061584a-01
2022-04-21T16:17:51.882Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:51.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-f78dc58ed24c258d11a4cecc2af7ad45493f6ccc-0d41d2afdeed5471-01 outer:exit 2b-f78dc58ed24c258d11a4cecc2af7ad45493f6ccc-db38dc2421b17b1b-01
2022-04-21T16:17:51.885Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:51.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1d32702a241541e9083fd756851259dcc162730-6bae9554f6efb071-01 outer:exit 2b-e1d32702a241541e9083fd756851259dcc162730-e83f76d31d740b9d-01
2022-04-21T16:17:51.888Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:51.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-cccaa2774fb62e0d4d85b949a82f38b7a6164cd8-ef5c0ba6f7f07d5c-01 outer:exit 2b-cccaa2774fb62e0d4d85b949a82f38b7a6164cd8-fbcc9b475ff92ef6-01
2022-04-21T16:17:51.891Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:51.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-3925cf6fbd90330e919b2a1ec19de0a4ff0e1806-14f7bf78ecbdefb6-01 outer:exit 2b-3925cf6fbd90330e919b2a1ec19de0a4ff0e1806-543d6c12d0b70b23-01
2022-04-21T16:17:51.917Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (295ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.11
updated 1 package and audited 935 packages in 4.346s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:17:57.151Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:57.151Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:57.152Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:57.152Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:57.222Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:57.363Z appoptics:patching patched crypto 
2022-04-21T16:17:57.383Z appoptics:patching patched https 
2022-04-21T16:17:57.384Z appoptics:patching patched http 
2022-04-21T16:17:57.422Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:57.422Z appoptics:patching patched fs 
2022-04-21T16:17:57.444Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v12.22.12)
2022-04-21T16:17:57.449Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-21T16:17:57.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-26afeec1b19f838e47cf6e3b4dda0d52e1a1234b-4a3da87225f0462b-01 outer:exit 2b-26afeec1b19f838e47cf6e3b4dda0d52e1a1234b-3e57406bfc295c8a-01
2022-04-21T16:17:57.489Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:57.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-13ae27543bc5662d647c2f25d1809cf4f8367a08-d292a745362110de-01 outer:exit 2b-13ae27543bc5662d647c2f25d1809cf4f8367a08-799853417fe856b9-01
2022-04-21T16:17:57.530Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:57.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ccf8d8218caf28043f8c12fce01625628c19846-535721573ee46831-01 outer:exit 2b-7ccf8d8218caf28043f8c12fce01625628c19846-6d38c86baccd9791-01
2022-04-21T16:17:57.533Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:57.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-0382a5043972aa58e3ed60161c3e9f8d199c56fc-0b2d594e160020a0-01 outer:exit 2b-0382a5043972aa58e3ed60161c3e9f8d199c56fc-770c453a75587e1c-01
2022-04-21T16:17:57.537Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:57.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2888a8ba8a4d98ec96559d1be39bec013ebfa20-727a42b8f0c24c16-01 outer:exit 2b-c2888a8ba8a4d98ec96559d1be39bec013ebfa20-a5146ce5d2572d9c-01
2022-04-21T16:17:57.541Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:57.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-d25f9b79bcd627fabb0155f1851dd6a658282f6f-5e128c984056b929-01 outer:exit 2b-d25f9b79bcd627fabb0155f1851dd6a658282f6f-0e909a4f03e92ae6-01
2022-04-21T16:17:57.544Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:57.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aa6d4ac9451dba2243dcf70346df9d686630c23-853667a304867246-01 outer:exit 2b-7aa6d4ac9451dba2243dcf70346df9d686630c23-63ef8fde80cdd796-01
2022-04-21T16:17:57.546Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:57.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e64a02086a36677b3eb9a67fcc624d444e60a8d-58850b826c002f8f-01 outer:exit 2b-8e64a02086a36677b3eb9a67fcc624d444e60a8d-51a36e90aa47f8d5-01
2022-04-21T16:17:57.552Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:57.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-5222497c7d52378c2e19a9dbdd4e522b21e30fa1-154ea52762f9910c-01 outer:exit 2b-5222497c7d52378c2e19a9dbdd4e522b21e30fa1-569bf62e6dc778e9-01
2022-04-21T16:17:57.554Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:57.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-96f52bbf11f2e0331879f5c78f4f5f338717a736-bf2d3167536297f8-01 outer:exit 2b-96f52bbf11f2e0331879f5c78f4f5f338717a736-cc8b1ed8421253bb-01
2022-04-21T16:17:57.557Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:57.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4c2face83d17a19ca2c194dc67a0ed74eea340e-9e5ef47aa4cac00d-01 outer:exit 2b-a4c2face83d17a19ca2c194dc67a0ed74eea340e-a42d965fa8a25cc7-01
2022-04-21T16:17:57.560Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:57.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-63d1773e2364d575cfce66374c5d45b0ac15f01b-6033c9f1f9ae1905-01 outer:exit 2b-63d1773e2364d575cfce66374c5d45b0ac15f01b-90f647a0a38d8775-01
2022-04-21T16:17:57.566Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:57.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-b63b8234e044d2ee2d7bdd76f9dfb484a72c8b25-7eb359664dec9e61-01 outer:exit 2b-b63b8234e044d2ee2d7bdd76f9dfb484a72c8b25-5398029137a5b5e1-01
2022-04-21T16:17:57.582Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:57.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-fca99fc0a82a9464df2c32ca3ba17157758b1f68-db60acd2345dc009-01 outer:exit 2b-fca99fc0a82a9464df2c32ca3ba17157758b1f68-bf96dba283700215-01
2022-04-21T16:17:57.621Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:57.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf84a5ceb0978d14093eeadf3da85dd948544a64-7732df35b09f2273-01 outer:exit 2b-bf84a5ceb0978d14093eeadf3da85dd948544a64-ab02752a4014f0cb-01
2022-04-21T16:17:57.624Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:57.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5884daba0646fcf482e145e4f8ab5a35a56c508-6832ca5e8ea55902-01 outer:exit 2b-f5884daba0646fcf482e145e4f8ab5a35a56c508-a78722efd3bc9a17-01
2022-04-21T16:17:57.626Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:57.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-e115d6c0cb9bc93e78e6da8ed59a461bc9226f93-aa3b882c230bda6f-01 outer:exit 2b-e115d6c0cb9bc93e78e6da8ed59a461bc9226f93-5c92c010bf741131-01
2022-04-21T16:17:57.629Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:57.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbc9c685182df7cbd8950c61bbc9908a0c09aa77-40d39a3ecec30797-01 outer:exit 2b-dbc9c685182df7cbd8950c61bbc9908a0c09aa77-03cff175c7b0baad-01
2022-04-21T16:17:57.631Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:57.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-822fd6c276e71061060841ed8b21a4c375a39167-3ac78c33cf9d5ecb-01 outer:exit 2b-822fd6c276e71061060841ed8b21a4c375a39167-36471fd545c2c111-01
2022-04-21T16:17:57.633Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:57.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-c87bab75773f7528959316f516c37f19c308eec7-4f1f60f38f3bee99-01 outer:exit 2b-c87bab75773f7528959316f516c37f19c308eec7-d94d3e6db7277c2e-01
2022-04-21T16:17:57.639Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:57.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-28de62871d01f0fa84579283060279de81b0b167-7a94f64b4a0aeb82-01 outer:exit 2b-28de62871d01f0fa84579283060279de81b0b167-d250f36b018914c6-01
2022-04-21T16:17:57.641Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:57.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-0744501c3a97c725db05f8c133a1435110f5fe2a-c8f7bb7b184c641f-01 outer:exit 2b-0744501c3a97c725db05f8c133a1435110f5fe2a-ee1395f429f5bcd6-01
2022-04-21T16:17:57.643Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:57.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-14635846d315e941ffb825e8d9ce5d30c9c1b10a-e8744471ec7311e8-01 outer:exit 2b-14635846d315e941ffb825e8d9ce5d30c9c1b10a-a0928bbc9bcd9347-01
2022-04-21T16:17:57.646Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:57.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3711a41fd403203fda5fb9a0bf98bc0c9f83211-807110795d01b775-01 outer:exit 2b-c3711a41fd403203fda5fb9a0bf98bc0c9f83211-1428aa633e3100f3-01
2022-04-21T16:17:57.649Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:57.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2fc842422751946c3e9f3fe229ab76fea17b5cb-0d85891a93019188-01 outer:exit 2b-d2fc842422751946c3e9f3fe229ab76fea17b5cb-c41b34d49e76c829-01
2022-04-21T16:17:57.651Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:57.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bdfb74ed494cec1b2e1c2fba0951de34b5113ef-49516f2ff32ddc44-01 outer:exit 2b-3bdfb74ed494cec1b2e1c2fba0951de34b5113ef-69d63bfef3930f78-01
2022-04-21T16:17:57.654Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:57.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-64eabd4ce0841c040c2190b880cc1feb20ef4780-42ec8b6dd03dea0e-01 outer:exit 2b-64eabd4ce0841c040c2190b880cc1feb20ef4780-b9de1e0773a5cc92-01
2022-04-21T16:17:57.663Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:57.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1a07b87282ce9b811c0e618536a591d85412f6d-06584f6874acaf02-01 outer:exit 2b-b1a07b87282ce9b811c0e618536a591d85412f6d-3f8745699e9811e6-01
2022-04-21T16:17:57.668Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:57.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-369bcdd214f83ab6f2ee45628745f03553c29e2e-4af2769dfcf42655-01 outer:exit 2b-369bcdd214f83ab6f2ee45628745f03553c29e2e-3668019f9923066e-01
2022-04-21T16:17:57.676Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:57.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-55cd2c8c049828ed303f6b1991f50cb0c2f42cfd-83a47b6ce5c5a5e8-01 outer:exit 2b-55cd2c8c049828ed303f6b1991f50cb0c2f42cfd-54ba7b9bac9fa3ae-01
2022-04-21T16:17:57.683Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:57.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-b98d5573e30f71c6d785987ea4a9f87f044c4556-3b1ddd6977516181-01 outer:exit 2b-b98d5573e30f71c6d785987ea4a9f87f044c4556-344100937394229f-01
2022-04-21T16:17:57.685Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:57.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-efa19394a22b2de06667d89b076d8b1efe3c2112-d32e1dbc3c1de7da-01 outer:exit 2b-efa19394a22b2de06667d89b076d8b1efe3c2112-1562b38f4f348c25-01
2022-04-21T16:17:57.689Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:57.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-96d3b193d4a60b6973af88385017fa21216fd775-0e153f63b0d2b1a5-01 outer:exit 2b-96d3b193d4a60b6973af88385017fa21216fd775-01577a24f831978e-01
2022-04-21T16:17:57.695Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:57.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-45dffa7cee05585bd86943ccad27aa1995c9a156-b618f1ec4be6a190-01 outer:exit 2b-45dffa7cee05585bd86943ccad27aa1995c9a156-65b9a46f4041981e-01
2022-04-21T16:17:57.698Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:57.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc736a689dcf6fa6bdb1d97ade774f46aad3389a-593c102c7b0b6072-01 outer:exit 2b-fc736a689dcf6fa6bdb1d97ade774f46aad3389a-a067c6f8847cc30f-01
2022-04-21T16:17:57.701Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:57.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-4133dc453d000f1abbd198d872e3884b7cfdb2b5-9834ef1d57f1a470-01 outer:exit 2b-4133dc453d000f1abbd198d872e3884b7cfdb2b5-c94a01da172d75fa-01
2022-04-21T16:17:57.704Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:57.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-3175851d1ef9e7a18e51a456650b39d0ee0bce19-81db09614d824cce-01 outer:exit 2b-3175851d1ef9e7a18e51a456650b39d0ee0bce19-9b4e54d79389180f-01
2022-04-21T16:17:57.706Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:57.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-b41217c9ddca42f9e144430e8b7385f18fe00dc2-de172da232307af9-01 outer:exit 2b-b41217c9ddca42f9e144430e8b7385f18fe00dc2-532f86e88b2e88ec-01
2022-04-21T16:17:57.708Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:57.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-39d35d289fdee724a5807430d4af9364eac150b6-3c5098e86ca7536c-01 outer:exit 2b-39d35d289fdee724a5807430d4af9364eac150b6-f3ae0d92273f23de-01
2022-04-21T16:17:57.717Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:57.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-feb9b40477573cf88dd9c08ef06d254e20587c39-0b81b5f82ca91a01-01 outer:exit 2b-feb9b40477573cf88dd9c08ef06d254e20587c39-a771d2f5754c137a-01
2022-04-21T16:17:57.725Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:57.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-139a078a7509e49bee25909d39ef98c04d32530d-ebc0422fa8d10f9e-01 outer:exit 2b-139a078a7509e49bee25909d39ef98c04d32530d-6387fb9ee8fa94e1-01
2022-04-21T16:17:57.728Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:57.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c104c5a9034a94cc13d99df27cbdb952e063bf3-49dc0af2287387f5-01 outer:exit 2b-9c104c5a9034a94cc13d99df27cbdb952e063bf3-aaf32a691c8387ed-01
2022-04-21T16:17:57.731Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:57.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf98967d67f5dbd980afdeaeb24fe9c259fc20de-1f135f268707dffc-01 outer:exit 2b-cf98967d67f5dbd980afdeaeb24fe9c259fc20de-46d3ace34139b8cf-01
2022-04-21T16:17:57.734Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:57.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-eca09ab04b1ef7aaf2b57cec21e67ba1ec061fdb-7c960946921d89f2-01 outer:exit 2b-eca09ab04b1ef7aaf2b57cec21e67ba1ec061fdb-44de35da209147d7-01
2022-04-21T16:17:57.760Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (305ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.12
updated 1 package and audited 935 packages in 3.699s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:02.307Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:02.308Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:02.308Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:02.308Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:02.369Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:02.491Z appoptics:patching patched crypto 
2022-04-21T16:18:02.509Z appoptics:patching patched https 
2022-04-21T16:18:02.509Z appoptics:patching patched http 
2022-04-21T16:18:02.546Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:02.546Z appoptics:patching patched fs 
2022-04-21T16:18:02.570Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v12.22.12)
2022-04-21T16:18:02.575Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-21T16:18:02.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-da38ef84d511bc0de9db44dee880048dc032540b-24b9ccaad3e2ade8-01 outer:exit 2b-da38ef84d511bc0de9db44dee880048dc032540b-ae28f28cc0bca1cb-01
2022-04-21T16:18:02.615Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:02.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-edbc937456d97f99caf94e58e8c5e9d6d9f8b649-5d410c4485c9c09e-01 outer:exit 2b-edbc937456d97f99caf94e58e8c5e9d6d9f8b649-19ca3f6d3cadec4c-01
2022-04-21T16:18:02.656Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:02.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3fcf3958bec940a5fa7b29ec739077c3ffaccd4-730fee5199c35e79-01 outer:exit 2b-b3fcf3958bec940a5fa7b29ec739077c3ffaccd4-f087024c6aedb845-01
2022-04-21T16:18:02.660Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:02.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-289df98a0db438ad9a91f6f39f7d65066aa158eb-ba94e50b22519cee-01 outer:exit 2b-289df98a0db438ad9a91f6f39f7d65066aa158eb-37b36e04a27e8d56-01
2022-04-21T16:18:02.663Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:02.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-3374dcf89a0f61c0a06098cb6612296b0f22e61b-73073762e4109485-01 outer:exit 2b-3374dcf89a0f61c0a06098cb6612296b0f22e61b-9412a5664b5315f8-01
2022-04-21T16:18:02.667Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:02.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-9699a97dc12fb2adea4fc3516752ddde35a720d7-516f795f2b9ff926-01 outer:exit 2b-9699a97dc12fb2adea4fc3516752ddde35a720d7-d8ff386f7fa5c240-01
2022-04-21T16:18:02.670Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:02.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-e27b31b8d5091f69cedc250c1803308293d652cc-f7f03d49880656ab-01 outer:exit 2b-e27b31b8d5091f69cedc250c1803308293d652cc-28f18de7ea6678cc-01
2022-04-21T16:18:02.673Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:02.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-5246d48fd1a8aaba194f583e7f9ebb885a83f7c4-d2461816a555352f-01 outer:exit 2b-5246d48fd1a8aaba194f583e7f9ebb885a83f7c4-918e4cd43cea9c0c-01
2022-04-21T16:18:02.681Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:02.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3c559e2a9aed3b1c4a8e6845d5a7719e357c240-5e6fea840496081d-01 outer:exit 2b-c3c559e2a9aed3b1c4a8e6845d5a7719e357c240-3331fb9f1bbeddd8-01
2022-04-21T16:18:02.683Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:02.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b5f770bf1efbb2f03537e337c465c941de9d5e-f48cab518333da22-01 outer:exit 2b-91b5f770bf1efbb2f03537e337c465c941de9d5e-eed2ffc91f47913e-01
2022-04-21T16:18:02.686Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:02.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fa75bc96093f0bd56b108ccb1a944b54f821979-30c18d94228b428b-01 outer:exit 2b-5fa75bc96093f0bd56b108ccb1a944b54f821979-599424468a023cfd-01
2022-04-21T16:18:02.689Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:02.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f670024c6118af183bdf93710ef7b36b041fc3d-821b5488bd098549-01 outer:exit 2b-5f670024c6118af183bdf93710ef7b36b041fc3d-8da32960525ecdd6-01
2022-04-21T16:18:02.695Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:02.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-f15a0843f574b7d577a4d32e0854c61e50482639-c43e6ff542556301-01 outer:exit 2b-f15a0843f574b7d577a4d32e0854c61e50482639-5d8c08aedc89e0d9-01
2022-04-21T16:18:02.711Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:02.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc53458a086c12d4479579ff760c315f7dc92d48-acc7d17a6e02548a-01 outer:exit 2b-fc53458a086c12d4479579ff760c315f7dc92d48-4ce963938c3ed184-01
2022-04-21T16:18:02.749Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:02.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c19af8ee7e08133acded7fc78ba0e08586ef76f-1d905614df17c3c8-01 outer:exit 2b-3c19af8ee7e08133acded7fc78ba0e08586ef76f-9c46aae5ecd3639f-01
2022-04-21T16:18:02.752Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:02.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e169d069928a5afccc6801cb9b6631503607849-308cbac6fd8a93f0-01 outer:exit 2b-2e169d069928a5afccc6801cb9b6631503607849-606e164c78d6dcf6-01
2022-04-21T16:18:02.755Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:02.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6111b5e6a8718dae4e2ea2424a2aa2fb034a749-5ddb4222ffa82758-01 outer:exit 2b-d6111b5e6a8718dae4e2ea2424a2aa2fb034a749-69f43d201ac5adae-01
2022-04-21T16:18:02.758Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:02.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce317dc8cbbc36aa295a397f0eca0c63183674ce-ca6d649a440e7fd3-01 outer:exit 2b-ce317dc8cbbc36aa295a397f0eca0c63183674ce-30ec36266c0c7488-01
2022-04-21T16:18:02.761Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:02.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-80772727704eafbb9a36c08d03decdf33091969c-e25c82b8b3b51b68-01 outer:exit 2b-80772727704eafbb9a36c08d03decdf33091969c-d5202c8414da0490-01
2022-04-21T16:18:02.764Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:02.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d6cb3178443c65db25c32e63a3662edfa38083-82b17cf494b86b3e-01 outer:exit 2b-b2d6cb3178443c65db25c32e63a3662edfa38083-b4cd00e419a5c1c9-01
2022-04-21T16:18:02.766Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:02.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1b4fd0751aea72cc871ee20af9e9b4481e46234-06b0932e421d2f33-01 outer:exit 2b-b1b4fd0751aea72cc871ee20af9e9b4481e46234-533c0892b5b24f57-01
2022-04-21T16:18:02.768Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:02.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1d0050dc14f917a9f6385318de0f85ffa2886f3-5d9961fa2f251a9c-01 outer:exit 2b-b1d0050dc14f917a9f6385318de0f85ffa2886f3-c50d3b21cd30fe2f-01
2022-04-21T16:18:02.770Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:02.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e5f15a31b2f83154a0d3db7917dca260498daf6-789d95227ec997bb-01 outer:exit 2b-1e5f15a31b2f83154a0d3db7917dca260498daf6-2ad674afcad09bdf-01
2022-04-21T16:18:02.773Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:02.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb914d25de3e7cbe65da231b8c54907320feab1e-a544b164936eb169-01 outer:exit 2b-cb914d25de3e7cbe65da231b8c54907320feab1e-c9ab768cfbc34da6-01
2022-04-21T16:18:02.776Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:02.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-657cfd1fb117aee23aeda0506ae54167ace250c9-a33a678fe569d25c-01 outer:exit 2b-657cfd1fb117aee23aeda0506ae54167ace250c9-2e9c4b26fcf9f9bc-01
2022-04-21T16:18:02.778Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:02.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-cad58f6f7bbfbfcf49105e18a5a43abd67e557fb-47e35cc7d6bcfee6-01 outer:exit 2b-cad58f6f7bbfbfcf49105e18a5a43abd67e557fb-6c79f275a911deb3-01
2022-04-21T16:18:02.781Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:02.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9e10222e31d340a9e519e00988d23d3a9bd874c-a90b8cc5cabcaa24-01 outer:exit 2b-c9e10222e31d340a9e519e00988d23d3a9bd874c-84a40fe69fbb8168-01
2022-04-21T16:18:02.787Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:02.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-e084e058e77e1c141b9d99ede9b7d0c479505e4f-458a2c5ba436b85b-01 outer:exit 2b-e084e058e77e1c141b9d99ede9b7d0c479505e4f-68e697d85f838b8c-01
2022-04-21T16:18:02.792Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:02.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea444dfda054c2d50d6529f814cc72a448e37d99-1024e11538ba5049-01 outer:exit 2b-ea444dfda054c2d50d6529f814cc72a448e37d99-1a53e7f773fcca02-01
2022-04-21T16:18:02.800Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:02.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-e09add0ced46c90d06f54fd9a1dd5ccb405e1704-c5eb4b4fec698aee-01 outer:exit 2b-e09add0ced46c90d06f54fd9a1dd5ccb405e1704-270719b0d8e6ef10-01
2022-04-21T16:18:02.806Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:02.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ebdfe0ada37ba19a410742d875b7a96ce12789e-45bbacffed081d79-01 outer:exit 2b-0ebdfe0ada37ba19a410742d875b7a96ce12789e-723a875bf77fb0eb-01
2022-04-21T16:18:02.808Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:02.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7419dc4b89f2f6ff9f0ab6c989c39872ff63c9e-32f2644534fc95b8-01 outer:exit 2b-b7419dc4b89f2f6ff9f0ab6c989c39872ff63c9e-8e68266d22607b87-01
2022-04-21T16:18:02.811Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:02.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-7445f2435e41fbb27804733a511265e1d18b11d0-22c1bef3c0a6ddc3-01 outer:exit 2b-7445f2435e41fbb27804733a511265e1d18b11d0-3e67ce5a74e7d9e1-01
2022-04-21T16:18:02.819Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:02.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-db2c7fb121e4eb2ce1505de72acc95bcd752432c-97a04ba6d8809dfa-01 outer:exit 2b-db2c7fb121e4eb2ce1505de72acc95bcd752432c-b1ed8e926279aa93-01
2022-04-21T16:18:02.821Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:02.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-be7a15a3119bad78370601a1777723c9b2464f50-ed3f9863ed6ab4e1-01 outer:exit 2b-be7a15a3119bad78370601a1777723c9b2464f50-5b10424e1595d06b-01
2022-04-21T16:18:02.823Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:02.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-a909f230c918a4cdf5bed91fb3ba33551286af00-61703c3531bf92d6-01 outer:exit 2b-a909f230c918a4cdf5bed91fb3ba33551286af00-04b0d890a77ea162-01
2022-04-21T16:18:02.825Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:02.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c09e6ca2ac097b381cb80b408b66399b369b22a-7a0723f637fd2608-01 outer:exit 2b-6c09e6ca2ac097b381cb80b408b66399b369b22a-79da98c4c7ac6c08-01
2022-04-21T16:18:02.827Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:02.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e6b5bbd82c8505523fc37b67cff1fbfc26111fc-cd36a170a4040c9b-01 outer:exit 2b-7e6b5bbd82c8505523fc37b67cff1fbfc26111fc-49e2aa7337fed59d-01
2022-04-21T16:18:02.829Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:02.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-5783c319a7139c4eed1dba05ec70277d7989e6dd-79b5c2a476c1ea67-01 outer:exit 2b-5783c319a7139c4eed1dba05ec70277d7989e6dd-fc70cc31548085a1-01
2022-04-21T16:18:02.839Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:02.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-7385b03e01f78fcf47342c9a4ce3d5ca761c1b99-9d04150881d17af8-01 outer:exit 2b-7385b03e01f78fcf47342c9a4ce3d5ca761c1b99-66fcfc6a51c75c3f-01
2022-04-21T16:18:02.852Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:02.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-767a7479af2ae440c55d604b7285cf930af00f5d-04e73395a428331f-01 outer:exit 2b-767a7479af2ae440c55d604b7285cf930af00f5d-f0a02b3892187aeb-01
2022-04-21T16:18:02.855Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:02.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5b514bf3612878ff0c07cabba99d5968fcfc7d1-589880cd05a2c3bd-01 outer:exit 2b-c5b514bf3612878ff0c07cabba99d5968fcfc7d1-9cc384318a6aef41-01
2022-04-21T16:18:02.862Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:02.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c31db3cf566c36a1ff57f5640d23961c034dac5-3bd7d711742f6f5c-01 outer:exit 2b-4c31db3cf566c36a1ff57f5640d23961c034dac5-844382909d181248-01
2022-04-21T16:18:02.864Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:02.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-44acf7c88d75bbbe86540828f2587c2c89aa9fa5-e88026027e6947d5-01 outer:exit 2b-44acf7c88d75bbbe86540828f2587c2c89aa9fa5-0f21440735b4f7fe-01
2022-04-21T16:18:02.891Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (309ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.13
updated 1 package and audited 935 packages in 4.742s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:08.522Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:08.523Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:08.523Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:08.523Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:08.585Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:08.708Z appoptics:patching patched crypto 
2022-04-21T16:18:08.724Z appoptics:patching patched https 
2022-04-21T16:18:08.725Z appoptics:patching patched http 
2022-04-21T16:18:08.760Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:08.760Z appoptics:patching patched fs 
2022-04-21T16:18:08.784Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v12.22.12)
2022-04-21T16:18:08.789Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-21T16:18:08.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-beaad3e25a622fb357b9345a89752222137d58d1-f164388b221d0999-01 outer:exit 2b-beaad3e25a622fb357b9345a89752222137d58d1-b97c45e54e77e444-01
2022-04-21T16:18:08.830Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:08.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-e90f789a8a6fcdbff6514074191b3a7af8279eb6-b2da1da8d53164f3-01 outer:exit 2b-e90f789a8a6fcdbff6514074191b3a7af8279eb6-a1cb9b4a2b55c802-01
2022-04-21T16:18:08.870Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:08.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3c1ef8457bd87bd0d46276b8862434e66ce4851-6d4d39b65df7a443-01 outer:exit 2b-e3c1ef8457bd87bd0d46276b8862434e66ce4851-fec476665d46eeac-01
2022-04-21T16:18:08.873Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:08.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-cecfdad2a327d85edd4baecfe09079d55937fa3b-b44b8bd17621b1d3-01 outer:exit 2b-cecfdad2a327d85edd4baecfe09079d55937fa3b-7910f0f8a91e068a-01
2022-04-21T16:18:08.876Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:08.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-035172ec2f19ef623785ce2f36d193f134705664-27cb122dffcb34be-01 outer:exit 2b-035172ec2f19ef623785ce2f36d193f134705664-4dda47233bc674ff-01
2022-04-21T16:18:08.880Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:08.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-a94c40b97279fa366407347fde8f848edcf1e9a5-8237cafdced939d6-01 outer:exit 2b-a94c40b97279fa366407347fde8f848edcf1e9a5-7fd6303e176535e4-01
2022-04-21T16:18:08.883Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:08.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-548a2f47633161b14e3a30c932991af077e14b9d-1f728a9f9b620cac-01 outer:exit 2b-548a2f47633161b14e3a30c932991af077e14b9d-deb198bde3b99208-01
2022-04-21T16:18:08.885Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:08.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9bbd3b46f81fd281e1b77a54edb9f4e45b0d355-a5f9cd78ec016bbd-01 outer:exit 2b-c9bbd3b46f81fd281e1b77a54edb9f4e45b0d355-c26ebfaeb4ba13d7-01
2022-04-21T16:18:08.891Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:08.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-efd556688b38bda928215f4acf17c7c21041dec6-7854f890c682145d-01 outer:exit 2b-efd556688b38bda928215f4acf17c7c21041dec6-6e13def97e23a514-01
2022-04-21T16:18:08.893Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:08.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1a8592127a11c1e4b64af8be6c59bf0b2fbeb74-342ac5a95a0fbce2-01 outer:exit 2b-e1a8592127a11c1e4b64af8be6c59bf0b2fbeb74-12aaa6286d07cc60-01
2022-04-21T16:18:08.895Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:08.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-bca4eb8972ce66f1ab7b7023ab4268b595375ea0-5e98a15882495b79-01 outer:exit 2b-bca4eb8972ce66f1ab7b7023ab4268b595375ea0-3f703c9914af630e-01
2022-04-21T16:18:08.899Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:08.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf1a294a458734ce0a3b1d16beae63cac387ae9b-7620a9669380a90f-01 outer:exit 2b-cf1a294a458734ce0a3b1d16beae63cac387ae9b-b00c2fa2194a61a0-01
2022-04-21T16:18:08.905Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:08.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-87356f14741359c9e8559a710e6c03cd1d98a686-1be0ad034b5bf7ba-01 outer:exit 2b-87356f14741359c9e8559a710e6c03cd1d98a686-4f86e3ab0cbeb00f-01
2022-04-21T16:18:08.918Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:08.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-388e13b7a6ef7e00b9923143ce5cc6bcddaa29b1-261e8ec2a0d7a331-01 outer:exit 2b-388e13b7a6ef7e00b9923143ce5cc6bcddaa29b1-76fc3e92ddc7eadb-01
2022-04-21T16:18:08.956Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:08.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-3245b5a325257962514a635d6eccf228f05b5b08-d279ec905636e4a3-01 outer:exit 2b-3245b5a325257962514a635d6eccf228f05b5b08-8784afa5a9f5e6a2-01
2022-04-21T16:18:08.959Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:08.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4834abd740ef5becfdbc1ca40d0edc2aada063e-f721466673f601d4-01 outer:exit 2b-d4834abd740ef5becfdbc1ca40d0edc2aada063e-b18b46e36ba8d9f7-01
2022-04-21T16:18:08.961Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:08.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-867c62090248c6e8efdb64e2952ae709b8d2c22c-ee39427263671326-01 outer:exit 2b-867c62090248c6e8efdb64e2952ae709b8d2c22c-5268a77af5f45282-01
2022-04-21T16:18:08.964Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:08.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-38a1dc34bbde3b6a9d4215d31abf1b8f7ec188ea-aa4af0e4eb68fc26-01 outer:exit 2b-38a1dc34bbde3b6a9d4215d31abf1b8f7ec188ea-349506a9f55bf74f-01
2022-04-21T16:18:08.966Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:08.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-44132fd5a11398de7eeead3a3c73396b974ea0f7-360ebab54e481002-01 outer:exit 2b-44132fd5a11398de7eeead3a3c73396b974ea0f7-630086e9e64230e5-01
2022-04-21T16:18:08.968Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:08.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-01ca4e884cf5ca830a7579e10164dbc093ca2e21-47af4d4d6fad0e46-01 outer:exit 2b-01ca4e884cf5ca830a7579e10164dbc093ca2e21-0b2d756ecd6ed887-01
2022-04-21T16:18:08.970Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:08.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-073f9ce901b38f31c1052665771caa8e5fa6eb8f-e55453c8e3606f73-01 outer:exit 2b-073f9ce901b38f31c1052665771caa8e5fa6eb8f-4afa8ec9f0b156f9-01
2022-04-21T16:18:08.972Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:08.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fca0dc8e2dd516e360ca4211b7e1db692b398ab-a69d07487b51a429-01 outer:exit 2b-5fca0dc8e2dd516e360ca4211b7e1db692b398ab-49c7015fde8dade5-01
2022-04-21T16:18:08.974Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:08.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-9623fc15ac11a3c581582c2c5201178254267b88-2be1360d533a2708-01 outer:exit 2b-9623fc15ac11a3c581582c2c5201178254267b88-0a456efb3abee10c-01
2022-04-21T16:18:08.977Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:08.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b772092fac09a25682d30ce273a13d100a30882-25875715b4b7d7e2-01 outer:exit 2b-2b772092fac09a25682d30ce273a13d100a30882-195f65dad485534b-01
2022-04-21T16:18:08.980Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:08.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-25f7e2977d50fdff2553cf767a6f19bbe56baae3-a34f9f0d6c8f714e-01 outer:exit 2b-25f7e2977d50fdff2553cf767a6f19bbe56baae3-26197bf81dc5d39d-01
2022-04-21T16:18:08.982Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:08.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-49a161836827bef28b0b9f3124a9d7c71ba47c5c-271521e8813e193a-01 outer:exit 2b-49a161836827bef28b0b9f3124a9d7c71ba47c5c-b7ce16b43679e925-01
2022-04-21T16:18:08.985Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:08.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d57ba3dfd303046f99b43b9470a7a413c2b1fee-bf552363104c02c1-01 outer:exit 2b-9d57ba3dfd303046f99b43b9470a7a413c2b1fee-ea45d05417c55b16-01
2022-04-21T16:18:08.992Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:08.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-624d3855c092a4a51b1b0916deabbd7150e9dfa1-9a681e2f96d847c3-01 outer:exit 2b-624d3855c092a4a51b1b0916deabbd7150e9dfa1-1499b9e6bb933007-01
2022-04-21T16:18:08.996Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:09.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-017ff082bb70c57f04656b29e016bdb95c8d613b-d65447f33abf5740-01 outer:exit 2b-017ff082bb70c57f04656b29e016bdb95c8d613b-d933af1f62f6ca46-01
2022-04-21T16:18:09.005Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:09.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6ac10a0e5ea9c8ec5f8e863d9e4ef92c0c0528a-8305b07d6643c1ac-01 outer:exit 2b-d6ac10a0e5ea9c8ec5f8e863d9e4ef92c0c0528a-79c40801c839fc68-01
2022-04-21T16:18:09.013Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:09.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-f89e418af5e4b16ae17165b5a29ba78f58ad0788-6facd5faa1c42c31-01 outer:exit 2b-f89e418af5e4b16ae17165b5a29ba78f58ad0788-037f1bbe5196019d-01
2022-04-21T16:18:09.015Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:09.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c6819afc4d8295f293423e5ba52bdfc1283dbfc-137f995519522564-01 outer:exit 2b-4c6819afc4d8295f293423e5ba52bdfc1283dbfc-cf829d17e43ae9ef-01
2022-04-21T16:18:09.017Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:09.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-d05e8e8dfe4de5cb837d6389fc20d3dd7f768c83-669edb46eb448f57-01 outer:exit 2b-d05e8e8dfe4de5cb837d6389fc20d3dd7f768c83-2a167eddb46d6859-01
2022-04-21T16:18:09.024Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:09.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aaf479733e152b8932c7cf793b912f021b20f47-96dc0b589e6ee3d0-01 outer:exit 2b-6aaf479733e152b8932c7cf793b912f021b20f47-4c93a8d7a36daa0e-01
2022-04-21T16:18:09.026Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:09.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-49930e517e67b38d4367876c56128ec76b3bc359-3540e10d1020659c-01 outer:exit 2b-49930e517e67b38d4367876c56128ec76b3bc359-860f2d3eec2efbc3-01
2022-04-21T16:18:09.028Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:09.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b7ffa7fcefbdd67285a47b15d07a7cd7e6b7665-967de3c1fc11db0c-01 outer:exit 2b-5b7ffa7fcefbdd67285a47b15d07a7cd7e6b7665-9def464549433ab4-01
2022-04-21T16:18:09.030Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:09.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-86fdf8d1933d0ef35d0c46741aa74dbd577325b2-9a3d12675b470e5a-01 outer:exit 2b-86fdf8d1933d0ef35d0c46741aa74dbd577325b2-050bf1bbd50e035b-01
2022-04-21T16:18:09.032Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:09.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-11d046a1b19e773d3d7c09375c3814ce625ebf92-a2aac40c346edb37-01 outer:exit 2b-11d046a1b19e773d3d7c09375c3814ce625ebf92-832b5d69a5113565-01
2022-04-21T16:18:09.034Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:09.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-c773e034ffa548c03136808fe43545165d9a6714-b1205f7d51aae2f7-01 outer:exit 2b-c773e034ffa548c03136808fe43545165d9a6714-fd7421aaa71bfaee-01
2022-04-21T16:18:09.042Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:09.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e330e541aeb44c887a314b8cc1d23d0dfcccc86-d61a48a58b53ddca-01 outer:exit 2b-0e330e541aeb44c887a314b8cc1d23d0dfcccc86-1e77a3f31d7bf74f-01
2022-04-21T16:18:09.050Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:09.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1e8a7421e6bfe1ed4c69c032c0d619e157db878-e1739d09ecf09878-01 outer:exit 2b-a1e8a7421e6bfe1ed4c69c032c0d619e157db878-645b9bdbba9e25b7-01
2022-04-21T16:18:09.053Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:09.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f812dd6cdae7b08ecbfd4daf416e41b54823f86-b4dee03b36af5742-01 outer:exit 2b-4f812dd6cdae7b08ecbfd4daf416e41b54823f86-020c482c253a4b06-01
2022-04-21T16:18:09.056Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:09.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c058983689aedb8ab709d8fa8a8e97533eff38d-2dfe64bb3119370f-01 outer:exit 2b-8c058983689aedb8ab709d8fa8a8e97533eff38d-6ecc1ebe3549db91-01
2022-04-21T16:18:09.058Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:09.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-3418fa7faa9d008784e00f4b7889b4b5508c2c43-e687f421ac0ae58a-01 outer:exit 2b-3418fa7faa9d008784e00f4b7889b4b5508c2c43-54c8af8cf55aa7ea-01
2022-04-21T16:18:09.086Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (291ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.14
updated 1 package and audited 935 packages in 3.56s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:13.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:13.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:13.608Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:13.609Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:13.670Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:13.791Z appoptics:patching patched crypto 
2022-04-21T16:18:13.808Z appoptics:patching patched https 
2022-04-21T16:18:13.808Z appoptics:patching patched http 
2022-04-21T16:18:13.843Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:13.843Z appoptics:patching patched fs 
2022-04-21T16:18:13.867Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v12.22.12)
2022-04-21T16:18:13.872Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-21T16:18:13.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a5fb95ef3686c9af77299e10c524ba71bb6ca26-3b96747fefdfd5a8-01 outer:exit 2b-1a5fb95ef3686c9af77299e10c524ba71bb6ca26-c6bc426043ec44d7-01
2022-04-21T16:18:13.912Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:13.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-28724fc0ce304715aa2af4eb903075dad75232a0-a12d4ef68d686899-01 outer:exit 2b-28724fc0ce304715aa2af4eb903075dad75232a0-10ac62a17e259410-01
2022-04-21T16:18:13.953Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:13.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-348007166fb5c887fed5b46130e2414732b568a0-347f01d35b8385d4-01 outer:exit 2b-348007166fb5c887fed5b46130e2414732b568a0-165430fe52fd034f-01
2022-04-21T16:18:13.956Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:13.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-623fb7cc019ef3a10e59d6b162014c84bd85f566-b1dd85b780baa486-01 outer:exit 2b-623fb7cc019ef3a10e59d6b162014c84bd85f566-4b195e6a20d5ed18-01
2022-04-21T16:18:13.958Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:13.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-4df7abbda75565ce2624b20326d036a5bf699df0-47570df7ff41abb9-01 outer:exit 2b-4df7abbda75565ce2624b20326d036a5bf699df0-3116b9d97f716f73-01
2022-04-21T16:18:13.963Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:13.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ad34cbe9d306911a919817a25244ccd5f82afbb-f42f0e7da57ac147-01 outer:exit 2b-7ad34cbe9d306911a919817a25244ccd5f82afbb-da8dd708b1f3f5e0-01
2022-04-21T16:18:13.965Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:13.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-1baeaf75a447e1e566d808e67b4f804835a96787-9606436428eea42a-01 outer:exit 2b-1baeaf75a447e1e566d808e67b4f804835a96787-68324a35005dabe6-01
2022-04-21T16:18:13.968Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:13.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-286fefe2b4256d0ffce1c44aac451415124ae848-3d96cd7e5757d085-01 outer:exit 2b-286fefe2b4256d0ffce1c44aac451415124ae848-d9de2ac443eef394-01
2022-04-21T16:18:13.973Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:13.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-86b8fd66e51470bbf7316f933351133c7046570a-0ca5809058f2fef3-01 outer:exit 2b-86b8fd66e51470bbf7316f933351133c7046570a-58fcfba2f405d6f9-01
2022-04-21T16:18:13.975Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:13.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c3ff6312ee382695e1d7f7ea37dbdbbc10b20ff-6d9d77455cc59fbd-01 outer:exit 2b-9c3ff6312ee382695e1d7f7ea37dbdbbc10b20ff-dbb149e90f3c6852-01
2022-04-21T16:18:13.978Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:13.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-94eb64fa2a667b0b84cd4c50356e775c83f1e9c2-bad3d5f46c9526b6-01 outer:exit 2b-94eb64fa2a667b0b84cd4c50356e775c83f1e9c2-78a322cb91687a60-01
2022-04-21T16:18:13.981Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:13.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbe9f90443530ad89730918696fc5ee89e107230-6928b357fdd44e6c-01 outer:exit 2b-dbe9f90443530ad89730918696fc5ee89e107230-898459dc378cc858-01
2022-04-21T16:18:13.987Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:14.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3401fa1a6c23378a0bb7ed453acd8dfd9a50dcf-d5b38ba9b992e828-01 outer:exit 2b-f3401fa1a6c23378a0bb7ed453acd8dfd9a50dcf-f4a04beacdd68945-01
2022-04-21T16:18:14.002Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:14.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-c72ffacd614645963d48dd648799a738bc468f9f-b9080ecc5c6181a1-01 outer:exit 2b-c72ffacd614645963d48dd648799a738bc468f9f-039e63515c00c965-01
2022-04-21T16:18:14.039Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:14.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca34af23c9780a3ee4e1e46231296605fe7fa1d2-9fa18533c0dc287a-01 outer:exit 2b-ca34af23c9780a3ee4e1e46231296605fe7fa1d2-7ea245f49afab9ab-01
2022-04-21T16:18:14.042Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:14.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba2315c0adf40985b0926116c073fb3293639261-47c249b5c9ed4d22-01 outer:exit 2b-ba2315c0adf40985b0926116c073fb3293639261-a485ad119983572b-01
2022-04-21T16:18:14.044Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:14.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-e30281eb132c311e652e6554fb0f3d6dd97faeeb-abf1bdc5d09c0a4f-01 outer:exit 2b-e30281eb132c311e652e6554fb0f3d6dd97faeeb-4d730e00d78d49b3-01
2022-04-21T16:18:14.047Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:14.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-68391337348b8ee7a71b1831641be2dcc033bf0d-f004afbabb067fc1-01 outer:exit 2b-68391337348b8ee7a71b1831641be2dcc033bf0d-524651cabf1420a4-01
2022-04-21T16:18:14.049Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:14.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-30ef36119f50e872107353b64af36ffb455b8c57-b4c23ac294dfd7ca-01 outer:exit 2b-30ef36119f50e872107353b64af36ffb455b8c57-c8db335174454415-01
2022-04-21T16:18:14.051Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:14.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e9fd29562ba53dd28d59a44a2a2b55b6e0b987d-3bf204cd26bf38ad-01 outer:exit 2b-9e9fd29562ba53dd28d59a44a2a2b55b6e0b987d-360e7aa351f62a45-01
2022-04-21T16:18:14.053Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:14.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-736786f2142225048fde9cb97238f61b587bd6de-eab59a36e3bd93f1-01 outer:exit 2b-736786f2142225048fde9cb97238f61b587bd6de-f8a81b40f1b9bed0-01
2022-04-21T16:18:14.055Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:14.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcacf1398c476245337e41257983ea53187600df-b9bed2f6fd0e94a4-01 outer:exit 2b-fcacf1398c476245337e41257983ea53187600df-2c161141929aecff-01
2022-04-21T16:18:14.058Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:14.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-3043fc6dfc73005add2d054cede69a7f5027da4a-2ad9518c71567f65-01 outer:exit 2b-3043fc6dfc73005add2d054cede69a7f5027da4a-048bd3922275fffc-01
2022-04-21T16:18:14.060Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:14.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6ee28a73b3d0c46e3921a4b7db5f35bb7629a6a-8e5771da4305f80b-01 outer:exit 2b-b6ee28a73b3d0c46e3921a4b7db5f35bb7629a6a-4d9a8d6e42d95319-01
2022-04-21T16:18:14.063Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:14.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd529934e35777aa2db40b12e00be3f019976480-b38be12ca44dbb71-01 outer:exit 2b-bd529934e35777aa2db40b12e00be3f019976480-efbea8e995bab213-01
2022-04-21T16:18:14.065Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:14.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f747f46a16d4196d0d7f958265b59c55eb9d6e8-bbcccae3caf83d93-01 outer:exit 2b-0f747f46a16d4196d0d7f958265b59c55eb9d6e8-8942adbe3a8313a2-01
2022-04-21T16:18:14.068Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:14.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-755017af1d0dc11bbff3a2e5d98154077c7f0191-9d3545d092d2715e-01 outer:exit 2b-755017af1d0dc11bbff3a2e5d98154077c7f0191-8a633c922b7e3084-01
2022-04-21T16:18:14.075Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:14.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e401bf6de5cbcd9a025513f90c5da164e8d5ddf-6c5c0a6e7273dcd2-01 outer:exit 2b-8e401bf6de5cbcd9a025513f90c5da164e8d5ddf-632f5d1c9ac3e325-01
2022-04-21T16:18:14.080Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:14.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-996dbd861b00eb13cd555fca409d6504d19ef50b-bea465a80962254c-01 outer:exit 2b-996dbd861b00eb13cd555fca409d6504d19ef50b-212e4ec24e7dc92f-01
2022-04-21T16:18:14.088Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:14.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfd6f0e7283d8ed7a120128e46571c1ac205dc87-a3bd2e99cc89390e-01 outer:exit 2b-bfd6f0e7283d8ed7a120128e46571c1ac205dc87-3f814c886c6a2840-01
2022-04-21T16:18:14.094Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:14.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7b32676d36c2bfd448fd2cac52b548b254e53c6-06a9cf6fd91605e7-01 outer:exit 2b-e7b32676d36c2bfd448fd2cac52b548b254e53c6-1832354b544ac0d4-01
2022-04-21T16:18:14.096Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:14.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcbc5ba1893672c82654af81feabfe6ad4013413-ea6ab6a17f9c1c90-01 outer:exit 2b-fcbc5ba1893672c82654af81feabfe6ad4013413-f89446ae90a7e554-01
2022-04-21T16:18:14.099Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:14.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-45ce76f567f225de32bae2ba9f87c51cb3d5bf41-4e9f11766c2cd48d-01 outer:exit 2b-45ce76f567f225de32bae2ba9f87c51cb3d5bf41-b650f762ec371e1b-01
2022-04-21T16:18:14.105Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:14.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-432b18642be774d914b2cd212b034af064fdf642-d982ec7fd220dbf9-01 outer:exit 2b-432b18642be774d914b2cd212b034af064fdf642-d4a8391b5b144554-01
2022-04-21T16:18:14.107Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:14.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-9961b373112c19e0ab5c2e18a082bd5718ebd978-e22b01d6ec11b598-01 outer:exit 2b-9961b373112c19e0ab5c2e18a082bd5718ebd978-e95e80f55c4646ad-01
2022-04-21T16:18:14.109Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:14.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7901647b4a82318e41ebd758ad31a8e5dbdadc4-f6cacfdc86d5365f-01 outer:exit 2b-b7901647b4a82318e41ebd758ad31a8e5dbdadc4-beeb7819b1239362-01
2022-04-21T16:18:14.111Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:14.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-4594420822dd37f0ae44f160db8537647e81315a-4c4feb5a22b4288d-01 outer:exit 2b-4594420822dd37f0ae44f160db8537647e81315a-04e712c1852f4319-01
2022-04-21T16:18:14.113Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:14.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bd3ac6156bd733fb2e8c04a4bd03384ac25c980-555d44ef05980c44-01 outer:exit 2b-8bd3ac6156bd733fb2e8c04a4bd03384ac25c980-9a72042e7928dc15-01
2022-04-21T16:18:14.115Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:14.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-f202adb2395a95090bc20262695df556e4156823-6a928fe4cf595229-01 outer:exit 2b-f202adb2395a95090bc20262695df556e4156823-addc03540a875a63-01
2022-04-21T16:18:14.123Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:14.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-34043a2fa17831fdf2c5e4879704a7e288cd4199-0d3eaf7fec9b0faa-01 outer:exit 2b-34043a2fa17831fdf2c5e4879704a7e288cd4199-60215eb73368b455-01
2022-04-21T16:18:14.130Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:14.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f7dc386bd2c0172cc54ba0858acc1c40405e1a-a59bfa1db326554a-01 outer:exit 2b-87f7dc386bd2c0172cc54ba0858acc1c40405e1a-b435ca067f281c82-01
2022-04-21T16:18:14.133Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:14.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-8981eadb21f5bfaa81671825bf516a80994afc20-3e271457da35e2f9-01 outer:exit 2b-8981eadb21f5bfaa81671825bf516a80994afc20-80973b2ee82ac710-01
2022-04-21T16:18:14.136Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:14.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f00211521522163349ba2a631d7047ca908e454-4a29dafca96d7215-01 outer:exit 2b-6f00211521522163349ba2a631d7047ca908e454-9351f7a0ccd757ee-01
2022-04-21T16:18:14.138Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:14.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-261ea0d26885a0cd46f625250453f2c2ff87197e-32d09c40eafd4970-01 outer:exit 2b-261ea0d26885a0cd46f625250453f2c2ff87197e-08f16ab053f433a0-01
2022-04-21T16:18:14.164Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (287ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.15
updated 1 package and audited 935 packages in 4.616s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:19.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:19.763Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:19.763Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:19.764Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:19.840Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:19.971Z appoptics:patching patched crypto 
2022-04-21T16:18:19.988Z appoptics:patching patched https 
2022-04-21T16:18:19.988Z appoptics:patching patched http 
2022-04-21T16:18:20.026Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:20.027Z appoptics:patching patched fs 
2022-04-21T16:18:20.050Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v12.22.12)
2022-04-21T16:18:20.055Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-21T16:18:20.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ab7c14622fbd5e4114bb9b8fde4bad5161872e9-59753de87d0ec9b3-01 outer:exit 2b-3ab7c14622fbd5e4114bb9b8fde4bad5161872e9-0583b2b21b5a533d-01
2022-04-21T16:18:20.097Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:20.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-783f38107667e3237c828535fdb8a55ab5a087b6-243be0af841f16de-01 outer:exit 2b-783f38107667e3237c828535fdb8a55ab5a087b6-763689bc67b1182c-01
2022-04-21T16:18:20.138Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:20.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc69d8ab187b4d834ef2eccc590f856df58a0ce2-eceea9ec1e4e2661-01 outer:exit 2b-dc69d8ab187b4d834ef2eccc590f856df58a0ce2-a28020f0903edf11-01
2022-04-21T16:18:20.142Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:20.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d91caa81f9002044e3ae30702cb7a2a2282ef43-c32f37ff5cb11f49-01 outer:exit 2b-4d91caa81f9002044e3ae30702cb7a2a2282ef43-46fb8ec2323777a9-01
2022-04-21T16:18:20.145Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:20.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f1ad48f97e58744b49b76ddd59f509efa13019e-eb4d5de837944c2f-01 outer:exit 2b-3f1ad48f97e58744b49b76ddd59f509efa13019e-bd9cc2178663a2af-01
2022-04-21T16:18:20.149Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:20.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-350bc2e9718b499a20a77085cb542ea88bae2dd0-7a0eaca468d74136-01 outer:exit 2b-350bc2e9718b499a20a77085cb542ea88bae2dd0-b3e95dbfe8a90a1b-01
2022-04-21T16:18:20.152Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:20.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-b46a3303e76d29e7a37b5b0f88aac8d841e218d0-3b5b542533bffe3e-01 outer:exit 2b-b46a3303e76d29e7a37b5b0f88aac8d841e218d0-9c97f0f2694b6771-01
2022-04-21T16:18:20.154Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:20.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-44161d8486118d637aaf1d8907eb2cdf40640b77-89b4bf0c4b141049-01 outer:exit 2b-44161d8486118d637aaf1d8907eb2cdf40640b77-540797e3d6a91e5d-01
2022-04-21T16:18:20.160Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:20.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-820da3ac92bf5b02a8bcbc84ae9389e3c9957faf-479268a05186c61e-01 outer:exit 2b-820da3ac92bf5b02a8bcbc84ae9389e3c9957faf-9607d2eabf084082-01
2022-04-21T16:18:20.162Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:20.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb795a05071c016ef84bb675c5c60f43a2ec474a-24c5758e4dd5fe27-01 outer:exit 2b-fb795a05071c016ef84bb675c5c60f43a2ec474a-8b9e07fa7272bbaa-01
2022-04-21T16:18:20.165Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:20.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e78338b8fd157be0d8afa23703b3722468f18aa-38e7115e6d9016d1-01 outer:exit 2b-6e78338b8fd157be0d8afa23703b3722468f18aa-76a19b0ab94b5094-01
2022-04-21T16:18:20.169Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:20.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb89fa6723b6d97db26669f2646f2ecda419f7bd-3713455ea9de6b11-01 outer:exit 2b-bb89fa6723b6d97db26669f2646f2ecda419f7bd-b15b94efd4192990-01
2022-04-21T16:18:20.174Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:20.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-9588ae1932c556ea4e425aef70c3228174878c17-c9cf9e746b5fa3ed-01 outer:exit 2b-9588ae1932c556ea4e425aef70c3228174878c17-2e65dbc44231c477-01
2022-04-21T16:18:20.190Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:20.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-71ed97b8e1ac163480432dedfe2dc7f0d455a98e-f86ea419685aa093-01 outer:exit 2b-71ed97b8e1ac163480432dedfe2dc7f0d455a98e-0ed52e2dd0228710-01
2022-04-21T16:18:20.230Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:20.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-7452a5a68cc3f7ea7e2d08a25650cdd9d68f9899-d85ba48041487324-01 outer:exit 2b-7452a5a68cc3f7ea7e2d08a25650cdd9d68f9899-1d060e472b3494de-01
2022-04-21T16:18:20.233Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:20.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-34197c8a5ec72ed19e73a013ca1050d0a4b5ad1b-47683fc591de63b8-01 outer:exit 2b-34197c8a5ec72ed19e73a013ca1050d0a4b5ad1b-03aa42391dfcf0c8-01
2022-04-21T16:18:20.235Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:20.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-088899e132d5fd451847d47683da4f6606384bbf-5648c0f7d0081fd6-01 outer:exit 2b-088899e132d5fd451847d47683da4f6606384bbf-e279a12b25b8c15d-01
2022-04-21T16:18:20.238Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:20.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-627c82331abcdfcc4e3c55f530c5f2d1aa653efe-66e2914c43f4fde1-01 outer:exit 2b-627c82331abcdfcc4e3c55f530c5f2d1aa653efe-7a98371ea83ef8ae-01
2022-04-21T16:18:20.240Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:20.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-afcd657d0fffb0c8e9be40d9d8735a5b7254d593-a04bac4af040792a-01 outer:exit 2b-afcd657d0fffb0c8e9be40d9d8735a5b7254d593-cfbd3c4292d575e3-01
2022-04-21T16:18:20.242Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:20.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fb7bf473e2be7580baa89d53f65cdaa1c42c60b-22e2a7b7432a4796-01 outer:exit 2b-2fb7bf473e2be7580baa89d53f65cdaa1c42c60b-a2788574984c37e3-01
2022-04-21T16:18:20.244Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:20.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a796ea40cd7ff23267c576ea9288e093488235a-628211e99692157c-01 outer:exit 2b-5a796ea40cd7ff23267c576ea9288e093488235a-80c349451427ae92-01
2022-04-21T16:18:20.246Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:20.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-461d53da28ceb4120664080e18ecc3a21bc939fe-d9a68194b66511b5-01 outer:exit 2b-461d53da28ceb4120664080e18ecc3a21bc939fe-21df6b71eb71d5c6-01
2022-04-21T16:18:20.249Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:20.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c18f3d709df05dd276706b58392f1d2b44f0a86-82c8961ee0f0f01d-01 outer:exit 2b-8c18f3d709df05dd276706b58392f1d2b44f0a86-c532b26cd0a21113-01
2022-04-21T16:18:20.251Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:20.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-05a1695082b2dca2ffa4e6239af922b10c75fa9b-7ef2e21d40f373bb-01 outer:exit 2b-05a1695082b2dca2ffa4e6239af922b10c75fa9b-79e8fbda05693b7c-01
2022-04-21T16:18:20.254Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:20.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ec033f81a0cf8a9b6a462f2e008bebf0c7bf22a-e2315e241f883e93-01 outer:exit 2b-2ec033f81a0cf8a9b6a462f2e008bebf0c7bf22a-2257d0eb3080af24-01
2022-04-21T16:18:20.257Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:20.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9b0f707f2004e09c9f1bd6f524bf9353d95bf8d-74399964019321ad-01 outer:exit 2b-c9b0f707f2004e09c9f1bd6f524bf9353d95bf8d-d16e921d8fbb096a-01
2022-04-21T16:18:20.259Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:20.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d305e639c27c9fd063f8b4ab1d9088e76762373-25b1e17eb1917e3e-01 outer:exit 2b-5d305e639c27c9fd063f8b4ab1d9088e76762373-e0ad7887278934d5-01
2022-04-21T16:18:20.266Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:20.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-736db4da041859cfec2c4d80f1fdaa18b0a19f0f-ae0909a2ba11acf4-01 outer:exit 2b-736db4da041859cfec2c4d80f1fdaa18b0a19f0f-5f196f8d164cd059-01
2022-04-21T16:18:20.271Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:20.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3583aad706e6e3eb4fb707c5ef57b94fb34a33e-8b01edbe68c68e33-01 outer:exit 2b-a3583aad706e6e3eb4fb707c5ef57b94fb34a33e-39fd24d2132f348a-01
2022-04-21T16:18:20.279Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:20.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-dff8f03e261c05d84af0b5aead1e7cec2508ecee-9b62046230fa1b3f-01 outer:exit 2b-dff8f03e261c05d84af0b5aead1e7cec2508ecee-379461ebb2311d15-01
2022-04-21T16:18:20.284Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:20.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-3156bec1be4e7878dc947fb0c2fbbebccddf22be-0c7130e6d53eb0f9-01 outer:exit 2b-3156bec1be4e7878dc947fb0c2fbbebccddf22be-38d620bd487d224e-01
2022-04-21T16:18:20.287Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:20.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eacae28fb06d5abd62bb0f4d6161617db239cbd-c86a626dce2e00ac-01 outer:exit 2b-0eacae28fb06d5abd62bb0f4d6161617db239cbd-dc45dcdc166ddba6-01
2022-04-21T16:18:20.289Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:20.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fa94f7fbf5423ae9c4167a0e888dad5b11d822c-e4e2c85e5fab3293-01 outer:exit 2b-7fa94f7fbf5423ae9c4167a0e888dad5b11d822c-45dadf1abc1f6c84-01
2022-04-21T16:18:20.295Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:20.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5e1dd9ae1c06222e221075b882bdd043b287b71-e439262018a23dfc-01 outer:exit 2b-d5e1dd9ae1c06222e221075b882bdd043b287b71-ca705b3c46f5b498-01
2022-04-21T16:18:20.297Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:20.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-451a96bb7f48d1ce12af13c900474cef5a323df9-a15c52820ef6b5b5-01 outer:exit 2b-451a96bb7f48d1ce12af13c900474cef5a323df9-511ddf82dc1ce151-01
2022-04-21T16:18:20.299Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:20.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-03c89ed97a6b4811ba19e656899d9976b3ef3d15-4bd227bfb06a5c51-01 outer:exit 2b-03c89ed97a6b4811ba19e656899d9976b3ef3d15-77e1281bbd8e5be2-01
2022-04-21T16:18:20.301Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:20.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-b64e2225e7dafb0fa3e0cad199790e2def8eed13-ddee6819bc0c2918-01 outer:exit 2b-b64e2225e7dafb0fa3e0cad199790e2def8eed13-9d0eeebb2cdb922e-01
2022-04-21T16:18:20.303Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:20.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-84d1d72a4459d4b6741ac5a7794421f8ddea30eb-87a755665fb0d7f5-01 outer:exit 2b-84d1d72a4459d4b6741ac5a7794421f8ddea30eb-6c8680f6b5e0f9ef-01
2022-04-21T16:18:20.305Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:20.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-d328835d8b960f46ef7ffade67e74b1b9a13f0e7-c7599dbddfa60f0b-01 outer:exit 2b-d328835d8b960f46ef7ffade67e74b1b9a13f0e7-9bae3f35b99993e5-01
2022-04-21T16:18:20.314Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:20.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-61338f8c91044691db0dba73c2b9f933908e785a-93041c7449a4d46e-01 outer:exit 2b-61338f8c91044691db0dba73c2b9f933908e785a-3a0a5eca7bfd77e3-01
2022-04-21T16:18:20.321Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:20.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-16c6645e4790538f744dba4d72dab27d5fbddb90-de7bc4778637cb3e-01 outer:exit 2b-16c6645e4790538f744dba4d72dab27d5fbddb90-45f096b3760319cb-01
2022-04-21T16:18:20.324Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:20.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bb5447d56d99aa8942a2f6ee310601bced69472-a4aed4fae1f6b320-01 outer:exit 2b-4bb5447d56d99aa8942a2f6ee310601bced69472-38db0b8e5026a8bd-01
2022-04-21T16:18:20.327Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:20.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcaa4087cde1985d2353af71b7681b1c0985748a-26bba23ef0a28a78-01 outer:exit 2b-fcaa4087cde1985d2353af71b7681b1c0985748a-2c2ddc3cd21df253-01
2022-04-21T16:18:20.329Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:20.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72a3bd212657c05de00a1e8416e11ddc8f65915-69864842ca715e28-01 outer:exit 2b-a72a3bd212657c05de00a1e8416e11ddc8f65915-2ddf18f7b814b094-01
2022-04-21T16:18:20.355Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.16
updated 1 package and audited 935 packages in 3.61s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:24.813Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:24.813Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:24.813Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:24.814Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:24.873Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:24.995Z appoptics:patching patched crypto 
2022-04-21T16:18:25.013Z appoptics:patching patched https 
2022-04-21T16:18:25.013Z appoptics:patching patched http 
2022-04-21T16:18:25.049Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:25.049Z appoptics:patching patched fs 
2022-04-21T16:18:25.073Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v12.22.12)
2022-04-21T16:18:25.079Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-21T16:18:25.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd535f9a7ab900f7e77f1322a1008c7a1443c235-2dc5a49f4ea23ce2-01 outer:exit 2b-bd535f9a7ab900f7e77f1322a1008c7a1443c235-e6b46922cb392eea-01
2022-04-21T16:18:25.120Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:25.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-336b2e18fc2f5f4b5991e86b7d44bf461eee8ddd-fddf4a647ba51fb2-01 outer:exit 2b-336b2e18fc2f5f4b5991e86b7d44bf461eee8ddd-7ec1ab65dbf8c645-01
2022-04-21T16:18:25.162Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:25.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea59c2fc270ecc7d18d5fb148955b7777df9e7bf-1ec203263c5ceb63-01 outer:exit 2b-ea59c2fc270ecc7d18d5fb148955b7777df9e7bf-c3933ac464f48c51-01
2022-04-21T16:18:25.166Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:25.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-063b7da1e039e911b33f38f8eadb42f29f56735a-0913145541dfb864-01 outer:exit 2b-063b7da1e039e911b33f38f8eadb42f29f56735a-96d6924d86356bd3-01
2022-04-21T16:18:25.168Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:25.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-d99fdca6084cc16d95416dd1c876bea59a1e17e7-80017bb45259ecfe-01 outer:exit 2b-d99fdca6084cc16d95416dd1c876bea59a1e17e7-e226cdf974e71aa3-01
2022-04-21T16:18:25.173Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:25.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-abbc0ba331d616c01ac03cb366ae17d1320b1bce-c8a56da9c82f5951-01 outer:exit 2b-abbc0ba331d616c01ac03cb366ae17d1320b1bce-f3b6558a79da52b0-01
2022-04-21T16:18:25.176Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:25.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-2976025a375982019fe1779fb1562dad49e670a5-109e373134844bdd-01 outer:exit 2b-2976025a375982019fe1779fb1562dad49e670a5-3098bcc77c01d172-01
2022-04-21T16:18:25.178Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:25.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-a49818e1d33989e00748619ed5a16af5d7bd52d9-ff212c433ebb92e1-01 outer:exit 2b-a49818e1d33989e00748619ed5a16af5d7bd52d9-4353d8897572d157-01
2022-04-21T16:18:25.185Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:25.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-d968772a9d58f3f14587604ff3e655f738c3e7b0-e8d9250db162fa0c-01 outer:exit 2b-d968772a9d58f3f14587604ff3e655f738c3e7b0-0cc8fa3215a8b57f-01
2022-04-21T16:18:25.187Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:25.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d8676ce0cfb50194dfa09f86c382f143400f9d2-2d3d240c73fdc9ae-01 outer:exit 2b-9d8676ce0cfb50194dfa09f86c382f143400f9d2-a0c38162118a4024-01
2022-04-21T16:18:25.190Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:25.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5114397b86cbe033fbf8dcf698a44dbfd5b13ff-c02a1e88a5f78f45-01 outer:exit 2b-a5114397b86cbe033fbf8dcf698a44dbfd5b13ff-fec67649b2eaacc4-01
2022-04-21T16:18:25.194Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:25.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a73d8f3b24448917ebe168a0efedf35409e096b-5601f68c4242c8e4-01 outer:exit 2b-9a73d8f3b24448917ebe168a0efedf35409e096b-d553af02244b9a38-01
2022-04-21T16:18:25.200Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:25.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3e859cd160f1201510ef811913376e9b33118a7-52a176f0c1e8d37f-01 outer:exit 2b-d3e859cd160f1201510ef811913376e9b33118a7-a46ddcbf7024999b-01
2022-04-21T16:18:25.217Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:25.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-127bac2bc7add8d027ccfe151c1c9af2762a9806-3721d3d57fa4d84f-01 outer:exit 2b-127bac2bc7add8d027ccfe151c1c9af2762a9806-3d044795d78f389c-01
2022-04-21T16:18:25.256Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:25.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-29bf7ae8418df964ef7f6c340b0d777741806b17-eeaf74f18f1b5d16-01 outer:exit 2b-29bf7ae8418df964ef7f6c340b0d777741806b17-fdb58c584628940e-01
2022-04-21T16:18:25.259Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:25.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-4babc8ff198e900d5e81c6f7b2700713198e0363-b0a780061af740c2-01 outer:exit 2b-4babc8ff198e900d5e81c6f7b2700713198e0363-aee25daa1e82c07e-01
2022-04-21T16:18:25.262Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:25.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f747f7517339df79797d0b9b39893562a5e85a5-4436850fec5227b1-01 outer:exit 2b-4f747f7517339df79797d0b9b39893562a5e85a5-928f3aad29a6a27c-01
2022-04-21T16:18:25.265Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:25.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc1c0d48831b9ace1a9b3bb7c686023693ee7ed7-10dbc15d9568bdf9-01 outer:exit 2b-fc1c0d48831b9ace1a9b3bb7c686023693ee7ed7-eccdb5fbd75569e3-01
2022-04-21T16:18:25.267Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:25.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-cda5b960afe7f24f41b2782f86293c1de2e913bd-71858527516804f6-01 outer:exit 2b-cda5b960afe7f24f41b2782f86293c1de2e913bd-450cda64df830d88-01
2022-04-21T16:18:25.269Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:25.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab7d745d2dfd2d24bf6efcfba895679ce365fb80-b398bfb29646c9fb-01 outer:exit 2b-ab7d745d2dfd2d24bf6efcfba895679ce365fb80-772d18afca1285a0-01
2022-04-21T16:18:25.271Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:25.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-07d6ade73f80e0de4a47a3e282c48288155d39eb-052cb39c53f265e9-01 outer:exit 2b-07d6ade73f80e0de4a47a3e282c48288155d39eb-08116c533b760fc1-01
2022-04-21T16:18:25.274Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:25.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d1c8ec8d9722380e27e9e31f08f3e4be1a967be-75cc141cedfe355c-01 outer:exit 2b-5d1c8ec8d9722380e27e9e31f08f3e4be1a967be-19895e28fb85d169-01
2022-04-21T16:18:25.276Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:25.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-0594c7577837a921ee5587560d64fc0c6c48f49c-815d03adc5551498-01 outer:exit 2b-0594c7577837a921ee5587560d64fc0c6c48f49c-52409c2d58950d2d-01
2022-04-21T16:18:25.279Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:25.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-b07256b558f5910111a3a3b872eca44dbede2356-795d539202ee9527-01 outer:exit 2b-b07256b558f5910111a3a3b872eca44dbede2356-b245a25eed8cb87b-01
2022-04-21T16:18:25.282Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:25.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-e81f80a8133de15a28311decc6b7bd71355d07f5-613659aa1af1f381-01 outer:exit 2b-e81f80a8133de15a28311decc6b7bd71355d07f5-e3628070238bf987-01
2022-04-21T16:18:25.284Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:25.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-325797ddcfd03e97de4c515ceab82f1eaae5697b-3424fe5010b98103-01 outer:exit 2b-325797ddcfd03e97de4c515ceab82f1eaae5697b-559460901a1c1f55-01
2022-04-21T16:18:25.287Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:25.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbe93b2ba9536361a3820e271e0ef8a20059c899-06dd9160b329396f-01 outer:exit 2b-cbe93b2ba9536361a3820e271e0ef8a20059c899-46468704ad14cd48-01
2022-04-21T16:18:25.294Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:25.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53b91362a0ed8f6c4d6d92cd4b762969d6639cd-b9c423e8de2be545-01 outer:exit 2b-c53b91362a0ed8f6c4d6d92cd4b762969d6639cd-4b366776e2d360ad-01
2022-04-21T16:18:25.298Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:25.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-fedf39421079ad7e474fe2a0a7b25e1a55082ee9-8739f177046a7758-01 outer:exit 2b-fedf39421079ad7e474fe2a0a7b25e1a55082ee9-ae070bd23635b028-01
2022-04-21T16:18:25.307Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:25.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8b9775b8d5e9640955886abcbf234528ecea056-026776f0ca42a5aa-01 outer:exit 2b-d8b9775b8d5e9640955886abcbf234528ecea056-322504c72781d1e9-01
2022-04-21T16:18:25.313Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:25.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4aed0e17453c2a544e80b5f24c7ca959e3a9d7f-1976fc58e7d771f2-01 outer:exit 2b-f4aed0e17453c2a544e80b5f24c7ca959e3a9d7f-79a7e03a0c4593d1-01
2022-04-21T16:18:25.316Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:25.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-9226a658dd47b6a7c151485ec00932cd2ce3e9c8-4ba3384c4a13d2e5-01 outer:exit 2b-9226a658dd47b6a7c151485ec00932cd2ce3e9c8-a3d1f6499cd446b7-01
2022-04-21T16:18:25.318Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:25.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-54134a540312bab539c497a918eb0e01d6b98d9a-7b4eb26f3300f993-01 outer:exit 2b-54134a540312bab539c497a918eb0e01d6b98d9a-a3a3a5656fbcf625-01
2022-04-21T16:18:25.325Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:25.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-06f207808c8c85cf4091632bd7eeef2edf7b6995-0459c7f2ed779bc2-01 outer:exit 2b-06f207808c8c85cf4091632bd7eeef2edf7b6995-b5600465b474e1e5-01
2022-04-21T16:18:25.328Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:25.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-da65b2d3eb5408191c97b3f34bca95d97043d701-25b722f49fb8d04e-01 outer:exit 2b-da65b2d3eb5408191c97b3f34bca95d97043d701-81d76c38872c171e-01
2022-04-21T16:18:25.330Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:25.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-badf348cc7604a271737e9f18acb2d0dbe2c2061-a4d6b5b569311e13-01 outer:exit 2b-badf348cc7604a271737e9f18acb2d0dbe2c2061-033526773a46be2e-01
2022-04-21T16:18:25.332Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:25.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a512b58284c2f140d3c4c5b42c2ca7d887f3265-a1712838bcd1b827-01 outer:exit 2b-0a512b58284c2f140d3c4c5b42c2ca7d887f3265-02202d2de773de2e-01
2022-04-21T16:18:25.334Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:25.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-772cca78201452039e84bd9d2c2bc088f974f2fa-bfa93d9ac931397b-01 outer:exit 2b-772cca78201452039e84bd9d2c2bc088f974f2fa-df2da3193028ce2b-01
2022-04-21T16:18:25.336Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:25.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7be45a213fa5ba6fb4367eaab6aae1c832ec157-a1a92dd28dce6a8c-01 outer:exit 2b-c7be45a213fa5ba6fb4367eaab6aae1c832ec157-9b70676b05181cac-01
2022-04-21T16:18:25.348Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:25.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-4413cad8e8a26ee8ad0f1c05121bf7f0474f95ef-79cd84bf0b8f4855-01 outer:exit 2b-4413cad8e8a26ee8ad0f1c05121bf7f0474f95ef-b7ad52245a9de1d0-01
2022-04-21T16:18:25.356Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:25.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4299417a16c25cda2f48ef703408efc326dac28-5ea106e745b9537f-01 outer:exit 2b-f4299417a16c25cda2f48ef703408efc326dac28-6899b6266ab02c5c-01
2022-04-21T16:18:25.361Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:25.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-276f6317c504755bd918fe1e0ab29cd46eddbf8a-ac24575a1b3e7ea8-01 outer:exit 2b-276f6317c504755bd918fe1e0ab29cd46eddbf8a-6d597150608a99b5-01
2022-04-21T16:18:25.364Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:25.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebf68e91e0ae2cb8f75b6c6f01c86a7d98871b22-53e9040b2b3dc16a-01 outer:exit 2b-ebf68e91e0ae2cb8f75b6c6f01c86a7d98871b22-ac08bdd1a974c934-01
2022-04-21T16:18:25.367Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:25.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-f838e3cc692528b9676805d16a56d11fb94eb009-995d9915b0fdec99-01 outer:exit 2b-f838e3cc692528b9676805d16a56d11fb94eb009-30f9fa0ba9b8ab45-01
2022-04-21T16:18:25.393Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (308ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.17
updated 1 package and audited 935 packages in 4.24s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:30.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:30.608Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:30.608Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:30.608Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:30.699Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:30.912Z appoptics:patching patched crypto 
2022-04-21T16:18:30.937Z appoptics:patching patched https 
2022-04-21T16:18:30.937Z appoptics:patching patched http 
2022-04-21T16:18:30.973Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:30.974Z appoptics:patching patched fs 
2022-04-21T16:18:30.998Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v12.22.12)
2022-04-21T16:18:31.003Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-21T16:18:31.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-74ab809cf8dc4736e2c7734b69d7a2012c602dde-879af89f2a09f878-01 outer:exit 2b-74ab809cf8dc4736e2c7734b69d7a2012c602dde-208dca06488bbe2b-01
2022-04-21T16:18:31.043Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:31.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3235c14973e0413550f19d75f5d818a9ca72dd8-b5e198429bd12907-01 outer:exit 2b-e3235c14973e0413550f19d75f5d818a9ca72dd8-a04b500b3ff32e18-01
2022-04-21T16:18:31.083Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:31.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9e816c6b4c15bf4f8b72fb8b9df667113db6a09-eacc3974b0ab84de-01 outer:exit 2b-b9e816c6b4c15bf4f8b72fb8b9df667113db6a09-bdc262ffbb75521a-01
2022-04-21T16:18:31.086Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:31.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-0877ac1ea6e7061e2808d019c685a366f3c0cc76-b248995ef5a956a3-01 outer:exit 2b-0877ac1ea6e7061e2808d019c685a366f3c0cc76-8103f819566440c9-01
2022-04-21T16:18:31.089Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:31.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae30749a46b76247ef8e3cfe6db007468095f75c-4ca620c5074cb501-01 outer:exit 2b-ae30749a46b76247ef8e3cfe6db007468095f75c-676c46b2c7342a0b-01
2022-04-21T16:18:31.093Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:31.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-e636ee47c4ff3cdd752921d0706a4dd3e14ad486-7789ab8b00c556d5-01 outer:exit 2b-e636ee47c4ff3cdd752921d0706a4dd3e14ad486-269bdcf9a82290fd-01
2022-04-21T16:18:31.096Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:31.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ec114770f2ab488f129618bdee7a47107ad34a8-aadccc6f515e557c-01 outer:exit 2b-1ec114770f2ab488f129618bdee7a47107ad34a8-84d7e4f881eb0fb0-01
2022-04-21T16:18:31.098Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:31.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cfba028701fb4adf18c4aee7cbed57467378bc3-9ec492f8b589c34c-01 outer:exit 2b-0cfba028701fb4adf18c4aee7cbed57467378bc3-d08971e0ec1a9bc0-01
2022-04-21T16:18:31.104Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:31.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8be98ae8abd4d047f7de087432b411202a2c303-2b553fcefdeaff0b-01 outer:exit 2b-a8be98ae8abd4d047f7de087432b411202a2c303-bed06214ed8c0b64-01
2022-04-21T16:18:31.107Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:31.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b7dfbb3c0e2bc90ee4273085c72a2fc1e941a1a-f010552698cac27d-01 outer:exit 2b-9b7dfbb3c0e2bc90ee4273085c72a2fc1e941a1a-fac31b494080f3aa-01
2022-04-21T16:18:31.109Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:31.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1ea20ea828397f5c35892e9d37a1a3f75c54720-291a9696390f7fd6-01 outer:exit 2b-c1ea20ea828397f5c35892e9d37a1a3f75c54720-deb1f682f956bc18-01
2022-04-21T16:18:31.113Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:31.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-d23ea325dcec7cbd9022f2408133da1d0798f190-b225ced591ca1a07-01 outer:exit 2b-d23ea325dcec7cbd9022f2408133da1d0798f190-d94a5214ef536ef2-01
2022-04-21T16:18:31.118Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:31.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9a504dbeeb98197a3c9e4815ab6b39ea3f132d-197e0346b99283ff-01 outer:exit 2b-dd9a504dbeeb98197a3c9e4815ab6b39ea3f132d-2b76b2e6cc17d8b3-01
2022-04-21T16:18:31.133Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:31.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-71876119f161728e4e41d6c2b0df6cd34dbd8e79-547aee8b0002244c-01 outer:exit 2b-71876119f161728e4e41d6c2b0df6cd34dbd8e79-982fa84bf9f9df2f-01
2022-04-21T16:18:31.169Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:31.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-48dfae8455ee4626731a8efaf3555185b8dad36d-012b71e0e627b8a6-01 outer:exit 2b-48dfae8455ee4626731a8efaf3555185b8dad36d-327c25e5897cb8c0-01
2022-04-21T16:18:31.171Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:31.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f567e9be865dbaeb1d9846daefa68e396ce5b6e-e4e3d039941a95a8-01 outer:exit 2b-3f567e9be865dbaeb1d9846daefa68e396ce5b6e-50838e6490ead7b9-01
2022-04-21T16:18:31.174Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:31.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ff2857e4bc5391a1569657f4d17f772deb12fc7-94fff9f20df0e3f7-01 outer:exit 2b-6ff2857e4bc5391a1569657f4d17f772deb12fc7-e6fb2a9ccb37b542-01
2022-04-21T16:18:31.177Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:31.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ee0d9912b8ca82797581d65324a36c9ddb359af-3b89030dc73e69ed-01 outer:exit 2b-9ee0d9912b8ca82797581d65324a36c9ddb359af-b3002795b8a9eb94-01
2022-04-21T16:18:31.179Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:31.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f5176cd13abd0bf81e9533b680fe3e859f310f-51aa1888ea9e5dad-01 outer:exit 2b-49f5176cd13abd0bf81e9533b680fe3e859f310f-f6f6c4edc0ac05c0-01
2022-04-21T16:18:31.181Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:31.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-66af64e2d3330ee03e38924f34e180d6fed7b686-8d42947245a6870a-01 outer:exit 2b-66af64e2d3330ee03e38924f34e180d6fed7b686-f38d25ab978184b0-01
2022-04-21T16:18:31.183Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:31.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-32688a072a2e97c94023054e45f7a36942734bdb-a355252622b8afff-01 outer:exit 2b-32688a072a2e97c94023054e45f7a36942734bdb-1db8f3a0bd5c9e16-01
2022-04-21T16:18:31.185Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:31.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-89b131e28e3dcb3084af0017d7ced43797cda335-eb453971334ca3de-01 outer:exit 2b-89b131e28e3dcb3084af0017d7ced43797cda335-e0379db4faae805b-01
2022-04-21T16:18:31.187Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:31.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a47728b33960a661d7118fb9fb01f8bdceebacf-80b3648607d4f44c-01 outer:exit 2b-0a47728b33960a661d7118fb9fb01f8bdceebacf-8b6c4bdf35ff70cc-01
2022-04-21T16:18:31.190Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:31.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbeb657bbff67b38f538d3a974712a41865b4609-976134da66cba0be-01 outer:exit 2b-dbeb657bbff67b38f538d3a974712a41865b4609-0852059f49736791-01
2022-04-21T16:18:31.193Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:31.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-24ddf9cb3187db0e4ed68181f38322e29032bad8-044ed493b2dabc4c-01 outer:exit 2b-24ddf9cb3187db0e4ed68181f38322e29032bad8-00ac1857ae3772b8-01
2022-04-21T16:18:31.195Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:31.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-a934eb46994ee9f7d5e0bc94517158cca66170b9-f93926160bb3dfc1-01 outer:exit 2b-a934eb46994ee9f7d5e0bc94517158cca66170b9-fbf62993f33973a0-01
2022-04-21T16:18:31.198Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:31.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fee1be868c6e675d326cffeb95f8a052bef4eef-4d6cda0ce99d8172-01 outer:exit 2b-2fee1be868c6e675d326cffeb95f8a052bef4eef-982e2f0809da078c-01
2022-04-21T16:18:31.205Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:31.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-8355882c4601463474ba4c7b9918634d0e71a5cc-e2217aef55110827-01 outer:exit 2b-8355882c4601463474ba4c7b9918634d0e71a5cc-865feff88eecd2ad-01
2022-04-21T16:18:31.209Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:31.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-a342719c64c5920c93350c351650f889f9a524e2-8d22f1e173c8703b-01 outer:exit 2b-a342719c64c5920c93350c351650f889f9a524e2-30bc165bd90824fa-01
2022-04-21T16:18:31.217Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:31.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c8ef230a3fe9aa2d58f96e5f97aae72b8a483b9-231e18bb789594ca-01 outer:exit 2b-2c8ef230a3fe9aa2d58f96e5f97aae72b8a483b9-12ae4d927c913199-01
2022-04-21T16:18:31.223Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:31.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7cc7e5907833cbb6d0fa93e5e1eb7e50ebc27ce-74b5a6f90c1ac282-01 outer:exit 2b-a7cc7e5907833cbb6d0fa93e5e1eb7e50ebc27ce-43255bafdcb58a78-01
2022-04-21T16:18:31.225Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:31.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed334c365bea1e37a748e616e985dffecaac9f12-6ee7a7be5673ffde-01 outer:exit 2b-ed334c365bea1e37a748e616e985dffecaac9f12-4120bf3840a56be3-01
2022-04-21T16:18:31.228Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:31.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-89e1aa60de4bbe0418708faefd2f943abfbdc1d4-3e745cb94c423a7c-01 outer:exit 2b-89e1aa60de4bbe0418708faefd2f943abfbdc1d4-17ec1c5d27a9cbce-01
2022-04-21T16:18:31.234Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:31.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-350c6cf3ae87916c9daad0cfc2e14f0ebdb563ae-9ab1b157a51c4832-01 outer:exit 2b-350c6cf3ae87916c9daad0cfc2e14f0ebdb563ae-33b4d40cd111c69c-01
2022-04-21T16:18:31.236Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:31.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-5db5fd0fbae5e0a43ba3e1013eefbffcb73e398f-c484f063b5fea973-01 outer:exit 2b-5db5fd0fbae5e0a43ba3e1013eefbffcb73e398f-0c28830aa7575c34-01
2022-04-21T16:18:31.238Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:31.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-a98411a57906453edd9011d7b541a6317090244d-6b55f8b37ba68b02-01 outer:exit 2b-a98411a57906453edd9011d7b541a6317090244d-37faf48d43d57017-01
2022-04-21T16:18:31.240Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:31.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fb3011a72c0ac2ba7420ec554e3bb69a461252b-9dbdf1591274969f-01 outer:exit 2b-8fb3011a72c0ac2ba7420ec554e3bb69a461252b-12c85800a856f188-01
2022-04-21T16:18:31.242Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:31.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-5365981c230e40a41ab796a2c551f13dfb6b4299-a189191b109ca225-01 outer:exit 2b-5365981c230e40a41ab796a2c551f13dfb6b4299-956e30b4d1b3c707-01
2022-04-21T16:18:31.244Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:31.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa4209c7fd5e2022942690f2f157a2edddf51fbf-dcd21ff9fe2ffcdd-01 outer:exit 2b-fa4209c7fd5e2022942690f2f157a2edddf51fbf-be5692350fc9cd89-01
2022-04-21T16:18:31.252Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:31.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-871b0c34d1635c0031c028c7cec15b9d710d35dc-2e0a8e1206571edf-01 outer:exit 2b-871b0c34d1635c0031c028c7cec15b9d710d35dc-97fb23a64887384d-01
2022-04-21T16:18:31.260Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:31.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d056222e1858e877ffe784331d351836d728c8b-9e5fce7755da74a6-01 outer:exit 2b-6d056222e1858e877ffe784331d351836d728c8b-af73303c425b14ed-01
2022-04-21T16:18:31.263Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:31.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f9d4f6c030eabc25dd214c9dc6d54c815dd2565-794091cebdb15a0b-01 outer:exit 2b-9f9d4f6c030eabc25dd214c9dc6d54c815dd2565-da5d039e58ebc348-01
2022-04-21T16:18:31.265Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:31.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-5419624e6a7ac35457f211d2e772fe91fc17c4ef-555376d72993e3b7-01 outer:exit 2b-5419624e6a7ac35457f211d2e772fe91fc17c4ef-84a11f81ab050550-01
2022-04-21T16:18:31.268Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:31.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-412d355f350560e10455aa54d57bfe5c05d0294b-8d7551caeef69f35-01 outer:exit 2b-412d355f350560e10455aa54d57bfe5c05d0294b-a6f60882b730d7b1-01
2022-04-21T16:18:31.293Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (284ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.18
updated 1 package and audited 935 packages in 3.566s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:35.732Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:35.733Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:35.733Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:35.734Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:35.795Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:35.917Z appoptics:patching patched crypto 
2022-04-21T16:18:35.937Z appoptics:patching patched https 
2022-04-21T16:18:35.937Z appoptics:patching patched http 
2022-04-21T16:18:35.971Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:35.972Z appoptics:patching patched fs 
2022-04-21T16:18:35.996Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v12.22.12)
2022-04-21T16:18:36.000Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-21T16:18:36.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-44d9147cb292fa58e164dd0e3ecf181a08a38694-ce4de52f41dea884-01 outer:exit 2b-44d9147cb292fa58e164dd0e3ecf181a08a38694-c4fea8acfb45485e-01
2022-04-21T16:18:36.041Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:36.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-e12125f814d94a0e8c54340ae046189571a9f8a7-2bc4c0604192c924-01 outer:exit 2b-e12125f814d94a0e8c54340ae046189571a9f8a7-0acaec59beddbed8-01
2022-04-21T16:18:36.081Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:36.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-072f651b5155a3a16afdd631f1571c71641c8978-57ac0cce5f50d355-01 outer:exit 2b-072f651b5155a3a16afdd631f1571c71641c8978-3a9b674205ceb901-01
2022-04-21T16:18:36.084Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:36.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c398d0002006afdae9ed5bd7864648fa8a3a89b-86109bf5d99137d4-01 outer:exit 2b-6c398d0002006afdae9ed5bd7864648fa8a3a89b-769f983ff3185ad1-01
2022-04-21T16:18:36.087Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:36.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05700b3bb004ca56ddf0a41ea0e4be92a1c4663-3b40096dc4000fac-01 outer:exit 2b-b05700b3bb004ca56ddf0a41ea0e4be92a1c4663-9f5f01319ec0b47b-01
2022-04-21T16:18:36.091Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:36.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-c926f70a7d792819db960b4f0341a6124dddf1d3-04efb243f870058c-01 outer:exit 2b-c926f70a7d792819db960b4f0341a6124dddf1d3-d6e3b73839059fa1-01
2022-04-21T16:18:36.097Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:36.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-94b725039a2659e9931fe1cf1ab9e15cedf81fd6-c69e923524021c7d-01 outer:exit 2b-94b725039a2659e9931fe1cf1ab9e15cedf81fd6-254e13f7a525f11f-01
2022-04-21T16:18:36.099Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:36.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cb6b02f2007b74512f84ee427a8923f95f06246-a1a7e02dd74d5b31-01 outer:exit 2b-8cb6b02f2007b74512f84ee427a8923f95f06246-5d98876f6b1a1c6c-01
2022-04-21T16:18:36.102Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:36.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-da91d37551e43b9406a0fab78198858ee267b82f-a2b12d605d5de171-01 outer:exit 2b-da91d37551e43b9406a0fab78198858ee267b82f-4b6c42f81dcaa413-01
2022-04-21T16:18:36.104Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:36.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-1838af00b34cc560fd077f447c3024ec40436236-daeb885b9a2456e5-01 outer:exit 2b-1838af00b34cc560fd077f447c3024ec40436236-86976fef67309ad0-01
2022-04-21T16:18:36.106Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:36.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e66c41a51964279e8d6e3082cdf62fd846d45c5-65c58b3f3b9e9298-01 outer:exit 2b-5e66c41a51964279e8d6e3082cdf62fd846d45c5-73d2fc6629557606-01
2022-04-21T16:18:36.110Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:36.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-dea7e6b93db1040845a8151fa9123ccf2933b6e3-002b45a21b791562-01 outer:exit 2b-dea7e6b93db1040845a8151fa9123ccf2933b6e3-62e0168dd0d039d3-01
2022-04-21T16:18:36.116Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:36.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-80e978ba195e7b9701ecb6d15e40fa2ee403648d-bcfb3fc69477220e-01 outer:exit 2b-80e978ba195e7b9701ecb6d15e40fa2ee403648d-495048465cee32ee-01
2022-04-21T16:18:36.130Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:36.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd11eef6929cd1aa32ed92041cd8b278c15afc1c-97a4407b1e166f6b-01 outer:exit 2b-fd11eef6929cd1aa32ed92041cd8b278c15afc1c-9152ebd08624fcfe-01
2022-04-21T16:18:36.167Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:36.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-edb01d044037811e6e802bf6e09b1c5d1cd9aa02-3e32a3e38ceb7f56-01 outer:exit 2b-edb01d044037811e6e802bf6e09b1c5d1cd9aa02-eddea350ffa37078-01
2022-04-21T16:18:36.170Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:36.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5ef7a166f8d815268bc2c3040241f4284846373-acc36169982f57b1-01 outer:exit 2b-c5ef7a166f8d815268bc2c3040241f4284846373-b2d885e53162d99b-01
2022-04-21T16:18:36.172Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:36.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f62f06f5cfecc7b82057b95d610a6f1dffc84c3-4be2e0e00ee98fc5-01 outer:exit 2b-5f62f06f5cfecc7b82057b95d610a6f1dffc84c3-e51ce758bd65817e-01
2022-04-21T16:18:36.175Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:36.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c270d25170d4c76f7dfc39fe94b4f87eb7f6de8-d211bb9d6e9c3774-01 outer:exit 2b-8c270d25170d4c76f7dfc39fe94b4f87eb7f6de8-a61f85bc9bb9e781-01
2022-04-21T16:18:36.177Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:36.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-b72ece166c088840a537093ce5e52fa26d0adceb-9cdfff62a17af76e-01 outer:exit 2b-b72ece166c088840a537093ce5e52fa26d0adceb-b3fc97ca80f5b2cb-01
2022-04-21T16:18:36.179Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:36.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-8efa8ab5aba669413a8ebcf284fb6f7b707dae5d-958ca3ad00c550e6-01 outer:exit 2b-8efa8ab5aba669413a8ebcf284fb6f7b707dae5d-2af3b3aea2153d8f-01
2022-04-21T16:18:36.181Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:36.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-667b63b3d5160432c2e967d4ad2a00ed24d053d0-61ee60f715297618-01 outer:exit 2b-667b63b3d5160432c2e967d4ad2a00ed24d053d0-6e2338c4ce80d599-01
2022-04-21T16:18:36.183Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:36.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-e56050cc9955ded58e1cfaa50aec0ccfa5e34bc2-90d0a8c205f74664-01 outer:exit 2b-e56050cc9955ded58e1cfaa50aec0ccfa5e34bc2-14d3352ce4e5334e-01
2022-04-21T16:18:36.185Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:36.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cd931be09e76da15f11c46e879145f224e0ef1b-70d4a98026daded4-01 outer:exit 2b-0cd931be09e76da15f11c46e879145f224e0ef1b-391a70fb456e8399-01
2022-04-21T16:18:36.188Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:36.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-9353ca3f2ea9ebfbe49e0751a05c8b97db751b32-189307c8c79852af-01 outer:exit 2b-9353ca3f2ea9ebfbe49e0751a05c8b97db751b32-96e1143a60c13356-01
2022-04-21T16:18:36.191Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:36.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-05c6cf8d8481d7ac74a8c5afb26814d26832f22e-4da30f96d0fa741f-01 outer:exit 2b-05c6cf8d8481d7ac74a8c5afb26814d26832f22e-bc9c6a0fceee8b93-01
2022-04-21T16:18:36.193Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:36.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-577054da52ee49951d9c79176c196bdceefb6b19-10b2f41b75861286-01 outer:exit 2b-577054da52ee49951d9c79176c196bdceefb6b19-9142dea34aada1cb-01
2022-04-21T16:18:36.196Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:36.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-7671f8fec00ea22edce7efb0548a5000c5015a7d-b8bb808015b5e97c-01 outer:exit 2b-7671f8fec00ea22edce7efb0548a5000c5015a7d-e9360cff9761e4e7-01
2022-04-21T16:18:36.202Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:36.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cdb4128212f4e1fa0f09a133d84df3627c34a1a-244087e045c97263-01 outer:exit 2b-7cdb4128212f4e1fa0f09a133d84df3627c34a1a-99310ec1c5a8533e-01
2022-04-21T16:18:36.206Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:36.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-04d9d00c3eacaa09366c44a1f6b2016a2077c267-46a9e174a839e3d3-01 outer:exit 2b-04d9d00c3eacaa09366c44a1f6b2016a2077c267-df0de8c070bc093c-01
2022-04-21T16:18:36.214Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:36.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-0370c178f88888c6eac0dd09632d76ea95b3ac9d-340a68090934748f-01 outer:exit 2b-0370c178f88888c6eac0dd09632d76ea95b3ac9d-78ed20ad5a1ed8cc-01
2022-04-21T16:18:36.220Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:36.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-76040a1eeaf850459db982cfafa4570735de298a-71795972e2e939b4-01 outer:exit 2b-76040a1eeaf850459db982cfafa4570735de298a-4af9966215c4e42e-01
2022-04-21T16:18:36.223Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:36.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc30d36c4927b7a51b7e9039b708a2a184f5adff-773ed49375272157-01 outer:exit 2b-bc30d36c4927b7a51b7e9039b708a2a184f5adff-36c8879edd71f50b-01
2022-04-21T16:18:36.226Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:36.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-a517503e7c2de74e48c45f0545dca7aa9df0b896-834d8ae661014284-01 outer:exit 2b-a517503e7c2de74e48c45f0545dca7aa9df0b896-7c63cbbca2f3b051-01
2022-04-21T16:18:36.233Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:36.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ae0f2eae4543195c9d91bdb7e6740ee108706e6-1592f459af0c37f4-01 outer:exit 2b-4ae0f2eae4543195c9d91bdb7e6740ee108706e6-d86461f42ad650ee-01
2022-04-21T16:18:36.235Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:36.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c7efdecbc952eae1462203258e0209881a3b9b7-cd93dab3c46c49a3-01 outer:exit 2b-4c7efdecbc952eae1462203258e0209881a3b9b7-37284d0fa909ab6a-01
2022-04-21T16:18:36.237Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:36.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e69b951a4ffdf8d361f309a55816cfff8fea4d7-4b2556fae8ee3727-01 outer:exit 2b-3e69b951a4ffdf8d361f309a55816cfff8fea4d7-2ccd91cf3ad501ff-01
2022-04-21T16:18:36.239Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:36.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-577827bbf604c27790b0e7781c72ee3d036b4d64-dad850e2fd1f5813-01 outer:exit 2b-577827bbf604c27790b0e7781c72ee3d036b4d64-4d7899f6829bb99d-01
2022-04-21T16:18:36.241Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:36.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-77eb75726ad85a273f46684cf07c65c69e9a3b9d-9c2a64059f96484e-01 outer:exit 2b-77eb75726ad85a273f46684cf07c65c69e9a3b9d-83894c943afb5ff1-01
2022-04-21T16:18:36.243Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:36.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-a16664278edf1e7617a38a17c9c21e31bf4c28fc-ec4a02daa0be9c18-01 outer:exit 2b-a16664278edf1e7617a38a17c9c21e31bf4c28fc-e75037713f90af19-01
2022-04-21T16:18:36.251Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:36.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-a743b071c95eca123c62999438a518ad41973868-15af3470485f573d-01 outer:exit 2b-a743b071c95eca123c62999438a518ad41973868-2d78699e61bc973f-01
2022-04-21T16:18:36.259Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:36.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-63b7e75d1027f955b7f76ef8502ee66d82ec75ee-40ccfb464a82c9b1-01 outer:exit 2b-63b7e75d1027f955b7f76ef8502ee66d82ec75ee-f52379ca1e22f774-01
2022-04-21T16:18:36.262Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:36.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-15d451eb2e130f113a83f29c252bc4f54711eaad-76ecc11cc49710ed-01 outer:exit 2b-15d451eb2e130f113a83f29c252bc4f54711eaad-3b634b22c6234794-01
2022-04-21T16:18:36.265Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:36.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-84efc939f4ef6caae6f641ba96007a05adfa9b59-4e507a3cf2326187-01 outer:exit 2b-84efc939f4ef6caae6f641ba96007a05adfa9b59-0ecc6cbf9254db79-01
2022-04-21T16:18:36.267Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:36.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-b36cbfcc9f9519c69cedf894d1776a5e908dfaf0-2b9d0315e5a392b4-01 outer:exit 2b-b36cbfcc9f9519c69cedf894d1776a5e908dfaf0-c4590355efbf02af-01
2022-04-21T16:18:36.293Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (287ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.19
updated 1 package and audited 935 packages in 3.87s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:41.078Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:41.079Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:41.079Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:41.079Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:41.146Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:41.302Z appoptics:patching patched crypto 
2022-04-21T16:18:41.334Z appoptics:patching patched https 
2022-04-21T16:18:41.335Z appoptics:patching patched http 
2022-04-21T16:18:41.388Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:41.388Z appoptics:patching patched fs 
2022-04-21T16:18:41.413Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v12.22.12)
2022-04-21T16:18:41.423Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-21T16:18:41.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-0275f2e6ec5fd0ef1d33f21e11d4ce29dd530458-3434ea10a800d43f-01 outer:exit 2b-0275f2e6ec5fd0ef1d33f21e11d4ce29dd530458-a31449cf8150b140-01
2022-04-21T16:18:41.494Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:41.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-149971860b8f19a00640d19dbd4cdadf38b30de6-4e1712aa2f059a15-01 outer:exit 2b-149971860b8f19a00640d19dbd4cdadf38b30de6-2ee19e4292dbcbac-01
2022-04-21T16:18:41.553Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:41.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe101c5e04cb3a893eb6f0c9444b9ed4275a93af-40c27b4397775919-01 outer:exit 2b-fe101c5e04cb3a893eb6f0c9444b9ed4275a93af-349bdd1f45203d95-01
2022-04-21T16:18:41.557Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:41.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ef72d5902d955c61b14fb7bc702bacce033c73-1e605bee047a7f31-01 outer:exit 2b-b0ef72d5902d955c61b14fb7bc702bacce033c73-c43f3e8095aa77e5-01
2022-04-21T16:18:41.561Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:41.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fd4625cd6d35356b3950981b1dc9c12a02e2d69-474f1f548e1077f8-01 outer:exit 2b-6fd4625cd6d35356b3950981b1dc9c12a02e2d69-ccdd8154f329c1d6-01
2022-04-21T16:18:41.571Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:41.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-6095bdcd704eb02e43cd1b813a8ddf9508d26256-c74ecb139e0294b2-01 outer:exit 2b-6095bdcd704eb02e43cd1b813a8ddf9508d26256-2799f18180cf11ab-01
2022-04-21T16:18:41.575Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:41.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a26367e8dae05f388f7d3c5aa30697318e6b8fe-25eca32ddce13af8-01 outer:exit 2b-7a26367e8dae05f388f7d3c5aa30697318e6b8fe-d0c62b4e8afd34f0-01
2022-04-21T16:18:41.578Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:41.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-66651c006f9b044c79a2675a79fe60ffdb7e1cc1-11c86640dfbab1dc-01 outer:exit 2b-66651c006f9b044c79a2675a79fe60ffdb7e1cc1-42be8fe7b14d4b45-01
2022-04-21T16:18:41.580Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:41.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-34816b3d931ea2835258293d2c2244349bde1dba-3ceafee907546cb2-01 outer:exit 2b-34816b3d931ea2835258293d2c2244349bde1dba-6b3aa3a0dfd4980d-01
2022-04-21T16:18:41.583Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:41.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-db1cd1707023308d0df3315132fb453d3e032628-a0d7f0237cded6a1-01 outer:exit 2b-db1cd1707023308d0df3315132fb453d3e032628-b76cc3cdec442a66-01
2022-04-21T16:18:41.586Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:41.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0fca1f9865036efe4546072a68b5b6fde6a310e-f181370f82167fcb-01 outer:exit 2b-e0fca1f9865036efe4546072a68b5b6fde6a310e-1f682a7483fd0bfa-01
2022-04-21T16:18:41.590Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:41.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bbcd48eeaa30b3a63d45521b4cbb5992d1af1c1-7da41bbbdc58f0bd-01 outer:exit 2b-2bbcd48eeaa30b3a63d45521b4cbb5992d1af1c1-2e9c9582ed98c61b-01
2022-04-21T16:18:41.596Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:41.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5367cad08fa9bfbd3e38bb3d34290cccd8f0086-c9fb01fbfb9a5101-01 outer:exit 2b-b5367cad08fa9bfbd3e38bb3d34290cccd8f0086-8950f4bd48520b45-01
2022-04-21T16:18:41.618Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:41.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6f09490fe26ff6d4dba07ad6acd19492a2c0039-8595b81f8dc6dda7-01 outer:exit 2b-e6f09490fe26ff6d4dba07ad6acd19492a2c0039-c5d209fe2016915c-01
2022-04-21T16:18:41.663Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:41.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde79ecd816e4b59df0c78c853ecee598f43d184-2bea1a1da7c2684c-01 outer:exit 2b-fde79ecd816e4b59df0c78c853ecee598f43d184-2656f440a3fb8d7a-01
2022-04-21T16:18:41.667Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:41.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ca10fd573dc45ccda80f946f0bb1ed048835462-72f90425a7e7cdf6-01 outer:exit 2b-2ca10fd573dc45ccda80f946f0bb1ed048835462-ff237a247f334278-01
2022-04-21T16:18:41.670Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:41.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e7ae10f144aeda907fe6320774626e6282b0aca-27c830884eaa74d2-01 outer:exit 2b-5e7ae10f144aeda907fe6320774626e6282b0aca-56a388bec7029cdb-01
2022-04-21T16:18:41.674Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:41.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef99d133d725a0e02e6d6849a1563475d17469a8-405c181c10aa8ea7-01 outer:exit 2b-ef99d133d725a0e02e6d6849a1563475d17469a8-1d93099e115d8775-01
2022-04-21T16:18:41.676Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:41.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-a31923fc62650f20ebf00c470d68b48aead27c65-b9a77c2b50306070-01 outer:exit 2b-a31923fc62650f20ebf00c470d68b48aead27c65-66a23d64d6970f5e-01
2022-04-21T16:18:41.678Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:41.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-0847ab9765f823d08a04d0d127d5ca6cd2157896-e932e490836e4601-01 outer:exit 2b-0847ab9765f823d08a04d0d127d5ca6cd2157896-91b41ebb56d2182f-01
2022-04-21T16:18:41.680Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:41.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-87eea02fd06efa79a80131af8a6b73fb2aa93395-4fdee85d79ee59d3-01 outer:exit 2b-87eea02fd06efa79a80131af8a6b73fb2aa93395-13efa2f06bf6fe7a-01
2022-04-21T16:18:41.683Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:41.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-00bb81994a5d6fd46579d287954580b9bb23241f-dabd3e1be822da18-01 outer:exit 2b-00bb81994a5d6fd46579d287954580b9bb23241f-e9b04c54d2ef8beb-01
2022-04-21T16:18:41.688Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:41.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-31d89067f625bb854d4967fc38d47a6700e8be5e-023acc13db248c46-01 outer:exit 2b-31d89067f625bb854d4967fc38d47a6700e8be5e-d7de8693ed0461c1-01
2022-04-21T16:18:41.692Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:41.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f958de3b23c1ffa82b7053f3e17e687fdc2a44e-959e5b1101794dc4-01 outer:exit 2b-3f958de3b23c1ffa82b7053f3e17e687fdc2a44e-984b6719cd0da388-01
2022-04-21T16:18:41.695Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:41.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2bbe28f2b393f2fda66f4278847a1e03e366e23-1a8f26136bdce4c8-01 outer:exit 2b-a2bbe28f2b393f2fda66f4278847a1e03e366e23-f05a269d45533d33-01
2022-04-21T16:18:41.698Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:41.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-220c1d55bc81b36733d513826dbd558480877951-09f57ecef3155df0-01 outer:exit 2b-220c1d55bc81b36733d513826dbd558480877951-5b758fcf02dc030e-01
2022-04-21T16:18:41.700Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:41.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebf992ca9235e714614957a8e579b82bd2672e72-f1077b7c9d099df8-01 outer:exit 2b-ebf992ca9235e714614957a8e579b82bd2672e72-a513083ca885a600-01
2022-04-21T16:18:41.709Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:41.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-51dd0f2bcbe9d82ae147d57f971ad7154a81fb44-16cc9bc5c2f2ea78-01 outer:exit 2b-51dd0f2bcbe9d82ae147d57f971ad7154a81fb44-99026d94c285a75d-01
2022-04-21T16:18:41.714Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:41.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f989bb490723dd4e82584d485d7a25583be30e5-bd435e0d31a24796-01 outer:exit 2b-8f989bb490723dd4e82584d485d7a25583be30e5-b2f1630919e51ed7-01
2022-04-21T16:18:41.729Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:41.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ec4579a23c45a44e17870574f42679c16435efa-48dba2c629a39feb-01 outer:exit 2b-0ec4579a23c45a44e17870574f42679c16435efa-347809ab096c507c-01
2022-04-21T16:18:41.735Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:41.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed918084962beb44af48a4298ac8fa09409fa192-86621921b7c9ab3f-01 outer:exit 2b-ed918084962beb44af48a4298ac8fa09409fa192-8aed38f3ae8c7c3e-01
2022-04-21T16:18:41.738Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:41.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-a76b798fd62a50c032ced45307e879aa144452d2-b69fbfbfc2241846-01 outer:exit 2b-a76b798fd62a50c032ced45307e879aa144452d2-7c73d850be191419-01
2022-04-21T16:18:41.741Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:41.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-f306d4b1a642849bc89a59942e78ab77eebd6330-238ec87f9e1c9210-01 outer:exit 2b-f306d4b1a642849bc89a59942e78ab77eebd6330-d92f9f8009b0628f-01
2022-04-21T16:18:41.747Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:41.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-939944eb68d902f14bc6ed17efbd3367b7c9a482-124f3659059189da-01 outer:exit 2b-939944eb68d902f14bc6ed17efbd3367b7c9a482-5547df6615143042-01
2022-04-21T16:18:41.750Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:41.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a76cd796eef1f3dc675a66777645a418d68d554-ad27a72c179e3444-01 outer:exit 2b-6a76cd796eef1f3dc675a66777645a418d68d554-2afc21a4745a27c8-01
2022-04-21T16:18:41.752Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:41.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cd46c986f9cbbcecfd94f51cbe7ab81f63f64ec-a3a4dabc9cd4a35b-01 outer:exit 2b-1cd46c986f9cbbcecfd94f51cbe7ab81f63f64ec-9899b43291a0b1c3-01
2022-04-21T16:18:41.754Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:41.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-885b8df8b0f315baa5e08a93276b148d5efd5f5a-ece48729bf3600fa-01 outer:exit 2b-885b8df8b0f315baa5e08a93276b148d5efd5f5a-4975733f9c396666-01
2022-04-21T16:18:41.756Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:41.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-744009a9c6f2013895f3ae43a75918818c22799a-160c63412d377021-01 outer:exit 2b-744009a9c6f2013895f3ae43a75918818c22799a-fb43bfbb06fd1552-01
2022-04-21T16:18:41.758Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:41.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ae243739b2d4911739df32d5bab3e3d42ce65f7-0ddc07502ee88a6c-01 outer:exit 2b-1ae243739b2d4911739df32d5bab3e3d42ce65f7-5ed16067c5a8f360-01
2022-04-21T16:18:41.767Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:41.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-63c1d10354ae05e58da05ce5be6ee2891ec29594-759352466d2bcc40-01 outer:exit 2b-63c1d10354ae05e58da05ce5be6ee2891ec29594-226284e2eb686f3e-01
2022-04-21T16:18:41.776Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:41.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3e324d976a3f209813786157e9a043ade0f955e-c9f98fd92c6f023e-01 outer:exit 2b-d3e324d976a3f209813786157e9a043ade0f955e-688414000da334c3-01
2022-04-21T16:18:41.779Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:41.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3f933f12764687c0410d6dfea624b4bb050ef7b-96253cd84b6fec72-01 outer:exit 2b-f3f933f12764687c0410d6dfea624b4bb050ef7b-fdcc1c78278091f5-01
2022-04-21T16:18:41.781Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:41.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9c335b05319f7231cf4011aa4c30209f72580ba-646fd309150a90fd-01 outer:exit 2b-e9c335b05319f7231cf4011aa4c30209f72580ba-bd1ab7be559aae0b-01
2022-04-21T16:18:41.784Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:41.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2b42d530a16873e21049e484f8b6fea6a37d6a3-7c3bd077d3d5e031-01 outer:exit 2b-c2b42d530a16873e21049e484f8b6fea6a37d6a3-cf819c24d1ae9c4c-01
2022-04-21T16:18:41.815Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (385ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.20
updated 1 package and audited 935 packages in 3.778s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:46.540Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:46.541Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:46.541Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:46.541Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:46.604Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:46.746Z appoptics:patching patched crypto 
2022-04-21T16:18:46.762Z appoptics:patching patched https 
2022-04-21T16:18:46.765Z appoptics:patching patched http 
2022-04-21T16:18:46.806Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:46.807Z appoptics:patching patched fs 
2022-04-21T16:18:46.830Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v12.22.12)
2022-04-21T16:18:46.835Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-21T16:18:46.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4ce606e0103d72345448163e1077c37d9a1de4e-76ca4201d897fd96-01 outer:exit 2b-f4ce606e0103d72345448163e1077c37d9a1de4e-5eccc4a572500558-01
2022-04-21T16:18:46.875Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:46.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b3d0c2290e227a675e05f38f77cca8da79c581d-0c890cf47a3504f0-01 outer:exit 2b-9b3d0c2290e227a675e05f38f77cca8da79c581d-18d092ec29e01e3c-01
2022-04-21T16:18:46.916Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:46.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bd9198f36a3e9cb20ad689ddcfdfa3cd869655c-180381a1d2341f5b-01 outer:exit 2b-9bd9198f36a3e9cb20ad689ddcfdfa3cd869655c-932da031ddde246e-01
2022-04-21T16:18:46.919Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:46.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-45aa58d71504dae41214b2a8dd72d61bafd47edb-7ea212d212047bb6-01 outer:exit 2b-45aa58d71504dae41214b2a8dd72d61bafd47edb-5430b4d8a669c2ce-01
2022-04-21T16:18:46.922Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:46.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a9096938b37971dc267f7cb6c2e1dcba9f5e668-0e973ea1af3bf98e-01 outer:exit 2b-5a9096938b37971dc267f7cb6c2e1dcba9f5e668-750280a1f87ecb7f-01
2022-04-21T16:18:46.926Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:46.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-b325dc8c423dfab8d21b898eaeb9c69b450a61c1-20b17697beaaeb39-01 outer:exit 2b-b325dc8c423dfab8d21b898eaeb9c69b450a61c1-af2b345a4d8a948c-01
2022-04-21T16:18:46.934Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:46.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-62c22e2a4c9ff9810901ee8162d01fd20bcdda90-2be57941cb35758f-01 outer:exit 2b-62c22e2a4c9ff9810901ee8162d01fd20bcdda90-cd826b1f8afc1012-01
2022-04-21T16:18:46.937Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:46.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8b539d494a6d442c9a6b20570ef3ffd64e9044e-142ea09544216fb3-01 outer:exit 2b-f8b539d494a6d442c9a6b20570ef3ffd64e9044e-be4996e2bb3c44af-01
2022-04-21T16:18:46.939Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:46.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-c649a222f5a5a8df0a219400490f5d133fefd947-d1a14b41667d7b9e-01 outer:exit 2b-c649a222f5a5a8df0a219400490f5d133fefd947-304a00b0c8a6ff45-01
2022-04-21T16:18:46.941Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:46.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c8b2a1b7cb0e77f30c9637a5babd2a56e9ffd82-2300a99a39a6d80a-01 outer:exit 2b-2c8b2a1b7cb0e77f30c9637a5babd2a56e9ffd82-7cef4558548f40f3-01
2022-04-21T16:18:46.944Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:46.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eac326ba353ff3a3a79bb9709eeb18b82bfd4aa-6974e9909ff0f34e-01 outer:exit 2b-9eac326ba353ff3a3a79bb9709eeb18b82bfd4aa-7fbf4501c98dfe3d-01
2022-04-21T16:18:46.947Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:46.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-763ad84fc3a4b7e98b020ae904f3e3f7a37eca06-a4837c5acb19e3be-01 outer:exit 2b-763ad84fc3a4b7e98b020ae904f3e3f7a37eca06-1d4fb99dc16adc0c-01
2022-04-21T16:18:46.953Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:46.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f8dcef78487813b90266b55beebe4bd5dfce090-39bbf9b52e1514e7-01 outer:exit 2b-5f8dcef78487813b90266b55beebe4bd5dfce090-e506ef8c19c1fcc0-01
2022-04-21T16:18:46.968Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:47.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-decd0e7004610d2f8e19f1b322616d3cad38aaf8-6f991702fb746337-01 outer:exit 2b-decd0e7004610d2f8e19f1b322616d3cad38aaf8-3af58050d1b8330d-01
2022-04-21T16:18:47.006Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:47.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-583e63b9324f90f5709d0fc6c0aadfe601d00f84-9b148c3da322ff0d-01 outer:exit 2b-583e63b9324f90f5709d0fc6c0aadfe601d00f84-6fae9195c686c512-01
2022-04-21T16:18:47.008Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:47.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb7d73bf73989ef125fc12d08054c9c5f7dd8a90-91f775e4ab088616-01 outer:exit 2b-fb7d73bf73989ef125fc12d08054c9c5f7dd8a90-049653246703254d-01
2022-04-21T16:18:47.011Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:47.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-4516a7de71f8026c845482b237e0cddc586bb85b-ba35b7c568c61459-01 outer:exit 2b-4516a7de71f8026c845482b237e0cddc586bb85b-6fb6da5bd6c097e5-01
2022-04-21T16:18:47.014Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:47.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f7c229e00b56ff32600e057d9c04debf216085d-4274c5163731216c-01 outer:exit 2b-7f7c229e00b56ff32600e057d9c04debf216085d-903105bb9b273d6d-01
2022-04-21T16:18:47.016Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:47.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b46d48e54176fb01d3b6ee461eb4ed487bd2d4f-dbabc64a0cc74231-01 outer:exit 2b-8b46d48e54176fb01d3b6ee461eb4ed487bd2d4f-a29a07a96793e6f0-01
2022-04-21T16:18:47.018Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:47.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-000711ec64433a7a6f6432f43afebb639176ccc3-5d9bcf6dffaf791d-01 outer:exit 2b-000711ec64433a7a6f6432f43afebb639176ccc3-235c0c5b252ff050-01
2022-04-21T16:18:47.020Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:47.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbb3933faca261133e726a1eda34ae79fafeac73-7097d645635d7c5c-01 outer:exit 2b-bbb3933faca261133e726a1eda34ae79fafeac73-7316be8f0f3b9f49-01
2022-04-21T16:18:47.022Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:47.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-9173a13ae55e91aa1b38c8aa3b237b07f5c85cfb-d8f785979e38a903-01 outer:exit 2b-9173a13ae55e91aa1b38c8aa3b237b07f5c85cfb-4321a74957d945d7-01
2022-04-21T16:18:47.024Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:47.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-c80d21a2169db6a7c49bdd6d1f68102d9d652574-c9dff1e835c631c1-01 outer:exit 2b-c80d21a2169db6a7c49bdd6d1f68102d9d652574-20b74204f4a4e8d3-01
2022-04-21T16:18:47.027Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:47.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-b47d9fd4682114f952ee521a24b75747385d0c95-78e5fdcf341253a4-01 outer:exit 2b-b47d9fd4682114f952ee521a24b75747385d0c95-c6329a4b2ac59835-01
2022-04-21T16:18:47.030Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:47.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fc04bfd3e610d232f7707ab8dc2a9fed2f3ddc0-de00b3b142f0814d-01 outer:exit 2b-0fc04bfd3e610d232f7707ab8dc2a9fed2f3ddc0-20a8ca366aa99c3f-01
2022-04-21T16:18:47.032Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:47.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-8695b97acd70e19b7760582bd47da74815d2d0ce-d1254885782381d9-01 outer:exit 2b-8695b97acd70e19b7760582bd47da74815d2d0ce-5e87c0110482d6b9-01
2022-04-21T16:18:47.035Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:47.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-803b0716b27414076375077ba6df1a3b9a89754d-c345d28d191cd9ab-01 outer:exit 2b-803b0716b27414076375077ba6df1a3b9a89754d-32a50a6da507525d-01
2022-04-21T16:18:47.042Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:47.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-7255b837541a3ee94b7a0a9932a1476b55a0b6e8-84aa38ee24ccc97e-01 outer:exit 2b-7255b837541a3ee94b7a0a9932a1476b55a0b6e8-6e1ef0af62e20161-01
2022-04-21T16:18:47.047Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:47.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-c96b13b5eb0cb45b7e28beef531c8d707e394076-e6275d8c616d158b-01 outer:exit 2b-c96b13b5eb0cb45b7e28beef531c8d707e394076-1bbc23cb74a120b3-01
2022-04-21T16:18:47.054Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:47.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-08f3e20fba470d2220678a766a2ef2442aa7cba4-5341399dc379b61a-01 outer:exit 2b-08f3e20fba470d2220678a766a2ef2442aa7cba4-3c8a573ed0d9b0d3-01
2022-04-21T16:18:47.061Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:47.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-c85a1bf37bf0c235084e6f67debccd5f328bff1e-bb0746264fdc2813-01 outer:exit 2b-c85a1bf37bf0c235084e6f67debccd5f328bff1e-595628af69a52790-01
2022-04-21T16:18:47.063Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:47.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-34c59b3a03bea3bb8c988a9b7275d6ab4fa34be3-c2e64f97c159ce3a-01 outer:exit 2b-34c59b3a03bea3bb8c988a9b7275d6ab4fa34be3-224be3f2dc8e5072-01
2022-04-21T16:18:47.066Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:47.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1bafdd70ced44118472ea023a1187758bf1ec62-be3454d26a0e3424-01 outer:exit 2b-d1bafdd70ced44118472ea023a1187758bf1ec62-f2109eac888992b7-01
2022-04-21T16:18:47.073Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:47.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-346cce77358b9c570b37304a63ad04fa2468108c-d6c85a99c4ab4ddd-01 outer:exit 2b-346cce77358b9c570b37304a63ad04fa2468108c-aabf48635f1633e7-01
2022-04-21T16:18:47.075Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:47.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-9153a2cfe192e3514a1ca15726874fd3a239f7df-6ca858974caff770-01 outer:exit 2b-9153a2cfe192e3514a1ca15726874fd3a239f7df-916d5c3ea158a870-01
2022-04-21T16:18:47.077Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:47.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-17efbbf89661fa8e1733dc747d1fa29bd4434467-604756f00603de8a-01 outer:exit 2b-17efbbf89661fa8e1733dc747d1fa29bd4434467-c9479d01b5dea782-01
2022-04-21T16:18:47.079Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:47.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eb246546bead1281bb3e990e414ee42325c1a6f-16309f73c57a86fd-01 outer:exit 2b-9eb246546bead1281bb3e990e414ee42325c1a6f-b1cf4f8928dc805b-01
2022-04-21T16:18:47.081Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:47.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-77485c5d7bd6ae7ecbd67396aed5222ba68454c1-17b0ec66399304f4-01 outer:exit 2b-77485c5d7bd6ae7ecbd67396aed5222ba68454c1-319c8802e9e39cb6-01
2022-04-21T16:18:47.083Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:47.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-855de07829bd111ef1b13debb33dbc50855087f6-cb6a7462c510ee82-01 outer:exit 2b-855de07829bd111ef1b13debb33dbc50855087f6-3139d0ba90e0c3c3-01
2022-04-21T16:18:47.093Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:47.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fbbee7067c572331017a1adb2d29ef6ac8c1f2a-6d9cdbe2d8ff91bf-01 outer:exit 2b-6fbbee7067c572331017a1adb2d29ef6ac8c1f2a-4d35c9b6a02b0e38-01
2022-04-21T16:18:47.102Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:47.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-0848228e5a80678ba03d456b95e1a425564d0240-a71cfd8733aaebb2-01 outer:exit 2b-0848228e5a80678ba03d456b95e1a425564d0240-d8c34cb82d957ebe-01
2022-04-21T16:18:47.105Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:47.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-170e9d3f48ac166f054ad4534388cad57f6cab36-b8b0547c3c7db9bb-01 outer:exit 2b-170e9d3f48ac166f054ad4534388cad57f6cab36-ac8a967837064d72-01
2022-04-21T16:18:47.107Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:47.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-39226fa71e397d8378a25986ec9d973a2c78e207-7688d0bb0d046d80-01 outer:exit 2b-39226fa71e397d8378a25986ec9d973a2c78e207-b421cbf0cc231174-01
2022-04-21T16:18:47.112Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:47.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5ae2376141a47da007e9be119ba86f16974749e-857d247174576ca0-01 outer:exit 2b-d5ae2376141a47da007e9be119ba86f16974749e-27c191397a56d39c-01
2022-04-21T16:18:47.140Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (298ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.0
updated 1 package and audited 935 packages in 4.328s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:52.337Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:52.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:52.337Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:52.338Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:52.400Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:52.523Z appoptics:patching patched crypto 
2022-04-21T16:18:52.544Z appoptics:patching patched https 
2022-04-21T16:18:52.545Z appoptics:patching patched http 
2022-04-21T16:18:52.583Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:52.584Z appoptics:patching patched fs 
2022-04-21T16:18:52.593Z appoptics:patching patched zlib 
2022-04-21T16:18:52.613Z appoptics:patching patched mongodb-core 3.0.0
2022-04-21T16:18:52.617Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (370ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.1
updated 1 package and audited 935 packages in 4.033s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:18:57.943Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:57.943Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:57.943Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:57.944Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:58.005Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:58.141Z appoptics:patching patched crypto 
2022-04-21T16:18:58.172Z appoptics:patching patched https 
2022-04-21T16:18:58.172Z appoptics:patching patched http 
2022-04-21T16:18:58.212Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:58.213Z appoptics:patching patched fs 
2022-04-21T16:18:58.222Z appoptics:patching patched zlib 
2022-04-21T16:18:58.241Z appoptics:patching patched mongodb-core 3.0.1
2022-04-21T16:18:58.245Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (274ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.2
updated 1 package and audited 935 packages in 4.021s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:03.420Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:03.421Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:03.421Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:03.422Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:03.483Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:03.605Z appoptics:patching patched crypto 
2022-04-21T16:19:03.621Z appoptics:patching patched https 
2022-04-21T16:19:03.621Z appoptics:patching patched http 
2022-04-21T16:19:03.657Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:03.657Z appoptics:patching patched fs 
2022-04-21T16:19:03.666Z appoptics:patching patched zlib 
2022-04-21T16:19:03.687Z appoptics:patching patched mongodb-core 3.0.2
2022-04-21T16:19:03.691Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (312ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.3
updated 1 package and audited 935 packages in 4.387s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:09.255Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:09.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:09.256Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:09.257Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:09.322Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:09.449Z appoptics:patching patched crypto 
2022-04-21T16:19:09.466Z appoptics:patching patched https 
2022-04-21T16:19:09.467Z appoptics:patching patched http 
2022-04-21T16:19:09.502Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:09.503Z appoptics:patching patched fs 
2022-04-21T16:19:09.511Z appoptics:patching patched zlib 
2022-04-21T16:19:09.532Z appoptics:patching patched mongodb-core 3.0.3
2022-04-21T16:19:09.537Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (268ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.4
updated 1 package and audited 935 packages in 4.028s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:14.717Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:14.717Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:14.717Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:14.718Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:14.778Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:14.903Z appoptics:patching patched crypto 
2022-04-21T16:19:14.924Z appoptics:patching patched https 
2022-04-21T16:19:14.924Z appoptics:patching patched http 
2022-04-21T16:19:14.958Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:14.958Z appoptics:patching patched fs 
2022-04-21T16:19:14.967Z appoptics:patching patched zlib 
2022-04-21T16:19:14.988Z appoptics:patching patched mongodb-core 3.0.4
2022-04-21T16:19:14.992Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (307ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.5
updated 1 package and audited 935 packages in 4.386s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:20.608Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:20.609Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:20.609Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:20.609Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:20.683Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:20.875Z appoptics:patching patched crypto 
2022-04-21T16:19:20.893Z appoptics:patching patched https 
2022-04-21T16:19:20.893Z appoptics:patching patched http 
2022-04-21T16:19:20.930Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:20.930Z appoptics:patching patched fs 
2022-04-21T16:19:20.939Z appoptics:patching patched zlib 
2022-04-21T16:19:20.960Z appoptics:patching patched mongodb-core 3.0.5
2022-04-21T16:19:20.965Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (249ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.6
updated 1 package and audited 935 packages in 3.79s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:25.855Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:25.855Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:25.856Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:25.856Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:25.917Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:26.039Z appoptics:patching patched crypto 
2022-04-21T16:19:26.057Z appoptics:patching patched https 
2022-04-21T16:19:26.057Z appoptics:patching patched http 
2022-04-21T16:19:26.093Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:26.093Z appoptics:patching patched fs 
2022-04-21T16:19:26.102Z appoptics:patching patched zlib 
2022-04-21T16:19:26.124Z appoptics:patching patched mongodb-core 3.0.6
2022-04-21T16:19:26.128Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (261ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.7
updated 1 package and audited 935 packages in 4.327s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:31.572Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:31.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:31.573Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:31.573Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:31.631Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:31.757Z appoptics:patching patched crypto 
2022-04-21T16:19:31.783Z appoptics:patching patched https 
2022-04-21T16:19:31.784Z appoptics:patching patched http 
2022-04-21T16:19:31.814Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:31.815Z appoptics:patching patched fs 
2022-04-21T16:19:31.823Z appoptics:patching patched zlib 
2022-04-21T16:19:31.846Z appoptics:patching patched mongodb-core 3.0.7
2022-04-21T16:19:31.850Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (343ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.8
updated 1 package and audited 935 packages in 3.763s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:36.853Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:36.853Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:36.853Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:36.854Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:36.916Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:37.040Z appoptics:patching patched crypto 
2022-04-21T16:19:37.057Z appoptics:patching patched https 
2022-04-21T16:19:37.057Z appoptics:patching patched http 
2022-04-21T16:19:37.098Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:37.099Z appoptics:patching patched fs 
2022-04-21T16:19:37.111Z appoptics:patching patched zlib 
2022-04-21T16:19:37.140Z appoptics:patching patched mongodb-core 3.0.8
2022-04-21T16:19:37.146Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (280ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.9
updated 1 package and audited 935 packages in 4.027s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:42.512Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:42.513Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:42.513Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:42.513Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:42.602Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:42.756Z appoptics:patching patched crypto 
2022-04-21T16:19:42.772Z appoptics:patching patched https 
2022-04-21T16:19:42.773Z appoptics:patching patched http 
2022-04-21T16:19:42.810Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:42.810Z appoptics:patching patched fs 
2022-04-21T16:19:42.819Z appoptics:patching patched zlib 
2022-04-21T16:19:42.841Z appoptics:patching patched mongodb-core 3.0.9
2022-04-21T16:19:42.845Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (265ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.11
updated 1 package and audited 935 packages in 3.896s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:47.853Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:47.854Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:47.854Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:47.854Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:47.914Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:48.036Z appoptics:patching patched crypto 
2022-04-21T16:19:48.056Z appoptics:patching patched https 
2022-04-21T16:19:48.057Z appoptics:patching patched http 
2022-04-21T16:19:48.092Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:48.092Z appoptics:patching patched fs 
2022-04-21T16:19:48.101Z appoptics:patching patched zlib 
2022-04-21T16:19:48.123Z appoptics:patching patched mongodb-core 3.0.11
2022-04-21T16:19:48.127Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (279ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.0
updated 1 package and audited 935 packages in 3.814s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:53.145Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:53.146Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:53.146Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:53.146Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:53.224Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:53.372Z appoptics:patching patched crypto 
2022-04-21T16:19:53.408Z appoptics:patching patched https 
2022-04-21T16:19:53.408Z appoptics:patching patched http 
2022-04-21T16:19:53.460Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:53.460Z appoptics:patching patched fs 
2022-04-21T16:19:53.469Z appoptics:patching patched zlib 
2022-04-21T16:19:53.495Z appoptics:patching patched mongodb-core 3.1.0
2022-04-21T16:19:53.500Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (315ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.1
updated 1 package and audited 935 packages in 4.612s

86 packages are looking for funding
  run `npm fund` for details

found 9 vulnerabilities (3 moderate, 6 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:19:59.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:59.461Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:59.461Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:59.461Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:59.523Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:59.648Z appoptics:patching patched crypto 
2022-04-21T16:19:59.676Z appoptics:patching patched https 
2022-04-21T16:19:59.676Z appoptics:patching patched http 
2022-04-21T16:19:59.710Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:59.710Z appoptics:patching patched fs 
2022-04-21T16:19:59.719Z appoptics:patching patched zlib 
2022-04-21T16:19:59.745Z appoptics:patching patched mongodb-core 3.1.1
2022-04-21T16:19:59.749Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (320ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.2
updated 2 packages and audited 935 packages in 3.724s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:04.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:04.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:04.647Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:04.647Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:04.713Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:04.851Z appoptics:patching patched crypto 
2022-04-21T16:20:04.885Z appoptics:patching patched https 
2022-04-21T16:20:04.886Z appoptics:patching patched http 
2022-04-21T16:20:04.935Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:04.936Z appoptics:patching patched fs 
2022-04-21T16:20:04.944Z appoptics:patching patched zlib 
2022-04-21T16:20:04.971Z appoptics:patching patched mongodb-core 3.1.2
2022-04-21T16:20:04.975Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (336ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.3
updated 1 package and audited 935 packages in 4.233s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:10.666Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:10.666Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:10.666Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:10.667Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:10.727Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:10.848Z appoptics:patching patched crypto 
2022-04-21T16:20:10.864Z appoptics:patching patched https 
2022-04-21T16:20:10.864Z appoptics:patching patched http 
2022-04-21T16:20:10.929Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:10.929Z appoptics:patching patched fs 
2022-04-21T16:20:10.942Z appoptics:patching patched zlib 
2022-04-21T16:20:10.975Z appoptics:patching patched mongodb-core 3.1.3
2022-04-21T16:20:10.980Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (265ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.4
updated 1 package and audited 935 packages in 3.909s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:16.015Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:16.016Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:16.016Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:16.017Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:16.078Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:16.200Z appoptics:patching patched crypto 
2022-04-21T16:20:16.220Z appoptics:patching patched https 
2022-04-21T16:20:16.220Z appoptics:patching patched http 
2022-04-21T16:20:16.254Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:16.254Z appoptics:patching patched fs 
2022-04-21T16:20:16.264Z appoptics:patching patched zlib 
2022-04-21T16:20:16.289Z appoptics:patching patched mongodb-core 3.1.4
2022-04-21T16:20:16.294Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (43ms)


  33 passing (805ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.5
updated 1 package and audited 935 packages in 4.396s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:22.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:22.545Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:22.545Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:22.545Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:22.605Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:22.726Z appoptics:patching patched crypto 
2022-04-21T16:20:22.744Z appoptics:patching patched https 
2022-04-21T16:20:22.744Z appoptics:patching patched http 
2022-04-21T16:20:22.777Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:22.777Z appoptics:patching patched fs 
2022-04-21T16:20:22.787Z appoptics:patching patched zlib 
2022-04-21T16:20:22.812Z appoptics:patching patched mongodb-core 3.1.5
2022-04-21T16:20:22.816Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (269ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.6
updated 1 package and audited 935 packages in 3.524s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:27.490Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:27.490Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:27.490Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:27.491Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:27.551Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:27.697Z appoptics:patching patched crypto 
2022-04-21T16:20:27.727Z appoptics:patching patched https 
2022-04-21T16:20:27.727Z appoptics:patching patched http 
2022-04-21T16:20:27.757Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:27.757Z appoptics:patching patched fs 
2022-04-21T16:20:27.768Z appoptics:patching patched zlib 
2022-04-21T16:20:27.793Z appoptics:patching patched mongodb-core 3.1.6
2022-04-21T16:20:27.798Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (243ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.7
updated 1 package and audited 935 packages in 4.499s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:33.439Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:33.440Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:33.440Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:33.440Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:33.498Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:33.621Z appoptics:patching patched crypto 
2022-04-21T16:20:33.637Z appoptics:patching patched https 
2022-04-21T16:20:33.638Z appoptics:patching patched http 
2022-04-21T16:20:33.672Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:33.672Z appoptics:patching patched fs 
2022-04-21T16:20:33.682Z appoptics:patching patched zlib 
2022-04-21T16:20:33.708Z appoptics:patching patched mongodb-core 3.1.7
2022-04-21T16:20:33.712Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (315ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.8
updated 1 package and audited 935 packages in 3.564s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:38.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:38.433Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:38.433Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:38.433Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:38.494Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:38.616Z appoptics:patching patched crypto 
2022-04-21T16:20:38.634Z appoptics:patching patched https 
2022-04-21T16:20:38.634Z appoptics:patching patched http 
2022-04-21T16:20:38.668Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:38.669Z appoptics:patching patched fs 
2022-04-21T16:20:38.679Z appoptics:patching patched zlib 
2022-04-21T16:20:38.706Z appoptics:patching patched mongodb-core 3.1.8
2022-04-21T16:20:38.710Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (323ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.9
updated 1 package and audited 935 packages in 4.229s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:44.192Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:44.193Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:44.193Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:44.194Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:44.253Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:44.376Z appoptics:patching patched crypto 
2022-04-21T16:20:44.393Z appoptics:patching patched https 
2022-04-21T16:20:44.393Z appoptics:patching patched http 
2022-04-21T16:20:44.427Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:44.427Z appoptics:patching patched fs 
2022-04-21T16:20:44.436Z appoptics:patching patched zlib 
2022-04-21T16:20:44.462Z appoptics:patching patched mongodb-core 3.1.9
2022-04-21T16:20:44.466Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (240ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.10
updated 1 package and audited 935 packages in 3.889s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:49.448Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:49.449Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:49.449Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:49.449Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:49.510Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:49.648Z appoptics:patching patched crypto 
2022-04-21T16:20:49.690Z appoptics:patching patched https 
2022-04-21T16:20:49.690Z appoptics:patching patched http 
2022-04-21T16:20:49.730Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:49.731Z appoptics:patching patched fs 
2022-04-21T16:20:49.741Z appoptics:patching patched zlib 
2022-04-21T16:20:49.767Z appoptics:patching patched mongodb-core 3.1.10
2022-04-21T16:20:49.771Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (360ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.11
updated 1 package and audited 935 packages in 4.131s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:20:55.441Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:55.442Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:55.442Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:55.442Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:55.505Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:55.630Z appoptics:patching patched crypto 
2022-04-21T16:20:55.649Z appoptics:patching patched https 
2022-04-21T16:20:55.649Z appoptics:patching patched http 
2022-04-21T16:20:55.683Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:55.683Z appoptics:patching patched fs 
2022-04-21T16:20:55.694Z appoptics:patching patched zlib 
2022-04-21T16:20:55.719Z appoptics:patching patched mongodb-core 3.1.11
2022-04-21T16:20:55.724Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (299ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.0
updated 1 package and audited 935 packages in 3.653s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:00.560Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:00.561Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:00.561Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:00.561Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:00.621Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:00.776Z appoptics:patching patched crypto 
2022-04-21T16:21:00.811Z appoptics:patching patched https 
2022-04-21T16:21:00.811Z appoptics:patching patched http 
2022-04-21T16:21:00.860Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:00.860Z appoptics:patching patched fs 
2022-04-21T16:21:00.871Z appoptics:patching patched zlib 
2022-04-21T16:21:00.903Z appoptics:patching patched mongodb-core 3.2.0
2022-04-21T16:21:00.907Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (349ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.1
updated 1 package and audited 935 packages in 4.032s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:06.439Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:06.440Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:06.440Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:06.441Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:06.522Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:06.669Z appoptics:patching patched crypto 
2022-04-21T16:21:06.704Z appoptics:patching patched https 
2022-04-21T16:21:06.704Z appoptics:patching patched http 
2022-04-21T16:21:06.755Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:06.756Z appoptics:patching patched fs 
2022-04-21T16:21:06.767Z appoptics:patching patched zlib 
2022-04-21T16:21:06.798Z appoptics:patching patched mongodb-core 3.2.1
2022-04-21T16:21:06.803Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (387ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.2
updated 1 package and audited 935 packages in 3.755s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:12.039Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:12.040Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:12.040Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:12.041Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:12.115Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:12.291Z appoptics:patching patched crypto 
2022-04-21T16:21:12.323Z appoptics:patching patched https 
2022-04-21T16:21:12.323Z appoptics:patching patched http 
2022-04-21T16:21:12.355Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:12.355Z appoptics:patching patched fs 
2022-04-21T16:21:12.366Z appoptics:patching patched zlib 
2022-04-21T16:21:12.396Z appoptics:patching patched mongodb-core 3.2.2
2022-04-21T16:21:12.400Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (244ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.3
updated 1 package and audited 935 packages in 3.533s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:17.110Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:17.111Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:17.111Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:17.112Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:17.172Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:17.290Z appoptics:patching patched crypto 
2022-04-21T16:21:17.308Z appoptics:patching patched https 
2022-04-21T16:21:17.308Z appoptics:patching patched http 
2022-04-21T16:21:17.374Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:17.374Z appoptics:patching patched fs 
2022-04-21T16:21:17.387Z appoptics:patching patched zlib 
2022-04-21T16:21:17.418Z appoptics:patching patched mongodb-core 3.2.3
2022-04-21T16:21:17.423Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (354ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.4
updated 1 package and audited 935 packages in 5.369s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:24.179Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:24.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:24.180Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:24.184Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:24.263Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:24.397Z appoptics:patching patched crypto 
2022-04-21T16:21:24.423Z appoptics:patching patched https 
2022-04-21T16:21:24.423Z appoptics:patching patched http 
2022-04-21T16:21:24.454Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:24.454Z appoptics:patching patched fs 
2022-04-21T16:21:24.465Z appoptics:patching patched zlib 
2022-04-21T16:21:24.495Z appoptics:patching patched mongodb-core 3.2.4
2022-04-21T16:21:24.500Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (268ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.5
updated 1 package and audited 935 packages in 3.502s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:29.128Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:29.129Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:29.129Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:29.129Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:29.191Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:29.312Z appoptics:patching patched crypto 
2022-04-21T16:21:29.333Z appoptics:patching patched https 
2022-04-21T16:21:29.333Z appoptics:patching patched http 
2022-04-21T16:21:29.391Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:29.391Z appoptics:patching patched fs 
2022-04-21T16:21:29.402Z appoptics:patching patched zlib 
2022-04-21T16:21:29.445Z appoptics:patching patched mongodb-core 3.2.5
2022-04-21T16:21:29.449Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (324ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.6
updated 1 package and audited 935 packages in 4.307s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:35.068Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:35.069Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:35.069Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:35.070Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:35.127Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:35.252Z appoptics:patching patched crypto 
2022-04-21T16:21:35.269Z appoptics:patching patched https 
2022-04-21T16:21:35.269Z appoptics:patching patched http 
2022-04-21T16:21:35.303Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:35.303Z appoptics:patching patched fs 
2022-04-21T16:21:35.314Z appoptics:patching patched zlib 
2022-04-21T16:21:35.347Z appoptics:patching patched mongodb-core 3.2.6
2022-04-21T16:21:35.352Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (269ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 935 packages in 3.472s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-21T16:21:39.943Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:39.944Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:39.944Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:39.945Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:40.006Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:40.130Z appoptics:patching patched crypto 
2022-04-21T16:21:40.148Z appoptics:patching patched https 
2022-04-21T16:21:40.148Z appoptics:patching patched http 
2022-04-21T16:21:40.186Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:40.187Z appoptics:patching patched fs 
2022-04-21T16:21:40.197Z appoptics:patching patched zlib 
2022-04-21T16:21:40.228Z appoptics:patching patched mongodb-core 3.2.7
2022-04-21T16:21:40.232Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (314ms)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 935 packages in 4.383s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
