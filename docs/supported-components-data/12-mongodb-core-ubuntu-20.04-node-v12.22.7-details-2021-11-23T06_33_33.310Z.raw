npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.0
updated 2 packages and audited 1085 packages in 4.557s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:39.272Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:39.273Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:39.273Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:39.273Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:39.346Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:39.482Z appoptics:patching patched crypto 
2021-11-23T06:33:39.568Z appoptics:patching patched https 
2021-11-23T06:33:39.569Z appoptics:patching patched http 
2021-11-23T06:33:39.621Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:33:39.621Z appoptics:patching patched fs 
2021-11-23T06:33:39.634Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v12.22.7)
2021-11-23T06:33:39.639Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-11-23T06:33:39.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d200941560b1a874c747fb6548bfd76f831bdc7-c9750b2ce377574b-01 outer:exit 2b-8d200941560b1a874c747fb6548bfd76f831bdc7-795fc5e89ac7a9e9-01
2021-11-23T06:33:39.692Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:33:39.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-258858ed9ca978c2dad38c9c2713bad8447edca8-43f0f0b5d10fd607-01 outer:exit 2b-258858ed9ca978c2dad38c9c2713bad8447edca8-00b9eda59c495787-01
2021-11-23T06:33:39.780Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:33:39.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b09f0829ca5c2a9207000331f2025e425836f2e-e0f009fc829e4c16-01 outer:exit 2b-5b09f0829ca5c2a9207000331f2025e425836f2e-0fb18d3d714c03ae-01
2021-11-23T06:33:39.786Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:33:39.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-52f13a166e1d9f45e04a73da8a12daac3736f8f8-27cfb35fe1559502-01 outer:exit 2b-52f13a166e1d9f45e04a73da8a12daac3736f8f8-3dde0fba675cf5f9-01
2021-11-23T06:33:39.789Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:33:39.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f5d8acd3ed5124ad9079f353372412c12be2354-b2e077ecb4f846ae-01 outer:exit 2b-1f5d8acd3ed5124ad9079f353372412c12be2354-6b98459f82bc3718-01
2021-11-23T06:33:39.795Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:33:39.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d45c05b261a62913e63f6963f4096a7edac94bf-b7852d8be92ee5ec-01 outer:exit 2b-1d45c05b261a62913e63f6963f4096a7edac94bf-93438b5381d010f1-01
2021-11-23T06:33:39.799Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:33:39.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-d399f05951cef77547477db30de625e4e093dad8-ddba52a46cf7f757-01 outer:exit 2b-d399f05951cef77547477db30de625e4e093dad8-d85fc81c50f2d3f6-01
2021-11-23T06:33:39.804Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:33:39.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-f16514aa0105ebd8cfe9a475c0d7f359e08ada6b-e50c7cdbe47730a2-01 outer:exit 2b-f16514aa0105ebd8cfe9a475c0d7f359e08ada6b-2aebdf95804cba70-01
2021-11-23T06:33:39.807Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:33:39.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3db37aed8853bdfbd494bedf278607bf5f314c1-94a8fc7a9c5d49d6-01 outer:exit 2b-c3db37aed8853bdfbd494bedf278607bf5f314c1-d35f402e8dc73a5d-01
2021-11-23T06:33:39.809Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:33:39.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6e4027522fb2931960c0ca5200a56a65ae53ac5-d760e71d4fd4e612-01 outer:exit 2b-c6e4027522fb2931960c0ca5200a56a65ae53ac5-acfd822543dc5fea-01
2021-11-23T06:33:39.812Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:33:39.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-71a0630d443d63f5e640cdbd3a7d8d7418a840ee-8a9c48005b1be986-01 outer:exit 2b-71a0630d443d63f5e640cdbd3a7d8d7418a840ee-b4f4849b119ffa5c-01
2021-11-23T06:33:39.815Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:33:39.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a2792cbfb58b7b21c50cc3949b8725272c8975e-78276bab71e434fc-01 outer:exit 2b-9a2792cbfb58b7b21c50cc3949b8725272c8975e-c774898735c6a60a-01
2021-11-23T06:33:39.851Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:33:39.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-5babd45b35ee612616f0450dbb8380f494e2dcb3-d5a32dacdb20a4e1-01 outer:exit 2b-5babd45b35ee612616f0450dbb8380f494e2dcb3-9ae5926b3b55fa77-01
2021-11-23T06:33:39.882Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:33:39.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-39e7a791586356d0b5d81be9ff4f4afb2aefc63e-a21a585325c85790-01 outer:exit 2b-39e7a791586356d0b5d81be9ff4f4afb2aefc63e-5e22b10941d315ec-01
2021-11-23T06:33:39.995Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:33:40.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-c04f08c57dee2944e457540e3c0d68e6a7782bbe-d70487f7efbc47dc-01 outer:exit 2b-c04f08c57dee2944e457540e3c0d68e6a7782bbe-1acd133f8476a382-01
2021-11-23T06:33:40.001Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:33:40.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-59e62612aae412b11366e398f0cc28782fd7a287-dd9feed860055084-01 outer:exit 2b-59e62612aae412b11366e398f0cc28782fd7a287-6ae180a6064c19d0-01
2021-11-23T06:33:40.003Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:33:40.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c92b51df22006b248d7a9c9de3970f355de6eb7-2220802a0c24cf3e-01 outer:exit 2b-7c92b51df22006b248d7a9c9de3970f355de6eb7-3aec801f5fb77a68-01
2021-11-23T06:33:40.009Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:33:40.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-1339770d3495cd0ebe0d40da3e3f1b14b06736ce-fc166d30955c049a-01 outer:exit 2b-1339770d3495cd0ebe0d40da3e3f1b14b06736ce-c14cf7b341f7b060-01
2021-11-23T06:33:40.012Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:33:40.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eea8a429d110a98b8e2652bef3eb2d6a2747da0-904c8868730ee545-01 outer:exit 2b-7eea8a429d110a98b8e2652bef3eb2d6a2747da0-91a2f3b0f5a0f04f-01
2021-11-23T06:33:40.015Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:33:40.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b6c43b5ed1153bafd3c4ec136b5a4b196e927cf-f9511bb25579ebfd-01 outer:exit 2b-9b6c43b5ed1153bafd3c4ec136b5a4b196e927cf-1f900d2a546c325b-01
2021-11-23T06:33:40.017Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:33:40.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-1534b37a2328bbce9e69b4cadcf1e3c4906a18f4-67540e86307128fc-01 outer:exit 2b-1534b37a2328bbce9e69b4cadcf1e3c4906a18f4-58cc10715c95ebf0-01
2021-11-23T06:33:40.019Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:33:40.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-6657322012a2bcd8eaf5858335c0277dbd5c6261-00e018cdb28d3c1c-01 outer:exit 2b-6657322012a2bcd8eaf5858335c0277dbd5c6261-132352b4e613e256-01
2021-11-23T06:33:40.021Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:33:40.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fd949ecffa02bfc59b6860a0f7391d572395a67-6c7d4769b379fbcc-01 outer:exit 2b-6fd949ecffa02bfc59b6860a0f7391d572395a67-dad247697c2dadff-01
2021-11-23T06:33:40.025Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:33:40.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-36d6a72182c37da53a669db7ccbafe818c8e413f-17260161a972e065-01 outer:exit 2b-36d6a72182c37da53a669db7ccbafe818c8e413f-a946115365aaba08-01
2021-11-23T06:33:40.035Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:33:40.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-c38ea89ff4bd11e57b06d8a5bc2c445258ca4e82-a01077e2138f07cf-01 outer:exit 2b-c38ea89ff4bd11e57b06d8a5bc2c445258ca4e82-d3f4986a504d67b2-01
2021-11-23T06:33:40.037Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:33:40.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a5830b92a703bfb4c877c87b907f460edd91f6f-b812e68f684c30ba-01 outer:exit 2b-1a5830b92a703bfb4c877c87b907f460edd91f6f-3c2a3ea1ea64fb38-01
2021-11-23T06:33:40.040Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:33:40.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-86ef3b0041d1dae8e00d989005add4320a51eeb5-a604858900bedeaa-01 outer:exit 2b-86ef3b0041d1dae8e00d989005add4320a51eeb5-ca551d1d79121b42-01
2021-11-23T06:33:40.077Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:33:40.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-27822b40ca76cd079405a15fec3b00bf281cc6c6-375dda3642ac12f7-01 outer:exit 2b-27822b40ca76cd079405a15fec3b00bf281cc6c6-8de158ac3846f279-01
2021-11-23T06:33:40.097Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:33:40.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-7874e47528e06b0132bc84bdd8b7762488d4a95c-fda6cfdd6cb85559-01 outer:exit 2b-7874e47528e06b0132bc84bdd8b7762488d4a95c-eefce223182033df-01
2021-11-23T06:33:40.107Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:33:40.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba9829f933ce596ab5dce8e9eb0df0a81eb477e7-97811fd7a490d4a4-01 outer:exit 2b-ba9829f933ce596ab5dce8e9eb0df0a81eb477e7-a57687180fcdbcb4-01
2021-11-23T06:33:40.128Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:33:40.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-a44fc2e4aeea0123dbaa0102ee0ddfbb45c35936-7f75674fabcdda06-01 outer:exit 2b-a44fc2e4aeea0123dbaa0102ee0ddfbb45c35936-48cde1a58b4402c1-01
2021-11-23T06:33:40.132Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:33:40.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-587849efc434af569f6d114dc359405137e8cdfc-b2b793f1e6f4133b-01 outer:exit 2b-587849efc434af569f6d114dc359405137e8cdfc-4e58fb26cb4928fb-01
2021-11-23T06:33:40.134Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:33:40.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-530c3fa38467f72661246f5f220d50887964ca15-6ea2c7db6a851d81-01 outer:exit 2b-530c3fa38467f72661246f5f220d50887964ca15-11b606ac1668426b-01
2021-11-23T06:33:40.142Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:33:40.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-e626a1015f5b0ccaac204b1dc2749dbe610ad58d-03510d766928b7ea-01 outer:exit 2b-e626a1015f5b0ccaac204b1dc2749dbe610ad58d-a3eb3b3560a5cb91-01
2021-11-23T06:33:40.150Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:33:40.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-e04b102c35af9e10a21f0cea1d53f99e77d7da54-74882e5d31f3d0d2-01 outer:exit 2b-e04b102c35af9e10a21f0cea1d53f99e77d7da54-cb2d2fdc33e4b0ea-01
2021-11-23T06:33:40.152Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:33:40.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4373dfa5d776b9d9e9a4b1c6ebf6e5319e140ce-d7bb16d63c3afbf2-01 outer:exit 2b-f4373dfa5d776b9d9e9a4b1c6ebf6e5319e140ce-ca19ad99bd4143d0-01
2021-11-23T06:33:40.155Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:33:40.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-14ba2f9cced83d237ee51f888260609a7ee550bc-df7ab4d70507f232-01 outer:exit 2b-14ba2f9cced83d237ee51f888260609a7ee550bc-b3fc5a0aaef1a1f1-01
2021-11-23T06:33:40.157Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:33:40.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-d442575530c82035f034ebe4096e12ee69b60073-5a7a451c9cd760a7-01 outer:exit 2b-d442575530c82035f034ebe4096e12ee69b60073-82628759c82d5da6-01
2021-11-23T06:33:40.159Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:33:40.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-23b5cf016ddc27aea06eb4c308ffb05cd6a1f552-94c1cc28a489f0de-01 outer:exit 2b-23b5cf016ddc27aea06eb4c308ffb05cd6a1f552-6f7d07f078ba6083-01
2021-11-23T06:33:40.167Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:33:40.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e60c506db049a77ef3ce50b576829005bf6f6b-0d0236f6eee051ae-01 outer:exit 2b-70e60c506db049a77ef3ce50b576829005bf6f6b-e79f2c590244b532-01
2021-11-23T06:33:40.174Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:33:40.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f8da26479e39e8f2d7430c7b118553c4a23f53d-122aba113d6ddfab-01 outer:exit 2b-4f8da26479e39e8f2d7430c7b118553c4a23f53d-6224f0194491e055-01
2021-11-23T06:33:40.177Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:33:40.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a6f75309b08328f7272793a1ac1605095a3724e-4ba268190be5cb26-01 outer:exit 2b-2a6f75309b08328f7272793a1ac1605095a3724e-cf03fed9a50aa5fc-01
2021-11-23T06:33:40.180Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:33:40.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-61b65721273d316dbb35e98d5bcad557fd3f117d-39eecf1adc21438f-01 outer:exit 2b-61b65721273d316dbb35e98d5bcad557fd3f117d-848b9bde69758921-01
2021-11-23T06:33:40.225Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:33:40.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-931a8fd602e9a01a9231d7223d9ac272f3c2f887-413c8fde88ff1c6b-01 outer:exit 2b-931a8fd602e9a01a9231d7223d9ac272f3c2f887-dbfda508da5c82bf-01
2021-11-23T06:33:40.254Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (600ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.1
updated 1 package and audited 1085 packages in 5.589s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:46.772Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:46.773Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:46.773Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:46.773Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:46.836Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:46.964Z appoptics:patching patched crypto 
2021-11-23T06:33:46.980Z appoptics:patching patched https 
2021-11-23T06:33:46.980Z appoptics:patching patched http 
2021-11-23T06:33:47.036Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:33:47.036Z appoptics:patching patched fs 
2021-11-23T06:33:47.049Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v12.22.7)
2021-11-23T06:33:47.055Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-11-23T06:33:47.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-f55d20c764625cb3f29bfd5453513660da887b1e-e2b731d0079bca57-01 outer:exit 2b-f55d20c764625cb3f29bfd5453513660da887b1e-7a4ec1b7dbfe3012-01
2021-11-23T06:33:47.095Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:33:47.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-de88167d6ab6398c882922d05dd4381d1322720c-86f421629ce60d41-01 outer:exit 2b-de88167d6ab6398c882922d05dd4381d1322720c-e77607791cc38fd0-01
2021-11-23T06:33:47.138Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:33:47.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e8252143fb8c88b1872a85f96cd049cc196709b-349c47f74e862884-01 outer:exit 2b-5e8252143fb8c88b1872a85f96cd049cc196709b-31a1a63ed390e2e9-01
2021-11-23T06:33:47.141Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:33:47.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8eb465c880bf87da8a9e96f5240a8a75a10ebeb-8c411e3ef1aabca1-01 outer:exit 2b-b8eb465c880bf87da8a9e96f5240a8a75a10ebeb-e96998497991b94f-01
2021-11-23T06:33:47.144Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:33:47.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc96f90ebeddfbf192ecc9fed199a493c847cc1a-c44129514176d53b-01 outer:exit 2b-fc96f90ebeddfbf192ecc9fed199a493c847cc1a-e988ed52c2ae2388-01
2021-11-23T06:33:47.148Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:33:47.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebcd8588392b724fe337174c3dcf0b5399b52aa3-fa19b5cfc41fcd47-01 outer:exit 2b-ebcd8588392b724fe337174c3dcf0b5399b52aa3-2d168528b7778546-01
2021-11-23T06:33:47.151Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:33:47.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-7506630138c3f1e420a1c28092cbd42fcdeadcda-f692f7b171bfa5dc-01 outer:exit 2b-7506630138c3f1e420a1c28092cbd42fcdeadcda-4352906bb7709e6e-01
2021-11-23T06:33:47.156Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:33:47.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-26e9e7d604476596279842f1a8852172790db266-a2dba72ab8440ba4-01 outer:exit 2b-26e9e7d604476596279842f1a8852172790db266-8c16531d0e005894-01
2021-11-23T06:33:47.158Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:33:47.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9f83f01771c42ed56528d0871bf8a398c2a6c46-a59792bc5634d757-01 outer:exit 2b-c9f83f01771c42ed56528d0871bf8a398c2a6c46-bb4b12333e066da5-01
2021-11-23T06:33:47.160Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:33:47.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1fd4f1585aa13ece8d09221b75c1ceac5b2bbfe-bd1d334eb6672126-01 outer:exit 2b-e1fd4f1585aa13ece8d09221b75c1ceac5b2bbfe-f65d13005fa7bbe1-01
2021-11-23T06:33:47.163Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:33:47.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3e76314be548df49f64ceeb84baa62e564abbc7-65d0fbb7e4ce24e0-01 outer:exit 2b-f3e76314be548df49f64ceeb84baa62e564abbc7-83cdbb9e7633a671-01
2021-11-23T06:33:47.166Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:33:47.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1050ac44906d6398508bd13a2453fe14a9a81a1-5c7ffb5d76344c89-01 outer:exit 2b-d1050ac44906d6398508bd13a2453fe14a9a81a1-c55c98a84d1779cd-01
2021-11-23T06:33:47.172Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:33:47.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3c59340a57c61627fecb7f95deaf0b4dbc89c80-7be24685a334846c-01 outer:exit 2b-c3c59340a57c61627fecb7f95deaf0b4dbc89c80-14263896b59b797c-01
2021-11-23T06:33:47.185Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:33:47.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-71036dcfd6cd35855a16b1a014cf658fe63eb833-6d4ef3634336bd88-01 outer:exit 2b-71036dcfd6cd35855a16b1a014cf658fe63eb833-18d8c31c887f0abc-01
2021-11-23T06:33:47.239Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:33:47.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6b472ad812d70a2be5fd7b9584bf7ccaff8a11e-85516921e79baaa4-01 outer:exit 2b-d6b472ad812d70a2be5fd7b9584bf7ccaff8a11e-56cdb1bcc873bcb0-01
2021-11-23T06:33:47.242Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:33:47.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-716de2655577834e7788b9439204344af2e1b9f3-e54854bcad7babec-01 outer:exit 2b-716de2655577834e7788b9439204344af2e1b9f3-052344e0a888abd9-01
2021-11-23T06:33:47.245Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:33:47.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab4ea7609734c154be137713b2c512f12f9542cc-8e652175bda15524-01 outer:exit 2b-ab4ea7609734c154be137713b2c512f12f9542cc-ad14f6563079cfe4-01
2021-11-23T06:33:47.247Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:33:47.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-47094ba0ce3f5a4cca31bb5c68c7cc95c9ecc107-4563b1526db58ae9-01 outer:exit 2b-47094ba0ce3f5a4cca31bb5c68c7cc95c9ecc107-31ed4736a64a7988-01
2021-11-23T06:33:47.249Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:33:47.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-29f30baaba844d3253b52dd6a8f2c7d790dfce25-9863fb2be15252b3-01 outer:exit 2b-29f30baaba844d3253b52dd6a8f2c7d790dfce25-adbbeea0bbf4181f-01
2021-11-23T06:33:47.251Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:33:47.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-25a77759a08aa8144c0e0d8872142522f9387224-607b8e5f69ec4584-01 outer:exit 2b-25a77759a08aa8144c0e0d8872142522f9387224-a8c2f8e9c121d2be-01
2021-11-23T06:33:47.253Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:33:47.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c29ef3eab641406dcec87460cdb203420df8322-69e26449364ce1e1-01 outer:exit 2b-1c29ef3eab641406dcec87460cdb203420df8322-a807f543ee40a9fe-01
2021-11-23T06:33:47.255Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:33:47.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ab142023a7f3eb32d3cfb445d5f205fb5239440-dd9cf3069d1439e2-01 outer:exit 2b-8ab142023a7f3eb32d3cfb445d5f205fb5239440-1469c241d99400bf-01
2021-11-23T06:33:47.257Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:33:47.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0bda1ddb01ea62647c491f7e3791ba0d9025f7d-c751b8fd4fa61b9f-01 outer:exit 2b-e0bda1ddb01ea62647c491f7e3791ba0d9025f7d-dea869b5017ed5e4-01
2021-11-23T06:33:47.260Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:33:47.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-895b8928935a27d263643ea094db5293e0f9a030-6ae03ee44f1ab853-01 outer:exit 2b-895b8928935a27d263643ea094db5293e0f9a030-b73c2febbf18762c-01
2021-11-23T06:33:47.262Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:33:47.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-64a6b6022aa7ea3bf039d2c3d686dec1ff6c3acb-0daf88f0df295f3c-01 outer:exit 2b-64a6b6022aa7ea3bf039d2c3d686dec1ff6c3acb-daac5224608c8ed7-01
2021-11-23T06:33:47.265Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:33:47.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-2276ed8c379c22161ec70938f60e9e90946c6cea-845c3bdcf1b445d9-01 outer:exit 2b-2276ed8c379c22161ec70938f60e9e90946c6cea-f9cc163c83dfbdb9-01
2021-11-23T06:33:47.268Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:33:47.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-14836f8f446297f179ec0bffa54d443b91159e25-5153e92fbcbf3c09-01 outer:exit 2b-14836f8f446297f179ec0bffa54d443b91159e25-16a9b378e4f7061f-01
2021-11-23T06:33:47.273Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:33:47.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-27dfa9b6d642949a114fb37afa5d3e6c18ec3c79-af76cea20e3edf26-01 outer:exit 2b-27dfa9b6d642949a114fb37afa5d3e6c18ec3c79-bab2372038ecac2f-01
2021-11-23T06:33:47.278Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:33:47.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b47aef5779fceecc0d5f2728b63c86feef410c-fb7a39542dc5173f-01 outer:exit 2b-a2b47aef5779fceecc0d5f2728b63c86feef410c-086a5634d93bf44f-01
2021-11-23T06:33:47.287Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:33:47.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef5c73bc0442a105819cd9a813d9dd9e027b0a87-9497cc288862ef63-01 outer:exit 2b-ef5c73bc0442a105819cd9a813d9dd9e027b0a87-f241990652c37fd9-01
2021-11-23T06:33:47.292Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:33:47.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e0d07f2e8b394decedf23ab9ef48a4d2f8acbd1-d7f248c5b4424eef-01 outer:exit 2b-5e0d07f2e8b394decedf23ab9ef48a4d2f8acbd1-cb94a31317685d7c-01
2021-11-23T06:33:47.294Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:33:47.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-429c2e008a56b43a79829321863b214c425f53d3-7aca25d15c4eb1e6-01 outer:exit 2b-429c2e008a56b43a79829321863b214c425f53d3-81fc9c75e8953379-01
2021-11-23T06:33:47.297Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:33:47.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-d55e877109589a2e30c762650a2f386ca9986b03-bcbd96afeef04a4b-01 outer:exit 2b-d55e877109589a2e30c762650a2f386ca9986b03-7f92450b08aeaa6c-01
2021-11-23T06:33:47.303Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:33:47.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc719d98293007792e968c8d59144ae1b0b9b570-38f657c976ba29d2-01 outer:exit 2b-cc719d98293007792e968c8d59144ae1b0b9b570-ce40cec7088011e3-01
2021-11-23T06:33:47.305Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:33:47.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-14521bd63ae23d53d209551e8ddc9b3c84119575-c6aea6f130b95951-01 outer:exit 2b-14521bd63ae23d53d209551e8ddc9b3c84119575-e4f8f800a50f6970-01
2021-11-23T06:33:47.307Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:33:47.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-aecd97478cdc01522c099b49bc3ba2cc1394280b-d461da2f95bb31f2-01 outer:exit 2b-aecd97478cdc01522c099b49bc3ba2cc1394280b-ebab7f848b0a9de6-01
2021-11-23T06:33:47.309Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:33:47.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-eae744af6b6bd5ee7964398130cb7fca1bb79a30-2f1c4e80663e2691-01 outer:exit 2b-eae744af6b6bd5ee7964398130cb7fca1bb79a30-3262b999aa798325-01
2021-11-23T06:33:47.311Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:33:47.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d36b67bdfb133c4d341a0c0bfad1e464b64177b-7e7b48f3ccfa0987-01 outer:exit 2b-9d36b67bdfb133c4d341a0c0bfad1e464b64177b-3edb893a7e32ca97-01
2021-11-23T06:33:47.313Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:33:47.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-64913c33c5dfb1d6ad4cfcb2047160678ddc03a0-57115eb10001953e-01 outer:exit 2b-64913c33c5dfb1d6ad4cfcb2047160678ddc03a0-9544e9308c1df00b-01
2021-11-23T06:33:47.321Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:33:47.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e484bd51338906a51ecbc8ef135ccdf97a9e100-1bf25efda387980f-01 outer:exit 2b-0e484bd51338906a51ecbc8ef135ccdf97a9e100-cd73d4ace85ceba4-01
2021-11-23T06:33:47.328Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:33:47.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-44e531adc52ee704681cf240b6a603ee28ab8940-966e1843ff5f7c2d-01 outer:exit 2b-44e531adc52ee704681cf240b6a603ee28ab8940-fc1749598cd0d25a-01
2021-11-23T06:33:47.331Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:33:47.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-309ff6261ab94222e9e9b766953cd3b2866ae22e-0c5708601d0f417a-01 outer:exit 2b-309ff6261ab94222e9e9b766953cd3b2866ae22e-23a9145891e3bdf6-01
2021-11-23T06:33:47.334Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:33:47.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-f234f671131c3a13071df1940757c0a4430b8164-7dc8953dffb04cfe-01 outer:exit 2b-f234f671131c3a13071df1940757c0a4430b8164-971433a37bcfb805-01
2021-11-23T06:33:47.337Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:33:47.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a596517229a8314c8fe4182a4d65d20d8108eb0-92b84e13e49e1241-01 outer:exit 2b-4a596517229a8314c8fe4182a4d65d20d8108eb0-32c3550399072818-01
2021-11-23T06:33:47.362Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (301ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.2
updated 1 package and audited 1085 packages in 4.561s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:52.817Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:52.818Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:52.818Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:52.818Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:52.893Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:33:53.039Z appoptics:patching patched crypto 
2021-11-23T06:33:53.056Z appoptics:patching patched https 
2021-11-23T06:33:53.056Z appoptics:patching patched http 
2021-11-23T06:33:53.126Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:33:53.126Z appoptics:patching patched fs 
2021-11-23T06:33:53.139Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v12.22.7)
2021-11-23T06:33:53.145Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-11-23T06:33:53.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca0e485af900294feccef812556b2e9ce2407a3c-31d5ae798631ccce-01 outer:exit 2b-ca0e485af900294feccef812556b2e9ce2407a3c-156d4e2cb0d68ccf-01
2021-11-23T06:33:53.193Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:33:53.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-b13e3b5bac1d599b80ffba346cbdc38d6924360c-097f7b294a86ef6c-01 outer:exit 2b-b13e3b5bac1d599b80ffba346cbdc38d6924360c-b6706938de8a60b1-01
2021-11-23T06:33:53.239Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:33:53.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-882e2dc1a780fda5226d336dee3763b50e299d41-3918e8c86aea6e2b-01 outer:exit 2b-882e2dc1a780fda5226d336dee3763b50e299d41-80786af19e0ccb83-01
2021-11-23T06:33:53.244Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:33:53.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9cbb6945835e09bd930cf723c180a67489c9f30-7e156a7286adf1fa-01 outer:exit 2b-a9cbb6945835e09bd930cf723c180a67489c9f30-e4c998c5a7edc899-01
2021-11-23T06:33:53.248Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:33:53.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-f357d6013d8410a27e83b43d18974be7a54e44b0-0cfa6fe86e996880-01 outer:exit 2b-f357d6013d8410a27e83b43d18974be7a54e44b0-a818c1ff375c326f-01
2021-11-23T06:33:53.265Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:33:53.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cc161023984b3d3d5b93922da75907ccaba9d81-981805f7c6ebefd5-01 outer:exit 2b-7cc161023984b3d3d5b93922da75907ccaba9d81-daab8abd2ff5f6bc-01
2021-11-23T06:33:53.269Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:33:53.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f61f5a3cc200e0d249ca79d24781c00e815f0dd-a0859dd04465478a-01 outer:exit 2b-2f61f5a3cc200e0d249ca79d24781c00e815f0dd-082ac148c93e9834-01
2021-11-23T06:33:53.271Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:33:53.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a17f0452859eb45bdd3daa3f4e7a29cc81b405a-ddf850bc338a2c8b-01 outer:exit 2b-9a17f0452859eb45bdd3daa3f4e7a29cc81b405a-48006c31c7ad57c1-01
2021-11-23T06:33:53.274Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:33:53.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6f02b060644fcc4eb2258a3754e17516f49c877-c20cb233fe034129-01 outer:exit 2b-e6f02b060644fcc4eb2258a3754e17516f49c877-80e9297afaced377-01
2021-11-23T06:33:53.278Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:33:53.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-742cec5819ccc6fbbbd40bcfa23fcae4cdd5ed32-89cb68ba79960f3a-01 outer:exit 2b-742cec5819ccc6fbbbd40bcfa23fcae4cdd5ed32-3ffc0a10df8ceb59-01
2021-11-23T06:33:53.280Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:33:53.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-aee54e8efb63af08dd7c67d066ae53aabb136491-ee1bc6849a941fba-01 outer:exit 2b-aee54e8efb63af08dd7c67d066ae53aabb136491-a0631a7fde473cbb-01
2021-11-23T06:33:53.284Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:33:53.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f3a0c152b6f0ac09e7465fd084a73528e0e0ea7-69ed1133a1c09510-01 outer:exit 2b-4f3a0c152b6f0ac09e7465fd084a73528e0e0ea7-89eaa3605d7979ed-01
2021-11-23T06:33:53.290Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:33:53.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-24ad318a91f57ebca772aacd6403d8d3f3afa089-275525635b3b5056-01 outer:exit 2b-24ad318a91f57ebca772aacd6403d8d3f3afa089-c3cafcbd58978277-01
2021-11-23T06:33:53.310Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:33:53.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0a8cda1d8ab5dc58771ce6db520ebb727009105-fd2e1949e0a80ded-01 outer:exit 2b-f0a8cda1d8ab5dc58771ce6db520ebb727009105-7487cbcb7bf74b7f-01
2021-11-23T06:33:53.398Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:33:53.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9e2c04498454d46bbf9eaf2ef13b2cc6a4e5e0e-bab8d758c4da32ac-01 outer:exit 2b-f9e2c04498454d46bbf9eaf2ef13b2cc6a4e5e0e-6fec5c742ef6209b-01
2021-11-23T06:33:53.401Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:33:53.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-84634fb8ec07d12262fd6c19e9369294823d2cd4-5141416c59e87ebb-01 outer:exit 2b-84634fb8ec07d12262fd6c19e9369294823d2cd4-fcd4ca13b0ae8ea7-01
2021-11-23T06:33:53.403Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:33:53.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-c12a8ab79feb5a0763adf67bba5ec367f04dd5c9-ac7b93f426a2020a-01 outer:exit 2b-c12a8ab79feb5a0763adf67bba5ec367f04dd5c9-05da58b63ed90d46-01
2021-11-23T06:33:53.407Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:33:53.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c295c1cf69c2e960832fac168fd9b04e0820601-edfe49554f477e1f-01 outer:exit 2b-1c295c1cf69c2e960832fac168fd9b04e0820601-0c1efa2e0b317e5c-01
2021-11-23T06:33:53.409Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:33:53.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-795ff1746a1c36d2d114e48982edf03b2b1076ee-6794a85f49f5d1f6-01 outer:exit 2b-795ff1746a1c36d2d114e48982edf03b2b1076ee-1ccd20bdf071fb5d-01
2021-11-23T06:33:53.411Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:33:53.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-212689ecd4bbe9608af07a408bd3712e24ba20a5-4e552b1c046452f0-01 outer:exit 2b-212689ecd4bbe9608af07a408bd3712e24ba20a5-084156b776d0fb00-01
2021-11-23T06:33:53.414Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:33:53.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-24e16da279fc17c1aa6c2e94a993ca792647e67a-1483e84cc60ed84e-01 outer:exit 2b-24e16da279fc17c1aa6c2e94a993ca792647e67a-10f9c86c2acc40fe-01
2021-11-23T06:33:53.416Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:33:53.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-684fbacf206d40f5c8354838981dc79ef805e8a0-9ca654be2f10ab19-01 outer:exit 2b-684fbacf206d40f5c8354838981dc79ef805e8a0-419ebf367dba369b-01
2021-11-23T06:33:53.418Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:33:53.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9b782d031b8597880ec9746300026fcb5c1456b-1f0516989fdd6acd-01 outer:exit 2b-d9b782d031b8597880ec9746300026fcb5c1456b-25c10f3ca144fa7f-01
2021-11-23T06:33:53.422Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:33:53.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-07b713affebed94b2ccacf9eaec2e2a46ecaf9e9-9d959b6b40baae56-01 outer:exit 2b-07b713affebed94b2ccacf9eaec2e2a46ecaf9e9-5ee6199b950a1f51-01
2021-11-23T06:33:53.425Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:33:53.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4799deb7d39f80a0d3f4935e776e2df9bac9de9-e1533487eb803213-01 outer:exit 2b-e4799deb7d39f80a0d3f4935e776e2df9bac9de9-83c32e8c16073d03-01
2021-11-23T06:33:53.428Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:33:53.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-124a167604ca9bdd53a07b1b59442d94578790ff-1a58eb79df6cbf8e-01 outer:exit 2b-124a167604ca9bdd53a07b1b59442d94578790ff-eb4b30a0031b5eb5-01
2021-11-23T06:33:53.430Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:33:53.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-13dc21e6da9dbe1074b5ca3d2cfc71a9684fa7b6-630e386305ffad4d-01 outer:exit 2b-13dc21e6da9dbe1074b5ca3d2cfc71a9684fa7b6-bd5cd358155796e0-01
2021-11-23T06:33:53.436Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:33:53.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-decd7e7fd9fb555b6f47acb904871511a8205323-1f646ae3f502fdbf-01 outer:exit 2b-decd7e7fd9fb555b6f47acb904871511a8205323-5225c514652a260f-01
2021-11-23T06:33:53.441Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:33:53.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7cfaa01fee3b33e6a7ff022907524c458384094-8b01e2929ade76c1-01 outer:exit 2b-b7cfaa01fee3b33e6a7ff022907524c458384094-05816ec5e2d71440-01
2021-11-23T06:33:53.451Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:33:53.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ecc4ff4360dd4a4421ac1d418d69582da227753-eb2c10d06d4ed387-01 outer:exit 2b-8ecc4ff4360dd4a4421ac1d418d69582da227753-5df33fec33963c55-01
2021-11-23T06:33:53.457Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:33:53.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-de069c05d5c9a0440a93fcda192aaa5c2ce37f63-3d97ade8bab0e688-01 outer:exit 2b-de069c05d5c9a0440a93fcda192aaa5c2ce37f63-c351b8b8ea09a771-01
2021-11-23T06:33:53.460Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:33:53.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cd2b6dbc3f3e44b1e65833375efd670000ed570-940e9dfc5dc43692-01 outer:exit 2b-1cd2b6dbc3f3e44b1e65833375efd670000ed570-8e8a60e494aee608-01
2021-11-23T06:33:53.463Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:33:53.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-477d6b9a2ca6a48ae5d852fb1e59cef4127e655a-0dd4e3973b8f5f38-01 outer:exit 2b-477d6b9a2ca6a48ae5d852fb1e59cef4127e655a-28e944d5723d4697-01
2021-11-23T06:33:53.469Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:33:53.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-637a49500a343f130e74c6a5f12b943ee7bd7f82-2244cd342aadeebb-01 outer:exit 2b-637a49500a343f130e74c6a5f12b943ee7bd7f82-08124f3d0c569ead-01
2021-11-23T06:33:53.471Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:33:53.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a2200ccd648ba13f53b470420b5a847e850df83-89e3edc3aede913c-01 outer:exit 2b-0a2200ccd648ba13f53b470420b5a847e850df83-c8bd6978b70e8a89-01
2021-11-23T06:33:53.474Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:33:53.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-13315dd58785bbc775f14559ec22e38f61cbae12-08a3329159fba943-01 outer:exit 2b-13315dd58785bbc775f14559ec22e38f61cbae12-231796a724713d47-01
2021-11-23T06:33:53.476Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:33:53.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-e460dfac3493659b8fbaa21261b3a2e5d23e8ae7-0702b6d1639db18f-01 outer:exit 2b-e460dfac3493659b8fbaa21261b3a2e5d23e8ae7-6c7e1f8097b3f568-01
2021-11-23T06:33:53.478Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:33:53.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-24377adf41bbb9719f943037f17d7bc180426447-6891cee69ca9ce0e-01 outer:exit 2b-24377adf41bbb9719f943037f17d7bc180426447-d1d4008e54542efe-01
2021-11-23T06:33:53.480Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:33:53.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ebb9f6f1907955b8f9a6534183a4160feffc990-df34e52582c453e7-01 outer:exit 2b-5ebb9f6f1907955b8f9a6534183a4160feffc990-8ec5063339222091-01
2021-11-23T06:33:53.489Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:33:53.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-4adcd055023e2f0f2eb9c42d1ec595df865aaa14-da4dc749661ee328-01 outer:exit 2b-4adcd055023e2f0f2eb9c42d1ec595df865aaa14-8f2430e454b81bd4-01
2021-11-23T06:33:53.503Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:33:53.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-2db7f2eaa098aea4e7190a0a4133685d1b1da3a3-7d1bc4f75775f8a1-01 outer:exit 2b-2db7f2eaa098aea4e7190a0a4133685d1b1da3a3-59fdedfe59ba6dc3-01
2021-11-23T06:33:53.506Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:33:53.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-074713bd75b2be336d9050d60e2c0c67e0726453-e94417429e7e5131-01 outer:exit 2b-074713bd75b2be336d9050d60e2c0c67e0726453-07395898eacf5817-01
2021-11-23T06:33:53.509Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:33:53.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d8a9f90b301e58e7eeea6138f8d930cedf6220a-0be083a9911c998d-01 outer:exit 2b-5d8a9f90b301e58e7eeea6138f8d930cedf6220a-aae0aaacdb6dc232-01
2021-11-23T06:33:53.513Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:33:53.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e8c51c30b3f53aeddb1271712397e353bd06ffa-3fc02296eae83083-01 outer:exit 2b-5e8c51c30b3f53aeddb1271712397e353bd06ffa-aabf135cbdbc7738-01
2021-11-23T06:33:53.539Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (388ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.3
updated 1 package and audited 1085 packages in 5.001s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:33:59.883Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:33:59.884Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:33:59.884Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:33:59.884Z appoptics:debug using context provider: ace-context
2021-11-23T06:33:59.946Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:00.075Z appoptics:patching patched crypto 
2021-11-23T06:34:00.091Z appoptics:patching patched https 
2021-11-23T06:34:00.091Z appoptics:patching patched http 
2021-11-23T06:34:00.160Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:00.160Z appoptics:patching patched fs 
2021-11-23T06:34:00.177Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v12.22.7)
2021-11-23T06:34:00.182Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-11-23T06:34:00.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e0a73013786e662e46b49eaa3f01a450be62daf-8bd96c43b657c8df-01 outer:exit 2b-1e0a73013786e662e46b49eaa3f01a450be62daf-60dfd6dadc934685-01
2021-11-23T06:34:00.221Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:00.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5c80140859ae5e6650d17992540d6c84bfb22d9-5c852f884673f092-01 outer:exit 2b-f5c80140859ae5e6650d17992540d6c84bfb22d9-caddcbc52865b6e1-01
2021-11-23T06:34:00.282Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:00.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-856247597a21de82e0ecf8988d592625f855882b-7016794ec76cdb06-01 outer:exit 2b-856247597a21de82e0ecf8988d592625f855882b-8aa837b749a6ad29-01
2021-11-23T06:34:00.285Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:00.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b0eb7415e68709a34bebc928bfdfa5a704b45c8-507b9b4ba50b2a49-01 outer:exit 2b-7b0eb7415e68709a34bebc928bfdfa5a704b45c8-bc52557d29a13051-01
2021-11-23T06:34:00.288Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:00.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b9ec9681e545c0790a99af689c96950378b62de-0bea46c2e67172ba-01 outer:exit 2b-5b9ec9681e545c0790a99af689c96950378b62de-bc10f3413412da06-01
2021-11-23T06:34:00.292Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:00.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b98db337c3858b84c04dea2127dbdbeac3b7b3d-d30515fd07e07d7c-01 outer:exit 2b-8b98db337c3858b84c04dea2127dbdbeac3b7b3d-d3f422f45d6a16c6-01
2021-11-23T06:34:00.296Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:00.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-0189de00a37eb0dd558de493398b6a115569da02-d3004ca3721996be-01 outer:exit 2b-0189de00a37eb0dd558de493398b6a115569da02-b24542761c5f4922-01
2021-11-23T06:34:00.299Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:00.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-f884e2e1d0f0fc9590d14cab359be0db8a909fce-84ccdc928d1ef82c-01 outer:exit 2b-f884e2e1d0f0fc9590d14cab359be0db8a909fce-c004b88bad2a9670-01
2021-11-23T06:34:00.301Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:00.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e0ae60dbed7d7fd24a5380cbd133d7147c20f11-e41ed00657c6d503-01 outer:exit 2b-3e0ae60dbed7d7fd24a5380cbd133d7147c20f11-a4cf41253afc4e8e-01
2021-11-23T06:34:00.303Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:00.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1cada33c388b08c950846cbac0f2ef8c345e5b6-5ca9616f9724fc18-01 outer:exit 2b-f1cada33c388b08c950846cbac0f2ef8c345e5b6-a17914c6658ccccf-01
2021-11-23T06:34:00.306Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:00.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-467fe9f2914c8876be78c1579169df402540f607-d6aa11ef4396b938-01 outer:exit 2b-467fe9f2914c8876be78c1579169df402540f607-8b15bab7ccdbf24f-01
2021-11-23T06:34:00.309Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:00.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4883db97356afdd72b81015af221f9b36cb5993-263d844c8baf3ac3-01 outer:exit 2b-a4883db97356afdd72b81015af221f9b36cb5993-bd4c316c7480fefa-01
2021-11-23T06:34:00.315Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:00.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-387d28fa89331c93e6ebd8db8749d64575809647-f8289155affa9f0a-01 outer:exit 2b-387d28fa89331c93e6ebd8db8749d64575809647-38d00291a3b8c1dc-01
2021-11-23T06:34:00.330Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:00.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-96df8c667e37c6b7ed3683cb19c9ccf16d15bd9d-165955814ba12b56-01 outer:exit 2b-96df8c667e37c6b7ed3683cb19c9ccf16d15bd9d-919b2fa89f69cddd-01
2021-11-23T06:34:00.382Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:00.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-da848f80e9b8a9b226741d386255a72a2935f5bc-841c2b62a71ec22d-01 outer:exit 2b-da848f80e9b8a9b226741d386255a72a2935f5bc-49a9cf5513d5b820-01
2021-11-23T06:34:00.384Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:00.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c0cc1d070a73452f92fb352cbad2c2dbd87d101-d742d5d4abf170c1-01 outer:exit 2b-9c0cc1d070a73452f92fb352cbad2c2dbd87d101-6f87356fcc6f4b8b-01
2021-11-23T06:34:00.387Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:00.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-39d647a080047c1c83e360e03e9d8ebabfc8c963-5396dd56b6345356-01 outer:exit 2b-39d647a080047c1c83e360e03e9d8ebabfc8c963-76abf11e9a77d4b6-01
2021-11-23T06:34:00.389Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:00.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fe210e3943f5b218fbc99837701713d89c2f828-be98729e662719f4-01 outer:exit 2b-6fe210e3943f5b218fbc99837701713d89c2f828-3cca178ef26f0ad0-01
2021-11-23T06:34:00.391Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:00.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4f0c63036936da3f57abbbfd56d29e0c246c25-dec412c5c9dc0cb6-01 outer:exit 2b-5d4f0c63036936da3f57abbbfd56d29e0c246c25-f625095df868ba99-01
2021-11-23T06:34:00.393Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:00.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-63379987b136b6051ba19f4f36bc9ef6491b3d0a-3fcb8d3023b5c195-01 outer:exit 2b-63379987b136b6051ba19f4f36bc9ef6491b3d0a-a41e6b54a976d8a9-01
2021-11-23T06:34:00.396Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:00.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d1745f6d812a0cc1c66f35b23e5461492f430de-05d54476b23580d8-01 outer:exit 2b-0d1745f6d812a0cc1c66f35b23e5461492f430de-7a935d88009eddc6-01
2021-11-23T06:34:00.397Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:00.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-cea548c91a6f9146ab22e3ee7e0975d68557e67f-2409a840db615eea-01 outer:exit 2b-cea548c91a6f9146ab22e3ee7e0975d68557e67f-b1f861904c9387ae-01
2021-11-23T06:34:00.400Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:00.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fb9607c573ffe9185a0805604bee6d94d827a5f-bcd41880edc79681-01 outer:exit 2b-7fb9607c573ffe9185a0805604bee6d94d827a5f-13551e8ab0224a8a-01
2021-11-23T06:34:00.403Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:00.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-a189fb9882f6e6ec58cb9cbff5838f9dab09dee1-9758cb916fa2144d-01 outer:exit 2b-a189fb9882f6e6ec58cb9cbff5838f9dab09dee1-fa6802e8070a59b7-01
2021-11-23T06:34:00.405Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:00.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b58e94cea0e77e09558fff03466a3c7cd7c7c97-f01be8a96fb32b05-01 outer:exit 2b-6b58e94cea0e77e09558fff03466a3c7cd7c7c97-8ee2c16723597586-01
2021-11-23T06:34:00.408Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:00.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-38b72a60eee48a04df0585a434a262c4c250b510-3162e0cf3b8845e2-01 outer:exit 2b-38b72a60eee48a04df0585a434a262c4c250b510-eea8a6f0c5d2783d-01
2021-11-23T06:34:00.410Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:00.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d9f2cd4edf4ce9c96c4f73ca7cdd672c1a5a2b4-d9b66bd646ca15a0-01 outer:exit 2b-8d9f2cd4edf4ce9c96c4f73ca7cdd672c1a5a2b4-11024c1df995009a-01
2021-11-23T06:34:00.416Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:00.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee37cbe65b265b313a48011a6aeace15726d9cbc-0d74884429da6e01-01 outer:exit 2b-ee37cbe65b265b313a48011a6aeace15726d9cbc-f7b397217d269543-01
2021-11-23T06:34:00.420Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:00.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-d26d0b8c1e1b9e31c3c0dbc850aab9d6aea33519-29219e8ba2b9bd5a-01 outer:exit 2b-d26d0b8c1e1b9e31c3c0dbc850aab9d6aea33519-41fa4e92f2300023-01
2021-11-23T06:34:00.428Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:00.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c224ee05b554aaf26f932b96f80903d9efa4de4-e08bb09c709bf6c8-01 outer:exit 2b-8c224ee05b554aaf26f932b96f80903d9efa4de4-5aa32f193f783114-01
2021-11-23T06:34:00.433Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:00.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-05b19f8ef8dec6864dbc09d1eb0751ddc54b24b4-64e49cf3a716f500-01 outer:exit 2b-05b19f8ef8dec6864dbc09d1eb0751ddc54b24b4-ea976699ae4f3183-01
2021-11-23T06:34:00.436Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:00.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b037b679cd9ca7e9f5312f11bc1422dd86e8890-be89771fb033ff08-01 outer:exit 2b-8b037b679cd9ca7e9f5312f11bc1422dd86e8890-44ea213c2989e827-01
2021-11-23T06:34:00.438Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:00.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-1264f71e74f8fe82e263dc3a89246be234a35fb8-23b75c0b19493593-01 outer:exit 2b-1264f71e74f8fe82e263dc3a89246be234a35fb8-53647f97b490c498-01
2021-11-23T06:34:00.445Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:00.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-bca53e912279a06caf00b32cd6f3ce977d7219d3-8c65e37c125b6547-01 outer:exit 2b-bca53e912279a06caf00b32cd6f3ce977d7219d3-38dea64bb2ec28e2-01
2021-11-23T06:34:00.447Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:00.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7de5697be59f7568ad99e9ce3f7ae86ab8712a2-091e312b1b521cd3-01 outer:exit 2b-b7de5697be59f7568ad99e9ce3f7ae86ab8712a2-bbb11e0d3601848e-01
2021-11-23T06:34:00.449Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:00.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ce6b508900b6e46a7d7cbc470eafb3392faa4b7-36458dcc67d94d68-01 outer:exit 2b-3ce6b508900b6e46a7d7cbc470eafb3392faa4b7-da6ed9d2b090d097-01
2021-11-23T06:34:00.451Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:00.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ae5d6882977f820891037344a74cd3dec93469c-74c608a8f26d45c5-01 outer:exit 2b-0ae5d6882977f820891037344a74cd3dec93469c-6167f29f4c3a3363-01
2021-11-23T06:34:00.453Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:00.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-91d0fddbaf59181e9d94eb3b6b7872cdb5edf32f-ded9749c24abc9f4-01 outer:exit 2b-91d0fddbaf59181e9d94eb3b6b7872cdb5edf32f-5cf468bc7613f211-01
2021-11-23T06:34:00.455Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:00.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1f689e57e786f1e1231480cdd26623fe1349c6d-67a2ff814f2ca87e-01 outer:exit 2b-d1f689e57e786f1e1231480cdd26623fe1349c6d-4315ce264733f236-01
2021-11-23T06:34:00.462Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:00.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-96566b9e6bc77497dcc13e823eb63b55f2d4b210-ff1fe46c77b46f28-01 outer:exit 2b-96566b9e6bc77497dcc13e823eb63b55f2d4b210-44d74cd796059242-01
2021-11-23T06:34:00.470Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:00.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-02d214a49e02250229eef0dffd3dfcc370372a17-0a11e1659ab26e30-01 outer:exit 2b-02d214a49e02250229eef0dffd3dfcc370372a17-8d0b69805873d6f6-01
2021-11-23T06:34:00.472Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:00.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-559c6481243500a404434e7753e4dc30a59645e0-08ef794dd3c2d24a-01 outer:exit 2b-559c6481243500a404434e7753e4dc30a59645e0-8eff68351855343c-01
2021-11-23T06:34:00.475Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:00.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-348591123ab88c0a73e243a9652637c69385190d-792045b567c59ec5-01 outer:exit 2b-348591123ab88c0a73e243a9652637c69385190d-791cc65a68a359f7-01
2021-11-23T06:34:00.478Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:00.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f73d4a6bab83258a42ce4207326fce6eaaeef7f-62538fa7aebd49a2-01 outer:exit 2b-3f73d4a6bab83258a42ce4207326fce6eaaeef7f-97e8c1470c10ebb8-01
2021-11-23T06:34:00.503Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (315ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.4
updated 1 package and audited 1085 packages in 5.129s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:06.760Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:06.760Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:06.760Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:06.761Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:06.827Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:06.999Z appoptics:patching patched crypto 
2021-11-23T06:34:07.017Z appoptics:patching patched https 
2021-11-23T06:34:07.017Z appoptics:patching patched http 
2021-11-23T06:34:07.101Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:07.102Z appoptics:patching patched fs 
2021-11-23T06:34:07.118Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v12.22.7)
2021-11-23T06:34:07.123Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-11-23T06:34:07.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-16f366cf3da068d8f4148917ea7faa53a2d2ac17-47e0e62371870506-01 outer:exit 2b-16f366cf3da068d8f4148917ea7faa53a2d2ac17-20a1c71e2d80dc10-01
2021-11-23T06:34:07.185Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:07.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-a13799ac501f9cdfbb1c873696c6f8e822ad7b4b-64460e6c0b51a4bf-01 outer:exit 2b-a13799ac501f9cdfbb1c873696c6f8e822ad7b4b-19fa3de3fe43550e-01
2021-11-23T06:34:07.236Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:07.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-07aca8072d9f17deb384e2d0cac1b2d8c4212823-0bd99925df6ac782-01 outer:exit 2b-07aca8072d9f17deb384e2d0cac1b2d8c4212823-6b4d84dcbda49c2f-01
2021-11-23T06:34:07.242Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:07.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e040888e55e7bed848d0c3f2fe0e946d43deeac-64d8c70474979070-01 outer:exit 2b-2e040888e55e7bed848d0c3f2fe0e946d43deeac-f69d60bfb2ba28e2-01
2021-11-23T06:34:07.246Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:07.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb45eb8c754b1df3392e92c99feda253e965778b-9bafcdc138934e15-01 outer:exit 2b-cb45eb8c754b1df3392e92c99feda253e965778b-e186864e7ca9d4d5-01
2021-11-23T06:34:07.254Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:07.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bacc2a49e766c564a2ef3b577c20d5db9c925c1-c95ddb4ff6710b38-01 outer:exit 2b-6bacc2a49e766c564a2ef3b577c20d5db9c925c1-c4dd7c1c0274e698-01
2021-11-23T06:34:07.257Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:07.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6883289fad208c4b5e1fb6f760af0a71198a6c3-91984e987d5584f6-01 outer:exit 2b-a6883289fad208c4b5e1fb6f760af0a71198a6c3-40c877e208bf14b4-01
2021-11-23T06:34:07.260Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:07.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-581b005412f4f039ec6aeb091f017032314e487a-688863a27d7e7caf-01 outer:exit 2b-581b005412f4f039ec6aeb091f017032314e487a-630441b63d9da096-01
2021-11-23T06:34:07.263Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:07.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-522fa02068d8ef930c423607e3bceb5a20c7d917-b711baa703069b0a-01 outer:exit 2b-522fa02068d8ef930c423607e3bceb5a20c7d917-765a726767bca46a-01
2021-11-23T06:34:07.265Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:07.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eaeac196908eff4eafe2728e9e1495ee2b005ab-d9f697eea8a64abc-01 outer:exit 2b-7eaeac196908eff4eafe2728e9e1495ee2b005ab-7c5ed91bf415b564-01
2021-11-23T06:34:07.268Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:07.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0d0415082f3d8d7f0f1a71ed65ccfbcd598ab07-4544e49ebae7eb1b-01 outer:exit 2b-c0d0415082f3d8d7f0f1a71ed65ccfbcd598ab07-076cf5289a9fa720-01
2021-11-23T06:34:07.272Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:07.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-a41f942a0977422dfb2343bbd4099fb2d84564f6-8b57466fa502a7b0-01 outer:exit 2b-a41f942a0977422dfb2343bbd4099fb2d84564f6-bc6dd8e9ad4a6088-01
2021-11-23T06:34:07.287Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:07.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-861d03679b601797f53df47b97249c4a6a29c56e-9b2a48b10803bfe4-01 outer:exit 2b-861d03679b601797f53df47b97249c4a6a29c56e-2c2b59cc0bcaf2f2-01
2021-11-23T06:34:07.308Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:07.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-5691659df970e125323e5800a5d435c9f4e95384-bba011cdafac7c68-01 outer:exit 2b-5691659df970e125323e5800a5d435c9f4e95384-22f44a6780265392-01
2021-11-23T06:34:07.335Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:07.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-44aee107bcdf0050ddc8a679c765f538e4b2fd87-1503527b61039c36-01 outer:exit 2b-44aee107bcdf0050ddc8a679c765f538e4b2fd87-9f0b9373f7062c7c-01
2021-11-23T06:34:07.338Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:07.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d03097327d2349906b7049e1959752fbba3381c-32e2cd4ec9138f3d-01 outer:exit 2b-7d03097327d2349906b7049e1959752fbba3381c-1a1a16eefdc279a8-01
2021-11-23T06:34:07.341Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:07.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-54bbd2da15b66a41905a7343e86a7e333f961dab-b04f60350f8bdeb1-01 outer:exit 2b-54bbd2da15b66a41905a7343e86a7e333f961dab-3ed1ff5db309bde9-01
2021-11-23T06:34:07.344Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:07.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4cb4fc3decaad3f5a66e5cef1c3e7897a28237f-5feef1d076e13594-01 outer:exit 2b-a4cb4fc3decaad3f5a66e5cef1c3e7897a28237f-ee2a70702e1a06c8-01
2021-11-23T06:34:07.349Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:07.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceb1d7d7ada2a036ae40fd487cb1c0042d4e9bb8-95538a61d762d34f-01 outer:exit 2b-ceb1d7d7ada2a036ae40fd487cb1c0042d4e9bb8-a17c9773bd95c2a1-01
2021-11-23T06:34:07.352Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:07.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b3571508408c1f0cdbbc72c0490fc511f742b78-eb68ca5bbcc2a1f5-01 outer:exit 2b-7b3571508408c1f0cdbbc72c0490fc511f742b78-9209231b1a9733db-01
2021-11-23T06:34:07.358Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:07.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-979555afc53b4a846f1ccbe636e75aa5704d2c89-400872c5e235c5cf-01 outer:exit 2b-979555afc53b4a846f1ccbe636e75aa5704d2c89-fd7ac7bcbebd322f-01
2021-11-23T06:34:07.360Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:07.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-341eca7f2cb45605a41661e9229683b560169c3d-010cbc25fbef4d7a-01 outer:exit 2b-341eca7f2cb45605a41661e9229683b560169c3d-d907f646b42f7827-01
2021-11-23T06:34:07.362Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:07.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-6124e5edb406f6d2eeb410af4c71d6d22e40d865-bd9296f5de19f021-01 outer:exit 2b-6124e5edb406f6d2eeb410af4c71d6d22e40d865-ab11c759f2725fe0-01
2021-11-23T06:34:07.366Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:07.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-40cb58372f53ed847f36ac20d08fe5af21769490-32418f0d501e2922-01 outer:exit 2b-40cb58372f53ed847f36ac20d08fe5af21769490-ace82b046034d238-01
2021-11-23T06:34:07.368Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:07.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-8879bd44cc420b4c17d51dd994f2cf70a965e786-49dcb34834bd86b9-01 outer:exit 2b-8879bd44cc420b4c17d51dd994f2cf70a965e786-4e75bbb5369b4946-01
2021-11-23T06:34:07.371Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:07.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbdd887c1cd3310e580157eaa3a9f511bc0fb478-c83fb97c38238856-01 outer:exit 2b-dbdd887c1cd3310e580157eaa3a9f511bc0fb478-d5f7db3b71541e85-01
2021-11-23T06:34:07.374Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:07.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f74c143ddc46c3fc472ab1bdc914d060a3a8378-4af00679300a90db-01 outer:exit 2b-8f74c143ddc46c3fc472ab1bdc914d060a3a8378-2d319d250f951dc2-01
2021-11-23T06:34:07.379Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:07.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b4913415a60a45fcf6fa783aa5a70c5bc751953-a3070a9d290c8f03-01 outer:exit 2b-3b4913415a60a45fcf6fa783aa5a70c5bc751953-88624df93baf3005-01
2021-11-23T06:34:07.384Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:07.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f8f981e0edc11cb3f3b38c78adb840822520388-4ed1fabff47b4d69-01 outer:exit 2b-0f8f981e0edc11cb3f3b38c78adb840822520388-ee6e1e93c7c4e986-01
2021-11-23T06:34:07.395Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:07.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c604bd8530d4c52f97a50bd943e4b69b91e64c1-04322b2f01d84e1d-01 outer:exit 2b-6c604bd8530d4c52f97a50bd943e4b69b91e64c1-a27a1a2d5469ffa4-01
2021-11-23T06:34:07.402Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:07.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-9032b58a7dae4376a44da95f8147a4fce6600bfe-fee348245ec24745-01 outer:exit 2b-9032b58a7dae4376a44da95f8147a4fce6600bfe-652d634850abbb80-01
2021-11-23T06:34:07.406Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:07.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-62425249f1bea980cfbe00bc45588c1ae1ade3e5-da548d3d69dd4545-01 outer:exit 2b-62425249f1bea980cfbe00bc45588c1ae1ade3e5-b2a9e5481603ad0f-01
2021-11-23T06:34:07.409Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:07.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c812223c578ced99624d85bf098c3f0087f1f79-2ab780d2e3c18ece-01 outer:exit 2b-5c812223c578ced99624d85bf098c3f0087f1f79-6fe6bb1aa331e141-01
2021-11-23T06:34:07.414Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:07.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebb6baa3fd592bb0e437912bdfde853b320ffa0f-eb8380204ae03d6b-01 outer:exit 2b-ebb6baa3fd592bb0e437912bdfde853b320ffa0f-4048df9ccca73800-01
2021-11-23T06:34:07.416Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:07.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a41b5defe96f3b9e05bad9ceb923b2971ed081e-2096d8c76de79aaa-01 outer:exit 2b-4a41b5defe96f3b9e05bad9ceb923b2971ed081e-b8c7971354e79cc1-01
2021-11-23T06:34:07.418Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:07.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-4502a443e65559c30b71ba2df996460460357ffa-6028e878f53fd288-01 outer:exit 2b-4502a443e65559c30b71ba2df996460460357ffa-0dcde132b201d294-01
2021-11-23T06:34:07.420Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:07.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a8a9cc709c97fafff715e0d0202a9ccea62e867-0f4ca9cc2f65b009-01 outer:exit 2b-1a8a9cc709c97fafff715e0d0202a9ccea62e867-b02117462e4b27d7-01
2021-11-23T06:34:07.422Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:07.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5f89f26e09a0f1b114b746c7a1d3199d925da42-5ace081de64013cd-01 outer:exit 2b-b5f89f26e09a0f1b114b746c7a1d3199d925da42-99966b78784ad6a6-01
2021-11-23T06:34:07.429Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:07.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-f70e6186a3d1ada3e9cf463e499e70093acc8571-d0334949a5187c74-01 outer:exit 2b-f70e6186a3d1ada3e9cf463e499e70093acc8571-2396293cdc9b4a16-01
2021-11-23T06:34:07.437Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:07.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-86a1c4a6902b772898aee7e449b7fcb04748e4b0-bbc1472eddae81b1-01 outer:exit 2b-86a1c4a6902b772898aee7e449b7fcb04748e4b0-c17de381b7e045f9-01
2021-11-23T06:34:07.444Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:07.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fdc524446cf7d37d0aaffa8709800d4b3e705bb-26db009526d7c44d-01 outer:exit 2b-1fdc524446cf7d37d0aaffa8709800d4b3e705bb-963edfef83c66833-01
2021-11-23T06:34:07.447Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:07.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ec598882d2a992c43e3b81ad2c09020e1fa75b-fcbbbed28ea6d629-01 outer:exit 2b-a1ec598882d2a992c43e3b81ad2c09020e1fa75b-59ac2add915e82fa-01
2021-11-23T06:34:07.450Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:07.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-be25e862064741274f08d1057946aeb89603d4e8-5a17b9d2990a1236-01 outer:exit 2b-be25e862064741274f08d1057946aeb89603d4e8-ffa6e711e02591c0-01
2021-11-23T06:34:07.452Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:07.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-da08b2c12d76de3a43fa1c766674ab5e9adee471-50b8ef3a7d729fa6-01 outer:exit 2b-da08b2c12d76de3a43fa1c766674ab5e9adee471-d27c099df97e1bb4-01
2021-11-23T06:34:07.476Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (346ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.5
updated 1 package and audited 1085 packages in 4.534s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:12.884Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:12.884Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:12.885Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:12.885Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:12.950Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:13.074Z appoptics:patching patched crypto 
2021-11-23T06:34:13.092Z appoptics:patching patched https 
2021-11-23T06:34:13.092Z appoptics:patching patched http 
2021-11-23T06:34:13.134Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:13.135Z appoptics:patching patched fs 
2021-11-23T06:34:13.148Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v12.22.7)
2021-11-23T06:34:13.153Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-11-23T06:34:13.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ffa9084db720c023552c1a489db365bb613aa7-282d9df1e5e87e8d-01 outer:exit 2b-33ffa9084db720c023552c1a489db365bb613aa7-0901c06f33bb5b33-01
2021-11-23T06:34:13.192Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:13.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d36442466f69bb1aa5b569591c0f11bfd7a7865-b57d8affda9c40cc-01 outer:exit 2b-7d36442466f69bb1aa5b569591c0f11bfd7a7865-b16629ccac25f535-01
2021-11-23T06:34:13.234Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:13.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e77e059c7e54a0f44eb1cd1a0b92ae056a3055f-ae76939703ee538c-01 outer:exit 2b-2e77e059c7e54a0f44eb1cd1a0b92ae056a3055f-299b9113bca841c9-01
2021-11-23T06:34:13.237Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:13.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-b35b163805a861ee713842722143dae54c4d719d-9e382c4c740a1c22-01 outer:exit 2b-b35b163805a861ee713842722143dae54c4d719d-bc2f233f7648d368-01
2021-11-23T06:34:13.240Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:13.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4231215353534f490ca051369bb04db497b7c2b-61c40b8e881d6fe5-01 outer:exit 2b-a4231215353534f490ca051369bb04db497b7c2b-3c85e5a0b1b0e3b2-01
2021-11-23T06:34:13.245Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:13.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f5c8b3b60f6678f269e5d6c7f3fd04fe719bef6-ccdcd320e9f1d15e-01 outer:exit 2b-7f5c8b3b60f6678f269e5d6c7f3fd04fe719bef6-c96702ba8eb8d660-01
2021-11-23T06:34:13.248Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:13.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cc6334612ef1a7258f833a58015d82059de25af-23feb4cfdb77927d-01 outer:exit 2b-0cc6334612ef1a7258f833a58015d82059de25af-f163edeaf641f298-01
2021-11-23T06:34:13.250Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:13.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d376960c8db6e4facf14a8f48974b78010137cc-0ca7c43779d3afa3-01 outer:exit 2b-5d376960c8db6e4facf14a8f48974b78010137cc-db64d85fe98edf57-01
2021-11-23T06:34:13.252Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:13.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-b884c3f8561c4bca53c365aae7701c4e3565ce1f-06ad0f320dda187c-01 outer:exit 2b-b884c3f8561c4bca53c365aae7701c4e3565ce1f-95c4d6e2f8ee2b13-01
2021-11-23T06:34:13.254Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:13.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-fee0a4fdcc2e61888da77c700dab0d42edff5297-211011ba26e8b7d8-01 outer:exit 2b-fee0a4fdcc2e61888da77c700dab0d42edff5297-5bba3dee28b69108-01
2021-11-23T06:34:13.257Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:13.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-859e380d3923e9b938f3f4821981c90d5b2d6c45-7a3ef0fb3c8dcf18-01 outer:exit 2b-859e380d3923e9b938f3f4821981c90d5b2d6c45-ae2bc82973a8fc9c-01
2021-11-23T06:34:13.261Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:13.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-360d91b69f13d3dc182a6ac3d34e645842f1e159-f1eef4961633e95c-01 outer:exit 2b-360d91b69f13d3dc182a6ac3d34e645842f1e159-8ec8a3fba8e733db-01
2021-11-23T06:34:13.266Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:13.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d72e60f3862d6a7132352092d431c2c7b8632b2-80110f5e0dfa59cf-01 outer:exit 2b-5d72e60f3862d6a7132352092d431c2c7b8632b2-0b3269607ff242e5-01
2021-11-23T06:34:13.284Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:13.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-3002aa50de9ea24ea1136f6892ad5b8efe652f98-2729e16013e2ab34-01 outer:exit 2b-3002aa50de9ea24ea1136f6892ad5b8efe652f98-b9659cb5ea6b1a75-01
2021-11-23T06:34:13.335Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:13.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1abd7c4826eb8e3483bb18c518d149f0e9fd833-45589db054c12301-01 outer:exit 2b-e1abd7c4826eb8e3483bb18c518d149f0e9fd833-0917ca7d4332d273-01
2021-11-23T06:34:13.338Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:13.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-69aefac6b6b83b50d5f3f7a58f15c309a473735d-f723b10c3bf561df-01 outer:exit 2b-69aefac6b6b83b50d5f3f7a58f15c309a473735d-230c9f878bc64865-01
2021-11-23T06:34:13.340Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:13.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb4835f3659f20152952491e1f96721c94177f09-b4a7d84a6fa0848b-01 outer:exit 2b-bb4835f3659f20152952491e1f96721c94177f09-6515d1ea295e6eed-01
2021-11-23T06:34:13.343Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:13.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab5cda2d8958d65df2378dddfd155e8b72fbb687-191ffb96944d7679-01 outer:exit 2b-ab5cda2d8958d65df2378dddfd155e8b72fbb687-e8c5f176f36112c4-01
2021-11-23T06:34:13.345Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:13.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7b3aa637638aafe90719689768230452be4e135-adaf3ba35f44145e-01 outer:exit 2b-b7b3aa637638aafe90719689768230452be4e135-803304a7e9d01880-01
2021-11-23T06:34:13.347Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:13.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc320f66ce35d7bf2fb2ac001998c8ebc189271f-be648022f55ebaeb-01 outer:exit 2b-cc320f66ce35d7bf2fb2ac001998c8ebc189271f-864bad8ef0154692-01
2021-11-23T06:34:13.349Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:13.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-0edc7940161495b66619edb6073a234af45ffe53-39ea347259be410e-01 outer:exit 2b-0edc7940161495b66619edb6073a234af45ffe53-288ae1418aaf644f-01
2021-11-23T06:34:13.351Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:13.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-859a05c990f2a1af3ae87b3c7be5b5b19251a91e-d469262dab0e545e-01 outer:exit 2b-859a05c990f2a1af3ae87b3c7be5b5b19251a91e-d936ade1004774d7-01
2021-11-23T06:34:13.353Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:13.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-01b53ae69c8f787fa61096c8f743b5b3599914a3-bb3acf3cd5e50b26-01 outer:exit 2b-01b53ae69c8f787fa61096c8f743b5b3599914a3-a88703bd0f5b2644-01
2021-11-23T06:34:13.356Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:13.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4933d2dd7fef34934b1ec87140c48b2463ea49a-cef7698582e7290c-01 outer:exit 2b-e4933d2dd7fef34934b1ec87140c48b2463ea49a-5783b68989fe146d-01
2021-11-23T06:34:13.359Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:13.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3f82aa90da6e68d3a83b0729ceaf69efc9e6093-c22415e0128c4cd0-01 outer:exit 2b-b3f82aa90da6e68d3a83b0729ceaf69efc9e6093-ba6c167aac5ffb5b-01
2021-11-23T06:34:13.361Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:13.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb7a755f4fdd00de1114f98c00a181855d3ae4c-3f43bad7dad1bfc9-01 outer:exit 2b-abb7a755f4fdd00de1114f98c00a181855d3ae4c-b98163979d37be82-01
2021-11-23T06:34:13.363Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:13.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-fef042a8dbb70e412a180886e35fb07b00bb68f6-739a28fc4e2b8e94-01 outer:exit 2b-fef042a8dbb70e412a180886e35fb07b00bb68f6-5e9d1066b8ff5b22-01
2021-11-23T06:34:13.369Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:13.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-668f008370d7c9793e04865548eccb5d47f7636b-7139a2ceca2c099b-01 outer:exit 2b-668f008370d7c9793e04865548eccb5d47f7636b-26623787464aec77-01
2021-11-23T06:34:13.373Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:13.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-13b4ce4a23f2ecc433145c249890f524c340995d-4453fe741e2ce272-01 outer:exit 2b-13b4ce4a23f2ecc433145c249890f524c340995d-6a4e1d2bb960b033-01
2021-11-23T06:34:13.380Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:13.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef0370cc5a7257fb5ec3b4ccfeba50caccc1daa3-03470ae618a84d11-01 outer:exit 2b-ef0370cc5a7257fb5ec3b4ccfeba50caccc1daa3-ad765c0770fd089d-01
2021-11-23T06:34:13.386Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:13.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-809140ee1b64d8d15ead308d968f20e2114ec067-352d4c7df9ab993e-01 outer:exit 2b-809140ee1b64d8d15ead308d968f20e2114ec067-bf9066a475bf86e9-01
2021-11-23T06:34:13.388Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:13.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e6461da0a19c28581fcf95a45504c20ca7d11c7-cf4e6b20b95e1216-01 outer:exit 2b-7e6461da0a19c28581fcf95a45504c20ca7d11c7-1b5acb1a7101b67e-01
2021-11-23T06:34:13.391Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:13.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-c525dbd2f59b3351ecbb339860ca401b50325f94-db54c5d52112280d-01 outer:exit 2b-c525dbd2f59b3351ecbb339860ca401b50325f94-49b0010070529a01-01
2021-11-23T06:34:13.397Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:13.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-a238d0cc507792c0929d6268fb672af76dd7b192-190e12063e1642ef-01 outer:exit 2b-a238d0cc507792c0929d6268fb672af76dd7b192-eb3d2349758a1f17-01
2021-11-23T06:34:13.399Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:13.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-76acddef73cddf9dc8dd8758d4d03dcf54ecb4c5-d8838bdbfee7e7e7-01 outer:exit 2b-76acddef73cddf9dc8dd8758d4d03dcf54ecb4c5-222de007562f1e4c-01
2021-11-23T06:34:13.401Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:13.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcef8c0346a11e7a7e5f99b04a4f60c3c8e935aa-72c358dc98c40139-01 outer:exit 2b-dcef8c0346a11e7a7e5f99b04a4f60c3c8e935aa-a4cb08a236c19201-01
2021-11-23T06:34:13.403Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:13.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fab30fdfd3fa9fe888578145ee7bb4cb6b649b4-e9455355f658d815-01 outer:exit 2b-4fab30fdfd3fa9fe888578145ee7bb4cb6b649b4-46a15002b85714cd-01
2021-11-23T06:34:13.405Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:13.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-59a7c412ca4d2a5fcaeba989b2379159d907d55d-e5d8f65aad7bea7e-01 outer:exit 2b-59a7c412ca4d2a5fcaeba989b2379159d907d55d-e0a728ef6cac07e8-01
2021-11-23T06:34:13.407Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:13.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-17dcffab6f7ba3f25cbc6aea907662031089b8ad-2b3e59d519d27f5e-01 outer:exit 2b-17dcffab6f7ba3f25cbc6aea907662031089b8ad-7e775c585e3a3eda-01
2021-11-23T06:34:13.414Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:13.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a178f4dbfb42cec4204bbab5a221082f7edbfb4-78f68c4eee8d6b58-01 outer:exit 2b-6a178f4dbfb42cec4204bbab5a221082f7edbfb4-a906f910f82c1484-01
2021-11-23T06:34:13.421Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:13.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a2c833568cd21b57e3ddf29ff9df188e3da3f4d-1c662108fe741bf7-01 outer:exit 2b-6a2c833568cd21b57e3ddf29ff9df188e3da3f4d-1f08ddacf9d90801-01
2021-11-23T06:34:13.424Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:13.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fde301868c8591f900a5604b3e647603355c690-250172e99c4b6458-01 outer:exit 2b-3fde301868c8591f900a5604b3e647603355c690-1782c45c5e2cdfa8-01
2021-11-23T06:34:13.426Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:13.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6be41db131a48670d2f4f91b4d981736b13e5b2-a1038c3af598d902-01 outer:exit 2b-d6be41db131a48670d2f4f91b4d981736b13e5b2-027d8ae4b2702431-01
2021-11-23T06:34:13.429Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:13.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3fc165bc714ef30754c0138902ec4a104d5cf87-0d6c09af7fd15830-01 outer:exit 2b-b3fc165bc714ef30754c0138902ec4a104d5cf87-bad4ad7f7de130ac-01
2021-11-23T06:34:13.453Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.6
updated 1 package and audited 1085 packages in 5.041s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:19.526Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:19.527Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:19.527Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:19.527Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:19.590Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:19.716Z appoptics:patching patched crypto 
2021-11-23T06:34:19.732Z appoptics:patching patched https 
2021-11-23T06:34:19.733Z appoptics:patching patched http 
2021-11-23T06:34:19.778Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:19.779Z appoptics:patching patched fs 
2021-11-23T06:34:19.791Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v12.22.7)
2021-11-23T06:34:19.796Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-11-23T06:34:19.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-91e47f4fb56e6d1feda1a497db8d1c98184e6799-4762d77e1fc18289-01 outer:exit 2b-91e47f4fb56e6d1feda1a497db8d1c98184e6799-8720e89b8c65e498-01
2021-11-23T06:34:19.835Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:19.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b0ed8c4585a6b588e5c0c18e338598c0ff8c533-ee296a4da7880836-01 outer:exit 2b-2b0ed8c4585a6b588e5c0c18e338598c0ff8c533-5e957a17991e1749-01
2021-11-23T06:34:19.897Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:19.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-23eda550986f86456db438a99fc27ad4e9e63a8f-70bb9fbb0af298be-01 outer:exit 2b-23eda550986f86456db438a99fc27ad4e9e63a8f-d44c8511e985ad66-01
2021-11-23T06:34:19.901Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:19.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-be607cb9d700ee47280a8c9402cab9b3d556e082-1d404a9b61f25dc3-01 outer:exit 2b-be607cb9d700ee47280a8c9402cab9b3d556e082-15dda3fd12c7fb8f-01
2021-11-23T06:34:19.904Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:19.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dbf84ead80260bc3e45098bf075a5d0c7ff123d-6b346d7016758965-01 outer:exit 2b-2dbf84ead80260bc3e45098bf075a5d0c7ff123d-3c8154478bdd30cc-01
2021-11-23T06:34:19.909Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:19.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a7a066ea8833ffa7a41d5a0332d9e4e2c21ef07-d774d27b144e3a97-01 outer:exit 2b-3a7a066ea8833ffa7a41d5a0332d9e4e2c21ef07-ffe3ece40579eed0-01
2021-11-23T06:34:19.912Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:19.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-379a030abb1bb497c708f97d62146a04710a81e5-2d93f759e45ba540-01 outer:exit 2b-379a030abb1bb497c708f97d62146a04710a81e5-6bfd72454eb33203-01
2021-11-23T06:34:19.915Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:19.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-d52355b32473e4eff662f8c7aa5a2b405b6ddaa1-37cef48c818e87dc-01 outer:exit 2b-d52355b32473e4eff662f8c7aa5a2b405b6ddaa1-e2a35f32940de240-01
2021-11-23T06:34:19.918Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:19.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-163a6b98f09cf6599fd1468c58055dfefad85d41-4166df342df096f9-01 outer:exit 2b-163a6b98f09cf6599fd1468c58055dfefad85d41-15e17bb37d4c2c98-01
2021-11-23T06:34:19.921Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:19.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-20f66d033ecfbc9d1fdc430ba3cd75d733f16c1d-4b5a02cb4411c122-01 outer:exit 2b-20f66d033ecfbc9d1fdc430ba3cd75d733f16c1d-ddb35058416eea47-01
2021-11-23T06:34:19.924Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:19.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-06bc15ee33a7eb607b6feb840fc628a6a54c9b89-181a2963a65a6626-01 outer:exit 2b-06bc15ee33a7eb607b6feb840fc628a6a54c9b89-9c60e842086d6e15-01
2021-11-23T06:34:19.928Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:19.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-666a6cb5cac0c653dfc31424316323fde98c56e5-35cd75636e8faa00-01 outer:exit 2b-666a6cb5cac0c653dfc31424316323fde98c56e5-6060ecac41be3d2e-01
2021-11-23T06:34:19.934Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:19.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-e82da24e4bba94667513063572f13ed747f2561f-9e45e22c1147b1e6-01 outer:exit 2b-e82da24e4bba94667513063572f13ed747f2561f-49e11b339d50ea38-01
2021-11-23T06:34:19.957Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:19.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-384f04b0069f33947e8c8ab6e539a16af2d817f5-65ef1a0132f9282f-01 outer:exit 2b-384f04b0069f33947e8c8ab6e539a16af2d817f5-97dc15bcc2c3650e-01
2021-11-23T06:34:19.995Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:19.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-680afe5994a5e419ad9600343e0dfa0cb5d3cf80-6b77c877e33a03a8-01 outer:exit 2b-680afe5994a5e419ad9600343e0dfa0cb5d3cf80-d34538ccb569368e-01
2021-11-23T06:34:19.998Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:20.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-8379ae3ef08119863e1880c99e6f3790c1d8b053-722601d06e1ab9da-01 outer:exit 2b-8379ae3ef08119863e1880c99e6f3790c1d8b053-756e9bf40c11410d-01
2021-11-23T06:34:20.001Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:20.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc323db7e1c6a04f2ae69064de31c28542a96b7f-934350ac5b97069e-01 outer:exit 2b-bc323db7e1c6a04f2ae69064de31c28542a96b7f-1076c683b905c4ff-01
2021-11-23T06:34:20.003Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:20.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-c36a3dd1e618e53d836d66cfa405d75065934d7a-1517b7839557beaf-01 outer:exit 2b-c36a3dd1e618e53d836d66cfa405d75065934d7a-44b7f8152c8c53e9-01
2021-11-23T06:34:20.006Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:20.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae80eaf4077e37c7f762da70b3561f913fc7c6c4-219b28c9443e08bf-01 outer:exit 2b-ae80eaf4077e37c7f762da70b3561f913fc7c6c4-00f3b43da58a50e5-01
2021-11-23T06:34:20.007Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:20.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-a74409db1bb9717f4e84709b9719682eea2c059b-a2b42efa5455809e-01 outer:exit 2b-a74409db1bb9717f4e84709b9719682eea2c059b-8ad6927f7398ee21-01
2021-11-23T06:34:20.009Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:20.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7898834a17572fdc70564ab9cac4acab65c846a-d9b88cc4eb6c69f0-01 outer:exit 2b-c7898834a17572fdc70564ab9cac4acab65c846a-b44528d9f50292a9-01
2021-11-23T06:34:20.011Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:20.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d7a96f59e6bad2a6d0fd000660ee8a139275e39-6f953fdf879265cf-01 outer:exit 2b-4d7a96f59e6bad2a6d0fd000660ee8a139275e39-49a7fbdbb9ef8d31-01
2021-11-23T06:34:20.013Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:20.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfbef655cc5511fc3127b6b8e73cb245a673d185-c69163aab2420e58-01 outer:exit 2b-cfbef655cc5511fc3127b6b8e73cb245a673d185-b8d97b1c2686e212-01
2021-11-23T06:34:20.016Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:20.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-e49e28b5a92f9efb03553bd6a08ddc7acbd5f427-133f3fed559bdbdc-01 outer:exit 2b-e49e28b5a92f9efb03553bd6a08ddc7acbd5f427-591f42d72c20cfee-01
2021-11-23T06:34:20.019Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:20.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-d66451d69945a72bce707b0823867b19f4c0b043-e6a48655f4ee7ac3-01 outer:exit 2b-d66451d69945a72bce707b0823867b19f4c0b043-811d25a8fd43a167-01
2021-11-23T06:34:20.021Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:20.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c8e05a01d02c3b7c62fc19529acb033d298315e-4e1dab9bbaf0ea72-01 outer:exit 2b-2c8e05a01d02c3b7c62fc19529acb033d298315e-2a84c4a97c39d891-01
2021-11-23T06:34:20.023Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:20.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-65a465aa6c367068ba31c9b09550a1c92954653e-94e929ef0bc52237-01 outer:exit 2b-65a465aa6c367068ba31c9b09550a1c92954653e-a31d306a50dd6d76-01
2021-11-23T06:34:20.028Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:20.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-92bb3de0726ca2d57766babfea03020ee6592225-1382c0aa4d2e8266-01 outer:exit 2b-92bb3de0726ca2d57766babfea03020ee6592225-30b0db1cd13920b3-01
2021-11-23T06:34:20.033Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:20.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-5328bb51e49ccb5a282a69bdc61321fdded4776c-f803e616ad4c9916-01 outer:exit 2b-5328bb51e49ccb5a282a69bdc61321fdded4776c-731b29153cf5ca22-01
2021-11-23T06:34:20.040Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:20.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5861dded22e1a6e5504da55b4516ef44735640b-00ae00557c263ec2-01 outer:exit 2b-b5861dded22e1a6e5504da55b4516ef44735640b-ac519c833dbbcd4d-01
2021-11-23T06:34:20.046Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:20.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f69c67096f93bd922885da795821c624529bcd4-356a983aaafc9749-01 outer:exit 2b-5f69c67096f93bd922885da795821c624529bcd4-b77631b573c862f6-01
2021-11-23T06:34:20.048Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:20.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-b51b3dd52f062e7018cf8c76c275c041991b6b54-988980b7314ea3aa-01 outer:exit 2b-b51b3dd52f062e7018cf8c76c275c041991b6b54-e3a62d36e6b04e1b-01
2021-11-23T06:34:20.051Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:20.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c51e09112160dd6784fa3b349aeffc5c4f6e77f-d09a4b26e6254e75-01 outer:exit 2b-5c51e09112160dd6784fa3b349aeffc5c4f6e77f-75b0f05455907d15-01
2021-11-23T06:34:20.056Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:20.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-b864d9d79de10e9990e62191a7eec7800ea95e6c-759a7c04d14059b7-01 outer:exit 2b-b864d9d79de10e9990e62191a7eec7800ea95e6c-9e64543d059ff577-01
2021-11-23T06:34:20.058Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:20.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-a79463103031c23b457ca92422a7bc42e719a962-cfacf8f590ef7732-01 outer:exit 2b-a79463103031c23b457ca92422a7bc42e719a962-468d74ed178a2bbf-01
2021-11-23T06:34:20.060Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:20.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-810978706b61156a6ce9be234666c2d5dd15a3bb-f52dd31029368861-01 outer:exit 2b-810978706b61156a6ce9be234666c2d5dd15a3bb-d17147d3b23df1fd-01
2021-11-23T06:34:20.062Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:20.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d9e9169faef55f6867ff2bebced5021446c68a7-c2b61f44089febab-01 outer:exit 2b-8d9e9169faef55f6867ff2bebced5021446c68a7-ba57cd4088cd2daf-01
2021-11-23T06:34:20.064Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:20.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-7350a6a8dba9f0657f70d6aee1c4caf7c0fa779d-bee8700697cb2047-01 outer:exit 2b-7350a6a8dba9f0657f70d6aee1c4caf7c0fa779d-1e68e3f31ad83e26-01
2021-11-23T06:34:20.066Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:20.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a3271c5843e4afc360cd6fbd1947c8f93c780d6-6c856de3b2c6b305-01 outer:exit 2b-5a3271c5843e4afc360cd6fbd1947c8f93c780d6-df2e327ab4851f81-01
2021-11-23T06:34:20.076Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:20.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-000d5ec0d3c9dd061d1789eb485b8fe08423ebfd-bc265a9210ddb609-01 outer:exit 2b-000d5ec0d3c9dd061d1789eb485b8fe08423ebfd-c9c15eab32a6cb73-01
2021-11-23T06:34:20.083Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:20.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-d02e9ca543f50954f882a4f5450f8c1f93120224-ccdb6ee051b19700-01 outer:exit 2b-d02e9ca543f50954f882a4f5450f8c1f93120224-ca86b764869b7a45-01
2021-11-23T06:34:20.086Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:20.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-5085a316358ed493ed4a7546ae1bf4a7433b8b0d-5a479385be860e3c-01 outer:exit 2b-5085a316358ed493ed4a7546ae1bf4a7433b8b0d-3c5d416c14b95031-01
2021-11-23T06:34:20.088Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:20.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6a7f4720640e92f4ff459122942eac511d73bcf-2cdda2fbe6bfd659-01 outer:exit 2b-d6a7f4720640e92f4ff459122942eac511d73bcf-4ec7854cf3b12500-01
2021-11-23T06:34:20.091Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:20.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ec017f7728f87a27497216a6a7ffeb649106954-1a3449c4f6321eec-01 outer:exit 2b-9ec017f7728f87a27497216a6a7ffeb649106954-bea40391fa8b1ca9-01
2021-11-23T06:34:20.115Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (313ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.7
updated 1 package and audited 1085 packages in 4.675s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:25.703Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:25.703Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:25.703Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:25.704Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:25.765Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:25.895Z appoptics:patching patched crypto 
2021-11-23T06:34:25.911Z appoptics:patching patched https 
2021-11-23T06:34:25.911Z appoptics:patching patched http 
2021-11-23T06:34:25.953Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:25.954Z appoptics:patching patched fs 
2021-11-23T06:34:25.966Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v12.22.7)
2021-11-23T06:34:25.971Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-11-23T06:34:26.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0f4e7b8b8283cc9adcac5cac5044b305af5b772-04f02416c8a86757-01 outer:exit 2b-e0f4e7b8b8283cc9adcac5cac5044b305af5b772-e2d466f71c2c7d09-01
2021-11-23T06:34:26.010Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:26.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff186a7edcca17671da359a1ecc99fff377435df-51a777c80848acb8-01 outer:exit 2b-ff186a7edcca17671da359a1ecc99fff377435df-85ed23e06969b6fc-01
2021-11-23T06:34:26.093Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:26.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b1be0f50264a91bd37b7e9153ef28217da3f882-6a968d02f2c67b37-01 outer:exit 2b-5b1be0f50264a91bd37b7e9153ef28217da3f882-6c32e987d023d298-01
2021-11-23T06:34:26.097Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:26.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-507732d1bb11c7820071e32e7df5939f0118d22a-695f0faf9a92196a-01 outer:exit 2b-507732d1bb11c7820071e32e7df5939f0118d22a-4195225b75b8d1ca-01
2021-11-23T06:34:26.100Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:26.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-16ccaf4585ae76fb68aa37f55d87675ff389d822-87845083d953e2db-01 outer:exit 2b-16ccaf4585ae76fb68aa37f55d87675ff389d822-c6b3cc0e94a9405e-01
2021-11-23T06:34:26.104Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:26.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1cbc1864cccbaf6d49e985e3d7e58a38104637c-babb834e9567fa51-01 outer:exit 2b-c1cbc1864cccbaf6d49e985e3d7e58a38104637c-16f4be188f55ba7c-01
2021-11-23T06:34:26.107Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:26.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bf0c016b98074c22ab0b08e8ddd4ff8afedad18-a3706e9bce4964d3-01 outer:exit 2b-2bf0c016b98074c22ab0b08e8ddd4ff8afedad18-4072005396ee9a9d-01
2021-11-23T06:34:26.110Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:26.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c148ced6e434135402f984c24c597dec1ddc2a7-03653a3948af13c6-01 outer:exit 2b-9c148ced6e434135402f984c24c597dec1ddc2a7-0e634441ad36b914-01
2021-11-23T06:34:26.112Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:26.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-59001cfddb03ee238d4f32b14f68b5a08f9eae51-9c6b88d2c99792f4-01 outer:exit 2b-59001cfddb03ee238d4f32b14f68b5a08f9eae51-f4bc2d82439bafd8-01
2021-11-23T06:34:26.114Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:26.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-bca685ecb254a3ed8a3ae367774127db4e653b53-39791210d7e7de0c-01 outer:exit 2b-bca685ecb254a3ed8a3ae367774127db4e653b53-5925b011fc13d881-01
2021-11-23T06:34:26.117Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:26.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-feaa1fccaa4de6ac46b047740d8b3f6971b9062f-177a094cb16b1709-01 outer:exit 2b-feaa1fccaa4de6ac46b047740d8b3f6971b9062f-c496bf67cf67a92d-01
2021-11-23T06:34:26.120Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:26.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fdd096c95824a96f9e414dc679233ed54da6b64-f99450d181946211-01 outer:exit 2b-7fdd096c95824a96f9e414dc679233ed54da6b64-c9f42cc044fe2919-01
2021-11-23T06:34:26.130Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:26.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8d0476684c29f479b6142b5f583423c5e75a87f-fbf51ef9c7921814-01 outer:exit 2b-f8d0476684c29f479b6142b5f583423c5e75a87f-8e0aaf9d9fae2cb6-01
2021-11-23T06:34:26.145Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:26.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-debdf1d22987c6578d74dafa7b983f3b86fa5e64-e2006b8928d2d194-01 outer:exit 2b-debdf1d22987c6578d74dafa7b983f3b86fa5e64-b4dc1e19337c0be1-01
2021-11-23T06:34:26.193Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:26.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a0b5adf23a1ac0f3fee605e4dc61e88d4f922b0-1754e60256115351-01 outer:exit 2b-9a0b5adf23a1ac0f3fee605e4dc61e88d4f922b0-6c03fd1127dbefd5-01
2021-11-23T06:34:26.196Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:26.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ad74520cc82185aab0dfa4d14e95d78dce4f8d0-de23e81184ca1475-01 outer:exit 2b-6ad74520cc82185aab0dfa4d14e95d78dce4f8d0-d22b37fcecfaa53f-01
2021-11-23T06:34:26.199Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:26.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6d0a2b4dbd02d9c68b474ae53115c0dcdf1a569-e5f5ff783efcc7d1-01 outer:exit 2b-f6d0a2b4dbd02d9c68b474ae53115c0dcdf1a569-486a342ddc003bd7-01
2021-11-23T06:34:26.202Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:26.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-209bfa6cebdfcdcfb68036d0a2a331c6793fda09-cd3c456aac7b6d48-01 outer:exit 2b-209bfa6cebdfcdcfb68036d0a2a331c6793fda09-bf263412ca5b7eff-01
2021-11-23T06:34:26.204Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:26.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-d20bfccbfa684fe5f7bdaae4e36962a4494b40a1-f2aa888e1c23783b-01 outer:exit 2b-d20bfccbfa684fe5f7bdaae4e36962a4494b40a1-9582c22bebbdb924-01
2021-11-23T06:34:26.206Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:26.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-65b06a22036bf0a0a1cda94075c85a4a7a066ffd-390780b98503cb8b-01 outer:exit 2b-65b06a22036bf0a0a1cda94075c85a4a7a066ffd-b39d606e98a103d7-01
2021-11-23T06:34:26.207Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:26.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ab5bafb04e3c3e4926918793336b570fb82c4e4-f5028fe3259e3c9e-01 outer:exit 2b-4ab5bafb04e3c3e4926918793336b570fb82c4e4-2273cdca4815b910-01
2021-11-23T06:34:26.210Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:26.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-77618b348cbc341fcbdf7435a4363a83796ccd6d-1817c87686636faf-01 outer:exit 2b-77618b348cbc341fcbdf7435a4363a83796ccd6d-9dee1bf447b6c14d-01
2021-11-23T06:34:26.212Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:26.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-09965b9d8a1a2c8e0117981b15b77c6b0e2520b3-4bb144e6154306ef-01 outer:exit 2b-09965b9d8a1a2c8e0117981b15b77c6b0e2520b3-6be3146697bced81-01
2021-11-23T06:34:26.215Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:26.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca248fc7c7b14097f97b2240dd4f442bddea6b2c-9c44d645dffc7229-01 outer:exit 2b-ca248fc7c7b14097f97b2240dd4f442bddea6b2c-058979e2c92291f3-01
2021-11-23T06:34:26.217Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:26.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-94a855fe6d3d6c48592a64a73616c2e080593c26-3c32bcc364804c5c-01 outer:exit 2b-94a855fe6d3d6c48592a64a73616c2e080593c26-e05f1cf02ea3ac8a-01
2021-11-23T06:34:26.220Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:26.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b32acc3cb0589b898256b3f574e7ad6a4dfef1-e56ee02e235aecf3-01 outer:exit 2b-82b32acc3cb0589b898256b3f574e7ad6a4dfef1-c080035dcf31087a-01
2021-11-23T06:34:26.222Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:26.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba58fc0d312555fe52297f6815964b53621d7310-c78b4fab4418f167-01 outer:exit 2b-ba58fc0d312555fe52297f6815964b53621d7310-141bc056e20a94f0-01
2021-11-23T06:34:26.228Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:26.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-f26b836c76ad5b64ce9ddff9d74f0083e0867db5-368e6cd0ffb7c0cd-01 outer:exit 2b-f26b836c76ad5b64ce9ddff9d74f0083e0867db5-ce1cbe64f7c5604f-01
2021-11-23T06:34:26.233Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:26.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-0633b191cd38541ef511f50de730491fc99d1462-ca67274fe5583178-01 outer:exit 2b-0633b191cd38541ef511f50de730491fc99d1462-085b3aae7b9bcf1d-01
2021-11-23T06:34:26.241Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:26.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-9160c3555d97a6f4777f79bd2cf7d7cd7f9e1486-ff8be4a0eae806dd-01 outer:exit 2b-9160c3555d97a6f4777f79bd2cf7d7cd7f9e1486-1e5e66134bf8ff82-01
2021-11-23T06:34:26.246Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:26.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ca138be903db118253ef863fdf89c4d3f1850f3-2e3b286f5d470f86-01 outer:exit 2b-4ca138be903db118253ef863fdf89c4d3f1850f3-5aa2de22577a811d-01
2021-11-23T06:34:26.248Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:26.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f593bb97af19c1a577e1acdfe14ad932cbc9a74-cd78f48272bcef1b-01 outer:exit 2b-6f593bb97af19c1a577e1acdfe14ad932cbc9a74-767302bd42aae896-01
2021-11-23T06:34:26.251Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:26.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ae65867a466ec6d60d04eaeec1bf6941deae8b3-a23204a287cf7329-01 outer:exit 2b-6ae65867a466ec6d60d04eaeec1bf6941deae8b3-c374052ce029fd15-01
2021-11-23T06:34:26.256Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:26.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-b877701411e3dd70720154da4d680f46fa9b0ece-aca902b880a0fe66-01 outer:exit 2b-b877701411e3dd70720154da4d680f46fa9b0ece-1b178b59a449ca0c-01
2021-11-23T06:34:26.258Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:26.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-2126c4b6f25e01b17204d42c418d6f99fa1510f4-a010d6930c3993be-01 outer:exit 2b-2126c4b6f25e01b17204d42c418d6f99fa1510f4-c5f14dd19dc56c80-01
2021-11-23T06:34:26.261Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:26.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-d624c8fdad2fe5367171e61870d9bd1a518d507c-0f7122636a0d0584-01 outer:exit 2b-d624c8fdad2fe5367171e61870d9bd1a518d507c-8bcdd6bedee0564d-01
2021-11-23T06:34:26.262Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:26.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a1156e42185f320e6b3887e275d529da04b960c-d45b58a145bf61c8-01 outer:exit 2b-2a1156e42185f320e6b3887e275d529da04b960c-d0d94d69b7a7772e-01
2021-11-23T06:34:26.264Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:26.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-bff3965978b25b69263413130f2ab78a3e78596a-858884b93ddef85c-01 outer:exit 2b-bff3965978b25b69263413130f2ab78a3e78596a-0df4b12abdc93205-01
2021-11-23T06:34:26.266Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:26.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-195ccee915212b214baa3030fabcfe2bc4545c2f-ebe3c5853a6244c1-01 outer:exit 2b-195ccee915212b214baa3030fabcfe2bc4545c2f-efebf6a367f3831d-01
2021-11-23T06:34:26.274Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:26.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a21fb8444d48a15c9af9f5ae505f69df9e900be-fae1ac782c4a2737-01 outer:exit 2b-8a21fb8444d48a15c9af9f5ae505f69df9e900be-d2742c6971c171cb-01
2021-11-23T06:34:26.281Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:26.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-9717c817f15ecaa79654608477d34f83687f995d-69c07c7d69ae615c-01 outer:exit 2b-9717c817f15ecaa79654608477d34f83687f995d-d87d3e10de1b6475-01
2021-11-23T06:34:26.284Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:26.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-897d5e83e8c380c579bc296b48c4d343953deace-3dd0db31c2b9e895-01 outer:exit 2b-897d5e83e8c380c579bc296b48c4d343953deace-e40d86bd28a5c0dd-01
2021-11-23T06:34:26.287Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:26.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-71921cf3aea137131004ec5128f810527ad6b71e-f05a9c1f9fe98a44-01 outer:exit 2b-71921cf3aea137131004ec5128f810527ad6b71e-fd7aa8ccf837c1e7-01
2021-11-23T06:34:26.289Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:26.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-b39cf592cbad1214aa5a3593cec10ab9f877b0ac-2539d69d371a715c-01 outer:exit 2b-b39cf592cbad1214aa5a3593cec10ab9f877b0ac-94683213c7ec2b15-01
2021-11-23T06:34:26.314Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (336ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.8
updated 1 package and audited 1085 packages in 5.28s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:32.544Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:32.544Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:32.544Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:32.545Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:32.608Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:32.737Z appoptics:patching patched crypto 
2021-11-23T06:34:32.753Z appoptics:patching patched https 
2021-11-23T06:34:32.753Z appoptics:patching patched http 
2021-11-23T06:34:32.801Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:32.801Z appoptics:patching patched fs 
2021-11-23T06:34:32.814Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v12.22.7)
2021-11-23T06:34:32.819Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-11-23T06:34:32.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-b79473b66071120e151b9920b627ad6a67503b9f-3491e89e17b9d0f2-01 outer:exit 2b-b79473b66071120e151b9920b627ad6a67503b9f-2ea90c824c7fd81d-01
2021-11-23T06:34:32.858Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:32.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0c520fc1b642fbf20eb5404523ab87574733980-e106ac6985559a2b-01 outer:exit 2b-e0c520fc1b642fbf20eb5404523ab87574733980-becf070907f3a1a4-01
2021-11-23T06:34:32.932Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:32.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f9319cb42c85ae62af74b369e20bcc2e492879e-f6033ec57d7d4a5b-01 outer:exit 2b-3f9319cb42c85ae62af74b369e20bcc2e492879e-58763cbb0b34eac9-01
2021-11-23T06:34:32.936Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:32.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-28365502743a149d1bd4092360f0f42d25ef81ca-62c98724c72f1d2a-01 outer:exit 2b-28365502743a149d1bd4092360f0f42d25ef81ca-2399d13b06489772-01
2021-11-23T06:34:32.939Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:32.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebb945afe572415cff2573e7573ddfcda96b4412-244260f2440c21db-01 outer:exit 2b-ebb945afe572415cff2573e7573ddfcda96b4412-8cf2a669f982e494-01
2021-11-23T06:34:32.943Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:32.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-28006b3faaec5647e92f7c92af4e969ff4c88dff-4640bc49ce9a3dc7-01 outer:exit 2b-28006b3faaec5647e92f7c92af4e969ff4c88dff-65c2db11ba079c74-01
2021-11-23T06:34:32.946Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:32.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-526930117c223cacc360d91730a19042d6d03b54-99f0b9c294e51b0f-01 outer:exit 2b-526930117c223cacc360d91730a19042d6d03b54-f0e3af475d575081-01
2021-11-23T06:34:32.948Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:32.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-a77b9e52248df77472eefdf963b5394bcd3348ba-7409b6a2d031780e-01 outer:exit 2b-a77b9e52248df77472eefdf963b5394bcd3348ba-810ac3805fbebf2f-01
2021-11-23T06:34:32.950Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:32.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1ecfcc2e95dd3839797f66167ab3c174653df5a-33e595ad3314d18f-01 outer:exit 2b-a1ecfcc2e95dd3839797f66167ab3c174653df5a-45d61e03e9905e66-01
2021-11-23T06:34:32.953Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:32.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-d478256844a82c666f219f6c688f37899f2a67bd-6d1737a13b5a27df-01 outer:exit 2b-d478256844a82c666f219f6c688f37899f2a67bd-a714c83d49f5f206-01
2021-11-23T06:34:32.955Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:32.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-733cd791c35b97f63122a5fa9d36036003393c48-dfa2ca94e4e7a9a9-01 outer:exit 2b-733cd791c35b97f63122a5fa9d36036003393c48-e37576418f47cc85-01
2021-11-23T06:34:32.959Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:32.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-1922c28c8a19cda63fdb583196e2ed27284c31d5-e93eb0f0954af489-01 outer:exit 2b-1922c28c8a19cda63fdb583196e2ed27284c31d5-18421363bb39983f-01
2021-11-23T06:34:32.965Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:32.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-486f0dd791aa25dd2714d1a7ebb7f26c522e2ba7-b1f0689c46069d23-01 outer:exit 2b-486f0dd791aa25dd2714d1a7ebb7f26c522e2ba7-ce4332f738fabcf4-01
2021-11-23T06:34:32.982Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:33.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c3e8f4106c729971a9809d7093dff047bf29ace-c262b013d482e29a-01 outer:exit 2b-6c3e8f4106c729971a9809d7093dff047bf29ace-1fc19cbe0aba5e66-01
2021-11-23T06:34:33.042Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:33.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-69ba94f385c65be259249413e7c3f240c46ee6fc-ac8d039dd54e8eb9-01 outer:exit 2b-69ba94f385c65be259249413e7c3f240c46ee6fc-338e5eedd8f06e47-01
2021-11-23T06:34:33.045Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:33.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fc378c8d2204b724a0c41ffe5e808a4aac616ab-972f0b98e4301dcb-01 outer:exit 2b-8fc378c8d2204b724a0c41ffe5e808a4aac616ab-ddb3c168f860f3fc-01
2021-11-23T06:34:33.048Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:33.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-983fdd93d9f9993bea2354b3ca96ad67917278e6-6e9da5ea43d120dc-01 outer:exit 2b-983fdd93d9f9993bea2354b3ca96ad67917278e6-eaefcea92db472b2-01
2021-11-23T06:34:33.051Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:33.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f3e3bc3f6bea93a0a5eb84f5580a51c20e4350f-b0a934ceabedad7f-01 outer:exit 2b-0f3e3bc3f6bea93a0a5eb84f5580a51c20e4350f-67b38c196be456cc-01
2021-11-23T06:34:33.053Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:33.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-65bebc42c75846707fb440a811330f873e932cc0-239f8ad12ee3990f-01 outer:exit 2b-65bebc42c75846707fb440a811330f873e932cc0-a9bf8ad3d0b919a1-01
2021-11-23T06:34:33.055Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:33.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7e5c05d5ea7ce4517640b0ad4874395f3318345-34b6bdffe2108b12-01 outer:exit 2b-e7e5c05d5ea7ce4517640b0ad4874395f3318345-5ccb0410fc8e22d0-01
2021-11-23T06:34:33.057Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:33.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbd681fa6dad0b1f035ce22839d9e1f693140673-dd5b4cedac33dcd8-01 outer:exit 2b-cbd681fa6dad0b1f035ce22839d9e1f693140673-9a2fc7f0ce7954d1-01
2021-11-23T06:34:33.059Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:33.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-47976fee4cfcfe3e73a96725e3ac33864f004a04-833c5a62dab8601a-01 outer:exit 2b-47976fee4cfcfe3e73a96725e3ac33864f004a04-a43c16c54ee72005-01
2021-11-23T06:34:33.061Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:33.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cfbb5d611b8ade07247725b3dbaf774d2337ea9-6e30dc8c61c2d325-01 outer:exit 2b-5cfbb5d611b8ade07247725b3dbaf774d2337ea9-32d9be125143432c-01
2021-11-23T06:34:33.064Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:33.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-b39349084de058dc5d947d938186c740ed48042a-38273de0af38b2c9-01 outer:exit 2b-b39349084de058dc5d947d938186c740ed48042a-08f28ffd2c13ac23-01
2021-11-23T06:34:33.067Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:33.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-96f3ad312c9d0a28685ca2ea86a0f93d311c3f22-97bd8b9285103aca-01 outer:exit 2b-96f3ad312c9d0a28685ca2ea86a0f93d311c3f22-1bc0a9f0198aecbb-01
2021-11-23T06:34:33.069Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:33.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-6589265364d3c5594116198412bb6d5f853e5498-b6877c07d2d7d4cb-01 outer:exit 2b-6589265364d3c5594116198412bb6d5f853e5498-9ee01ba7b96c4685-01
2021-11-23T06:34:33.071Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:33.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6917e867052c9944ddc6a5ee90b775cd0705c17-8f4b6d5cff8f75c9-01 outer:exit 2b-a6917e867052c9944ddc6a5ee90b775cd0705c17-dc904c97756179ee-01
2021-11-23T06:34:33.077Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:33.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-94f1f3199d8faf273ada6f2b42351fd910da159b-62439c0dd28f4802-01 outer:exit 2b-94f1f3199d8faf273ada6f2b42351fd910da159b-54b82da6f97c5e2c-01
2021-11-23T06:34:33.083Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:33.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4826017c52c5c3ddc78c4701c77c0a8faf9b709-e6962a16a6a6fc7f-01 outer:exit 2b-c4826017c52c5c3ddc78c4701c77c0a8faf9b709-4c0ac2921d233d6e-01
2021-11-23T06:34:33.089Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:33.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-596d78219f5e7a6c540a11c6d7de367a3c1208c9-1e6b0a752328176b-01 outer:exit 2b-596d78219f5e7a6c540a11c6d7de367a3c1208c9-7f53adb21023c723-01
2021-11-23T06:34:33.094Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:33.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-5619f8cdb0001879184ec94aa5178d867335561a-32a130f40259abcc-01 outer:exit 2b-5619f8cdb0001879184ec94aa5178d867335561a-18dc132462cd6fc7-01
2021-11-23T06:34:33.097Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:33.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-87c6bcafa7e4553b69f8c24340b9a4fd47c08cc9-42a028d14bfcc714-01 outer:exit 2b-87c6bcafa7e4553b69f8c24340b9a4fd47c08cc9-549dc22d5a61a017-01
2021-11-23T06:34:33.100Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:33.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-38475a271b3b3ccc7b5d2006f086c3bbdb817170-e50e24fa1ccb192f-01 outer:exit 2b-38475a271b3b3ccc7b5d2006f086c3bbdb817170-6d80c7da01a542a5-01
2021-11-23T06:34:33.105Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:33.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-9db1f61e43bf43f3469d70cccf9d51722bc799fd-f58337967dc2caa9-01 outer:exit 2b-9db1f61e43bf43f3469d70cccf9d51722bc799fd-b1825cf0395b561d-01
2021-11-23T06:34:33.107Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:33.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e598a3ba62703a4f28bacd1b2c82512951c3cf1-22c3e8c3b8d4402a-01 outer:exit 2b-6e598a3ba62703a4f28bacd1b2c82512951c3cf1-d835e3217b7c0551-01
2021-11-23T06:34:33.109Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:33.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-9307d474585fdbcf2a64f75cfb381627e6089170-da7d2b56519c8208-01 outer:exit 2b-9307d474585fdbcf2a64f75cfb381627e6089170-d1e7974024888d8a-01
2021-11-23T06:34:33.111Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:33.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-785daa6dd25df819626bb9c5f338e3bde6ec6f20-dbff45e821b33382-01 outer:exit 2b-785daa6dd25df819626bb9c5f338e3bde6ec6f20-2654c4c28d5cfcbd-01
2021-11-23T06:34:33.113Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:33.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-5399e0ad0e2897ad9810fcb6194788b077a8eb8a-042b3239bcb69191-01 outer:exit 2b-5399e0ad0e2897ad9810fcb6194788b077a8eb8a-dee9bc7cbb2380ac-01
2021-11-23T06:34:33.115Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:33.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-239d1a9f544bd4c05aa4ddbf8c846032dfb26a6e-6634ee1441a2733b-01 outer:exit 2b-239d1a9f544bd4c05aa4ddbf8c846032dfb26a6e-714191447644885f-01
2021-11-23T06:34:33.123Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:33.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f462c79ab0760ebab296031b568ef15b6bd8fa8-b57254320e7c886b-01 outer:exit 2b-9f462c79ab0760ebab296031b568ef15b6bd8fa8-0a0d1f1e8869fe54-01
2021-11-23T06:34:33.130Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:33.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-78df8a29c576bb4e2491553f539fb82f7f324e2a-8e0ac7c3aaec5aab-01 outer:exit 2b-78df8a29c576bb4e2491553f539fb82f7f324e2a-4e05e057d0605d27-01
2021-11-23T06:34:33.132Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:33.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-4de1590b4c04a4778e864ef1c8b0b0ab1ed051d6-861ce8d6546977d2-01 outer:exit 2b-4de1590b4c04a4778e864ef1c8b0b0ab1ed051d6-d51905adffb9af08-01
2021-11-23T06:34:33.135Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:33.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-2025b866bc0cd17d14a6f3bc1211759a32848eb4-b694407d24023b75-01 outer:exit 2b-2025b866bc0cd17d14a6f3bc1211759a32848eb4-8b984cae62ea8669-01
2021-11-23T06:34:33.138Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:33.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcec385169c8e28ca54b0bde0720c3ef28bb681a-d2aabc76baced14a-01 outer:exit 2b-fcec385169c8e28ca54b0bde0720c3ef28bb681a-86f5e94f23d94c6a-01
2021-11-23T06:34:33.163Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (338ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.9
updated 1 package and audited 1085 packages in 4.605s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:38.738Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:38.738Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:38.739Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:38.739Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:38.804Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:38.932Z appoptics:patching patched crypto 
2021-11-23T06:34:38.948Z appoptics:patching patched https 
2021-11-23T06:34:38.948Z appoptics:patching patched http 
2021-11-23T06:34:38.992Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:38.992Z appoptics:patching patched fs 
2021-11-23T06:34:39.005Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v12.22.7)
2021-11-23T06:34:39.010Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-11-23T06:34:39.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ee0db83a3192627befb4eb5255a60f56ef59840-b21bc879b1f7a892-01 outer:exit 2b-5ee0db83a3192627befb4eb5255a60f56ef59840-b9c7c2ed8d246042-01
2021-11-23T06:34:39.049Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:39.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-86831290ae72c7a9dee82118b202d126c1933059-06c8c876b914f5dd-01 outer:exit 2b-86831290ae72c7a9dee82118b202d126c1933059-bbb8b67585c47ea5-01
2021-11-23T06:34:39.097Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:39.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca698020b2e7e3f6290196d2ff6dd8b0d935cfbd-3b0ffef3e9a8bd95-01 outer:exit 2b-ca698020b2e7e3f6290196d2ff6dd8b0d935cfbd-ebb0801ba936440b-01
2021-11-23T06:34:39.100Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:39.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae283fd42837800a7b6792b52789abd345791fe3-fcaff593d0fc5a1a-01 outer:exit 2b-ae283fd42837800a7b6792b52789abd345791fe3-a112c1acb30e4fd0-01
2021-11-23T06:34:39.103Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:39.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-9842e5d8bf19a29998ced07636c62047d2b8b247-435121eeba63b8aa-01 outer:exit 2b-9842e5d8bf19a29998ced07636c62047d2b8b247-e71523002c005965-01
2021-11-23T06:34:39.107Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:39.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-1933d404dc2a2d87dbe582c71d0199be63b794e5-bfbb10d882b5a954-01 outer:exit 2b-1933d404dc2a2d87dbe582c71d0199be63b794e5-7e2d86ac2d743cc1-01
2021-11-23T06:34:39.110Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:39.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-83f2130669ccff16bf84baf5f0eac03b0cc8d649-cd49a6e93c443583-01 outer:exit 2b-83f2130669ccff16bf84baf5f0eac03b0cc8d649-f85414fdb8d942d4-01
2021-11-23T06:34:39.113Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:39.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2690689ab75617bb0d2ab42bde42912d059ace3-58f39df4911115ad-01 outer:exit 2b-a2690689ab75617bb0d2ab42bde42912d059ace3-18f4ebff5e64c747-01
2021-11-23T06:34:39.115Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:39.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-36b5e88596dd5db45da833686b0b7639347c5d1f-128e2e4410d519ba-01 outer:exit 2b-36b5e88596dd5db45da833686b0b7639347c5d1f-e0936bd9e838ed1d-01
2021-11-23T06:34:39.117Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:39.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-b534c118ce12f2f80ab7053b7069b25eccbc2440-2dd506cfddd9ad2a-01 outer:exit 2b-b534c118ce12f2f80ab7053b7069b25eccbc2440-955b6ad41f892df6-01
2021-11-23T06:34:39.119Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:39.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e81e490459e6dc17ee1703c3f393e10863846ba-09cbf280f78d9a37-01 outer:exit 2b-3e81e490459e6dc17ee1703c3f393e10863846ba-d4480a1843b756a0-01
2021-11-23T06:34:39.123Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:39.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd69f067f5f5328848a0b5a1cc0856b907b6a1dd-be96f5b80fd4cc8d-01 outer:exit 2b-cd69f067f5f5328848a0b5a1cc0856b907b6a1dd-a52da84a53b0599a-01
2021-11-23T06:34:39.129Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:39.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fd60cdb4ce25a7fb1fe004fde3f09282cb0320b-ad925c9167c5d9e8-01 outer:exit 2b-8fd60cdb4ce25a7fb1fe004fde3f09282cb0320b-8d51759ef9e95564-01
2021-11-23T06:34:39.148Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:39.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b63ef26adeafd58189d5be34f0dacfaf6f85c39-7a421ec743976a9b-01 outer:exit 2b-1b63ef26adeafd58189d5be34f0dacfaf6f85c39-fd3e3898cf422001-01
2021-11-23T06:34:39.197Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:39.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-385d14491746679db3ca2dbaffc974b5b1cebc74-1a5b3828bd4f215e-01 outer:exit 2b-385d14491746679db3ca2dbaffc974b5b1cebc74-c8985da8403543e9-01
2021-11-23T06:34:39.200Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:39.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d17956c5c9f52f9554627c6d4b3beb20ae867b2-9946305806b63731-01 outer:exit 2b-9d17956c5c9f52f9554627c6d4b3beb20ae867b2-95593b4b5545c494-01
2021-11-23T06:34:39.203Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:39.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cad4ca5359306dd6d498189e39bf33112f3bfa8-db111c0576e06916-01 outer:exit 2b-9cad4ca5359306dd6d498189e39bf33112f3bfa8-db940b7fa98a6adb-01
2021-11-23T06:34:39.206Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:39.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a61b3e470158907693c4e594d90db0434805f27-fbac7a95955d35c9-01 outer:exit 2b-6a61b3e470158907693c4e594d90db0434805f27-27a14839ef0711c3-01
2021-11-23T06:34:39.208Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:39.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-3758991c840573b2e9dd20499784546dfbbdcf55-fd48a40cfb1bf98b-01 outer:exit 2b-3758991c840573b2e9dd20499784546dfbbdcf55-de02965a1b639c81-01
2021-11-23T06:34:39.210Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:39.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-047f92f50a89ac54b6be2d4e24b13a5ed04fd686-29b84cfc28a9f8b7-01 outer:exit 2b-047f92f50a89ac54b6be2d4e24b13a5ed04fd686-8da0bdf037db8082-01
2021-11-23T06:34:39.212Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:39.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-58313b5fed48dcbb4156d85755c044d46854b380-184e63dd49fb8c43-01 outer:exit 2b-58313b5fed48dcbb4156d85755c044d46854b380-6dd644e64ff73ca9-01
2021-11-23T06:34:39.214Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:39.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-f933e11518c799fdf36a3f551b56d4f46b493cfb-dcf12a18af73bf60-01 outer:exit 2b-f933e11518c799fdf36a3f551b56d4f46b493cfb-6991ed86e3c5bbcc-01
2021-11-23T06:34:39.216Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:39.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-5786d412387785eb499cfc3e6b68aa1aaa313200-52fa2d83de24e4fc-01 outer:exit 2b-5786d412387785eb499cfc3e6b68aa1aaa313200-499db09a99390ed6-01
2021-11-23T06:34:39.218Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:39.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0e84cad4b10e13d734e15fe58c47a068747faae-14e2f611ce17bf85-01 outer:exit 2b-f0e84cad4b10e13d734e15fe58c47a068747faae-a40d79b2a2e88386-01
2021-11-23T06:34:39.221Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:39.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a925699ed75c538b1ecf82cd61e31d0d35e7a95-7632edb4b97f555c-01 outer:exit 2b-6a925699ed75c538b1ecf82cd61e31d0d35e7a95-256cc556fd337f1c-01
2021-11-23T06:34:39.223Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:39.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfe4faff595a326943cacdadac457a0ced03a8e2-5c1192ffa7752b4d-01 outer:exit 2b-cfe4faff595a326943cacdadac457a0ced03a8e2-3f00ff1b90df74e4-01
2021-11-23T06:34:39.225Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:39.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aa85f3a07f24afd4a7d6c6ae2c8494d1f4b4f3e-6069004f223ea187-01 outer:exit 2b-4aa85f3a07f24afd4a7d6c6ae2c8494d1f4b4f3e-c0830059b8c14863-01
2021-11-23T06:34:39.231Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:39.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f679c3491e563e4a29852e151a73b73004faec3-51517039afbe3f95-01 outer:exit 2b-9f679c3491e563e4a29852e151a73b73004faec3-225505bedc4e28ec-01
2021-11-23T06:34:39.236Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:39.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa08043aa48763e900cd28719c53b9b4d75455fe-d1712f49b992be28-01 outer:exit 2b-aa08043aa48763e900cd28719c53b9b4d75455fe-3a9e670d5b7a3745-01
2021-11-23T06:34:39.244Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:39.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-244223f667289d0a97e2f175780e208e617bc124-5cd125ee3087bf1e-01 outer:exit 2b-244223f667289d0a97e2f175780e208e617bc124-516571ce070d632a-01
2021-11-23T06:34:39.249Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:39.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e8611dc0ddf615680ccdc1cd2b013ecb031590e-2107646182eb2dbc-01 outer:exit 2b-8e8611dc0ddf615680ccdc1cd2b013ecb031590e-414534c3a84f17f8-01
2021-11-23T06:34:39.251Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:39.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f021351336680e09d4f537101ce7bd40ac87bbf-de8c5662e57e2900-01 outer:exit 2b-4f021351336680e09d4f537101ce7bd40ac87bbf-12cf71406732a2c9-01
2021-11-23T06:34:39.254Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:39.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c1a2eccbf69af837cfbe39578aa0dd8b4610454-d4e65c12b031b06d-01 outer:exit 2b-1c1a2eccbf69af837cfbe39578aa0dd8b4610454-7e382244d4df233a-01
2021-11-23T06:34:39.260Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:39.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-b81835a67db7de7093b805a3ca1b04be97b462b0-aabe2960b5081df4-01 outer:exit 2b-b81835a67db7de7093b805a3ca1b04be97b462b0-3e36f85277dc318e-01
2021-11-23T06:34:39.262Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:39.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ce1428f9ef8b619617ba7909804ccf3c164b745-6ec6f0479eb80001-01 outer:exit 2b-9ce1428f9ef8b619617ba7909804ccf3c164b745-7152bc28b6f50caa-01
2021-11-23T06:34:39.264Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:39.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-0812d7490b07c3c4861c4b6d3141e575193c869a-4562e79c7c940fee-01 outer:exit 2b-0812d7490b07c3c4861c4b6d3141e575193c869a-48fc3d08ccd4d5f1-01
2021-11-23T06:34:39.266Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:39.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da9bbbd0b3dd40db92f4611a105b84fa01a5eb4-58fe609f7a282d14-01 outer:exit 2b-9da9bbbd0b3dd40db92f4611a105b84fa01a5eb4-f5d67ed69e737623-01
2021-11-23T06:34:39.267Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:39.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd012f78d0bd36c2da841fc0741c5fc53e189dd5-d10f04f3fd3ee653-01 outer:exit 2b-dd012f78d0bd36c2da841fc0741c5fc53e189dd5-507702c4a1cb96f1-01
2021-11-23T06:34:39.269Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:39.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5f59d0d4b74fbdb80ed0a10eb803a7ec86ce8f6-df7b67b57c823714-01 outer:exit 2b-a5f59d0d4b74fbdb80ed0a10eb803a7ec86ce8f6-9efc6503162b06e4-01
2021-11-23T06:34:39.277Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:39.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a2e5bfeb1ef0338fb8903d5a586b28e644ab607-aee95a939df17e92-01 outer:exit 2b-7a2e5bfeb1ef0338fb8903d5a586b28e644ab607-d9db7a52cea1042b-01
2021-11-23T06:34:39.284Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:39.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0df1b6d3886c08e97ad0304244eb948d60ddd81-d3d86ad56bf81845-01 outer:exit 2b-a0df1b6d3886c08e97ad0304244eb948d60ddd81-78fc91b2e54f1d23-01
2021-11-23T06:34:39.287Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:39.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9334487742a10624c14ae0109c81b1ba65860a3-881d5142b35cde6e-01 outer:exit 2b-a9334487742a10624c14ae0109c81b1ba65860a3-1dda0792af159d48-01
2021-11-23T06:34:39.290Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:39.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2ffe48435d3c901642c48b67c7fdf93367d965e-de0f661dc6a73672-01 outer:exit 2b-a2ffe48435d3c901642c48b67c7fdf93367d965e-e948e16e352c6754-01
2021-11-23T06:34:39.292Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:39.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f3a59737c16b875bcc91b8eca311d430b844ae0-6a22bc1e8ea3e2b2-01 outer:exit 2b-6f3a59737c16b875bcc91b8eca311d430b844ae0-490463fb288edbcb-01
2021-11-23T06:34:39.317Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (300ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.10
updated 1 package and audited 1085 packages in 5.201s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:45.406Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:45.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:45.407Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:45.408Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:45.470Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:45.595Z appoptics:patching patched crypto 
2021-11-23T06:34:45.615Z appoptics:patching patched https 
2021-11-23T06:34:45.615Z appoptics:patching patched http 
2021-11-23T06:34:45.657Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:45.657Z appoptics:patching patched fs 
2021-11-23T06:34:45.670Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v12.22.7)
2021-11-23T06:34:45.675Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-11-23T06:34:45.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ae9ad386de407562e50523c9563390a526c34bb-768e2648da99912b-01 outer:exit 2b-9ae9ad386de407562e50523c9563390a526c34bb-1d843823e7cfc657-01
2021-11-23T06:34:45.715Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:45.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-77312f26d302f22a9d42523d42f02282616879e8-b707fff25caed080-01 outer:exit 2b-77312f26d302f22a9d42523d42f02282616879e8-548beaf73b082189-01
2021-11-23T06:34:45.786Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:45.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-03d44e919256c52fba300c867bc79cc3fe34ba96-24f5b911db491da6-01 outer:exit 2b-03d44e919256c52fba300c867bc79cc3fe34ba96-e7b5688b2f8d2f8e-01
2021-11-23T06:34:45.789Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:45.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bf8377651cfc38aeade769aad7f02db28fc9d64-43a3c4cba4d55044-01 outer:exit 2b-3bf8377651cfc38aeade769aad7f02db28fc9d64-92a80b6b31d88785-01
2021-11-23T06:34:45.792Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:45.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f4cdf4b8c025ca96fdcd3e09233c24e5578b089-96770907fbb30592-01 outer:exit 2b-1f4cdf4b8c025ca96fdcd3e09233c24e5578b089-29e2082f0565126e-01
2021-11-23T06:34:45.796Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:45.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca385a8bfd5aab446427a0e077b4783d0e9df6a4-df42d6796c453b89-01 outer:exit 2b-ca385a8bfd5aab446427a0e077b4783d0e9df6a4-565a005892f2006d-01
2021-11-23T06:34:45.799Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:45.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a8db96cc29eb188bb8adf329ff5eaa6359d9dd6-7cd790bd41e0abee-01 outer:exit 2b-1a8db96cc29eb188bb8adf329ff5eaa6359d9dd6-95b873c58bb1231a-01
2021-11-23T06:34:45.802Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:45.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-6264084c78f32287d903969d62fb6c95209db748-3e8ffb55087d190a-01 outer:exit 2b-6264084c78f32287d903969d62fb6c95209db748-f72b5aa4612f6215-01
2021-11-23T06:34:45.804Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:45.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad42966da4c8c12361f640741ad13d3206f25ed9-f212ea754874cd79-01 outer:exit 2b-ad42966da4c8c12361f640741ad13d3206f25ed9-512497b467f4ee2d-01
2021-11-23T06:34:45.806Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:45.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-799d9277aa697212b9022b8e7e22e42814734699-583487d2e8e43d0e-01 outer:exit 2b-799d9277aa697212b9022b8e7e22e42814734699-ff90c126749523c1-01
2021-11-23T06:34:45.809Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:45.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cef956b7b02aa77bd9ad0ae2b8cd71429417c88-315ede8bd5b0c373-01 outer:exit 2b-5cef956b7b02aa77bd9ad0ae2b8cd71429417c88-e09e6440c0a5dc7b-01
2021-11-23T06:34:45.812Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:45.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-8289717d0704cc782ba398e60e5317879a427d55-11bed39e365853b8-01 outer:exit 2b-8289717d0704cc782ba398e60e5317879a427d55-ee56ca903e3d9ba2-01
2021-11-23T06:34:45.821Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:45.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-d261f3a3ac5faa00c597caa75b73550cca5ffbc8-ab3ba7e78458b71f-01 outer:exit 2b-d261f3a3ac5faa00c597caa75b73550cca5ffbc8-395037e0f4537598-01
2021-11-23T06:34:45.835Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:45.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-f399a00e55a6e8a67a75d6c3545333c4f4276148-a0ef7e468e9aed40-01 outer:exit 2b-f399a00e55a6e8a67a75d6c3545333c4f4276148-c0d78b9e599be869-01
2021-11-23T06:34:45.885Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:45.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-c780aac2d033e0ace984842e1bac9cf5215a6009-a16790c07b496686-01 outer:exit 2b-c780aac2d033e0ace984842e1bac9cf5215a6009-fdbda4136a834a4e-01
2021-11-23T06:34:45.889Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:45.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-af5631e07d11402f6cbceb4fb8d9f5e79e4c8221-28d00d0247f9620c-01 outer:exit 2b-af5631e07d11402f6cbceb4fb8d9f5e79e4c8221-917021ba570364b1-01
2021-11-23T06:34:45.891Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:45.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-de418a18c9e33d84a5ba95dfe20e42b3b7c38e68-27ac51f3c31e5b27-01 outer:exit 2b-de418a18c9e33d84a5ba95dfe20e42b3b7c38e68-846a1f067d0ffd18-01
2021-11-23T06:34:45.894Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:45.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-506d618661899050d8940e1cb8506574115d6b49-8bc83c9e297cc5d2-01 outer:exit 2b-506d618661899050d8940e1cb8506574115d6b49-2daef5e4b53f30ce-01
2021-11-23T06:34:45.896Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:45.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-c419dcc2dde3a0da9e4eb94099809f8f84e02110-53bec06705c15bb1-01 outer:exit 2b-c419dcc2dde3a0da9e4eb94099809f8f84e02110-502410e4b8ac9f03-01
2021-11-23T06:34:45.898Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:45.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1a28716901b9a3600b6dda6ea5de879c0a85f4f-f9c0e195929d2087-01 outer:exit 2b-c1a28716901b9a3600b6dda6ea5de879c0a85f4f-1a59527a55476cdb-01
2021-11-23T06:34:45.900Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:45.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-c99f7b5cd9c30ae671493ad8e20297dc08488183-65d542900b1f104d-01 outer:exit 2b-c99f7b5cd9c30ae671493ad8e20297dc08488183-f8ea6f3f59d9c758-01
2021-11-23T06:34:45.902Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:45.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd894641f9cd86ba23438d6ef4eb796400dbad94-18b46a5ed4bd29e7-01 outer:exit 2b-dd894641f9cd86ba23438d6ef4eb796400dbad94-e2dab7a213a64c93-01
2021-11-23T06:34:45.904Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:45.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8e2a149a3476973a4d9f02b3a2666bdfdc4c583-aee190e4dbbb7456-01 outer:exit 2b-c8e2a149a3476973a4d9f02b3a2666bdfdc4c583-f397dbb7e92113ba-01
2021-11-23T06:34:45.907Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:45.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-16f6c949902103821bae3defec8585b69fe99ddb-878e5d4b1809a63b-01 outer:exit 2b-16f6c949902103821bae3defec8585b69fe99ddb-9486ecd22ea1292d-01
2021-11-23T06:34:45.910Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:45.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-4411b1c24fa1dd7a8b7987cf9a04d69435e611bd-c6815381bb5dcd95-01 outer:exit 2b-4411b1c24fa1dd7a8b7987cf9a04d69435e611bd-7e3782824335e4c6-01
2021-11-23T06:34:45.912Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:45.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d7e5717bf9fe3232e63723a7dc40d2584440d9-73d0f99fe7dc7177-01 outer:exit 2b-e8d7e5717bf9fe3232e63723a7dc40d2584440d9-5cadd6710811b065-01
2021-11-23T06:34:45.914Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:45.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8a2b42b258f2e80b9ecb20955980b968dd9b109-6ae28848f5b2c164-01 outer:exit 2b-b8a2b42b258f2e80b9ecb20955980b968dd9b109-5de8ceb59f220441-01
2021-11-23T06:34:45.920Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:45.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb4b57978214ea2078b7ea4af358db0584209922-e6152c69bb662ccf-01 outer:exit 2b-cb4b57978214ea2078b7ea4af358db0584209922-efa763f0d303543f-01
2021-11-23T06:34:45.925Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:45.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc4c5c5ca3289a4caa86fd462a9e0586de6ad891-29902c6544aeb3c4-01 outer:exit 2b-fc4c5c5ca3289a4caa86fd462a9e0586de6ad891-f7f6492ba712967a-01
2021-11-23T06:34:45.933Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:45.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eb2a14c7ed020d8c485400dfb27e44dd692eb8f-d6a190916c64e6d8-01 outer:exit 2b-9eb2a14c7ed020d8c485400dfb27e44dd692eb8f-6ed3fd0e6e54c804-01
2021-11-23T06:34:45.940Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:45.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca3605e481d73001fe09cd206aff783cec62ba31-cc7908b7271b47e1-01 outer:exit 2b-ca3605e481d73001fe09cd206aff783cec62ba31-9dad47d1c52cecfd-01
2021-11-23T06:34:45.943Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:45.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ea039003f17a9cd75208eecd925d8db720c7e1-a2ebd3c3ada2239e-01 outer:exit 2b-e1ea039003f17a9cd75208eecd925d8db720c7e1-61a7bb98f64de936-01
2021-11-23T06:34:45.946Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:45.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-de354982c4d489b761157f3cc006e89be2a0965e-81ce0b0eb2d9f9eb-01 outer:exit 2b-de354982c4d489b761157f3cc006e89be2a0965e-93a114f81aa97cba-01
2021-11-23T06:34:45.951Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:45.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d79729f787b29d03d2db993b41abfef30515bef-8940bcfb3988cdcf-01 outer:exit 2b-2d79729f787b29d03d2db993b41abfef30515bef-13d20f754b82497f-01
2021-11-23T06:34:45.954Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:45.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3f45aeb0362993feabb15b10c230c5b5dfc58b8-4aebf2bdee765692-01 outer:exit 2b-c3f45aeb0362993feabb15b10c230c5b5dfc58b8-76138b659a84ae1a-01
2021-11-23T06:34:45.956Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:45.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-690a3dc3e7c82f77585d88a5d85ff18a0dbd0cca-3777609b3efcad24-01 outer:exit 2b-690a3dc3e7c82f77585d88a5d85ff18a0dbd0cca-3411b91b375de452-01
2021-11-23T06:34:45.958Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:45.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-14ae8b1b7f0539bc6bba678a962ca73619829eea-47d91ff7e1ac1e43-01 outer:exit 2b-14ae8b1b7f0539bc6bba678a962ca73619829eea-5fd34f6cb9e59762-01
2021-11-23T06:34:45.960Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:45.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-029f4381461906648614153aec40ae2b058bd534-dfacfbdedbff73a5-01 outer:exit 2b-029f4381461906648614153aec40ae2b058bd534-356ef2ca695a9d06-01
2021-11-23T06:34:45.962Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:45.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a7e2763065712978b3779a829c791af50ec5c55-5f753c0a2e8e0d06-01 outer:exit 2b-7a7e2763065712978b3779a829c791af50ec5c55-e59626ae23dc4e07-01
2021-11-23T06:34:45.970Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:45.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28b1e0e77dfdd33fe321504bb39e98cbe8bf7ed-5ba5090f6fcda788-01 outer:exit 2b-d28b1e0e77dfdd33fe321504bb39e98cbe8bf7ed-9502f4f08f19ead4-01
2021-11-23T06:34:45.977Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:45.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6250be542f1d75e6f003ca630dfb38af061524-fece84921207485c-01 outer:exit 2b-bc6250be542f1d75e6f003ca630dfb38af061524-c3aba8aeaf829c9e-01
2021-11-23T06:34:45.979Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:45.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4a95b8f609445588aed3296f9d02135e3cf6339-7a2173dd6c129da1-01 outer:exit 2b-b4a95b8f609445588aed3296f9d02135e3cf6339-f820f1d822bb12d1-01
2021-11-23T06:34:45.982Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:45.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-c815af2dc08151a351ce97026c37033f5363b082-2c156abb90f95b8a-01 outer:exit 2b-c815af2dc08151a351ce97026c37033f5363b082-8ed60eef9f9134fb-01
2021-11-23T06:34:45.985Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:46.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1cba0d885f4fe0d245f206f1d2d939d7c339393-a473cf91a195b1f5-01 outer:exit 2b-e1cba0d885f4fe0d245f206f1d2d939d7c339393-4e7c14237e49bc0c-01
2021-11-23T06:34:46.009Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (328ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.11
updated 1 package and audited 1085 packages in 4.006s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:50.941Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:50.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:50.942Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:50.943Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:51.005Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:51.128Z appoptics:patching patched crypto 
2021-11-23T06:34:51.146Z appoptics:patching patched https 
2021-11-23T06:34:51.146Z appoptics:patching patched http 
2021-11-23T06:34:51.193Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:51.193Z appoptics:patching patched fs 
2021-11-23T06:34:51.206Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v12.22.7)
2021-11-23T06:34:51.211Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-11-23T06:34:51.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d311021db7b93640c4a2d6c7859150456df781d-82d8eb52cfc0e346-01 outer:exit 2b-8d311021db7b93640c4a2d6c7859150456df781d-d5cd58b4a645b3ec-01
2021-11-23T06:34:51.251Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:51.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6b6d51e5f53dc539b32b51c81f5afb1e2532419-ba6e556ce1019fa9-01 outer:exit 2b-b6b6d51e5f53dc539b32b51c81f5afb1e2532419-cba3ee33caa99fb5-01
2021-11-23T06:34:51.287Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:51.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-8827590fbdb0f89bb574a15a27be8ba6bc050807-e361000f8bbd7e8d-01 outer:exit 2b-8827590fbdb0f89bb574a15a27be8ba6bc050807-17ec5d513a0ee7b3-01
2021-11-23T06:34:51.293Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:51.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2712cf6d0bd0432d0897f9ac4479d0029f609e6-3ef7471e5183edd3-01 outer:exit 2b-a2712cf6d0bd0432d0897f9ac4479d0029f609e6-3dbf30992486a108-01
2021-11-23T06:34:51.298Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:51.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-3886cec1dccfe8bf61266d60377bc6574a42cd4f-873c3346a60bcf6c-01 outer:exit 2b-3886cec1dccfe8bf61266d60377bc6574a42cd4f-f680b6f68d84211c-01
2021-11-23T06:34:51.308Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:51.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-203951284bc4ccaa7671985ae30750e8b332cafe-ff0eeaf936ff067e-01 outer:exit 2b-203951284bc4ccaa7671985ae30750e8b332cafe-602d611f86bd9397-01
2021-11-23T06:34:51.312Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:51.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72a668b8816c68c807bd8f0822c09963379d80b-0806ff2fe1a0d6b7-01 outer:exit 2b-a72a668b8816c68c807bd8f0822c09963379d80b-9271af5c027ae0df-01
2021-11-23T06:34:51.322Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:51.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-7175c439f899191609ba779d10436f4e9af4e083-e2deee56fa0442d6-01 outer:exit 2b-7175c439f899191609ba779d10436f4e9af4e083-a7b121f156e81e0d-01
2021-11-23T06:34:51.325Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:51.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ce199e2253e7a28d92223051ab259234921e9b-26f0db2b6681bb02-01 outer:exit 2b-58ce199e2253e7a28d92223051ab259234921e9b-34ca265ad1a55774-01
2021-11-23T06:34:51.332Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:51.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ae052a8f661df4b97a1f849422647e026532a9e-10efbe48f9db28a0-01 outer:exit 2b-0ae052a8f661df4b97a1f849422647e026532a9e-f379a7af144bf65d-01
2021-11-23T06:34:51.335Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:51.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aad04f377f83d8d28272a9f60002fad48dcd7f4-a128fad3e23f7393-01 outer:exit 2b-0aad04f377f83d8d28272a9f60002fad48dcd7f4-2fe6fabbd4b7e635-01
2021-11-23T06:34:51.354Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:51.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-2118b4a8ef95cb7f829252176ede3a333197d21b-c101fc12fbf2b798-01 outer:exit 2b-2118b4a8ef95cb7f829252176ede3a333197d21b-e75bbad9f0471c7d-01
2021-11-23T06:34:51.364Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:51.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d884907687b53abde9c177f4db452d46f3555b-4e6fa5dfaa84ca8c-01 outer:exit 2b-48d884907687b53abde9c177f4db452d46f3555b-4e376c0927ca4b74-01
2021-11-23T06:34:51.401Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:51.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-5328219850e168a000ffb034ecb025dcd1403f5a-6e460b1e43617b38-01 outer:exit 2b-5328219850e168a000ffb034ecb025dcd1403f5a-64e92077750db408-01
2021-11-23T06:34:51.432Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:51.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8a63cebd8347938e8acd46d6354db4dd89ddad4-a764430a7a0f6a02-01 outer:exit 2b-c8a63cebd8347938e8acd46d6354db4dd89ddad4-0f04b5a38b748e0a-01
2021-11-23T06:34:51.435Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:51.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b9ba221e15f9b3553ec40151ebf120cba95bbcf-9068808fd5b1e64b-01 outer:exit 2b-2b9ba221e15f9b3553ec40151ebf120cba95bbcf-5054dcdd7b7603a1-01
2021-11-23T06:34:51.437Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:51.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d09741c744fa19c07117818d1283af1c7bb704c-2286cad37ad27254-01 outer:exit 2b-4d09741c744fa19c07117818d1283af1c7bb704c-8d16604299381c1d-01
2021-11-23T06:34:51.440Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:51.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-493f10feb0007a2c0ac7fe8538bc8f05e73d5025-aa0562ba6bd444e5-01 outer:exit 2b-493f10feb0007a2c0ac7fe8538bc8f05e73d5025-bb45792a724f8627-01
2021-11-23T06:34:51.442Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:51.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b0e3db6eb59e1b88e789389bfc49acfa5dd6e54-d45d6479e1b1bb3c-01 outer:exit 2b-5b0e3db6eb59e1b88e789389bfc49acfa5dd6e54-9bcf86918ce537b7-01
2021-11-23T06:34:51.444Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:51.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-dce49b69149536e58180598e291d3a34c143ad78-8475ee792ad4e3be-01 outer:exit 2b-dce49b69149536e58180598e291d3a34c143ad78-d165f656435fdfb1-01
2021-11-23T06:34:51.446Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:51.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d51f0da1f89a9f49442cfcc41690ab085e17236-fafd130d19cf2bff-01 outer:exit 2b-6d51f0da1f89a9f49442cfcc41690ab085e17236-47539370777a11ba-01
2021-11-23T06:34:51.448Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:51.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4988c370ea94f85f0472aea51603de45d0e0d7b-0feab9660b5a4304-01 outer:exit 2b-d4988c370ea94f85f0472aea51603de45d0e0d7b-552277ac20ad06ef-01
2021-11-23T06:34:51.450Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:51.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e95698ad47a050599981658c7f09b3cad729597-431ab6c71829878b-01 outer:exit 2b-2e95698ad47a050599981658c7f09b3cad729597-0d4277ca2eff97e9-01
2021-11-23T06:34:51.453Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:51.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-8812fbffb1a5cd92a3efc0516ab2003822e8c67f-31a227c1d3d89343-01 outer:exit 2b-8812fbffb1a5cd92a3efc0516ab2003822e8c67f-18239676b5e4828c-01
2021-11-23T06:34:51.455Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:51.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bba384259e286827ca10dd8f16bb609115905b8-48548b5c123df2b7-01 outer:exit 2b-7bba384259e286827ca10dd8f16bb609115905b8-189a4d183650a126-01
2021-11-23T06:34:51.457Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:51.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa0ef1e53c3705c1f41161b5cb63398bb91c153a-b403c156496f6e2c-01 outer:exit 2b-fa0ef1e53c3705c1f41161b5cb63398bb91c153a-d999f75801b002b9-01
2021-11-23T06:34:51.460Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:51.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-4597adb2f28b17c9bbc0dfcc85126f4adb1d7305-4890eec5e1b4bdfc-01 outer:exit 2b-4597adb2f28b17c9bbc0dfcc85126f4adb1d7305-ef421fe26a1af80c-01
2021-11-23T06:34:51.466Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:51.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b29d638d5f00adcc39e09dc9b56385f2e2bc5f2-39f3bbb2d78bfd2b-01 outer:exit 2b-0b29d638d5f00adcc39e09dc9b56385f2e2bc5f2-f4c656a9e0e7c012-01
2021-11-23T06:34:51.472Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:51.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-e442e77e306a91417c6bb2a663b6296ad0724d95-fa59c759cf191323-01 outer:exit 2b-e442e77e306a91417c6bb2a663b6296ad0724d95-5c7fceb03ba4f9cf-01
2021-11-23T06:34:51.480Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:51.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-13bd596365c5b62502dfcf006ec8719dc1c8b5ff-b1930ef666de4adc-01 outer:exit 2b-13bd596365c5b62502dfcf006ec8719dc1c8b5ff-c6aa0e591d8b9920-01
2021-11-23T06:34:51.485Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:51.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-f88c05ccf89b734acd405d3372a14791d9e3075d-4d4e3fac9993b84f-01 outer:exit 2b-f88c05ccf89b734acd405d3372a14791d9e3075d-81fa05c152171bda-01
2021-11-23T06:34:51.488Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:51.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-83dd858a286c8dbc3678b828528dc97f6e6b447f-31b6fcbd97f9d847-01 outer:exit 2b-83dd858a286c8dbc3678b828528dc97f6e6b447f-806647da0102b01f-01
2021-11-23T06:34:51.490Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:51.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-f842be277365b840c1acbe728f97b9e044eaa398-3e58e212d20a7ee9-01 outer:exit 2b-f842be277365b840c1acbe728f97b9e044eaa398-4cac9cd8ba5f7bad-01
2021-11-23T06:34:51.496Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:51.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3aacaf080f3e177926d2ace222466d1a4543edd-6fe48799a0f4cf0e-01 outer:exit 2b-b3aacaf080f3e177926d2ace222466d1a4543edd-76798a14047fe49f-01
2021-11-23T06:34:51.498Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:51.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-358288a57c11618240287e59f1e2edfb76781703-fd93be10179d110e-01 outer:exit 2b-358288a57c11618240287e59f1e2edfb76781703-15ba367dcef5bb8b-01
2021-11-23T06:34:51.500Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:51.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-fda47d77a0d94642e26d0130c4bcfcc17d123733-963dae810c2d5033-01 outer:exit 2b-fda47d77a0d94642e26d0130c4bcfcc17d123733-6e37387d3a2dc1e3-01
2021-11-23T06:34:51.502Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:51.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d7b44190258f627286eb8cab4c413c688db012e-dd681f699f4cf8f8-01 outer:exit 2b-6d7b44190258f627286eb8cab4c413c688db012e-477d2b466388502a-01
2021-11-23T06:34:51.504Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:51.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-46ff35a4271c1ac6ac1fd8604e637395b8f16b7f-c04db1d7230529f4-01 outer:exit 2b-46ff35a4271c1ac6ac1fd8604e637395b8f16b7f-3948b5bd6973f39b-01
2021-11-23T06:34:51.506Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:51.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-9297a978291fefa8583add49f46690f2ca2b6e1f-2a84f53d71000b2e-01 outer:exit 2b-9297a978291fefa8583add49f46690f2ca2b6e1f-dcc0ac90da63c708-01
2021-11-23T06:34:51.514Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:51.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcdb1891883d85a1d9ef9070a1bac9f0f337fe5c-777f44f8589a7f93-01 outer:exit 2b-dcdb1891883d85a1d9ef9070a1bac9f0f337fe5c-4ff433ba45620ec1-01
2021-11-23T06:34:51.521Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:51.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-edc7ae7bfa2db6463223b40200dda27c18b40e84-e135d7fa4a42f76f-01 outer:exit 2b-edc7ae7bfa2db6463223b40200dda27c18b40e84-587dc192e626900d-01
2021-11-23T06:34:51.524Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:51.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-1993babbb35bf1bd6ed034030e27b860273d36b6-1ec50333547b462e-01 outer:exit 2b-1993babbb35bf1bd6ed034030e27b860273d36b6-1d2020d73d88e8f8-01
2021-11-23T06:34:51.526Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:51.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a91af1c7e8922c5cbf04e02290d20004f8fb22b-75f6c4f2f09b5a69-01 outer:exit 2b-8a91af1c7e8922c5cbf04e02290d20004f8fb22b-fb02f1d6a729481d-01
2021-11-23T06:34:51.530Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:51.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-58faebbef178da163f3455b6bfefd14095cbd29a-42e7a7c96e0faa48-01 outer:exit 2b-58faebbef178da163f3455b6bfefd14095cbd29a-c01dfd0f0190a023-01
2021-11-23T06:34:51.555Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (337ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.12
updated 1 package and audited 1085 packages in 5.169s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:34:57.627Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:34:57.628Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:34:57.628Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:34:57.628Z appoptics:debug using context provider: ace-context
2021-11-23T06:34:57.693Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:34:57.819Z appoptics:patching patched crypto 
2021-11-23T06:34:57.840Z appoptics:patching patched https 
2021-11-23T06:34:57.840Z appoptics:patching patched http 
2021-11-23T06:34:57.885Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:34:57.885Z appoptics:patching patched fs 
2021-11-23T06:34:57.898Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v12.22.7)
2021-11-23T06:34:57.903Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-11-23T06:34:57.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-30bb7eee0795d9ebc635c43008dd29f7b1491f7c-d0a54f9dccd08b23-01 outer:exit 2b-30bb7eee0795d9ebc635c43008dd29f7b1491f7c-74fd712268848404-01
2021-11-23T06:34:57.942Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:34:57.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ab56d8a996282d7e7ce512475c80eba0417741d-d834a364a86b7734-01 outer:exit 2b-8ab56d8a996282d7e7ce512475c80eba0417741d-0823a547fab746a4-01
2021-11-23T06:34:57.989Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:34:57.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b2c569ad6794a55b1592ee33a32a973439851d5-27dcc8c51647ce52-01 outer:exit 2b-2b2c569ad6794a55b1592ee33a32a973439851d5-92f93d609a5e3a0e-01
2021-11-23T06:34:57.994Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:34:57.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-f753cac93f3433a84a92a0577841d5abc799ab43-2848d51244b155c7-01 outer:exit 2b-f753cac93f3433a84a92a0577841d5abc799ab43-d87615c859ad3ca2-01
2021-11-23T06:34:57.997Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:34:58.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-862b5886f426171362a49597e22e3132949751f9-cbb1ea6a239e939d-01 outer:exit 2b-862b5886f426171362a49597e22e3132949751f9-5ff5b0ac25982832-01
2021-11-23T06:34:58.002Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:34:58.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce82941f13dff636a30a10dc4ffef77af11693a9-058f257f597141b6-01 outer:exit 2b-ce82941f13dff636a30a10dc4ffef77af11693a9-7e93d0e0dda69894-01
2021-11-23T06:34:58.005Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:34:58.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-4803bf38b838a19056e3c150dac6297ec6f5e2cd-e6887d39c1acb3a4-01 outer:exit 2b-4803bf38b838a19056e3c150dac6297ec6f5e2cd-e9ebb1cd3e456191-01
2021-11-23T06:34:58.008Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:34:58.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b67e153d775c636a22b11e665c45b203c2755aa-812c0054f9358f06-01 outer:exit 2b-8b67e153d775c636a22b11e665c45b203c2755aa-9b15721b56b82ec6-01
2021-11-23T06:34:58.010Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:34:58.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-5044822f238fc6222daf29ce89e598e980476c62-c807b046e9b897cc-01 outer:exit 2b-5044822f238fc6222daf29ce89e598e980476c62-93daccfaef645316-01
2021-11-23T06:34:58.012Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:34:58.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8c16bb67e76dfb97ddf5d0b0a4a411e59629814-c1c2dfdaf854e800-01 outer:exit 2b-c8c16bb67e76dfb97ddf5d0b0a4a411e59629814-cbc8619ca3bb5d68-01
2021-11-23T06:34:58.015Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:34:58.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-46c0897ca5c4bd78886ef6bc964eeb66af6d76f5-3e998e579155d53a-01 outer:exit 2b-46c0897ca5c4bd78886ef6bc964eeb66af6d76f5-716ff5d292073f02-01
2021-11-23T06:34:58.018Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:34:58.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0d2392d726517c31dcdd61ca423404e623296b0-925effe36e737b29-01 outer:exit 2b-e0d2392d726517c31dcdd61ca423404e623296b0-131414ccdff0195d-01
2021-11-23T06:34:58.045Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:34:58.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f4460c5ad4204f0d8b29d8016ec3c64b365d29b-20f55a9f47cc1ca3-01 outer:exit 2b-2f4460c5ad4204f0d8b29d8016ec3c64b365d29b-899b91dcc13f47e1-01
2021-11-23T06:34:58.063Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:34:58.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-409529358f016daba28ec769bb2475226e403377-f6869fa8a362f51f-01 outer:exit 2b-409529358f016daba28ec769bb2475226e403377-42babe8a364bac6a-01
2021-11-23T06:34:58.097Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:34:58.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-be4e4150c317ab7c137b798ba44c9e354c625a15-4f3a62d0820e6694-01 outer:exit 2b-be4e4150c317ab7c137b798ba44c9e354c625a15-0c35861ce44de7f1-01
2021-11-23T06:34:58.100Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:34:58.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ddf1ac2ac9079d7263fe482958350fa15339749-e620996f79ff234d-01 outer:exit 2b-8ddf1ac2ac9079d7263fe482958350fa15339749-e10f8ab09ed3fe0d-01
2021-11-23T06:34:58.102Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:34:58.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbda6897c9eccacdc6ec00431541df7a799990fa-93b9c9121e8daaf5-01 outer:exit 2b-fbda6897c9eccacdc6ec00431541df7a799990fa-b1e0008fd7aeddb9-01
2021-11-23T06:34:58.105Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:34:58.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a4a14b5aec4535dda4eb2cb1c956bdcf5ffabb-c7e17753036fdc20-01 outer:exit 2b-42a4a14b5aec4535dda4eb2cb1c956bdcf5ffabb-132a92fab788ecfd-01
2021-11-23T06:34:58.107Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:34:58.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-44d9ecfe8f125f7df0821efc10684c13fcdc341a-cc5bb3f5157e3a8e-01 outer:exit 2b-44d9ecfe8f125f7df0821efc10684c13fcdc341a-da1d1188af444ee3-01
2021-11-23T06:34:58.109Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:34:58.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e30709f63e7e74ea7ea8e0e31d0f79beee77605-4de6622f2301432c-01 outer:exit 2b-3e30709f63e7e74ea7ea8e0e31d0f79beee77605-5c7b1f36a70ee764-01
2021-11-23T06:34:58.111Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:34:58.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ce60d17df9316529836f4e8dc3882adf82debb3-d46caa16fc260e25-01 outer:exit 2b-7ce60d17df9316529836f4e8dc3882adf82debb3-4bc8a40e61e514d1-01
2021-11-23T06:34:58.113Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:34:58.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-70d1f69936dc1ef78a71cf2b4705c824f16a58cc-601a3edb6dc65674-01 outer:exit 2b-70d1f69936dc1ef78a71cf2b4705c824f16a58cc-de340ba202653b46-01
2021-11-23T06:34:58.115Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:34:58.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ae96efe4478378379070125e9a24bb55004a156-d5dae5b081950dac-01 outer:exit 2b-3ae96efe4478378379070125e9a24bb55004a156-e43ffc76aaa70825-01
2021-11-23T06:34:58.118Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:34:58.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-1068e5cc58780fecd407c8ed912c5cb75e5de141-c9bb6a0e6264ea03-01 outer:exit 2b-1068e5cc58780fecd407c8ed912c5cb75e5de141-580b64019e8ad63b-01
2021-11-23T06:34:58.121Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:34:58.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f0231c2103d6f0ed621160d73a5cf66b1559d4-a3111dc180b5a28b-01 outer:exit 2b-49f0231c2103d6f0ed621160d73a5cf66b1559d4-ec852ad882c295f5-01
2021-11-23T06:34:58.124Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:34:58.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-711166eb25f31c17bbc5089f9968cbae052e4d03-ee81d8d264e6c166-01 outer:exit 2b-711166eb25f31c17bbc5089f9968cbae052e4d03-3a1f5bd186836cb6-01
2021-11-23T06:34:58.126Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:34:58.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-c28f659fd4c91f7158fea182e02f5764876b4ae2-44bc8043be345246-01 outer:exit 2b-c28f659fd4c91f7158fea182e02f5764876b4ae2-0045e5dc67a0c0c8-01
2021-11-23T06:34:58.145Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:34:58.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6d3f992beeeb03166993c4545e438bce57992d5-432750b26fd43049-01 outer:exit 2b-e6d3f992beeeb03166993c4545e438bce57992d5-544b4fd87c17ee53-01
2021-11-23T06:34:58.165Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:34:58.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dbcd203a62352986298abebedf8554af0b7aa61-6e229b64fb934427-01 outer:exit 2b-0dbcd203a62352986298abebedf8554af0b7aa61-762b7741b95a70c6-01
2021-11-23T06:34:58.174Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:34:58.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-710b45e23dbf760f13338107b8d59aa453aebeaa-318910704bb4a20b-01 outer:exit 2b-710b45e23dbf760f13338107b8d59aa453aebeaa-619681f58f1ea2d2-01
2021-11-23T06:34:58.181Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:34:58.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b8e1eb327142c490ef042c8b59cd15717fac2dc-50a04d920bf9068f-01 outer:exit 2b-7b8e1eb327142c490ef042c8b59cd15717fac2dc-ed91b1aedac1c53d-01
2021-11-23T06:34:58.183Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:34:58.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-b94a97d9a0e91bf6cf4ce531e17bd9170faf7887-24916196aaeeecfe-01 outer:exit 2b-b94a97d9a0e91bf6cf4ce531e17bd9170faf7887-48f16f393e822245-01
2021-11-23T06:34:58.186Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:34:58.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c0143a1de84dc872bddc58ce160187923d4596d-871730826f75c51e-01 outer:exit 2b-7c0143a1de84dc872bddc58ce160187923d4596d-e05708d2bee7e1cf-01
2021-11-23T06:34:58.192Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:34:58.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee754d65fa5a3683198279d1946daf7fa3148e0f-60f5fcf9589311e9-01 outer:exit 2b-ee754d65fa5a3683198279d1946daf7fa3148e0f-2cab002a77cd7442-01
2021-11-23T06:34:58.194Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:34:58.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-148f2bc06b4ad54bee76654d2728d1db31702140-e9f70244dd4122b2-01 outer:exit 2b-148f2bc06b4ad54bee76654d2728d1db31702140-9ab1cc2609b1f6c6-01
2021-11-23T06:34:58.196Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:34:58.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-50661e434a56aef38d6d26ebb4bd457fd8b49586-7cd2ca9d04c4f94d-01 outer:exit 2b-50661e434a56aef38d6d26ebb4bd457fd8b49586-1190ad6b4f461631-01
2021-11-23T06:34:58.199Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:34:58.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-bef5aeec59253840b099cddcda9b199100ed63e2-929902f65c23c562-01 outer:exit 2b-bef5aeec59253840b099cddcda9b199100ed63e2-04c2ad01189fa24f-01
2021-11-23T06:34:58.201Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:34:58.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-00056c07f17c94fc4401a5a351455be620249ef3-672d2e8ccd7c20ac-01 outer:exit 2b-00056c07f17c94fc4401a5a351455be620249ef3-59ae8fb74e130ef7-01
2021-11-23T06:34:58.203Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:34:58.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdd5d54156de4f9ec6401840f442c466bdd6f908-30228c1b3796fb5b-01 outer:exit 2b-fdd5d54156de4f9ec6401840f442c466bdd6f908-be12938daf8cc78a-01
2021-11-23T06:34:58.213Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:34:58.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-739958d95957fbefda8f28124b1887c7eb94bc83-b33cf856e89cfffb-01 outer:exit 2b-739958d95957fbefda8f28124b1887c7eb94bc83-759469c61555894f-01
2021-11-23T06:34:58.221Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:34:58.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6b87f9910b4d1116c5514c4eeac0b37e60871c6-15d36eef55f44d0f-01 outer:exit 2b-f6b87f9910b4d1116c5514c4eeac0b37e60871c6-5274acd93f3682bc-01
2021-11-23T06:34:58.224Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:34:58.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-d91b17ab71d61505b71c2feeee51c895e3f33287-699c070bdf405964-01 outer:exit 2b-d91b17ab71d61505b71c2feeee51c895e3f33287-769dacc23639ddd8-01
2021-11-23T06:34:58.227Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:34:58.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-515a383080d87325f6d86b780aefdb14c77d5a0c-2704ae4f7edbd36c-01 outer:exit 2b-515a383080d87325f6d86b780aefdb14c77d5a0c-480f8d667812529b-01
2021-11-23T06:34:58.242Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:34:58.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-48067ad9afcab0a6514d234e7d4ceb6fef0ccab8-33251633844ddfd8-01 outer:exit 2b-48067ad9afcab0a6514d234e7d4ceb6fef0ccab8-e9b298ee5df19943-01
2021-11-23T06:34:58.267Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (358ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.13
updated 1 package and audited 1085 packages in 4.179s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:03.354Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:03.355Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:03.355Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:03.355Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:03.416Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:03.540Z appoptics:patching patched crypto 
2021-11-23T06:35:03.555Z appoptics:patching patched https 
2021-11-23T06:35:03.556Z appoptics:patching patched http 
2021-11-23T06:35:03.599Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:03.599Z appoptics:patching patched fs 
2021-11-23T06:35:03.612Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v12.22.7)
2021-11-23T06:35:03.617Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-11-23T06:35:03.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-17af1e084cace81404ef38ced7a9f0d631d9a3a4-a60ca3df996225d3-01 outer:exit 2b-17af1e084cace81404ef38ced7a9f0d631d9a3a4-1ebdabd165321a67-01
2021-11-23T06:35:03.656Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:03.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ab5a4551e91f0d62ba172f45e2c5ac957bfd682-9d338d8bedc44e6c-01 outer:exit 2b-1ab5a4551e91f0d62ba172f45e2c5ac957bfd682-2de25931d2db06d6-01
2021-11-23T06:35:03.687Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:03.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa7be93a6a8deeaeb21dfbcaa7b80df2f7edd929-88832320736e471c-01 outer:exit 2b-aa7be93a6a8deeaeb21dfbcaa7b80df2f7edd929-f7d505ceb2eaa596-01
2021-11-23T06:35:03.690Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:03.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-bacda72bfb623898adcdc908b744cd277c9b9783-e419bcda9da61bd5-01 outer:exit 2b-bacda72bfb623898adcdc908b744cd277c9b9783-09bc3c50b0747c55-01
2021-11-23T06:35:03.693Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:03.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-864cea1e68d1dc8b698609af121297bbd96a5e44-5e509877d647440c-01 outer:exit 2b-864cea1e68d1dc8b698609af121297bbd96a5e44-80bc605fc94e7372-01
2021-11-23T06:35:03.697Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:03.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-81df536973277e8e135e3459460a6b36f81097c0-d2947836df7758bc-01 outer:exit 2b-81df536973277e8e135e3459460a6b36f81097c0-9233ecb97efe84fe-01
2021-11-23T06:35:03.700Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:03.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-70897893903629c43d7d2ccac3ac9690d8687f64-c3a1dc122fa090a4-01 outer:exit 2b-70897893903629c43d7d2ccac3ac9690d8687f64-cd15bcb8d6614a4a-01
2021-11-23T06:35:03.702Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:03.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-da7531b0eb9d73bf2f2901b37b874a6ebda025ec-f6f6b7bf6515861b-01 outer:exit 2b-da7531b0eb9d73bf2f2901b37b874a6ebda025ec-cb8082037b739b9f-01
2021-11-23T06:35:03.704Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:03.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-30be56ca9546b6efb469f1bdcc4f55f7e53c33db-fd01ed862d451ece-01 outer:exit 2b-30be56ca9546b6efb469f1bdcc4f55f7e53c33db-67d4761d13fb6771-01
2021-11-23T06:35:03.707Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:03.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-9be9fe9eb67a6ddcd327d86150832eb4a12fb807-91a73567482dd681-01 outer:exit 2b-9be9fe9eb67a6ddcd327d86150832eb4a12fb807-16a27ff11cc7d01a-01
2021-11-23T06:35:03.709Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:03.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a133de91ac72c0fe0aac6e3e23f8dcb1834311c-2cdabbce681d23bb-01 outer:exit 2b-6a133de91ac72c0fe0aac6e3e23f8dcb1834311c-d242df1ff0958e74-01
2021-11-23T06:35:03.713Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:03.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-179a07208b6032a35591c5a29f3f7163e90f3afd-aa7c757c81873a90-01 outer:exit 2b-179a07208b6032a35591c5a29f3f7163e90f3afd-d6417338b6b19348-01
2021-11-23T06:35:03.723Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:03.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cfd0ca1f27bbebbf10a9c587b1e19094bb18720-75811b9d83cc5437-01 outer:exit 2b-2cfd0ca1f27bbebbf10a9c587b1e19094bb18720-f479b8a7fc977b1c-01
2021-11-23T06:35:03.738Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:03.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-676e18f7855c5afc969abc009840e851cf74a333-6f6a0d205461dddc-01 outer:exit 2b-676e18f7855c5afc969abc009840e851cf74a333-b5348b4c659f05e8-01
2021-11-23T06:35:03.786Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:03.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddc7b92f7c4a82bd98d82e5709af6ed0588bffeb-1354a8132b3ee08a-01 outer:exit 2b-ddc7b92f7c4a82bd98d82e5709af6ed0588bffeb-f190f3066091673f-01
2021-11-23T06:35:03.789Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:03.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fb35c6c743a6ed7a2e8c000f4283eaa1becefc5-d4fd6084e68d8864-01 outer:exit 2b-0fb35c6c743a6ed7a2e8c000f4283eaa1becefc5-1ef679c02900b711-01
2021-11-23T06:35:03.792Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:03.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb464463e5aaba584d0a1c774b3baffd1c4c25a9-afcfcbeb2e3d9f10-01 outer:exit 2b-bb464463e5aaba584d0a1c774b3baffd1c4c25a9-c0cc91e8f24bee25-01
2021-11-23T06:35:03.794Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:03.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f7f2e630977343d5b4ff320accaaf903cea490-8b975ff5afc9725d-01 outer:exit 2b-c5f7f2e630977343d5b4ff320accaaf903cea490-545420443e70457e-01
2021-11-23T06:35:03.796Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:03.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b8ae8ccd2cf47c6e63d7f8adcfa23e39047045f-2d1deef9160c0662-01 outer:exit 2b-7b8ae8ccd2cf47c6e63d7f8adcfa23e39047045f-3d1cc49164977031-01
2021-11-23T06:35:03.798Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:03.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-775b0205a2096efc1ed09ad417357708dd1fb1dc-d03b34359de0e6c0-01 outer:exit 2b-775b0205a2096efc1ed09ad417357708dd1fb1dc-47c05873fb0de055-01
2021-11-23T06:35:03.800Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:03.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-5793378df9d70b957686976eee67a296b7c6e56c-b3b404eec4ed4174-01 outer:exit 2b-5793378df9d70b957686976eee67a296b7c6e56c-fb41a8db6a81ec2b-01
2021-11-23T06:35:03.802Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:03.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-81583aaa86fbc8f47f5766d06d7b8728fa383f29-bba5b8f29e94314e-01 outer:exit 2b-81583aaa86fbc8f47f5766d06d7b8728fa383f29-509770f1c68fc92d-01
2021-11-23T06:35:03.804Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:03.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-b826e0f99c002fd3a4fbaad78c9fa43f7c264d53-35c02c36518745b6-01 outer:exit 2b-b826e0f99c002fd3a4fbaad78c9fa43f7c264d53-38eae79dca41d624-01
2021-11-23T06:35:03.807Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:03.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0178da5e41b50ba367f3ca0a2d60f8bb18cebfb-3d16a1fd04fa7608-01 outer:exit 2b-d0178da5e41b50ba367f3ca0a2d60f8bb18cebfb-300832a4796fe6ef-01
2021-11-23T06:35:03.810Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:03.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-837dcfde0262a50a67feb6b21ef9faa618806751-1e3adac5875e5a3f-01 outer:exit 2b-837dcfde0262a50a67feb6b21ef9faa618806751-c8c14f4efb5f6c60-01
2021-11-23T06:35:03.812Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:03.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e7b3efa97d6e847aaff731d8d576e6d4792b66d-003ec7805590d796-01 outer:exit 2b-5e7b3efa97d6e847aaff731d8d576e6d4792b66d-5012407f5b9dc2e1-01
2021-11-23T06:35:03.815Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:03.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-99dcb3444d6e48181d7342a0a757ea861440f2f7-1dc83c2dfa4c318b-01 outer:exit 2b-99dcb3444d6e48181d7342a0a757ea861440f2f7-8e506b7e733cc032-01
2021-11-23T06:35:03.822Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:03.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-197ec2d770385058f143c3cb3016ec3fead08bc6-a8c84371249c510f-01 outer:exit 2b-197ec2d770385058f143c3cb3016ec3fead08bc6-2a78f7d67e7f9fe0-01
2021-11-23T06:35:03.827Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:03.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-68abfa2bfffc04247c04ae026b6bf3db8e4abd77-2a5e3214c7aaa0f7-01 outer:exit 2b-68abfa2bfffc04247c04ae026b6bf3db8e4abd77-81fd7394462dd9dc-01
2021-11-23T06:35:03.835Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:03.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6d3a509496cd434abc8b0c07ecdd31290ecf13b-4e304f427bd585bc-01 outer:exit 2b-f6d3a509496cd434abc8b0c07ecdd31290ecf13b-8ff216bd581a5296-01
2021-11-23T06:35:03.840Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:03.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ab37319e130d7e7a59b336d8dd55197c9dd419-db607407261a1224-01 outer:exit 2b-09ab37319e130d7e7a59b336d8dd55197c9dd419-44663947c674ae70-01
2021-11-23T06:35:03.842Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:03.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe0aaa6cc2f44ec4745aee5833c5315b0a143b14-1b2c678bfff91ad6-01 outer:exit 2b-fe0aaa6cc2f44ec4745aee5833c5315b0a143b14-2d289cd28029d149-01
2021-11-23T06:35:03.845Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:03.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f8f475fa68e7a2d42816af7292b5add15e7c65-25a49e383dd36655-01 outer:exit 2b-87f8f475fa68e7a2d42816af7292b5add15e7c65-5023f716f850989b-01
2021-11-23T06:35:03.851Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:03.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-89b188d6a78f089bf12005b4e1fa7d8af6dd9194-79392130523c13b8-01 outer:exit 2b-89b188d6a78f089bf12005b4e1fa7d8af6dd9194-5b3514535abc5e03-01
2021-11-23T06:35:03.853Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:03.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2991d39e38b3ad6c591b2fd9c0de7ca192850a2-1f7239805ca8b6a4-01 outer:exit 2b-f2991d39e38b3ad6c591b2fd9c0de7ca192850a2-4777acf6344a6ac0-01
2021-11-23T06:35:03.855Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:03.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc9c97189c3b096cb0f8d7b719bb8258042fedd8-6b791b4bb4f3def2-01 outer:exit 2b-dc9c97189c3b096cb0f8d7b719bb8258042fedd8-257f5a8ca0e5168c-01
2021-11-23T06:35:03.857Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:03.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c0b661317b31a18c7b7f5412c7bf4408579848a-02f7e17794384ca7-01 outer:exit 2b-2c0b661317b31a18c7b7f5412c7bf4408579848a-eb64d5461e89a513-01
2021-11-23T06:35:03.859Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:03.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91e48eccbcf46c5b72a073dfcd3548a06a894c6-eb2d99f74966cb52-01 outer:exit 2b-b91e48eccbcf46c5b72a073dfcd3548a06a894c6-1cc6f8f0c6671175-01
2021-11-23T06:35:03.861Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:03.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-8923c561729a72e453b69ca18e0dc629cfa0b3f3-d3cc9fafa4bd0cdd-01 outer:exit 2b-8923c561729a72e453b69ca18e0dc629cfa0b3f3-7b7bb95d6da687e3-01
2021-11-23T06:35:03.870Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:03.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6598c29eaed569151d98cc08ccdd7db4bf68ad3-15a1bb62c7ca1795-01 outer:exit 2b-c6598c29eaed569151d98cc08ccdd7db4bf68ad3-58ec12933344473a-01
2021-11-23T06:35:03.877Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:03.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-809f0a75cfbc5c2b3ef0aa0e82a398194ce60443-3317a57da82b418c-01 outer:exit 2b-809f0a75cfbc5c2b3ef0aa0e82a398194ce60443-62d7a7d37b8eebff-01
2021-11-23T06:35:03.880Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:03.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a7ddabea7bee721c4ecf60750cdab3bb91083b-7461485909c007d3-01 outer:exit 2b-77a7ddabea7bee721c4ecf60750cdab3bb91083b-5d19f011cd68d7ec-01
2021-11-23T06:35:03.882Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:03.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7fe217e989322f3c4550d917764943963154652-8ce2c6f2fde26c2b-01 outer:exit 2b-c7fe217e989322f3c4550d917764943963154652-9ab2ad344122d51f-01
2021-11-23T06:35:03.885Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:03.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe877bf843c961cff67c9a4fa2d34b40c324a6bf-e359fa1708e1d0c3-01 outer:exit 2b-fe877bf843c961cff67c9a4fa2d34b40c324a6bf-63d16d2c282fb130-01
2021-11-23T06:35:03.909Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (285ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.14
updated 1 package and audited 1085 packages in 4.747s

80 packages are looking for funding
  run `npm fund` for details

found 30 vulnerabilities (13 moderate, 14 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:09.574Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:09.575Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:09.575Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:09.575Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:09.636Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:09.759Z appoptics:patching patched crypto 
2021-11-23T06:35:09.776Z appoptics:patching patched https 
2021-11-23T06:35:09.776Z appoptics:patching patched http 
2021-11-23T06:35:09.815Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:09.815Z appoptics:patching patched fs 
2021-11-23T06:35:09.828Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v12.22.7)
2021-11-23T06:35:09.833Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-11-23T06:35:09.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-a14c18d30faa58fc3c696f97e534d5d208088c69-bf3359af334308ba-01 outer:exit 2b-a14c18d30faa58fc3c696f97e534d5d208088c69-5e046b85414e47bc-01
2021-11-23T06:35:09.872Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:09.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-119172e55cb73c4f86f21c2dee002a152aa67cbc-b9b6d96a8be957ec-01 outer:exit 2b-119172e55cb73c4f86f21c2dee002a152aa67cbc-0264875de8532f39-01
2021-11-23T06:35:09.942Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:09.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-55077b0d28f7dddca0680f3b49fc5c531cae5302-ece4e4e1253d1e5b-01 outer:exit 2b-55077b0d28f7dddca0680f3b49fc5c531cae5302-14d829386682ee36-01
2021-11-23T06:35:09.945Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:09.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-44cc638c0fc3294a60c383a16668ece3b4d173f0-e33856305a4a9089-01 outer:exit 2b-44cc638c0fc3294a60c383a16668ece3b4d173f0-b180659bd8f6e2e4-01
2021-11-23T06:35:09.948Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:09.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f1f569497322652e78f86b13f00c0b7b2eb11e2-5961ab40ffd05872-01 outer:exit 2b-9f1f569497322652e78f86b13f00c0b7b2eb11e2-2955e2c345c59fe1-01
2021-11-23T06:35:09.952Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:09.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-957a89b2a6ce9f903decf635b550f92657b6ecbf-701c3c0317d04001-01 outer:exit 2b-957a89b2a6ce9f903decf635b550f92657b6ecbf-02a6333f936302a5-01
2021-11-23T06:35:09.955Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:09.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-166b12cecda545e78ab55defbabd1c5fe9ee3f9e-cf9f951654e49791-01 outer:exit 2b-166b12cecda545e78ab55defbabd1c5fe9ee3f9e-612e9645db2c0130-01
2021-11-23T06:35:09.958Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:09.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a71d9fc294ed313413be10e48a243a2b3277024-be15a66375dcdc1b-01 outer:exit 2b-9a71d9fc294ed313413be10e48a243a2b3277024-ba43d5b7d84848e4-01
2021-11-23T06:35:09.960Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:09.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cebd062f6bd454d96e4b95810870eb93cbe6efb-fb8be6d564a3cc71-01 outer:exit 2b-1cebd062f6bd454d96e4b95810870eb93cbe6efb-ccc2d679993a5e65-01
2021-11-23T06:35:09.962Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:09.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f1b7a064417081ac28ffe8a2a54c36b30a66a9-cfc6fef1113d77ea-01 outer:exit 2b-17f1b7a064417081ac28ffe8a2a54c36b30a66a9-cd825d035a024edc-01
2021-11-23T06:35:09.965Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:09.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-f81a07d006b8bc65794e15d1f6ab7a39e6955b20-765c023d699c0073-01 outer:exit 2b-f81a07d006b8bc65794e15d1f6ab7a39e6955b20-c444df76c6758e35-01
2021-11-23T06:35:09.969Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:09.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bd890a6a991fae860942f68f8265ba32625f88a-21d073ff9c414154-01 outer:exit 2b-0bd890a6a991fae860942f68f8265ba32625f88a-9fcdd84191c019a0-01
2021-11-23T06:35:09.975Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:09.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbf03618c439f0f5ab5296669a010316d2320e08-fc351af7d5c7339c-01 outer:exit 2b-cbf03618c439f0f5ab5296669a010316d2320e08-28b913d629bed0c7-01
2021-11-23T06:35:09.993Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:10.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-c33e790cadd157948c1b528e5c1daf54b7977f3d-8089f5b3a5168096-01 outer:exit 2b-c33e790cadd157948c1b528e5c1daf54b7977f3d-6d83152e0a3503f0-01
2021-11-23T06:35:10.040Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:10.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd9fffa71182da8b12e612fde01399df44a85b2-410e0e12c94738e0-01 outer:exit 2b-6dd9fffa71182da8b12e612fde01399df44a85b2-54f06b58e1df9f4d-01
2021-11-23T06:35:10.043Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:10.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-867d3d283b74d849343791bd81295b219a98df66-4a41e9220fc90fc0-01 outer:exit 2b-867d3d283b74d849343791bd81295b219a98df66-42dc7cfafdbb01f1-01
2021-11-23T06:35:10.045Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:10.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7e020c1c6175cb785ada2d9af0b03274648d323-b183a2866eeac7e8-01 outer:exit 2b-e7e020c1c6175cb785ada2d9af0b03274648d323-aa52c5f437f53204-01
2021-11-23T06:35:10.048Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:10.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef5bb185ff278d3e501cf1b83a9154bd4b916f3-7764551b8fae5fcc-01 outer:exit 2b-3ef5bb185ff278d3e501cf1b83a9154bd4b916f3-966c29fde39624ac-01
2021-11-23T06:35:10.050Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:10.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eeab989f4dd88f12904208575e43713cd0b0192-ccfcc4c05610528c-01 outer:exit 2b-6eeab989f4dd88f12904208575e43713cd0b0192-fa77b0b4c9aff322-01
2021-11-23T06:35:10.052Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:10.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-72723cee6151d4d44b2d4c26ecfbf9b0b22e865c-94e8f5e7a11468eb-01 outer:exit 2b-72723cee6151d4d44b2d4c26ecfbf9b0b22e865c-f1de8cb5e046488d-01
2021-11-23T06:35:10.054Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:10.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-342044e6715606167f6c2e313b1bfb7eb4e56ed3-e3d93aa1a5e0a839-01 outer:exit 2b-342044e6715606167f6c2e313b1bfb7eb4e56ed3-9604fadf13ffe8a8-01
2021-11-23T06:35:10.056Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:10.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-51700830dbc10aaf3e976a809202f8eeea816dfb-d4d33c7d1a4673f5-01 outer:exit 2b-51700830dbc10aaf3e976a809202f8eeea816dfb-3e3d149e25a8c721-01
2021-11-23T06:35:10.058Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:10.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-20e81f594d26d017d7a86586104ce8290767ae8f-7837587bc3ff9ec6-01 outer:exit 2b-20e81f594d26d017d7a86586104ce8290767ae8f-9b8c296579aaf790-01
2021-11-23T06:35:10.064Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:10.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6f72021466fedb0a11634c4350d20526a77a3bc-fa750dcf0e3215b7-01 outer:exit 2b-e6f72021466fedb0a11634c4350d20526a77a3bc-ee311d9207f9bc0e-01
2021-11-23T06:35:10.069Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:10.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba2201c5331083a474970e500d20828d261daff1-b77e9f0c7d05fdd9-01 outer:exit 2b-ba2201c5331083a474970e500d20828d261daff1-81febab02aa639aa-01
2021-11-23T06:35:10.072Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:10.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-a950c82e72c983a6b8726abf648290efe1d5fdcf-ae189f45c0ed69c5-01 outer:exit 2b-a950c82e72c983a6b8726abf648290efe1d5fdcf-5e8359f72d170922-01
2021-11-23T06:35:10.079Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:10.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-b11d1f61a083f452cbcac3b080552f5e848310e8-0183330108b14d64-01 outer:exit 2b-b11d1f61a083f452cbcac3b080552f5e848310e8-c087301fd49ce7c9-01
2021-11-23T06:35:10.095Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:10.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a96a2071f0df1509ff5571ac1dfebc9a163e5fd-72d912f07f70b5e0-01 outer:exit 2b-9a96a2071f0df1509ff5571ac1dfebc9a163e5fd-1339e61ad13077ba-01
2021-11-23T06:35:10.099Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:10.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f6ab5d55bd4b28d93f0d96b545f96c177d1453f-319b68ae9a54e5a5-01 outer:exit 2b-6f6ab5d55bd4b28d93f0d96b545f96c177d1453f-60c70b2f5c07ad56-01
2021-11-23T06:35:10.117Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:10.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f2c8dd7558618bd2417190aacaf83eaaac3d968-c83a7dec1544c0e7-01 outer:exit 2b-4f2c8dd7558618bd2417190aacaf83eaaac3d968-5b4bf8193bf8b45f-01
2021-11-23T06:35:10.123Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:10.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-689ae7b7364d3b5cd0dfb8f73a5c7d2a26b996b0-1596174ba86ceb98-01 outer:exit 2b-689ae7b7364d3b5cd0dfb8f73a5c7d2a26b996b0-c8a689f30ac007c9-01
2021-11-23T06:35:10.125Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:10.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-adbf6ce7dd9f600e9f9b0ce61faa7f0336012854-ca2e07a2e1c9f144-01 outer:exit 2b-adbf6ce7dd9f600e9f9b0ce61faa7f0336012854-0980ec9ca7c47347-01
2021-11-23T06:35:10.128Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:10.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f328cfc00e59bb3a41c067b6aac3ef2b6b9f125-25a48b58a89d7169-01 outer:exit 2b-9f328cfc00e59bb3a41c067b6aac3ef2b6b9f125-047ae80fc71736fa-01
2021-11-23T06:35:10.134Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:10.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-e68dac5363b9a4368f81210af4dae9bc71e27d1b-56b2f1baf5d3b842-01 outer:exit 2b-e68dac5363b9a4368f81210af4dae9bc71e27d1b-2ac5e1960f378f2f-01
2021-11-23T06:35:10.136Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:10.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b5264effde4b3059ad5a9c1d3ee0990d4772ceb-6119e16173b9c902-01 outer:exit 2b-1b5264effde4b3059ad5a9c1d3ee0990d4772ceb-6a3ae631915545ad-01
2021-11-23T06:35:10.138Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:10.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b687a323103c2e03f51cdd42dd41187deb4b8fd-fddf162657d56076-01 outer:exit 2b-2b687a323103c2e03f51cdd42dd41187deb4b8fd-674285d93a14063e-01
2021-11-23T06:35:10.141Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:10.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb836097044314449a59b6bce98e439bcbf72cda-19bfdbcccc1084dc-01 outer:exit 2b-cb836097044314449a59b6bce98e439bcbf72cda-2e381c558d30b0cf-01
2021-11-23T06:35:10.144Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:10.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-72b460e96c60d87c68636130cf9866af9fff7cd7-5fb8c1c618a71b5b-01 outer:exit 2b-72b460e96c60d87c68636130cf9866af9fff7cd7-b7557e34a658f3ee-01
2021-11-23T06:35:10.148Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:10.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-b92f24fbd4e3b725f751886b14bc5d9311f71cc8-d673c15d3ee59bb0-01 outer:exit 2b-b92f24fbd4e3b725f751886b14bc5d9311f71cc8-aab164a617f9fbc6-01
2021-11-23T06:35:10.157Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:10.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-72991c077b7e7e4fe589e462c935067b1044043a-c2954fa39d50687a-01 outer:exit 2b-72991c077b7e7e4fe589e462c935067b1044043a-3ced8d238a17ac55-01
2021-11-23T06:35:10.166Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:10.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d8a7eb9137a48a64d42ed3ce94b5909480cdfd-64a828104b32955b-01 outer:exit 2b-f7d8a7eb9137a48a64d42ed3ce94b5909480cdfd-116fbd9130d76dc8-01
2021-11-23T06:35:10.169Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:10.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ea412b533bd578865135dd615206e2ee4e42f0-50871362da264d8f-01 outer:exit 2b-09ea412b533bd578865135dd615206e2ee4e42f0-351bfd8aa48bb78c-01
2021-11-23T06:35:10.172Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:10.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7134051d5cb13b87a65f159e1d1dc8c5a81b3c1-f9ed6a98f49b1cf1-01 outer:exit 2b-a7134051d5cb13b87a65f159e1d1dc8c5a81b3c1-4f0b5f018ff10c55-01
2021-11-23T06:35:10.175Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:10.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-b557036a91f0eb67395812eea16ad57a35c5ef96-c540548d877278a9-01 outer:exit 2b-b557036a91f0eb67395812eea16ad57a35c5ef96-0646fadd999deb15-01
2021-11-23T06:35:10.204Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (366ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.0
updated 2 packages and audited 1085 packages in 4.764s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:15.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:15.887Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:15.887Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:15.887Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:15.948Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:16.079Z appoptics:patching patched crypto 
2021-11-23T06:35:16.095Z appoptics:patching patched https 
2021-11-23T06:35:16.095Z appoptics:patching patched http 
2021-11-23T06:35:16.134Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:16.135Z appoptics:patching patched fs 
2021-11-23T06:35:16.158Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v12.22.7)
2021-11-23T06:35:16.163Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-11-23T06:35:16.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5c86b3e3da7ec1223fee3199c7d242980c30de4-922b47fa0a53aaa1-01 outer:exit 2b-b5c86b3e3da7ec1223fee3199c7d242980c30de4-348df7b6dd2e74c5-01
2021-11-23T06:35:16.203Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:16.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-35db6b9ce0be86daa52c59e4e040f25c961fafd2-ff4c22b043bc2160-01 outer:exit 2b-35db6b9ce0be86daa52c59e4e040f25c961fafd2-80d0004c8a0a5db9-01
2021-11-23T06:35:16.240Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:16.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed659b3fd03e136a5e408ca13aaae98bab3c0325-ba42cdb9e9625a48-01 outer:exit 2b-ed659b3fd03e136a5e408ca13aaae98bab3c0325-385aa6e91577002f-01
2021-11-23T06:35:16.244Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:16.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd2873807f3873a62b96f1c4d0ba5fb8dfb7b6fc-86d9c9be5d7a14d0-01 outer:exit 2b-dd2873807f3873a62b96f1c4d0ba5fb8dfb7b6fc-8d65d47416381089-01
2021-11-23T06:35:16.247Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:16.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e37e61be8620a56fb5be4c9b1480dad8d01fabd-16fe57b5a9e5625e-01 outer:exit 2b-4e37e61be8620a56fb5be4c9b1480dad8d01fabd-36cd349458a45b4c-01
2021-11-23T06:35:16.251Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:16.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7476870c4644c603c31d6d517b8097cc0c1b9f1-e799f46a2f1fc430-01 outer:exit 2b-a7476870c4644c603c31d6d517b8097cc0c1b9f1-4dda99682a8673c4-01
2021-11-23T06:35:16.254Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:16.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e2776596fe9f96b4867cff9f52fed7db6809668-3b9f4da820a2abd8-01 outer:exit 2b-6e2776596fe9f96b4867cff9f52fed7db6809668-3878492bedf0bd72-01
2021-11-23T06:35:16.256Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:16.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c239a56a9270ae7609ccda7856787b60ec53b67-30d167efe7ab8608-01 outer:exit 2b-4c239a56a9270ae7609ccda7856787b60ec53b67-441cf00d91a634f0-01
2021-11-23T06:35:16.259Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:16.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd2f6561ee2768f6aa3c48a9e31cac9e08f5a222-cbb25e166c224e2d-01 outer:exit 2b-bd2f6561ee2768f6aa3c48a9e31cac9e08f5a222-beb980dd7adf76e3-01
2021-11-23T06:35:16.264Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:16.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b620c193be5e5f2d642cbac4ac63e228d644f46-b1acdfef21615f1e-01 outer:exit 2b-6b620c193be5e5f2d642cbac4ac63e228d644f46-5c9d7b3bdf771dcd-01
2021-11-23T06:35:16.267Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:16.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6299a36d0a2f88e939987c790cb40b207bae4ce-9e6587bae3842da8-01 outer:exit 2b-c6299a36d0a2f88e939987c790cb40b207bae4ce-992c086a9d4f5c36-01
2021-11-23T06:35:16.270Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:16.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e3d6a80aeff24241d1cd228a1c6945c62a3076a-6b197fc4e1694158-01 outer:exit 2b-9e3d6a80aeff24241d1cd228a1c6945c62a3076a-6b52c7a19b6b508f-01
2021-11-23T06:35:16.276Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:16.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f329e2c139acef0e44522f92854be01cd92d7cb-341587d26e8ac449-01 outer:exit 2b-3f329e2c139acef0e44522f92854be01cd92d7cb-a84237a53aa79063-01
2021-11-23T06:35:16.291Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:16.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4e882af86f09322fe80a6339bd2611ff2baa6ca-2879049f77541a6d-01 outer:exit 2b-e4e882af86f09322fe80a6339bd2611ff2baa6ca-35c6ae13a0cf2dcc-01
2021-11-23T06:35:16.340Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:16.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-900022db03890aabad75ea4ed36819376806ec63-fde55f37699379c9-01 outer:exit 2b-900022db03890aabad75ea4ed36819376806ec63-eceb74aa1f68b6f1-01
2021-11-23T06:35:16.344Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:16.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f3426985491528e9db2e80dace48865f1cd3dd7-a7e607782ce92644-01 outer:exit 2b-0f3426985491528e9db2e80dace48865f1cd3dd7-bee7f6a53d3222ef-01
2021-11-23T06:35:16.346Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:16.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-567c64127645cbe33b00ef86e63119ce0a8e051d-87dbf545119b4ef1-01 outer:exit 2b-567c64127645cbe33b00ef86e63119ce0a8e051d-cd57d7e90a7da41f-01
2021-11-23T06:35:16.349Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:16.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5496b326c14d231eab4caf203b9f2788119d727-a638a96249ea0618-01 outer:exit 2b-b5496b326c14d231eab4caf203b9f2788119d727-3069e402ee4ab827-01
2021-11-23T06:35:16.351Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:16.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ad4cfa05b76a194345593b49c35c03e2e2594b4-1a5cf9908933480e-01 outer:exit 2b-4ad4cfa05b76a194345593b49c35c03e2e2594b4-5be8cd59ba573996-01
2021-11-23T06:35:16.353Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:16.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-b16476c39bfbfb35244f59e4da2f2ec5f54f5b22-af63979d2ca960c4-01 outer:exit 2b-b16476c39bfbfb35244f59e4da2f2ec5f54f5b22-6690e45fc41f49ee-01
2021-11-23T06:35:16.355Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:16.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-43451c9c72d9855b82c7bb8ac4ea0eee4cc96646-948751ad38b79e01-01 outer:exit 2b-43451c9c72d9855b82c7bb8ac4ea0eee4cc96646-779c5df90e7d2e5b-01
2021-11-23T06:35:16.357Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:16.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-00724a51dcf25d1875e5f8f7387d034d74189ac5-72464c31a4c120e8-01 outer:exit 2b-00724a51dcf25d1875e5f8f7387d034d74189ac5-339194812ede82e3-01
2021-11-23T06:35:16.359Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:16.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-e37ac18c4d06b685c5aaeec00aeae928c5ad702b-93cd8e6f5ea93380-01 outer:exit 2b-e37ac18c4d06b685c5aaeec00aeae928c5ad702b-08f0c03615c14e79-01
2021-11-23T06:35:16.362Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:16.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-c70bf3a59d9b50c8464c31703fecf4a19c470898-877742e267e63ca9-01 outer:exit 2b-c70bf3a59d9b50c8464c31703fecf4a19c470898-a112a9ae978c3349-01
2021-11-23T06:35:16.365Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:16.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-e45a49ba6c7273b382b07ddf51495292f786ef3d-b5040aebb7e6af92-01 outer:exit 2b-e45a49ba6c7273b382b07ddf51495292f786ef3d-294167d7e4366a13-01
2021-11-23T06:35:16.367Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:16.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e509a878067009daabb0235211fc87c807e29e3-e5b7d6fb7d6f0fd9-01 outer:exit 2b-7e509a878067009daabb0235211fc87c807e29e3-24b79c2259a61eff-01
2021-11-23T06:35:16.369Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:16.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e599512f57f7e95bdfa0cd0bae441df962765b2-c78a8c746acdd904-01 outer:exit 2b-7e599512f57f7e95bdfa0cd0bae441df962765b2-f9f2d2bc89fb77b7-01
2021-11-23T06:35:16.377Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:16.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c17f2fc4fd1252c618fce0e391ed17f502a9bf4-ecfbc37b43e9357c-01 outer:exit 2b-8c17f2fc4fd1252c618fce0e391ed17f502a9bf4-9faccebe6bfd4e7a-01
2021-11-23T06:35:16.381Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:16.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7520a42e80436ff2396aa9f7d725718f890d057-9e5f4e9834a8ea8a-01 outer:exit 2b-e7520a42e80436ff2396aa9f7d725718f890d057-f19bfc6d0c8874cb-01
2021-11-23T06:35:16.389Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:16.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-db8538c1f73bbb0a5e69ec4edf43a40a5da57a54-91700235900dc71c-01 outer:exit 2b-db8538c1f73bbb0a5e69ec4edf43a40a5da57a54-490ef3a8dcc3e213-01
2021-11-23T06:35:16.394Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:16.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-002ce6520029fab4abcdd8fad173e12502c1d77d-5d9d5d4cfdc4fdc8-01 outer:exit 2b-002ce6520029fab4abcdd8fad173e12502c1d77d-a976a7272918cb37-01
2021-11-23T06:35:16.396Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:16.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-05d949158a39b936265e918e1f5bab8660920669-a1a249ed315f9d75-01 outer:exit 2b-05d949158a39b936265e918e1f5bab8660920669-c0731d363884c7ef-01
2021-11-23T06:35:16.399Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:16.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-8040d353df97c23fe3c2f646caf37fd72fa6ffff-0c6f16bde2289014-01 outer:exit 2b-8040d353df97c23fe3c2f646caf37fd72fa6ffff-52d06c3a21c0f221-01
2021-11-23T06:35:16.405Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:16.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb7c808115e7f794b705b6a316787db0fdfa3cf0-ef42928ad7c3809c-01 outer:exit 2b-eb7c808115e7f794b705b6a316787db0fdfa3cf0-fa18647115c316db-01
2021-11-23T06:35:16.407Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:16.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-20323082d4949858bf00e2b11e8da0503fa46616-d13ca8f7f2d1aa57-01 outer:exit 2b-20323082d4949858bf00e2b11e8da0503fa46616-e7dc5cc38c847dca-01
2021-11-23T06:35:16.409Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:16.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c89c49fece4483f16903c7cd39ffc7c3cefdcae-391151eacea50424-01 outer:exit 2b-9c89c49fece4483f16903c7cd39ffc7c3cefdcae-d10dc506d6dd25e7-01
2021-11-23T06:35:16.411Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:16.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-d65fed98d29032a8a1b0b8c27321705e90374252-091ea4580132eb8a-01 outer:exit 2b-d65fed98d29032a8a1b0b8c27321705e90374252-7692602a158a55f9-01
2021-11-23T06:35:16.413Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:16.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6cfd318d70f176dcc61856a0b090b5ebe5e9db2-2aea58568e789387-01 outer:exit 2b-d6cfd318d70f176dcc61856a0b090b5ebe5e9db2-0aca8df871ca2039-01
2021-11-23T06:35:16.415Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:16.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5aaf17be691a154639fd484437b3f3cbf6b5bb0-dadfd816592a212e-01 outer:exit 2b-e5aaf17be691a154639fd484437b3f3cbf6b5bb0-fc4d8bc2ad6dc326-01
2021-11-23T06:35:16.423Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:16.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c735826fee7d279feca75798c6af225f55682d4-8c9f62cc4b5c719c-01 outer:exit 2b-5c735826fee7d279feca75798c6af225f55682d4-df0ba6b6c8c5176b-01
2021-11-23T06:35:16.430Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:16.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-f30ca62903af5a388a49b5d3611195f699d25f25-b7202f510ce7bd13-01 outer:exit 2b-f30ca62903af5a388a49b5d3611195f699d25f25-728e113374d96407-01
2021-11-23T06:35:16.433Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:16.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5045b974eec9a60a732c6ad368e093f16639b5c-1542180e883a4eba-01 outer:exit 2b-f5045b974eec9a60a732c6ad368e093f16639b5c-07fc3eeac5500082-01
2021-11-23T06:35:16.435Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:16.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-90bb9a97e8fcc2ba93341c0e27e3ef8bc69ef4d6-71a8f316298b18ea-01 outer:exit 2b-90bb9a97e8fcc2ba93341c0e27e3ef8bc69ef4d6-768f347d55486ec4-01
2021-11-23T06:35:16.438Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:16.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8037d78426be1a240004c11039e308757ce3973-61463f667cea2986-01 outer:exit 2b-d8037d78426be1a240004c11039e308757ce3973-6488a50eb4309a22-01
2021-11-23T06:35:16.463Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.1
updated 1 package and audited 1085 packages in 5.093s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:22.441Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:22.442Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:22.442Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:22.443Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:22.500Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:22.630Z appoptics:patching patched crypto 
2021-11-23T06:35:22.648Z appoptics:patching patched https 
2021-11-23T06:35:22.648Z appoptics:patching patched http 
2021-11-23T06:35:22.692Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:22.693Z appoptics:patching patched fs 
2021-11-23T06:35:22.715Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v12.22.7)
2021-11-23T06:35:22.720Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-11-23T06:35:22.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-262ef33200a9c5e5dade12d4081a6ea7f0bac84a-3ee917cc4c518912-01 outer:exit 2b-262ef33200a9c5e5dade12d4081a6ea7f0bac84a-1ea3d72e0fa78b19-01
2021-11-23T06:35:22.762Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:22.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4a6db7023a5be94e32d3b3f8aef704362df2e5b-4cd4a528db367a08-01 outer:exit 2b-a4a6db7023a5be94e32d3b3f8aef704362df2e5b-42c5363285d5f4ea-01
2021-11-23T06:35:22.833Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:22.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-71077d9f07b3533730115fb652f9fbbb874d0fab-8a326625b45042d7-01 outer:exit 2b-71077d9f07b3533730115fb652f9fbbb874d0fab-a6d3837e32807b07-01
2021-11-23T06:35:22.836Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:22.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-caa628498b1f1afa5be5820c51420cb8851c9524-0d140177681c8662-01 outer:exit 2b-caa628498b1f1afa5be5820c51420cb8851c9524-74d444cbc8e52e9a-01
2021-11-23T06:35:22.839Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:22.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-aad6062655b3c63971f61aa51b4640fa980ae487-e6e09f6aa391ebe4-01 outer:exit 2b-aad6062655b3c63971f61aa51b4640fa980ae487-720058b1027ecf4b-01
2021-11-23T06:35:22.843Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:22.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffe0a66002b5a7b7b4a35aaf93a3e676b430bb55-79a9a2b0d45cb774-01 outer:exit 2b-ffe0a66002b5a7b7b4a35aaf93a3e676b430bb55-4363c1a2827513aa-01
2021-11-23T06:35:22.846Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:22.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-133af6d2209fd09ab31b3286af23538d1361eb87-c24e6b776634bf89-01 outer:exit 2b-133af6d2209fd09ab31b3286af23538d1361eb87-1a38e5d5ae0faa75-01
2021-11-23T06:35:22.849Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:22.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-70f3704c6c1fd59240fedeede78501b5372d2439-71270a575fe1cbaa-01 outer:exit 2b-70f3704c6c1fd59240fedeede78501b5372d2439-923e68a96641cc47-01
2021-11-23T06:35:22.851Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:22.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-66bf4a59f4c7381e5933b01bcd3ca412b9d6c12b-2815db22fa135f26-01 outer:exit 2b-66bf4a59f4c7381e5933b01bcd3ca412b9d6c12b-32f4ca57b9b1a1a9-01
2021-11-23T06:35:22.857Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:22.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-380a715d7059bf47726b14eb17736a5caa564a18-3287dc85ccaf94bd-01 outer:exit 2b-380a715d7059bf47726b14eb17736a5caa564a18-f5944f30e2a1d53c-01
2021-11-23T06:35:22.860Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:22.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-0508f7a55eccc549073d2492e5e9617eb68d1142-827ee33ace3aa309-01 outer:exit 2b-0508f7a55eccc549073d2492e5e9617eb68d1142-9f275521daafb098-01
2021-11-23T06:35:22.863Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:22.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-b13f650c58e7b1e6429b271ca1ef7b71366886ee-5d2fd3c9f4c435a7-01 outer:exit 2b-b13f650c58e7b1e6429b271ca1ef7b71366886ee-c5a5c9f0b7af0a5e-01
2021-11-23T06:35:22.869Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:22.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6724fa5c434f555feff417b76b81e210fff778a-f6f5d2befbe06a6a-01 outer:exit 2b-a6724fa5c434f555feff417b76b81e210fff778a-c942253743b5632a-01
2021-11-23T06:35:22.884Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:22.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e5b89de4cb3fa8a72e2cf5df85707311b7c770c-312e10b677e12f23-01 outer:exit 2b-3e5b89de4cb3fa8a72e2cf5df85707311b7c770c-9554548109d02eac-01
2021-11-23T06:35:22.931Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:22.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea950a3f9e9002a9f82d1e40c3f4bb8147b29262-95119740ba5f64cc-01 outer:exit 2b-ea950a3f9e9002a9f82d1e40c3f4bb8147b29262-319741796471ebda-01
2021-11-23T06:35:22.934Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:22.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f95c142d523502ef2f2f4cbad2061d178d767ee-7ab2cae130222744-01 outer:exit 2b-4f95c142d523502ef2f2f4cbad2061d178d767ee-4db12dce446d5cf5-01
2021-11-23T06:35:22.937Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:22.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c9d812aafe1d0aa4224eb355438a762661fb50c-dc99a71175ca52d7-01 outer:exit 2b-8c9d812aafe1d0aa4224eb355438a762661fb50c-0c3d4a3051eac6fb-01
2021-11-23T06:35:22.939Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:22.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-04f25546346246b9620a207b09ae30814f7a5404-a4dfde459a2a10e5-01 outer:exit 2b-04f25546346246b9620a207b09ae30814f7a5404-756598e253a79ad4-01
2021-11-23T06:35:22.941Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:22.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-486c5265f2b432fed7a1e24cc7fd251acf9bda99-7ba6f601b600c8c3-01 outer:exit 2b-486c5265f2b432fed7a1e24cc7fd251acf9bda99-4b0f38e1dfb80685-01
2021-11-23T06:35:22.943Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:22.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-3431f7edd30ef301c5966c751ea8018f10af7601-b50098383e3e2185-01 outer:exit 2b-3431f7edd30ef301c5966c751ea8018f10af7601-fa696fd422e0397c-01
2021-11-23T06:35:22.945Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:22.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd4bee5285a755b95e82cb4148bf0301de4c2174-1dd7e5a3c708d730-01 outer:exit 2b-fd4bee5285a755b95e82cb4148bf0301de4c2174-6cef744d2c5ce78c-01
2021-11-23T06:35:22.947Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:22.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-57816a565b5b590bf8ff15bf804f52b36a3dc507-c14db96d21af5a82-01 outer:exit 2b-57816a565b5b590bf8ff15bf804f52b36a3dc507-4bd7304bd0ba622b-01
2021-11-23T06:35:22.949Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:22.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8cd923a1f4f74e5e0471e0bc3aa36e26ed018d7-4cf77ebcc4e321a7-01 outer:exit 2b-a8cd923a1f4f74e5e0471e0bc3aa36e26ed018d7-516e51c14579b4dc-01
2021-11-23T06:35:22.952Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:22.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-73ca1203ece40c65d1c51f56b5b1b461387a4823-aebc420b05b39bcb-01 outer:exit 2b-73ca1203ece40c65d1c51f56b5b1b461387a4823-6f9f53f80842abc4-01
2021-11-23T06:35:22.956Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:22.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd08a0d3c15f563bddd682a19030e94f0f16a1ea-eab2ae6664fa7ba4-01 outer:exit 2b-dd08a0d3c15f563bddd682a19030e94f0f16a1ea-f888f82629f84216-01
2021-11-23T06:35:22.964Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:22.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-334c186e0b9152bffb22eb4017af62f7a9b98ec5-0a6dae1663914617-01 outer:exit 2b-334c186e0b9152bffb22eb4017af62f7a9b98ec5-2091a85ada53a67a-01
2021-11-23T06:35:22.970Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:22.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-b461eb0c7b8655553a37dfd979d81f17c116973a-f7c2199d45f3d669-01 outer:exit 2b-b461eb0c7b8655553a37dfd979d81f17c116973a-e453e6713c6eacde-01
2021-11-23T06:35:22.980Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:22.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-e71719d0d72ebb7818f39133e4b61d5092689308-3bf77603e2e58c4d-01 outer:exit 2b-e71719d0d72ebb7818f39133e4b61d5092689308-d03658731828bc53-01
2021-11-23T06:35:22.986Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:22.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf54349b1affd8e8983637ff669d36eef112ffb3-9bb99608dd6b4197-01 outer:exit 2b-bf54349b1affd8e8983637ff669d36eef112ffb3-d0e662504eee6654-01
2021-11-23T06:35:22.996Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:23.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e8c18f821bd37c2dc28e752a42421dcfd898a8-45938f3f7b3ef924-01 outer:exit 2b-70e8c18f821bd37c2dc28e752a42421dcfd898a8-8730d8bfdb9f7276-01
2021-11-23T06:35:23.002Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:23.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-262a51b4d3c6c1f490101d9ae080007d31ad5e35-3573964157f54498-01 outer:exit 2b-262a51b4d3c6c1f490101d9ae080007d31ad5e35-0e56a3683d1a9517-01
2021-11-23T06:35:23.004Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:23.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-46e688046aac79e9f3169fc243603579b4449515-a471b93d5d02d8f1-01 outer:exit 2b-46e688046aac79e9f3169fc243603579b4449515-f90121a048c907da-01
2021-11-23T06:35:23.007Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:23.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6e8933366e40e7294d7806366d092487e01b849-cab4e04dad80d6ad-01 outer:exit 2b-a6e8933366e40e7294d7806366d092487e01b849-be3575d346867ce7-01
2021-11-23T06:35:23.012Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:23.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-18afa1760cb440555c460dc5af094b3286576018-9f9642b14617dcdb-01 outer:exit 2b-18afa1760cb440555c460dc5af094b3286576018-229c69096893bf41-01
2021-11-23T06:35:23.015Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:23.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-824281bbc7e6b9a1ef169c281df834e29a7d9282-11d1512b8187c272-01 outer:exit 2b-824281bbc7e6b9a1ef169c281df834e29a7d9282-77ef218810f3a165-01
2021-11-23T06:35:23.017Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:23.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7aacbe859af6776d2b5d6ab32e635c626cb4ad5-1cc03aef779b0f49-01 outer:exit 2b-a7aacbe859af6776d2b5d6ab32e635c626cb4ad5-8dcbd637cc2fd5c1-01
2021-11-23T06:35:23.018Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:23.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1f07ae34d4242c3d2a210c724d13a7c910f196a-e665810e9a53308b-01 outer:exit 2b-a1f07ae34d4242c3d2a210c724d13a7c910f196a-83b1803298f7f845-01
2021-11-23T06:35:23.022Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:23.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-68cb8e66e5a69bbfa1f7beacf3f0a4b093e1d1bc-38849024711a6800-01 outer:exit 2b-68cb8e66e5a69bbfa1f7beacf3f0a4b093e1d1bc-d7566cab01c0803c-01
2021-11-23T06:35:23.025Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:23.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe6805e374c48893ac7a14eafc6e0eefaa3a5308-dfacc26a64b49f76-01 outer:exit 2b-fe6805e374c48893ac7a14eafc6e0eefaa3a5308-a8a23eacc29d5d4e-01
2021-11-23T06:35:23.040Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:23.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2035b0a4b3d37ccb88c816a6fe5202288415395-161413b9edcee5a2-01 outer:exit 2b-b2035b0a4b3d37ccb88c816a6fe5202288415395-a789d35adc1a0767-01
2021-11-23T06:35:23.051Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:23.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc8c8736be4c30ff1786bcbac87ed2d6ddd067fe-83a8ffe10af09edd-01 outer:exit 2b-fc8c8736be4c30ff1786bcbac87ed2d6ddd067fe-38c11ffe958fa4c4-01
2021-11-23T06:35:23.054Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:23.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-4286bdb9cb7dacfd33a855ca567f1690c3fad5e2-40ec64a6a11df1bd-01 outer:exit 2b-4286bdb9cb7dacfd33a855ca567f1690c3fad5e2-bcd119b08cf5aa77-01
2021-11-23T06:35:23.057Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:23.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9b6385ea06d40686666b7d775f57e30a150322e-7f1e44f88db7c0ef-01 outer:exit 2b-b9b6385ea06d40686666b7d775f57e30a150322e-27ab4318894d1457-01
2021-11-23T06:35:23.060Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:23.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaf704816b760c527d1cb0364e33e3bc284af928-d33044325ea4e4c1-01 outer:exit 2b-aaf704816b760c527d1cb0364e33e3bc284af928-76a528ebf57ba6b5-01
2021-11-23T06:35:23.091Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (364ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.2
updated 1 package and audited 1085 packages in 3.997s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:27.995Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:27.996Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:27.996Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:27.997Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:28.064Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:28.190Z appoptics:patching patched crypto 
2021-11-23T06:35:28.206Z appoptics:patching patched https 
2021-11-23T06:35:28.207Z appoptics:patching patched http 
2021-11-23T06:35:28.247Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:28.247Z appoptics:patching patched fs 
2021-11-23T06:35:28.270Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v12.22.7)
2021-11-23T06:35:28.275Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-11-23T06:35:28.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a142a347e16584cf9170bc78b376877bafaa06b-42a3d92116c6aae7-01 outer:exit 2b-1a142a347e16584cf9170bc78b376877bafaa06b-45d467f958e7c19b-01
2021-11-23T06:35:28.316Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:28.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-53239d0f7bece3565a2781b313fdfdc2d4f5515d-13ba9d483e5d9f99-01 outer:exit 2b-53239d0f7bece3565a2781b313fdfdc2d4f5515d-aa15306d7599782f-01
2021-11-23T06:35:28.348Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:28.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-51d834c58b19063d92fe79b6eab82149bc80751e-4fe14148f490fc65-01 outer:exit 2b-51d834c58b19063d92fe79b6eab82149bc80751e-0688ac6a4d4c9b8b-01
2021-11-23T06:35:28.351Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:28.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b4283827cb30fa73041c338baaad60231d870d8-c63a4642e4907b20-01 outer:exit 2b-1b4283827cb30fa73041c338baaad60231d870d8-1e9104d7271b9ce5-01
2021-11-23T06:35:28.355Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:28.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd4511b2651128877269e1b1987e2e7ea378afb6-cb22df65fa3fcceb-01 outer:exit 2b-dd4511b2651128877269e1b1987e2e7ea378afb6-97a4aa28b6def85b-01
2021-11-23T06:35:28.359Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:28.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-befb63a47526d3038a8462978eb3de2f80b113fd-bbb5ba09b0db98a0-01 outer:exit 2b-befb63a47526d3038a8462978eb3de2f80b113fd-fb88c68577497db4-01
2021-11-23T06:35:28.362Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:28.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-edfb6bb23e74def5fc37c0190df1e3befdaf983b-d587b98a81ed770a-01 outer:exit 2b-edfb6bb23e74def5fc37c0190df1e3befdaf983b-8d3200ab7fde48f5-01
2021-11-23T06:35:28.364Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:28.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-9399de791b518bceffefd3e0def1668c72c61377-7f1a2f0ab28619eb-01 outer:exit 2b-9399de791b518bceffefd3e0def1668c72c61377-81c25525bc31821a-01
2021-11-23T06:35:28.367Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:28.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-00f49c44f194af279551f60e8d1162dc2044a5a1-c8e925260b11b2df-01 outer:exit 2b-00f49c44f194af279551f60e8d1162dc2044a5a1-495c8752c505b07f-01
2021-11-23T06:35:28.369Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:28.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-330e300d468b966643a4e2f32623021e0b84103b-e85e3170df0ce451-01 outer:exit 2b-330e300d468b966643a4e2f32623021e0b84103b-d5b0c2cf95dc0167-01
2021-11-23T06:35:28.376Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:28.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a8835c021b3d84b47b04bbdf701391ca763cac4-dbe387f866676863-01 outer:exit 2b-1a8835c021b3d84b47b04bbdf701391ca763cac4-7ca2c0ef8b4e9db1-01
2021-11-23T06:35:28.379Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:28.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d0f06a39d3a17f2a771f9ce5f234fa998e99016-6044618b1df5eb81-01 outer:exit 2b-0d0f06a39d3a17f2a771f9ce5f234fa998e99016-87bbb8f2df0001eb-01
2021-11-23T06:35:28.385Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:28.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d06027845e3601f1470f46746fb4d594b2604fb-d3f311dea32ed183-01 outer:exit 2b-0d06027845e3601f1470f46746fb4d594b2604fb-df90729aa8640921-01
2021-11-23T06:35:28.400Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:28.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-91c49a1af1ddb2abfca18304044c642f021e4952-363775790807ce27-01 outer:exit 2b-91c49a1af1ddb2abfca18304044c642f021e4952-3a56f3b7ce5fc5a7-01
2021-11-23T06:35:28.447Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:28.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-64daa73bde4dc94ad1bd49566e1a0627b538871d-bec7962900f30da9-01 outer:exit 2b-64daa73bde4dc94ad1bd49566e1a0627b538871d-fcc6783e9938f3f9-01
2021-11-23T06:35:28.450Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:28.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-67ef62875f171d8eeeb45745fa6256a6568f2eaa-69236ed85f68d146-01 outer:exit 2b-67ef62875f171d8eeeb45745fa6256a6568f2eaa-378c095acaf3c75f-01
2021-11-23T06:35:28.453Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:28.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-858064dfb616b7654da5e75f34b920828d148aa8-c2ff691c6fa07481-01 outer:exit 2b-858064dfb616b7654da5e75f34b920828d148aa8-8170550f5d7445da-01
2021-11-23T06:35:28.455Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:28.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-22de11acf95117ff93f93c52d6ed824dc29c0dfe-59db563f963e0619-01 outer:exit 2b-22de11acf95117ff93f93c52d6ed824dc29c0dfe-facdd7d80a42dfb5-01
2021-11-23T06:35:28.457Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:28.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cb8f9b04292fb3df0b90d5d760d40eda8fc8231-737205da885e3446-01 outer:exit 2b-2cb8f9b04292fb3df0b90d5d760d40eda8fc8231-3293f4930d425585-01
2021-11-23T06:35:28.459Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:28.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d28da15bc5df46ea00392fb881a338ac9d13016-23a878bf5fc360f8-01 outer:exit 2b-1d28da15bc5df46ea00392fb881a338ac9d13016-09ca43978178b647-01
2021-11-23T06:35:28.461Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:28.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-4476bce17ae32fee305d1e4b42aeb69dbeae74c2-f6eacd6550b72db6-01 outer:exit 2b-4476bce17ae32fee305d1e4b42aeb69dbeae74c2-3892d9b05f3fa4f2-01
2021-11-23T06:35:28.463Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:28.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-e24f72cc450953a3cc76f09dd9e2ea4325a72ddb-08c453ded16c5da4-01 outer:exit 2b-e24f72cc450953a3cc76f09dd9e2ea4325a72ddb-997c5bdc44d8f81c-01
2021-11-23T06:35:28.465Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:28.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cc457b10474589847170f25eff0a0b427ffa5f1-5356283d29135054-01 outer:exit 2b-7cc457b10474589847170f25eff0a0b427ffa5f1-80b7c6220cd43d21-01
2021-11-23T06:35:28.468Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:28.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-a03fe4e5aec0d1bc54aa55ae9f247dc5527cc656-6ef2d556999da089-01 outer:exit 2b-a03fe4e5aec0d1bc54aa55ae9f247dc5527cc656-32ec5baa27f30b65-01
2021-11-23T06:35:28.470Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:28.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cff4e94c612f185057f9b922ba875d6a56af19d-e7da58c21d3cf0a0-01 outer:exit 2b-4cff4e94c612f185057f9b922ba875d6a56af19d-1c0d3cf71f87ed2e-01
2021-11-23T06:35:28.473Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:28.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7afc5dd43e2b4ae20d4f3477cf15764486df283-03297576f598e04e-01 outer:exit 2b-c7afc5dd43e2b4ae20d4f3477cf15764486df283-c3d8fca0c1c73ca5-01
2021-11-23T06:35:28.475Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:28.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-67e499bd5c92965774f22b6843f6b1c7e1fb9540-700d316f3d71f00d-01 outer:exit 2b-67e499bd5c92965774f22b6843f6b1c7e1fb9540-7ee27027f6d5a041-01
2021-11-23T06:35:28.482Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:28.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee457b3de5f2e29bf891fde0c62d6dd2457a9ab7-0f0e5abf32eefc00-01 outer:exit 2b-ee457b3de5f2e29bf891fde0c62d6dd2457a9ab7-739bf5c302e59ec9-01
2021-11-23T06:35:28.486Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:28.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-9208c51988ade59a6f2af01cc85defaddd81abba-e331f50b1c920df7-01 outer:exit 2b-9208c51988ade59a6f2af01cc85defaddd81abba-fa4e8855257e37fc-01
2021-11-23T06:35:28.494Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:28.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-0365ada3b14e6681fa85ad6008e0cf3bdd4bea3f-202fbca87e29442a-01 outer:exit 2b-0365ada3b14e6681fa85ad6008e0cf3bdd4bea3f-609dd48e68259cc5-01
2021-11-23T06:35:28.499Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:28.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ae622005bdce7e8fef52e6a504d11b232e87ca6-3aa631e7d1fff706-01 outer:exit 2b-8ae622005bdce7e8fef52e6a504d11b232e87ca6-49ec036bd8c908b1-01
2021-11-23T06:35:28.502Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:28.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-394be8e83a68500d6f8c95c2cbbc48c1709536bc-0777afaebf5c4544-01 outer:exit 2b-394be8e83a68500d6f8c95c2cbbc48c1709536bc-7251d2f318cd6d54-01
2021-11-23T06:35:28.504Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:28.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c7d1d471b35cc00e722e2f2a13f49e07e07adc4-81b77eddda309804-01 outer:exit 2b-5c7d1d471b35cc00e722e2f2a13f49e07e07adc4-5554baa8f21d4998-01
2021-11-23T06:35:28.510Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:28.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-db59852090d1c5315f5fd1ecdb6ae20c81102365-ad4d1d50455cef7d-01 outer:exit 2b-db59852090d1c5315f5fd1ecdb6ae20c81102365-9cbca09cf07d3303-01
2021-11-23T06:35:28.512Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:28.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-12e6c577917598134e9b79eb183bcafee72a97ae-02a57c11cf31c667-01 outer:exit 2b-12e6c577917598134e9b79eb183bcafee72a97ae-f49aa05912633e12-01
2021-11-23T06:35:28.514Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:28.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a3bb6bcf6db699418c93e19eca5615fbb373a82-0e14f689d39d0809-01 outer:exit 2b-8a3bb6bcf6db699418c93e19eca5615fbb373a82-8966584b1dbda050-01
2021-11-23T06:35:28.516Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:28.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-35e2d13b881e81a679568048dc30b35ca2ac55c0-6c54c5b3430c232b-01 outer:exit 2b-35e2d13b881e81a679568048dc30b35ca2ac55c0-553c6c6cdbf6d529-01
2021-11-23T06:35:28.518Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:28.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f3b4328cd6ba8f5070494b9857893be1bb284a3-7d06f1f557222539-01 outer:exit 2b-4f3b4328cd6ba8f5070494b9857893be1bb284a3-181deebf699269c6-01
2021-11-23T06:35:28.520Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:28.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-de43a99e14b6fbaad7e462fb1079757b7515045e-085c171f756e897e-01 outer:exit 2b-de43a99e14b6fbaad7e462fb1079757b7515045e-ed9fb233909c28cc-01
2021-11-23T06:35:28.528Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:28.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf01da477d4c91835324fd9166a9949e787ac1fa-357212459567016f-01 outer:exit 2b-cf01da477d4c91835324fd9166a9949e787ac1fa-a23970f7d92fa1cf-01
2021-11-23T06:35:28.534Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:28.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-c174a1446dff6a34f53193bda2392cbeab929d49-1aa51e50729bb142-01 outer:exit 2b-c174a1446dff6a34f53193bda2392cbeab929d49-3d2bc22116ae22dc-01
2021-11-23T06:35:28.537Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:28.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e87662f087cc6e59c40ccecafc874588a9a29f1-6554a434242b1ff7-01 outer:exit 2b-9e87662f087cc6e59c40ccecafc874588a9a29f1-7d893fcda7b880d9-01
2021-11-23T06:35:28.539Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:28.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-0598188f55310db2cd2218464da41b8849c64055-1524329c0895ba4c-01 outer:exit 2b-0598188f55310db2cd2218464da41b8849c64055-35bbf3f67441f52f-01
2021-11-23T06:35:28.542Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:28.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e3032ac401ac3f01f6f814beede720d54596762-acdf96ece9b1c58a-01 outer:exit 2b-5e3032ac401ac3f01f6f814beede720d54596762-eafc3d497b94459e-01
2021-11-23T06:35:28.566Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (284ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.3
updated 1 package and audited 1085 packages in 5.19s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:34.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:34.649Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:34.649Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:34.650Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:34.722Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:34.855Z appoptics:patching patched crypto 
2021-11-23T06:35:34.872Z appoptics:patching patched https 
2021-11-23T06:35:34.873Z appoptics:patching patched http 
2021-11-23T06:35:34.909Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:34.909Z appoptics:patching patched fs 
2021-11-23T06:35:34.932Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v12.22.7)
2021-11-23T06:35:34.937Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-11-23T06:35:34.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1e1c1c1a1762cb703d18c49d23f278ddf46de4a-ad9a6f60b9bfebd2-01 outer:exit 2b-a1e1c1c1a1762cb703d18c49d23f278ddf46de4a-252c96856a80c9e9-01
2021-11-23T06:35:34.977Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:35.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbf8f77636921b9381439af891fc0c395e71cfba-23a709719623c851-01 outer:exit 2b-cbf8f77636921b9381439af891fc0c395e71cfba-8cbc7d8757e050c4-01
2021-11-23T06:35:35.048Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:35.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a4ea04a55f957f15ec00cbc15b7e432777643d4-872789b3d470c78e-01 outer:exit 2b-2a4ea04a55f957f15ec00cbc15b7e432777643d4-38384def04e417de-01
2021-11-23T06:35:35.051Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:35.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-57a503e452303f06e43827830cd0b46c4d22dbe8-572a28b9b6027f8d-01 outer:exit 2b-57a503e452303f06e43827830cd0b46c4d22dbe8-417b77ed01420e37-01
2021-11-23T06:35:35.054Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:35.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1495efb45c8e6ca490263069d564a031e8984a5-d9de14b6f81ba975-01 outer:exit 2b-e1495efb45c8e6ca490263069d564a031e8984a5-950a8c30814b7fcb-01
2021-11-23T06:35:35.058Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:35.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cf55d0cf4d361935d75be1e3264c98dbafd0477-b32c94b52f2651b2-01 outer:exit 2b-8cf55d0cf4d361935d75be1e3264c98dbafd0477-ef8d0c628af69d84-01
2021-11-23T06:35:35.061Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:35.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-755df598e22831e64f32056c6f7ca248d018732d-4b1f08c748554ed2-01 outer:exit 2b-755df598e22831e64f32056c6f7ca248d018732d-b13771a8c254cf67-01
2021-11-23T06:35:35.067Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:35.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdf71f6ab780b4510bd79a3be836d6b1848648e7-be8de2fef1a27212-01 outer:exit 2b-cdf71f6ab780b4510bd79a3be836d6b1848648e7-4294e9bbdb01ec91-01
2021-11-23T06:35:35.069Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:35.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c7d15c63d9d5eab48d911b4ef27bb50f377d3d1-be441c98a368e1b5-01 outer:exit 2b-2c7d15c63d9d5eab48d911b4ef27bb50f377d3d1-84cf1832c3d61dd5-01
2021-11-23T06:35:35.071Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:35.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be917c195c06263d33ff9a1b0a231a0191acdce-4091d9b15689680c-01 outer:exit 2b-6be917c195c06263d33ff9a1b0a231a0191acdce-2c79ed6ee4205fa4-01
2021-11-23T06:35:35.074Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:35.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0bbebd60e0991f15dd7e06b3e8654623906ca08-3731b1951a673e27-01 outer:exit 2b-a0bbebd60e0991f15dd7e06b3e8654623906ca08-299efe16adcd2abc-01
2021-11-23T06:35:35.077Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:35.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a5fc25df9089818d6ec8d40ae19063fa3d53c73-3b33539556bd6d38-01 outer:exit 2b-5a5fc25df9089818d6ec8d40ae19063fa3d53c73-48133f2a72849c20-01
2021-11-23T06:35:35.083Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:35.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b89d71771a0c7be8c397cff19c5919648e70418-e07ade06ca3ed84a-01 outer:exit 2b-6b89d71771a0c7be8c397cff19c5919648e70418-4ad91ff094b96eb7-01
2021-11-23T06:35:35.099Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:35.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-a47bdf837a53f623195b718c91bf28db83574148-3bf44499dda53b15-01 outer:exit 2b-a47bdf837a53f623195b718c91bf28db83574148-9cf68b4cc090e5bf-01
2021-11-23T06:35:35.147Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:35.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-8afd183d5ece38df0a686a127618cf213adefd6b-1e33a2efe0cd4850-01 outer:exit 2b-8afd183d5ece38df0a686a127618cf213adefd6b-26b5593c15ac9db3-01
2021-11-23T06:35:35.152Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:35.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-f236f3dd78bed275ed1dcfd689f4ab3ae2a6bd48-f7b473838e273cc7-01 outer:exit 2b-f236f3dd78bed275ed1dcfd689f4ab3ae2a6bd48-1af026490eef2a6a-01
2021-11-23T06:35:35.162Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:35.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-e94cb89da6bb549f6ed7a5ce820954b1c4961a3a-c2f27a2115391812-01 outer:exit 2b-e94cb89da6bb549f6ed7a5ce820954b1c4961a3a-c1a3508fc1790939-01
2021-11-23T06:35:35.167Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:35.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bc7830fecca9dd23fee61719be8a91b10a60e78-1fa93ebeeaf49eef-01 outer:exit 2b-2bc7830fecca9dd23fee61719be8a91b10a60e78-d75f0d39b09d2f83-01
2021-11-23T06:35:35.170Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:35.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fe792e56344ba443198e2742b9148dc6c3c8225-c4958c8245b8ff33-01 outer:exit 2b-6fe792e56344ba443198e2742b9148dc6c3c8225-8f587c12b8bad081-01
2021-11-23T06:35:35.172Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:35.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e38ea7d09fa20c3bca900064042c138ecb42fc2-766038e318ff000f-01 outer:exit 2b-2e38ea7d09fa20c3bca900064042c138ecb42fc2-dbe267a0dba39b2e-01
2021-11-23T06:35:35.174Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:35.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4ec9bd45d2be79720ec1dbdcee68063a94bf4ef-67ff974e2ee40e39-01 outer:exit 2b-b4ec9bd45d2be79720ec1dbdcee68063a94bf4ef-3ab4dd18d640a60d-01
2021-11-23T06:35:35.176Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:35.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ca1550e6de5933b08974a9c6a22da405899687a-dec2636a5a4a8246-01 outer:exit 2b-0ca1550e6de5933b08974a9c6a22da405899687a-864f47056d4f12fe-01
2021-11-23T06:35:35.178Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:35.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ab03e7ee40897a184fc63b2bd91a36e8837a0f-672da3538f45f46a-01 outer:exit 2b-77ab03e7ee40897a184fc63b2bd91a36e8837a0f-996d744cc31f3551-01
2021-11-23T06:35:35.181Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:35.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-57e45cb24e2711fc39409c833da9c64381b8010f-be65a7fc6ed3f06f-01 outer:exit 2b-57e45cb24e2711fc39409c833da9c64381b8010f-1a6f3dda00e6a808-01
2021-11-23T06:35:35.184Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:35.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d89f72eeec7dd769fad849e39e6132e682c0c65-b1673f1bdf8a01ef-01 outer:exit 2b-4d89f72eeec7dd769fad849e39e6132e682c0c65-4f20a2e1294587ee-01
2021-11-23T06:35:35.188Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:35.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5d2f29f9788c81d69bf9865a7f4854db0d00f8c-e3f4f1e50873af7b-01 outer:exit 2b-d5d2f29f9788c81d69bf9865a7f4854db0d00f8c-6a055ed75e607801-01
2021-11-23T06:35:35.190Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:35.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c31167c297717fdf651e9122feed87a1232be2-b127822fef873580-01 outer:exit 2b-71c31167c297717fdf651e9122feed87a1232be2-1a50f0e8c2404c15-01
2021-11-23T06:35:35.197Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:35.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f4827e7c89b9747a843fd9a0efc0ac9265458be-37f1b7982ab065e3-01 outer:exit 2b-1f4827e7c89b9747a843fd9a0efc0ac9265458be-0744cb53ecf3a6ad-01
2021-11-23T06:35:35.202Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:35.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-b39421d1fb9bea31958547d7e5b863b87f63a70c-815d902b7287c559-01 outer:exit 2b-b39421d1fb9bea31958547d7e5b863b87f63a70c-8c074aeb4c9db4de-01
2021-11-23T06:35:35.210Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:35.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c48729839c54dc9a9fc67eba60cf6a521d155d2-de0146e42f0cc423-01 outer:exit 2b-5c48729839c54dc9a9fc67eba60cf6a521d155d2-93f6494e05bf5a6d-01
2021-11-23T06:35:35.217Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:35.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f638d45fe72896f34c6ab219c5df4100b4fc86e-2e621097cbd4c058-01 outer:exit 2b-1f638d45fe72896f34c6ab219c5df4100b4fc86e-6ed4af0fc6d0a37c-01
2021-11-23T06:35:35.221Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:35.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c655bd348d04cd9787a06506727542057905e05-f6d78b4ae2d0d3de-01 outer:exit 2b-7c655bd348d04cd9787a06506727542057905e05-526dcca866e66b82-01
2021-11-23T06:35:35.223Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:35.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-e963116325b8c8dbacda3ef9df20ad0870ad08da-ed5490d5e22ef6e8-01 outer:exit 2b-e963116325b8c8dbacda3ef9df20ad0870ad08da-b63eba42823d7c67-01
2021-11-23T06:35:35.229Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:35.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05a418cfee813bd46f5beda033f39b84c9e879b-fb709dec65ad4538-01 outer:exit 2b-b05a418cfee813bd46f5beda033f39b84c9e879b-c051818ddfb9e0e7-01
2021-11-23T06:35:35.232Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:35.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-09c0176759038c8b97ea41271a90d52a6252e905-46fb1f125884afa0-01 outer:exit 2b-09c0176759038c8b97ea41271a90d52a6252e905-a6620721fa26fc7d-01
2021-11-23T06:35:35.234Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:35.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff4861e556fb56db0b3ce50d33eb8648df54d171-74f63c8dd48a984e-01 outer:exit 2b-ff4861e556fb56db0b3ce50d33eb8648df54d171-5050e63ca1f42067-01
2021-11-23T06:35:35.236Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:35.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-40480b964a9712cbe0e76cf27fdcc8535eeeeaa7-7c135194f053bc9b-01 outer:exit 2b-40480b964a9712cbe0e76cf27fdcc8535eeeeaa7-7645365ecfe9caca-01
2021-11-23T06:35:35.238Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:35.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-307a30c76312e78e04908010ce86ed2332aa7b53-c22aefa1b2ed6f7a-01 outer:exit 2b-307a30c76312e78e04908010ce86ed2332aa7b53-236bdfd690f0fcc6-01
2021-11-23T06:35:35.240Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:35.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-c56e149474fa6a7774a37943a92b3bee9ca0f00f-acb847cf2a91fee3-01 outer:exit 2b-c56e149474fa6a7774a37943a92b3bee9ca0f00f-0e517d4960d5c0f6-01
2021-11-23T06:35:35.248Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:35.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-a40ecd584080f4035ad7b811fc53ce0bbd3a19c0-e605c8706d6e5a6e-01 outer:exit 2b-a40ecd584080f4035ad7b811fc53ce0bbd3a19c0-8fb4b58e2f6f2ea3-01
2021-11-23T06:35:35.257Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:35.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d945ba7bacd15b0281fc238f53fde11a1df7540-fb4bc338b62b6b0f-01 outer:exit 2b-7d945ba7bacd15b0281fc238f53fde11a1df7540-9f96f02ce3eb2bf9-01
2021-11-23T06:35:35.261Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:35.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-7af8c272f2c65b93375f3321baab3f5875631f16-aa5a2aa527a3db57-01 outer:exit 2b-7af8c272f2c65b93375f3321baab3f5875631f16-f9f3eda3cf8795cd-01
2021-11-23T06:35:35.265Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:35.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb206cecc218245bcb893358d8d98c8bf4977831-13762559f4df60c5-01 outer:exit 2b-eb206cecc218245bcb893358d8d98c8bf4977831-7a12c3004bcd4ae2-01
2021-11-23T06:35:35.268Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:35.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97c33be2e21c8ade73083b17a0b86e408fb7782-5f02e519df10209f-01 outer:exit 2b-a97c33be2e21c8ade73083b17a0b86e408fb7782-1767164160b40413-01
2021-11-23T06:35:35.293Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (349ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.4
updated 1 package and audited 1085 packages in 4.494s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:40.696Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:40.697Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:40.697Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:40.698Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:40.760Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:40.895Z appoptics:patching patched crypto 
2021-11-23T06:35:40.925Z appoptics:patching patched https 
2021-11-23T06:35:40.925Z appoptics:patching patched http 
2021-11-23T06:35:40.969Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:40.969Z appoptics:patching patched fs 
2021-11-23T06:35:40.994Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v12.22.7)
2021-11-23T06:35:40.999Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-11-23T06:35:41.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d0116c537c65cae44186096279f9e8b6db4a025-0427cce7a3dffca9-01 outer:exit 2b-3d0116c537c65cae44186096279f9e8b6db4a025-ca2e770a7c0282bb-01
2021-11-23T06:35:41.050Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:41.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-90e3a3e06ae2b29dbd5350091830cf5379faff0b-5d82bc2c04a4d6de-01 outer:exit 2b-90e3a3e06ae2b29dbd5350091830cf5379faff0b-9429140d12dafdb4-01
2021-11-23T06:35:41.136Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:41.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-94d6c1a1218241528f83657335ac92b245fae685-66312cc107e2e1dc-01 outer:exit 2b-94d6c1a1218241528f83657335ac92b245fae685-5cc5098a0ec67d6b-01
2021-11-23T06:35:41.140Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:41.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-e89f95f282ec7af7d739f4f4965468f79036c034-9ecfb0a76570dcf6-01 outer:exit 2b-e89f95f282ec7af7d739f4f4965468f79036c034-15a5e521e7edabd4-01
2021-11-23T06:35:41.143Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:41.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-4946693dadb0a959526d69e82a588c2bf3f0a3d6-610a636f8c9f55f3-01 outer:exit 2b-4946693dadb0a959526d69e82a588c2bf3f0a3d6-cdc632097535652b-01
2021-11-23T06:35:41.152Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:41.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff709f211b32af515c48cf94701a877b688a331-e9ca7c441b439298-01 outer:exit 2b-4ff709f211b32af515c48cf94701a877b688a331-6b0dc8f94e569ed0-01
2021-11-23T06:35:41.155Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:41.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ad75cdc9b87a11ea6abb7487c334033515fcb08-9187315db6ab4633-01 outer:exit 2b-2ad75cdc9b87a11ea6abb7487c334033515fcb08-49d806a7d9bc8258-01
2021-11-23T06:35:41.158Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:41.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6df6f066b5e0b28e21c2e3b19bc055f4e927015-b332117a109fbf6e-01 outer:exit 2b-b6df6f066b5e0b28e21c2e3b19bc055f4e927015-8be4bbddad87ad98-01
2021-11-23T06:35:41.160Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:41.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-2152316c3593106f1f754b14326810511d32acf6-1b2f1a43f19879e8-01 outer:exit 2b-2152316c3593106f1f754b14326810511d32acf6-8d8084ed43cdf07d-01
2021-11-23T06:35:41.162Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:41.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb1dd9a0ce7c7f21c7f017b76b0faa47f0dbda2b-fce52470e244e58b-01 outer:exit 2b-fb1dd9a0ce7c7f21c7f017b76b0faa47f0dbda2b-796078fb452d3bc0-01
2021-11-23T06:35:41.165Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:41.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-19ff81366f70ea476f933314cba897eae89be9b8-55d814f392066dff-01 outer:exit 2b-19ff81366f70ea476f933314cba897eae89be9b8-60ffcf57637356d1-01
2021-11-23T06:35:41.169Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:41.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-146195692a93daf1575386a4cf6d812b82cc66a8-98cb37d2036123e6-01 outer:exit 2b-146195692a93daf1575386a4cf6d812b82cc66a8-ee6c0591ff2a3646-01
2021-11-23T06:35:41.176Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:41.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-de312cfa02f616e857d88b25e608ac834e2b303a-7050663dbaaa7c4b-01 outer:exit 2b-de312cfa02f616e857d88b25e608ac834e2b303a-cf5ad13f824ec9da-01
2021-11-23T06:35:41.198Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:41.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6f2bf5c95e68341262a2a7b7869e1f569386f44-7ac1977941dbb1af-01 outer:exit 2b-e6f2bf5c95e68341262a2a7b7869e1f569386f44-e2463ffbf5cf3b82-01
2021-11-23T06:35:41.244Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:41.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf8b42ed8c914afcd309b057cbe9e8f87a944eb6-f527827318cd8bf5-01 outer:exit 2b-bf8b42ed8c914afcd309b057cbe9e8f87a944eb6-7daf9a89b8c58bd2-01
2021-11-23T06:35:41.247Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:41.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-48d66b3f2b0a653a437dd5f171904de4f9e29806-4e0fd6fcf7febfdf-01 outer:exit 2b-48d66b3f2b0a653a437dd5f171904de4f9e29806-211b0a0e026fc0a9-01
2021-11-23T06:35:41.251Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:41.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e52027b04225175bad36219836c378a2291ef18-5b0736b351039ba8-01 outer:exit 2b-1e52027b04225175bad36219836c378a2291ef18-813f7fb2d8e30073-01
2021-11-23T06:35:41.256Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:41.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-2be12fa1e5674cea8cb6b04228dbe922c53a4b0e-a38ddecf8f82ab2b-01 outer:exit 2b-2be12fa1e5674cea8cb6b04228dbe922c53a4b0e-250e12f136511007-01
2021-11-23T06:35:41.259Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:41.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b71a7ab0ce0330805c858f92c499105becd596-effc531491b94bee-01 outer:exit 2b-06b71a7ab0ce0330805c858f92c499105becd596-d40967078959249c-01
2021-11-23T06:35:41.261Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:41.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ebc7556d2ceea5fdc6532026381672a0db1ab3-1c6fed1b72357adf-01 outer:exit 2b-e5ebc7556d2ceea5fdc6532026381672a0db1ab3-06871be568f45ced-01
2021-11-23T06:35:41.263Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:41.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-715c287b35c58c5100681319852f9638020ed317-065fece0832bc938-01 outer:exit 2b-715c287b35c58c5100681319852f9638020ed317-244270e2f06d9e14-01
2021-11-23T06:35:41.265Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:41.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-56d7a83dfd8a57849f46e859b7aa97335fdb42c4-2ad25efdba1e59fd-01 outer:exit 2b-56d7a83dfd8a57849f46e859b7aa97335fdb42c4-520293c3b844b1ad-01
2021-11-23T06:35:41.270Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:41.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-05360f6a7e27ceef4022e124acb3184cc84854d4-2dd4b39a1407bbf0-01 outer:exit 2b-05360f6a7e27ceef4022e124acb3184cc84854d4-e672b425bcba6d81-01
2021-11-23T06:35:41.276Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:41.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-578ae578857a4243805bf91c3d3794b540103f7d-7c5f92ff1a88d423-01 outer:exit 2b-578ae578857a4243805bf91c3d3794b540103f7d-0c696364ad6e9427-01
2021-11-23T06:35:41.281Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:41.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-2794f8c7e80906c68769dc44d27ed6acfea3b099-91ec03699e17f1f7-01 outer:exit 2b-2794f8c7e80906c68769dc44d27ed6acfea3b099-071ddd02eab2ced5-01
2021-11-23T06:35:41.284Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:41.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-07ee905f5015f2d8d6511a960c0011a21438006e-d2a020fb731e905d-01 outer:exit 2b-07ee905f5015f2d8d6511a960c0011a21438006e-825bdd71a44b347d-01
2021-11-23T06:35:41.286Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:41.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-79c0657754054ee9ff57560a345c5ed0fb03dc7a-725e8b1e6b006863-01 outer:exit 2b-79c0657754054ee9ff57560a345c5ed0fb03dc7a-5a5f9ed16b38d952-01
2021-11-23T06:35:41.293Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:41.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d6d866fd453bcd22a135485674e5d02bf6e6c12-dff2dc59651e9edb-01 outer:exit 2b-1d6d866fd453bcd22a135485674e5d02bf6e6c12-c42dffb3e3ded085-01
2021-11-23T06:35:41.301Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:41.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4a2111909671de711af8c9c7cf6587e2bb3e35c-4feb8b3aa52edd89-01 outer:exit 2b-d4a2111909671de711af8c9c7cf6587e2bb3e35c-4f435205b973e8fb-01
2021-11-23T06:35:41.311Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:41.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef35982ea176f68da31f1732c2c264f2186b1e7e-1aed4a682bf819bd-01 outer:exit 2b-ef35982ea176f68da31f1732c2c264f2186b1e7e-135a1adedc98a9f2-01
2021-11-23T06:35:41.320Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:41.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-d72773acabf7dca23a2c77a1e558a3d79e81eb09-f16ac57ab195be02-01 outer:exit 2b-d72773acabf7dca23a2c77a1e558a3d79e81eb09-cce10234cb03ed69-01
2021-11-23T06:35:41.322Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:41.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-b77022a8db6b72d58f55ed928f84fea2d9ed63f4-0cbbd59370253b9c-01 outer:exit 2b-b77022a8db6b72d58f55ed928f84fea2d9ed63f4-7866e7e97efe7341-01
2021-11-23T06:35:41.325Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:41.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a8edfceb6b1951feb83e6a7582dd110b58c9b70-fba82ddf358159ff-01 outer:exit 2b-1a8edfceb6b1951feb83e6a7582dd110b58c9b70-ecbcc748d8db981a-01
2021-11-23T06:35:41.332Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:41.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-090bd8f67522678129b09bd5ee2a83beed3afb6f-7bc15a961a6f5e23-01 outer:exit 2b-090bd8f67522678129b09bd5ee2a83beed3afb6f-044cf72cff232e09-01
2021-11-23T06:35:41.334Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:41.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd99f45be6f398acefd1d7e3b9a532378c89dc56-d803d64a2646d072-01 outer:exit 2b-fd99f45be6f398acefd1d7e3b9a532378c89dc56-dc485478c5dd5951-01
2021-11-23T06:35:41.336Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:41.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-32a733dd12a4632f424882901665f0e743b18566-ef787403d6bdd0f1-01 outer:exit 2b-32a733dd12a4632f424882901665f0e743b18566-a3e9f73e15a6dea1-01
2021-11-23T06:35:41.339Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:41.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-61253de73cee675284da3c9a1ffe86c4cb63eefb-c0bdbf229600e9bd-01 outer:exit 2b-61253de73cee675284da3c9a1ffe86c4cb63eefb-84bba22a99529cd9-01
2021-11-23T06:35:41.341Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:41.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-01acd21c90712d44c042eee7fa9ca0323dfefe82-aea7c6f161171428-01 outer:exit 2b-01acd21c90712d44c042eee7fa9ca0323dfefe82-d0c7df8736d5dd18-01
2021-11-23T06:35:41.343Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:41.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb06864797c288c5fc395ec6f55f70002cd73774-d8c47f81d3d1f773-01 outer:exit 2b-bb06864797c288c5fc395ec6f55f70002cd73774-a614825a40fd96f6-01
2021-11-23T06:35:41.351Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:41.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-d53a09dfbbaef3eb968882403b2b4f8331c99fe2-cb87c0950ab5803d-01 outer:exit 2b-d53a09dfbbaef3eb968882403b2b4f8331c99fe2-c4388acaae2c94f9-01
2021-11-23T06:35:41.359Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:41.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-29adcee13a47080a70aadff523a4b65722883264-86e27568516b0644-01 outer:exit 2b-29adcee13a47080a70aadff523a4b65722883264-10e9d65e3680c1bb-01
2021-11-23T06:35:41.363Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:41.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c34cae888b1397b7022fbbe88e116fe48c29e73-9da9e0cbe5ea721c-01 outer:exit 2b-0c34cae888b1397b7022fbbe88e116fe48c29e73-052098802fe6ef4c-01
2021-11-23T06:35:41.366Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:41.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cf4eb6c21ed22485b6555d06bd2b9479da5928b-05ca9625dae78ad3-01 outer:exit 2b-1cf4eb6c21ed22485b6555d06bd2b9479da5928b-9030491d2e524578-01
2021-11-23T06:35:41.369Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:41.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-91f2e939e6e2d48e3d56affae7ba9b74b0da2324-3977d6061148c895-01 outer:exit 2b-91f2e939e6e2d48e3d56affae7ba9b74b0da2324-21fdea7b14af7fdf-01
2021-11-23T06:35:41.395Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (388ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.5
updated 1 package and audited 1085 packages in 5.381s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:47.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:47.947Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:47.947Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:47.947Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:48.015Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:48.141Z appoptics:patching patched crypto 
2021-11-23T06:35:48.158Z appoptics:patching patched https 
2021-11-23T06:35:48.158Z appoptics:patching patched http 
2021-11-23T06:35:48.193Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:48.194Z appoptics:patching patched fs 
2021-11-23T06:35:48.216Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v12.22.7)
2021-11-23T06:35:48.221Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-11-23T06:35:48.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee5681d10d26e484d4ba7865c4c39f2e2f8232d6-88335401eaf0f999-01 outer:exit 2b-ee5681d10d26e484d4ba7865c4c39f2e2f8232d6-e61f70e354a75683-01
2021-11-23T06:35:48.262Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:48.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-634f5995958d0ab9c3a2c3b2224b6b49d8340537-89a654c59d969e18-01 outer:exit 2b-634f5995958d0ab9c3a2c3b2224b6b49d8340537-57a55b7232c05f20-01
2021-11-23T06:35:48.289Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:48.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-19ce301d698e28011084254f1d077f150fa9cdc2-ed6cf98daafdcb50-01 outer:exit 2b-19ce301d698e28011084254f1d077f150fa9cdc2-2d8bcadae65767d2-01
2021-11-23T06:35:48.292Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:48.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f110fb53789db529fa3c6c90239ea29a350a4f-b277ab1bb141f534-01 outer:exit 2b-49f110fb53789db529fa3c6c90239ea29a350a4f-247773e1a1e98ef8-01
2021-11-23T06:35:48.295Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:48.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8554ef77e658628cd757945e2ed236d3987eac8-3b1842f6ce7168c3-01 outer:exit 2b-e8554ef77e658628cd757945e2ed236d3987eac8-970ed41ce61e2722-01
2021-11-23T06:35:48.299Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:48.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-999cfee38823847195b9afe68b289c88344b4c0f-0916913a9ae51d8b-01 outer:exit 2b-999cfee38823847195b9afe68b289c88344b4c0f-d79ab1cc3920ea2d-01
2021-11-23T06:35:48.302Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:48.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-f83fe208dca8a3de44bf29346c918afa693f462f-d8da862f83d10597-01 outer:exit 2b-f83fe208dca8a3de44bf29346c918afa693f462f-d5aef3a9b8a2ce50-01
2021-11-23T06:35:48.307Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:48.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dcce4d734a734dda33d0b09071ce2030e468021-22db80341172d435-01 outer:exit 2b-5dcce4d734a734dda33d0b09071ce2030e468021-0b933867239e8e47-01
2021-11-23T06:35:48.310Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:48.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-47a3aa71f0f93f689232c7ab033d73448d668750-2b0fad4d9a5631b8-01 outer:exit 2b-47a3aa71f0f93f689232c7ab033d73448d668750-30173928c35ba74b-01
2021-11-23T06:35:48.312Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:48.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb5e5782b2d46bc9c53a044c5206be23d9acb1f-c6afb7176af103ec-01 outer:exit 2b-7eb5e5782b2d46bc9c53a044c5206be23d9acb1f-a8ad0f9d35069295-01
2021-11-23T06:35:48.315Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:48.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5948def172ca5a3bf99a7ddf5fa3a4e047dd31b-aeb7533f99c088b7-01 outer:exit 2b-c5948def172ca5a3bf99a7ddf5fa3a4e047dd31b-7e1fe96f10181672-01
2021-11-23T06:35:48.318Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:48.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-d50ca6db11d00b3e4ac8d89dca1d6986996aba48-2433e4843f0d1443-01 outer:exit 2b-d50ca6db11d00b3e4ac8d89dca1d6986996aba48-0377ae125af13a62-01
2021-11-23T06:35:48.324Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:48.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc6b5d9ba6d2ac13f3711711790583a05654fd81-610393b88d6ff7c0-01 outer:exit 2b-dc6b5d9ba6d2ac13f3711711790583a05654fd81-59e678b63a4efa7d-01
2021-11-23T06:35:48.337Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:48.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-f124a8aee6cf5f2303ae3a852306dc0d920c80f2-3ef56e87c3a0e45c-01 outer:exit 2b-f124a8aee6cf5f2303ae3a852306dc0d920c80f2-4d9ce9d6c2bceaa0-01
2021-11-23T06:35:48.379Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:48.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-1daebe82d925335859779406024b41b17bd2073e-151a8528e15f1914-01 outer:exit 2b-1daebe82d925335859779406024b41b17bd2073e-1a046cbd0f23f994-01
2021-11-23T06:35:48.382Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:48.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fc644e981596ae42c4f0dab1067cd52add2904b-be6a940631fd102c-01 outer:exit 2b-0fc644e981596ae42c4f0dab1067cd52add2904b-70863d28268eba72-01
2021-11-23T06:35:48.385Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:48.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d87cbcd6bbfc4f8f0a27121d47c0e9ad0abcb5a-0f757a081082004c-01 outer:exit 2b-2d87cbcd6bbfc4f8f0a27121d47c0e9ad0abcb5a-c7170b545047f3fe-01
2021-11-23T06:35:48.387Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:48.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca3831adcef334b89de885ec172b47e6e760b643-f7980cb3672c4eb4-01 outer:exit 2b-ca3831adcef334b89de885ec172b47e6e760b643-e757a23eaa014995-01
2021-11-23T06:35:48.390Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:48.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ddb160a04283921dfc15069131a04b6dea41cf-16310e801aeccca6-01 outer:exit 2b-d0ddb160a04283921dfc15069131a04b6dea41cf-7325249ea9bb343b-01
2021-11-23T06:35:48.392Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:48.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-c24718015d1f922a0c993157cca37a191489f637-77800b388ac0548a-01 outer:exit 2b-c24718015d1f922a0c993157cca37a191489f637-6e25a981bacd9090-01
2021-11-23T06:35:48.394Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:48.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-922eb47e40b8352235e9a887b47d4f0d6fd407f8-ee46bca65d8f35ac-01 outer:exit 2b-922eb47e40b8352235e9a887b47d4f0d6fd407f8-5498396550183b9e-01
2021-11-23T06:35:48.396Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:48.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3d80eb4ddb4d1b53f0d7f4d10aae6f5165687e9-d487b17f54e766f0-01 outer:exit 2b-c3d80eb4ddb4d1b53f0d7f4d10aae6f5165687e9-3d373f75e6ca5de0-01
2021-11-23T06:35:48.398Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:48.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-543f5c25f5f6c14e259f5acb27971a2e6f6d71a0-a0a48873c17227f3-01 outer:exit 2b-543f5c25f5f6c14e259f5acb27971a2e6f6d71a0-29e84a587a720535-01
2021-11-23T06:35:48.401Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:48.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-45c09ae9c59101a6786469220e4802e53b3d3001-17a95ae0e6dd525d-01 outer:exit 2b-45c09ae9c59101a6786469220e4802e53b3d3001-8e887a8ccaf63d45-01
2021-11-23T06:35:48.403Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:48.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-985fe8e6f1b684afc8954ca15ddee3ff4f8ee2b1-07c2a840f796db15-01 outer:exit 2b-985fe8e6f1b684afc8954ca15ddee3ff4f8ee2b1-453860a448ae93bf-01
2021-11-23T06:35:48.406Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:48.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-34027aa944c4569ce71bfedea5000fa256acc970-6254c49c4f2365f9-01 outer:exit 2b-34027aa944c4569ce71bfedea5000fa256acc970-918da16c717ce0a3-01
2021-11-23T06:35:48.408Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:48.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-51ab53106b03cf7b2e8b10cc799a2764cf12db84-03bca18b9ec0f69c-01 outer:exit 2b-51ab53106b03cf7b2e8b10cc799a2764cf12db84-a7d324ed7451c863-01
2021-11-23T06:35:48.417Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:48.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0b0c09ef90313da997c4f8544988df37df6a36b-cf9d4e75a8c0a2ce-01 outer:exit 2b-f0b0c09ef90313da997c4f8544988df37df6a36b-77b3e95fdbf4cf52-01
2021-11-23T06:35:48.421Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:48.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-141e24216888ba33a2a3c4a9896df01cd17df801-af41538ad51354e1-01 outer:exit 2b-141e24216888ba33a2a3c4a9896df01cd17df801-e3e69264b7848862-01
2021-11-23T06:35:48.429Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:48.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-d118ba657b9099de4d3687a13918d67dcc1a13de-412d03f3e8676b4d-01 outer:exit 2b-d118ba657b9099de4d3687a13918d67dcc1a13de-f19bd8386ab1b2ec-01
2021-11-23T06:35:48.434Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:48.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4a188bc02fcf66fcfe7afe8dbabc5e59027f852-36fe7c61c02d814c-01 outer:exit 2b-d4a188bc02fcf66fcfe7afe8dbabc5e59027f852-6a6860b6c818d355-01
2021-11-23T06:35:48.436Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:48.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-1639e13ff101031ad2c3fee680cd44a27a8dfdaa-39a20d8fc1da3226-01 outer:exit 2b-1639e13ff101031ad2c3fee680cd44a27a8dfdaa-c37384c146c30556-01
2021-11-23T06:35:48.439Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:48.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-bff013f1b1a2d52e270ac89c3308efc165a473e4-de0aca7efc963b7d-01 outer:exit 2b-bff013f1b1a2d52e270ac89c3308efc165a473e4-604efcd09590e975-01
2021-11-23T06:35:48.445Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:48.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e86ecb279f4316ec24cf9113170606cd9eaeb7e-a4145785fbfa204c-01 outer:exit 2b-5e86ecb279f4316ec24cf9113170606cd9eaeb7e-ee9cb9ca13f034be-01
2021-11-23T06:35:48.447Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:48.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5eace42596294a5037d8d0f815e9c6c1c0caf50-84d965a33dbc8521-01 outer:exit 2b-b5eace42596294a5037d8d0f815e9c6c1c0caf50-bbd39f649811651e-01
2021-11-23T06:35:48.449Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:48.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-43f7326e2a44fed805755246294b929ea6b67b4b-8723869dbf793bdf-01 outer:exit 2b-43f7326e2a44fed805755246294b929ea6b67b4b-0dc287c60c588afe-01
2021-11-23T06:35:48.451Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:48.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c09e8e8e97cf14a74dd6875a7b3960ea2418050-2a7dc0a2a1a7f4dc-01 outer:exit 2b-3c09e8e8e97cf14a74dd6875a7b3960ea2418050-633057283c7cf478-01
2021-11-23T06:35:48.453Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:48.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5c49cc5947bd025444f188faba239bd32454099-7ed5aa2275137022-01 outer:exit 2b-b5c49cc5947bd025444f188faba239bd32454099-33e98fbcf1d87d61-01
2021-11-23T06:35:48.455Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:48.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cd390fce067d49a054fbb51fdd2478e6a504094-758eeaec797c308d-01 outer:exit 2b-0cd390fce067d49a054fbb51fdd2478e6a504094-d75dc6affcadc363-01
2021-11-23T06:35:48.462Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:48.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-61b6a1cbee263a50d4eda8129249175faaf286c6-5ec54d95fa451861-01 outer:exit 2b-61b6a1cbee263a50d4eda8129249175faaf286c6-dfe874ee447caf33-01
2021-11-23T06:35:48.469Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:48.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4debd3dec7fa2c35db7613022576546433bd67b-195908609898d9da-01 outer:exit 2b-c4debd3dec7fa2c35db7613022576546433bd67b-fde031ab84c431b2-01
2021-11-23T06:35:48.472Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:48.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-966e88ec74bf1401cd1a2ba1ba6ade0ffe889059-2bbddee612c6680c-01 outer:exit 2b-966e88ec74bf1401cd1a2ba1ba6ade0ffe889059-f3d673ae0dbdf6e0-01
2021-11-23T06:35:48.475Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:48.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-e30162e932ff875e68606fcfda565a0d4b4614c0-0203fa7c6c7d3fe8-01 outer:exit 2b-e30162e932ff875e68606fcfda565a0d4b4614c0-e1f97eae6757ef94-01
2021-11-23T06:35:48.477Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:48.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3ee6538448bda484185458e515656dbf1d3dc9e-a32f54f95a88259c-01 outer:exit 2b-b3ee6538448bda484185458e515656dbf1d3dc9e-6a39e7cee4eb211e-01
2021-11-23T06:35:48.502Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (275ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.6
updated 1 package and audited 1085 packages in 4.051s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:35:53.696Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:35:53.697Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:35:53.697Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:35:53.697Z appoptics:debug using context provider: ace-context
2021-11-23T06:35:53.838Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:35:54.063Z appoptics:patching patched crypto 
2021-11-23T06:35:54.086Z appoptics:patching patched https 
2021-11-23T06:35:54.086Z appoptics:patching patched http 
2021-11-23T06:35:54.203Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:35:54.203Z appoptics:patching patched fs 
2021-11-23T06:35:54.238Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v12.22.7)
2021-11-23T06:35:54.247Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-11-23T06:35:54.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-0046a43286ba8fc30ea34e4993f9cc8e45ed5cc6-6ba1bbf327448c73-01 outer:exit 2b-0046a43286ba8fc30ea34e4993f9cc8e45ed5cc6-987aff83f111d54f-01
2021-11-23T06:35:54.306Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:35:54.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eb7d0e1f2431c72aae460650cc3a1c9509702f9-77e6e8e8bc14ebb3-01 outer:exit 2b-8eb7d0e1f2431c72aae460650cc3a1c9509702f9-504c14d765970e34-01
2021-11-23T06:35:54.343Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:35:54.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-bee55b751d5478a21e0e9703b7ad6be3a46757db-da9eee756d4fefe4-01 outer:exit 2b-bee55b751d5478a21e0e9703b7ad6be3a46757db-f549c7aa9932bd76-01
2021-11-23T06:35:54.347Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:35:54.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d57f1f174a47d2ce96457bb20b9fba8c42c68d7-05eea74406d86279-01 outer:exit 2b-8d57f1f174a47d2ce96457bb20b9fba8c42c68d7-a3b5ecd79420d74b-01
2021-11-23T06:35:54.350Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:35:54.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-32cc7c1a5c25ec3eeb9b3ade908cd9cfd95ba627-8e26b8b3de26f816-01 outer:exit 2b-32cc7c1a5c25ec3eeb9b3ade908cd9cfd95ba627-5b5dae9bf323b0c0-01
2021-11-23T06:35:54.359Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:35:54.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-30061593ef23aec05fcb55b48e62b231369847c1-62614a3d59005cdd-01 outer:exit 2b-30061593ef23aec05fcb55b48e62b231369847c1-2f97738c89e4c126-01
2021-11-23T06:35:54.363Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:35:54.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-528ff8d8958d59a89da528e9c868e70513f19f70-76a19ea54a1576d2-01 outer:exit 2b-528ff8d8958d59a89da528e9c868e70513f19f70-86431a24f63a0253-01
2021-11-23T06:35:54.379Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:35:54.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2e022008b353086a77f0accee799e8a2e0e097e-32f21b4feeed9a34-01 outer:exit 2b-b2e022008b353086a77f0accee799e8a2e0e097e-af6de07adc320392-01
2021-11-23T06:35:54.385Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:35:54.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-2178c32fe592529a7f57b3748497996f4848855e-b5fe765c1e021359-01 outer:exit 2b-2178c32fe592529a7f57b3748497996f4848855e-cb3c9bd2ebd52fc2-01
2021-11-23T06:35:54.387Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:35:54.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ae90c81a47500fe4ecdce9787dde8fbc72b33a7-1176cd0cde09986b-01 outer:exit 2b-2ae90c81a47500fe4ecdce9787dde8fbc72b33a7-cd1b202f44ad81c9-01
2021-11-23T06:35:54.394Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:35:54.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-8055a68f170b31839da62bbff21e1ac142ea0d06-e7646e897d1087fd-01 outer:exit 2b-8055a68f170b31839da62bbff21e1ac142ea0d06-3593603dc2d6b003-01
2021-11-23T06:35:54.400Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:35:54.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-230e48b121060d53d4e1079d869a8965c1195e99-c212e89ad0aad6db-01 outer:exit 2b-230e48b121060d53d4e1079d869a8965c1195e99-84f56fd8671db0c3-01
2021-11-23T06:35:54.407Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:35:54.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-5898aea2985dc5770e417b1055170598eb2f4516-0db464861f0f1d4e-01 outer:exit 2b-5898aea2985dc5770e417b1055170598eb2f4516-ab16d98c4c60495c-01
2021-11-23T06:35:54.431Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:35:54.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f7ea1b0070dc73c8cea28b6f46984e61b447bd9-218a6889de0b0f23-01 outer:exit 2b-6f7ea1b0070dc73c8cea28b6f46984e61b447bd9-fdf8a3860b3ae78b-01
2021-11-23T06:35:54.495Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:35:54.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dabc1153845cbc394016764f0c076867ab90902-9289c5e147436fea-01 outer:exit 2b-3dabc1153845cbc394016764f0c076867ab90902-e848c9706d30e773-01
2021-11-23T06:35:54.500Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:35:54.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a3ba9063c3f00be222aa7fed44a0bb73fdfd1a1-d3f9bec64975a56f-01 outer:exit 2b-2a3ba9063c3f00be222aa7fed44a0bb73fdfd1a1-a783453d84b051f7-01
2021-11-23T06:35:54.502Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:35:54.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b27dfce891cb6b3d60544da94508f748562c203-3cc596182b33255f-01 outer:exit 2b-9b27dfce891cb6b3d60544da94508f748562c203-08492d2d35ac8b4c-01
2021-11-23T06:35:54.506Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:35:54.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-905456cd7981ac9c646a624e44e1fcb472ae511d-a817b33ca16acd1d-01 outer:exit 2b-905456cd7981ac9c646a624e44e1fcb472ae511d-448de3bfd7b6e18f-01
2021-11-23T06:35:54.508Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:35:54.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac9af0d488de561b01e387373e62bb9ec8a37fee-6fd01d68a13e6fbc-01 outer:exit 2b-ac9af0d488de561b01e387373e62bb9ec8a37fee-fa3826be5ee46c9f-01
2021-11-23T06:35:54.510Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:35:54.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-eabfc1489db0a8e2e16decc28450c5b4d4adf8e0-82435da85d2b31f0-01 outer:exit 2b-eabfc1489db0a8e2e16decc28450c5b4d4adf8e0-8f7d650efacdff77-01
2021-11-23T06:35:54.512Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:35:54.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff8dbabfe4e93a1875463df3d7a633c3a51c3154-3fb4957b5ef4994c-01 outer:exit 2b-ff8dbabfe4e93a1875463df3d7a633c3a51c3154-ba1dcd2e6090c637-01
2021-11-23T06:35:54.520Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:35:54.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-468ea3589283e68e8349507d3c907a0a20836b50-fdf1bf5ebe61d47c-01 outer:exit 2b-468ea3589283e68e8349507d3c907a0a20836b50-b00856c08aa07789-01
2021-11-23T06:35:54.526Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:35:54.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-36f26f0c9e655753913f989bcf2e753a47b8c4ad-8e45cdd87964d1a2-01 outer:exit 2b-36f26f0c9e655753913f989bcf2e753a47b8c4ad-9e1744d78f02cf96-01
2021-11-23T06:35:54.529Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:35:54.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-470ba10b783ff19506c483155cea6deffc43a179-5f64d34a19e4c6bb-01 outer:exit 2b-470ba10b783ff19506c483155cea6deffc43a179-06e93c23bc3be034-01
2021-11-23T06:35:54.533Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:35:54.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1e364035bd8c7b8a3d5b912c12a168fc1564904-55aa7343ee9c9321-01 outer:exit 2b-c1e364035bd8c7b8a3d5b912c12a168fc1564904-46f985fca7863a03-01
2021-11-23T06:35:54.539Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:35:54.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c9281f0d01ef12af9bd8e2945a6938d8075d560-31bbf23b0b50f972-01 outer:exit 2b-1c9281f0d01ef12af9bd8e2945a6938d8075d560-26af9f8834a51052-01
2021-11-23T06:35:54.542Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:35:54.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-96a852861fde250a5c6e09068e707c0e4a88dee4-386200111c70e08b-01 outer:exit 2b-96a852861fde250a5c6e09068e707c0e4a88dee4-6a55f93d3d56af61-01
2021-11-23T06:35:54.549Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:35:54.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-360ebb3e3eb7ed5cd03e326e76349de1f3bd3302-776fb29c6db7ce3a-01 outer:exit 2b-360ebb3e3eb7ed5cd03e326e76349de1f3bd3302-ae85fa3b19cca868-01
2021-11-23T06:35:54.554Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:35:54.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-53fa995b9d0aa8e375b4fbbaf584ff8aaf874041-14885f0290ca2336-01 outer:exit 2b-53fa995b9d0aa8e375b4fbbaf584ff8aaf874041-c100c8a5acf312f2-01
2021-11-23T06:35:54.565Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:35:54.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-023bb24275362608554e1719365a7a8ecc0851ed-e01044f1f5ae3dea-01 outer:exit 2b-023bb24275362608554e1719365a7a8ecc0851ed-4fc1a055343b1ba2-01
2021-11-23T06:35:54.571Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:35:54.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-f60958ac3076b2da4f15e28719ac982575756d60-eb3a1a1b46745a7b-01 outer:exit 2b-f60958ac3076b2da4f15e28719ac982575756d60-569c0e87c57022e1-01
2021-11-23T06:35:54.574Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:35:54.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb1f4c7695fa310f2188a14d37819d04894718b6-68ac23c2d89c5187-01 outer:exit 2b-eb1f4c7695fa310f2188a14d37819d04894718b6-423c71876ad94378-01
2021-11-23T06:35:54.579Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:35:54.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-f75096ae9746404c4b8b8a4513a6fdf51927a149-2e1cff2572298241-01 outer:exit 2b-f75096ae9746404c4b8b8a4513a6fdf51927a149-f8a81bc6d07e79e9-01
2021-11-23T06:35:54.585Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:35:54.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dfdf62332004e32ebc5cbed6840181434ca45a1-1a43e9e33f3e1fb3-01 outer:exit 2b-5dfdf62332004e32ebc5cbed6840181434ca45a1-187696b335e603f5-01
2021-11-23T06:35:54.587Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:35:54.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-6caf3d9c1edaed3d1f9a0df52fbb7d1b95cd6a07-e1b2b6f634dc531e-01 outer:exit 2b-6caf3d9c1edaed3d1f9a0df52fbb7d1b95cd6a07-d19a9bda65dfbb7d-01
2021-11-23T06:35:54.589Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:35:54.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa34915c2a4c591fd014fd65ee2f327f26a44bac-3791deba831edba2-01 outer:exit 2b-aa34915c2a4c591fd014fd65ee2f327f26a44bac-d6fb6bbecb3d23af-01
2021-11-23T06:35:54.593Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:35:54.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d3240153c0a818b798c32c09d57bdf2ecadca3-be3068472df9fb81-01 outer:exit 2b-86d3240153c0a818b798c32c09d57bdf2ecadca3-17b67e874f6705d4-01
2021-11-23T06:35:54.596Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:35:54.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d3a5062477cf03b58797a316cc10a8f9d8f1787-a5af9b5c61a44c71-01 outer:exit 2b-0d3a5062477cf03b58797a316cc10a8f9d8f1787-359606b3f11d6362-01
2021-11-23T06:35:54.598Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:35:54.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-b11915b6049769284d7859607de9f2f019452e59-138941086e3af0c9-01 outer:exit 2b-b11915b6049769284d7859607de9f2f019452e59-c65dad402fa0d93b-01
2021-11-23T06:35:54.621Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:35:54.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d854a6d161e2036cad8b3b3d5c69d441da13405-653a0a3c09440603-01 outer:exit 2b-2d854a6d161e2036cad8b3b3d5c69d441da13405-c8e041e287ba114e-01
2021-11-23T06:35:54.637Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:35:54.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-42861589baed15669a2e69b055ea3f7cb2a0a332-8dbe7cf17b02fbce-01 outer:exit 2b-42861589baed15669a2e69b055ea3f7cb2a0a332-dfbe413886ec3bcf-01
2021-11-23T06:35:54.641Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:35:54.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-04ae777e4e627a2eb23637e2d3a75c92d68298fd-1cb92d00eb651678-01 outer:exit 2b-04ae777e4e627a2eb23637e2d3a75c92d68298fd-76a218365c444661-01
2021-11-23T06:35:54.644Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:35:54.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d49b1c6230f3ebb0308ecf22af04b18901d4319-27336d1529a4d902-01 outer:exit 2b-4d49b1c6230f3ebb0308ecf22af04b18901d4319-939086769511402f-01
2021-11-23T06:35:54.649Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:35:54.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f42375a35ed29a51a44753d90432989c9db0b73-0aeba596d4a4abd7-01 outer:exit 2b-3f42375a35ed29a51a44753d90432989c9db0b73-168391d174383a9b-01
2021-11-23T06:35:54.701Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (438ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.7
updated 1 package and audited 1085 packages in 4.479s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:00.399Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:00.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:00.399Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:00.400Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:00.461Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:00.587Z appoptics:patching patched crypto 
2021-11-23T06:36:00.604Z appoptics:patching patched https 
2021-11-23T06:36:00.604Z appoptics:patching patched http 
2021-11-23T06:36:00.641Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:00.642Z appoptics:patching patched fs 
2021-11-23T06:36:00.664Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v12.22.7)
2021-11-23T06:36:00.669Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-11-23T06:36:00.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-198f947d6ce0f46f36ee1ce99816caba3ead05e8-eec5d1607e2ee09a-01 outer:exit 2b-198f947d6ce0f46f36ee1ce99816caba3ead05e8-794680e0400b3423-01
2021-11-23T06:36:00.709Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:00.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-30ef389ca1d81d6454e21db042d86cbcc5cd8481-0377226c3760002a-01 outer:exit 2b-30ef389ca1d81d6454e21db042d86cbcc5cd8481-11eef4bfffa0eec1-01
2021-11-23T06:36:00.749Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:00.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-df00e1b4e2459b05cc592d8e426b9a5dad9cb66f-b54953db85c0c7a6-01 outer:exit 2b-df00e1b4e2459b05cc592d8e426b9a5dad9cb66f-0cdbdbb47eaf0456-01
2021-11-23T06:36:00.752Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:00.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-364eab7a401ac0b8c805b3bd94850650481fc1cb-b367465c5109a73d-01 outer:exit 2b-364eab7a401ac0b8c805b3bd94850650481fc1cb-7794c826f74477f2-01
2021-11-23T06:36:00.755Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:00.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-09d1efa12f1203afa831ad3cdc827dda318990e4-7a0f8459c46d3ae4-01 outer:exit 2b-09d1efa12f1203afa831ad3cdc827dda318990e4-a5dcab24c4a177f5-01
2021-11-23T06:36:00.760Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:00.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-74218c62fff67c2f06d45b96d892178eb855f334-8baf41279ad6954a-01 outer:exit 2b-74218c62fff67c2f06d45b96d892178eb855f334-1edbd30b06f14268-01
2021-11-23T06:36:00.763Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:00.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c8a4cfd45338a0b589170b007db615b2f8981e5-7de78d3f45accd9a-01 outer:exit 2b-5c8a4cfd45338a0b589170b007db615b2f8981e5-b068346609af2159-01
2021-11-23T06:36:00.765Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:00.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-f46102905fcad38e6d380a1544d87d3307b5436f-adf6a860cf05835f-01 outer:exit 2b-f46102905fcad38e6d380a1544d87d3307b5436f-deb12bc97f3ebd42-01
2021-11-23T06:36:00.773Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:00.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b32568d289d4a60cd2c1ed8dc6fd07853305139-593a91b442457f70-01 outer:exit 2b-4b32568d289d4a60cd2c1ed8dc6fd07853305139-624f18573e184c52-01
2021-11-23T06:36:00.775Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:00.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f9ecc4919500fa4baf57411b99b8c8ccbe2eef8-4e7a88e70404c141-01 outer:exit 2b-6f9ecc4919500fa4baf57411b99b8c8ccbe2eef8-dad93f691072dd7d-01
2021-11-23T06:36:00.778Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:00.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe4e804d942e1961a44309fe1ef076a530ecaa3a-103de99938acb136-01 outer:exit 2b-fe4e804d942e1961a44309fe1ef076a530ecaa3a-6d65f024618053e9-01
2021-11-23T06:36:00.781Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:00.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac73732ae7b3d37de51206300a3247bc04f0f21f-2eda92b7895fce34-01 outer:exit 2b-ac73732ae7b3d37de51206300a3247bc04f0f21f-431388fd21f1f4f3-01
2021-11-23T06:36:00.787Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:00.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-a566423d27b9bdd53d0caddd91913ccd8085db8a-64fc417307297562-01 outer:exit 2b-a566423d27b9bdd53d0caddd91913ccd8085db8a-fbe3f1d78fa77426-01
2021-11-23T06:36:00.802Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:00.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-57309afdb31d695d216799a0ba195f19f1a68915-2586e30c160f647a-01 outer:exit 2b-57309afdb31d695d216799a0ba195f19f1a68915-6b03e72aff05c55d-01
2021-11-23T06:36:00.828Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:00.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-954f0cfe5981e3529a934b45e1c852dcdf9b176e-98e12a767c9c4ce7-01 outer:exit 2b-954f0cfe5981e3529a934b45e1c852dcdf9b176e-d009d76a64f847b1-01
2021-11-23T06:36:00.831Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:00.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-705430f8d7f3d09f22eaedd7ae27197279a15aca-6672889ce8f5c80b-01 outer:exit 2b-705430f8d7f3d09f22eaedd7ae27197279a15aca-49e96db3b4007b62-01
2021-11-23T06:36:00.833Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:00.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-99ad76ac652ea1128ad4f889b987417127e96d7b-c17ca616ced24254-01 outer:exit 2b-99ad76ac652ea1128ad4f889b987417127e96d7b-f651896e33df7954-01
2021-11-23T06:36:00.836Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:00.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-c246ec742fd59dc235d767a2951f778b3aceee79-e464438aecb0831e-01 outer:exit 2b-c246ec742fd59dc235d767a2951f778b3aceee79-b54c4e21851c373f-01
2021-11-23T06:36:00.838Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:00.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-977fc4c59944e26c641049d549cf2c9416b57ab0-e0b6a692b86ab606-01 outer:exit 2b-977fc4c59944e26c641049d549cf2c9416b57ab0-efb7f9ee1ce004db-01
2021-11-23T06:36:00.840Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:00.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-c79df2126fedfc38ede21d25bf4d4087f5a7bfd3-05edf7a36de6781e-01 outer:exit 2b-c79df2126fedfc38ede21d25bf4d4087f5a7bfd3-c4ee5179bdebe229-01
2021-11-23T06:36:00.842Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:00.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f890bdba95ec04bd64c279fc2e4d826115e7b33-546f4df7697a6523-01 outer:exit 2b-0f890bdba95ec04bd64c279fc2e4d826115e7b33-172b85d0bdf9871c-01
2021-11-23T06:36:00.844Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:00.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-4669131b60fe02d975c5c82aefbedadf67e49f21-a85cb2f65375d488-01 outer:exit 2b-4669131b60fe02d975c5c82aefbedadf67e49f21-588f1d197584dcdc-01
2021-11-23T06:36:00.846Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:00.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-7526ea78645c494cc9c6e0891aec46404cb9de8c-a319ccc82a0e8a4f-01 outer:exit 2b-7526ea78645c494cc9c6e0891aec46404cb9de8c-30bd10e8a3ccc802-01
2021-11-23T06:36:00.849Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:00.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-defa86b11eb462760f7af5aa825c8eeacbaaf17c-fec29893ee7755e5-01 outer:exit 2b-defa86b11eb462760f7af5aa825c8eeacbaaf17c-9316be95973ee764-01
2021-11-23T06:36:00.852Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:00.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-f27e36b794bcb6ada89947681f183cfe840848ea-7b55873f39ab3f82-01 outer:exit 2b-f27e36b794bcb6ada89947681f183cfe840848ea-bc781263978d9fbc-01
2021-11-23T06:36:00.854Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:00.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-f704b68ef05f200923821e7a7fc1e424c64c8189-c0ebd05003fd973f-01 outer:exit 2b-f704b68ef05f200923821e7a7fc1e424c64c8189-051167e6861ad5f2-01
2021-11-23T06:36:00.857Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:00.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cd9a351294487c416da28eb13a10c6514957b17-fa71e03b9774a49f-01 outer:exit 2b-8cd9a351294487c416da28eb13a10c6514957b17-40892161f77e048a-01
2021-11-23T06:36:00.864Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:00.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dd7261f863a7a4f59ff770bd548eeae1aab32c4-5932d648a4012451-01 outer:exit 2b-7dd7261f863a7a4f59ff770bd548eeae1aab32c4-4e4e42bee5a216f8-01
2021-11-23T06:36:00.868Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:00.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dc2ad64b4fea784b5f5b8b1a6e2b70a186ebc87-cd05a7982067d298-01 outer:exit 2b-5dc2ad64b4fea784b5f5b8b1a6e2b70a186ebc87-0ab166405bda4d76-01
2021-11-23T06:36:00.876Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:00.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f7b40273622a725ad20cc9aa560210b2daf1ef4-6cb8b49a341e446d-01 outer:exit 2b-3f7b40273622a725ad20cc9aa560210b2daf1ef4-a35985dfcd32a673-01
2021-11-23T06:36:00.881Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:00.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b5221a67333491bef40e35c34b4e5b957730ce6-46e2da776de21922-01 outer:exit 2b-8b5221a67333491bef40e35c34b4e5b957730ce6-4cb67996701bd84b-01
2021-11-23T06:36:00.883Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:00.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-75777417e2a3fe0ace40334d0fa2ac5a4cbfdeb4-0c9346a4539c107f-01 outer:exit 2b-75777417e2a3fe0ace40334d0fa2ac5a4cbfdeb4-8d645c5f8327a1e5-01
2021-11-23T06:36:00.886Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:00.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3c3e4c44d0c3b8cbb45b674e6b8d4f243444459-dbf1a2d317619e14-01 outer:exit 2b-b3c3e4c44d0c3b8cbb45b674e6b8d4f243444459-5b4a7ecaa2c20f8c-01
2021-11-23T06:36:00.892Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:00.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-d654c40ceca0a6234b27b9810dd156021c159cc7-54fc4aea3712c500-01 outer:exit 2b-d654c40ceca0a6234b27b9810dd156021c159cc7-c60786fd80b54db0-01
2021-11-23T06:36:00.894Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:00.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-729095ca53dde98b1fcda624d4fede6fc8069cc3-e56101540e9a5210-01 outer:exit 2b-729095ca53dde98b1fcda624d4fede6fc8069cc3-ebff125ceb2a285e-01
2021-11-23T06:36:00.896Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:00.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-2944efbdf347700b3082d81e9e54c01ada7c7b03-c5d72cc7c3cb48c6-01 outer:exit 2b-2944efbdf347700b3082d81e9e54c01ada7c7b03-9cb077c027b31053-01
2021-11-23T06:36:00.898Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:00.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c8c08272c7465d035212766a7df38c92acafd7f-3e022da7bffd842f-01 outer:exit 2b-4c8c08272c7465d035212766a7df38c92acafd7f-128255d2a2f75976-01
2021-11-23T06:36:00.900Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:00.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-f82868b0938fa371488ed0f2e1470f6f76137fd5-c4fd79f8edf7913f-01 outer:exit 2b-f82868b0938fa371488ed0f2e1470f6f76137fd5-e57991f1f2dee516-01
2021-11-23T06:36:00.902Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:00.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-79e67da505d07706ecffd7e13262cb471696c272-46be7fa369c91f14-01 outer:exit 2b-79e67da505d07706ecffd7e13262cb471696c272-1588bbb44be3dc31-01
2021-11-23T06:36:00.910Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:00.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-283ec7401e011f52c947f484f1818aab5b244cfd-ab06db1264da4acf-01 outer:exit 2b-283ec7401e011f52c947f484f1818aab5b244cfd-03ff68cdc553349d-01
2021-11-23T06:36:00.917Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:00.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-587e60ff2f337ace2d9726f0ad6206a722e461fe-bff033516020a734-01 outer:exit 2b-587e60ff2f337ace2d9726f0ad6206a722e461fe-c089d9e2f6407060-01
2021-11-23T06:36:00.919Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:00.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-11b2b4599cb03b7bba17ad83b044eb804017a787-82a8472078663353-01 outer:exit 2b-11b2b4599cb03b7bba17ad83b044eb804017a787-62d88f449c4c53cc-01
2021-11-23T06:36:00.922Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:00.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e1d6cb56899851985ffb766e2767ae2238874c1-e760d04607f5bd20-01 outer:exit 2b-8e1d6cb56899851985ffb766e2767ae2238874c1-ba6393ed0aefba36-01
2021-11-23T06:36:00.925Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:00.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e0907dfca5ea714744b0000b3926e679746d601-2e65b24a0cf3b9e3-01 outer:exit 2b-3e0907dfca5ea714744b0000b3926e679746d601-cb74101c94448aad-01
2021-11-23T06:36:00.949Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (275ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.8
updated 1 package and audited 1085 packages in 4.657s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:06.899Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:06.899Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:06.899Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:06.900Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:06.976Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:07.131Z appoptics:patching patched crypto 
2021-11-23T06:36:07.148Z appoptics:patching patched https 
2021-11-23T06:36:07.148Z appoptics:patching patched http 
2021-11-23T06:36:07.223Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:07.223Z appoptics:patching patched fs 
2021-11-23T06:36:07.246Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v12.22.7)
2021-11-23T06:36:07.252Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-11-23T06:36:07.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-c857a8c88b4d47df28a5fba2a6072db50ba492bf-f5908978e3805a5e-01 outer:exit 2b-c857a8c88b4d47df28a5fba2a6072db50ba492bf-516d9ad78122cbc4-01
2021-11-23T06:36:07.297Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:07.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-d83b75972dabbe7a230f97460893a4edf9946be6-4045dfba05a24ebf-01 outer:exit 2b-d83b75972dabbe7a230f97460893a4edf9946be6-0b85f5793067057b-01
2021-11-23T06:36:07.333Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:07.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-072970b21ff63108a72ecb6773ffca7c900b4934-0140102dc3b45a1a-01 outer:exit 2b-072970b21ff63108a72ecb6773ffca7c900b4934-43500af9c2875439-01
2021-11-23T06:36:07.338Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:07.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec7b895c06ea8a85aeddc8d295fdeebc24f3facd-16ecf4bef4560df5-01 outer:exit 2b-ec7b895c06ea8a85aeddc8d295fdeebc24f3facd-7bced0dab91d2a36-01
2021-11-23T06:36:07.342Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:07.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-34343d473c008b8fb2bafd4254f13f62de3fe3d7-72459c19245a2176-01 outer:exit 2b-34343d473c008b8fb2bafd4254f13f62de3fe3d7-ac89ff5460fc1814-01
2021-11-23T06:36:07.347Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:07.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-45996050f15f087ae95dc6eb9957da6e205da9ff-09f8ee5866bfa912-01 outer:exit 2b-45996050f15f087ae95dc6eb9957da6e205da9ff-95ab6a6c7a317fcd-01
2021-11-23T06:36:07.351Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:07.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb77817a80966b825405920497a9cab6afc00ee1-49e999a6729b2d59-01 outer:exit 2b-cb77817a80966b825405920497a9cab6afc00ee1-d8ada102648e5e82-01
2021-11-23T06:36:07.355Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:07.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-222315d3c4dc6a4b3fff886a4204b2492baed911-bfcb5dba99a31344-01 outer:exit 2b-222315d3c4dc6a4b3fff886a4204b2492baed911-cf4c86607e29ad4b-01
2021-11-23T06:36:07.365Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:07.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-b503535389cfc2347c4d98384754327111c34b20-267dd829333aa134-01 outer:exit 2b-b503535389cfc2347c4d98384754327111c34b20-675e235d81cef3b5-01
2021-11-23T06:36:07.369Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:07.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ebaa270b532e7e0a062e260957706287a1c5b5-f4475c6567ea7d74-01 outer:exit 2b-e1ebaa270b532e7e0a062e260957706287a1c5b5-720f02628f19eeab-01
2021-11-23T06:36:07.374Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:07.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-46baa0567048e137f4f84796b2c74c883fea40c8-afc8122256705ebe-01 outer:exit 2b-46baa0567048e137f4f84796b2c74c883fea40c8-3ec04731c6e119a2-01
2021-11-23T06:36:07.379Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:07.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ba2abb20b6aec1c01fc39335bad5949f611c9e7-79d0298dbf9db1ca-01 outer:exit 2b-7ba2abb20b6aec1c01fc39335bad5949f611c9e7-28ee10b6a425d598-01
2021-11-23T06:36:07.388Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:07.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-61d1b0f9f9434df9bb6356108134471253bcf362-9f960c6f26064004-01 outer:exit 2b-61d1b0f9f9434df9bb6356108134471253bcf362-e05986cbcb0f5935-01
2021-11-23T06:36:07.406Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:07.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca048d02c7886a8bc722d695f877827716115500-788bfe4aaaa5a84e-01 outer:exit 2b-ca048d02c7886a8bc722d695f877827716115500-cf227e654917b285-01
2021-11-23T06:36:07.492Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:07.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-580556bffe2651612c85f81807c05fcfa0e300ec-75ba2811c10b602a-01 outer:exit 2b-580556bffe2651612c85f81807c05fcfa0e300ec-6d5b6bb3541a6ac4-01
2021-11-23T06:36:07.495Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:07.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f7c11ba67b9817d111a592aa445b3e32abbf3b0-32c07a10c536b6de-01 outer:exit 2b-8f7c11ba67b9817d111a592aa445b3e32abbf3b0-1f85e44f142a2f3d-01
2021-11-23T06:36:07.499Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:07.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-e40b18357370fa0034b553da57b12ed0409069a5-380905032704e367-01 outer:exit 2b-e40b18357370fa0034b553da57b12ed0409069a5-0f9c1039a32415bc-01
2021-11-23T06:36:07.503Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:07.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-a69caa68de9088d9c802edb791ab8a651ebb4b51-2bd1d7e0adef622c-01 outer:exit 2b-a69caa68de9088d9c802edb791ab8a651ebb4b51-d26819fddfed70c7-01
2021-11-23T06:36:07.513Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:07.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-338f47d1566b99fc228d438ff344aaa639799dcc-870ef2982c0a4713-01 outer:exit 2b-338f47d1566b99fc228d438ff344aaa639799dcc-96a4a24432e3e67a-01
2021-11-23T06:36:07.515Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:07.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-87bbdd39f490d9d69579a61c72dfc1bd3eaab3e1-3055e80d968fa557-01 outer:exit 2b-87bbdd39f490d9d69579a61c72dfc1bd3eaab3e1-cff2a92b778d7ff3-01
2021-11-23T06:36:07.518Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:07.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb9f6e41f4ba84da6ef9935dc14e64a47a9af4eb-7503adaa1db197f7-01 outer:exit 2b-cb9f6e41f4ba84da6ef9935dc14e64a47a9af4eb-603bb75a301827cd-01
2021-11-23T06:36:07.521Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:07.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ec6f3988b5893396494fda84821fd3918eb6c16-49712dc66d403de9-01 outer:exit 2b-0ec6f3988b5893396494fda84821fd3918eb6c16-484f012cf59ef72e-01
2021-11-23T06:36:07.525Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:07.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-15039e07b49a09bd3a120ce2ce6765691405263a-fbd7ff5b041481ff-01 outer:exit 2b-15039e07b49a09bd3a120ce2ce6765691405263a-09ae889ad4231d27-01
2021-11-23T06:36:07.529Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:07.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-70640f6212d8337c806747241393422a359b468d-05497bf5d88963dc-01 outer:exit 2b-70640f6212d8337c806747241393422a359b468d-66be34cf5c488d3e-01
2021-11-23T06:36:07.533Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:07.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dfb2ecf35346b60ccf89f03ce481307e6126763-72685b7d64f6dd8f-01 outer:exit 2b-9dfb2ecf35346b60ccf89f03ce481307e6126763-a28f2ff2c1060376-01
2021-11-23T06:36:07.539Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:07.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bffc8f320242fa83629a955c266825ccad9b2e5-8ca399d3f3523eb3-01 outer:exit 2b-3bffc8f320242fa83629a955c266825ccad9b2e5-a5e1f8fea12acf3b-01
2021-11-23T06:36:07.542Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:07.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-206c9cd6a8eb8742ab3d70f748c725571884897d-82c15aa950950f80-01 outer:exit 2b-206c9cd6a8eb8742ab3d70f748c725571884897d-19e138c962a21921-01
2021-11-23T06:36:07.551Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:07.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-48cdb5cb735031fc62dfd7d8f537236ef616d17f-6ddce25518bb10f4-01 outer:exit 2b-48cdb5cb735031fc62dfd7d8f537236ef616d17f-b2e69427688ed3cb-01
2021-11-23T06:36:07.558Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:07.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-9412717c6d9153b16f015791cae4edd76c55cab0-57566c3bae93f7b9-01 outer:exit 2b-9412717c6d9153b16f015791cae4edd76c55cab0-4420eb3245513b9f-01
2021-11-23T06:36:07.567Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:07.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0c0d77c3182064602b386d8d116f4d6bf387786-5317ef96afa99c40-01 outer:exit 2b-b0c0d77c3182064602b386d8d116f4d6bf387786-121d797752de36d5-01
2021-11-23T06:36:07.578Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:07.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-6af267189140fef5daaff9071ac35da739a20041-cf6ed2d48208d28d-01 outer:exit 2b-6af267189140fef5daaff9071ac35da739a20041-454da35d5561ac05-01
2021-11-23T06:36:07.581Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:07.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-930f6842664ef61e3c287af223775b7851cd4095-5b9a2f5f7e948537-01 outer:exit 2b-930f6842664ef61e3c287af223775b7851cd4095-26c09c84840f8d9a-01
2021-11-23T06:36:07.585Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:07.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-42faacd46dee2b13b9805e7a30973d9462574d29-63f3b6d2eef5f505-01 outer:exit 2b-42faacd46dee2b13b9805e7a30973d9462574d29-b1108fa43d31cad2-01
2021-11-23T06:36:07.592Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:07.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-de550478eba48f1b601c69d34b2834fe2012f54c-de45eb011026fde2-01 outer:exit 2b-de550478eba48f1b601c69d34b2834fe2012f54c-edc70b21e6a91d76-01
2021-11-23T06:36:07.594Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:07.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-319241fa905177d73c71afa1c10ddc150189d8d6-53465c1961e084f0-01 outer:exit 2b-319241fa905177d73c71afa1c10ddc150189d8d6-fda0c5c233d8af3b-01
2021-11-23T06:36:07.596Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:07.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-87fcf5e7e833689d80049ceea1a70f08ca1d2937-d5a84509da0fcfb5-01 outer:exit 2b-87fcf5e7e833689d80049ceea1a70f08ca1d2937-fb5dd0792bfebd78-01
2021-11-23T06:36:07.598Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:07.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb2b37c5888238bcdf500aa19d24a7e3ab0ef60d-815a4160ef785ee9-01 outer:exit 2b-cb2b37c5888238bcdf500aa19d24a7e3ab0ef60d-d9dc3c367efab42b-01
2021-11-23T06:36:07.603Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:07.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b56aa755b626a5e8b24c2c541cde5127ce33553-ec5fb8689aea263e-01 outer:exit 2b-8b56aa755b626a5e8b24c2c541cde5127ce33553-cebe0652420d1a3a-01
2021-11-23T06:36:07.610Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:07.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-1307adc961b3ce1b0b74841d59511858d8683a19-f5244a5f7a479eb7-01 outer:exit 2b-1307adc961b3ce1b0b74841d59511858d8683a19-ada4aa414a3d39e8-01
2021-11-23T06:36:07.618Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:07.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-76eaebf6e44e4ddd0e2e2f4fa271c6d865f3daa2-8842c83bf0150fb9-01 outer:exit 2b-76eaebf6e44e4ddd0e2e2f4fa271c6d865f3daa2-d820e43d4701e88e-01
2021-11-23T06:36:07.625Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:07.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a7eedbc64690900cf11e35557b9004d0a248abb-1ecaacfcfda09f4d-01 outer:exit 2b-8a7eedbc64690900cf11e35557b9004d0a248abb-91be74bd703fb80c-01
2021-11-23T06:36:07.627Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:07.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-faa1bd2afeac405f26cb5d303d856154eb96f503-0144c83898cb8be6-01 outer:exit 2b-faa1bd2afeac405f26cb5d303d856154eb96f503-7a3d3fbf07b4972c-01
2021-11-23T06:36:07.630Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:07.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-6895d5540fc7d42929f4e3908f5bc5f60edd4c0f-ef43400f9dd0c71b-01 outer:exit 2b-6895d5540fc7d42929f4e3908f5bc5f60edd4c0f-f461e4fcf20dbb46-01
2021-11-23T06:36:07.634Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:07.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-72b19d7b242d0849818545d37e1d440cf8547e8c-c9e6db1496e2f4ec-01 outer:exit 2b-72b19d7b242d0849818545d37e1d440cf8547e8c-6d6f322ead6f6259-01
2021-11-23T06:36:07.659Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (401ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.9
updated 1 package and audited 1085 packages in 3.914s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:12.512Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:12.512Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:12.512Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:12.513Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:12.576Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:12.700Z appoptics:patching patched crypto 
2021-11-23T06:36:12.717Z appoptics:patching patched https 
2021-11-23T06:36:12.717Z appoptics:patching patched http 
2021-11-23T06:36:12.754Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:12.755Z appoptics:patching patched fs 
2021-11-23T06:36:12.777Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v12.22.7)
2021-11-23T06:36:12.782Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-11-23T06:36:12.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-9619be2bf697380e95adf6ef853548dd49e32f3e-1ef53a18b3594b5b-01 outer:exit 2b-9619be2bf697380e95adf6ef853548dd49e32f3e-0fc25c1277a55546-01
2021-11-23T06:36:12.822Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:12.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8b75b8e5b895f562c71f05355db4efcb33934b8-9f4ad6ba5fcc1a8c-01 outer:exit 2b-b8b75b8e5b895f562c71f05355db4efcb33934b8-68bb099d862be06f-01
2021-11-23T06:36:12.881Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:12.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f29490c32ce5b7bf043d226b0c94960e61a708d-f40ca6618b9e2a21-01 outer:exit 2b-0f29490c32ce5b7bf043d226b0c94960e61a708d-e9b685e08c52852d-01
2021-11-23T06:36:12.885Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:12.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d57aa391aa727354becee4418bafeb12c22ea2a-a2d55c55dee1b43c-01 outer:exit 2b-0d57aa391aa727354becee4418bafeb12c22ea2a-962b362573221c38-01
2021-11-23T06:36:12.888Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:12.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4a6ed7b41ad7185881d6ce56cb1b0126ba06907-224b0f4f76d8235c-01 outer:exit 2b-a4a6ed7b41ad7185881d6ce56cb1b0126ba06907-ccc020da2c04eb2d-01
2021-11-23T06:36:12.892Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:12.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-aac14c95bc65d15fcb8e549f9e123aee0ac69e0f-fb035965951bf077-01 outer:exit 2b-aac14c95bc65d15fcb8e549f9e123aee0ac69e0f-8e154e7be96d7ba7-01
2021-11-23T06:36:12.895Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:12.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-2101e8145478797ef76ab4a49d1644bef68213e5-958a7766f3b53c2f-01 outer:exit 2b-2101e8145478797ef76ab4a49d1644bef68213e5-e6bab442aae7a0da-01
2021-11-23T06:36:12.897Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:12.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-af149ad8e15994e503d9b501288a72ab21919140-23db135cf68b87da-01 outer:exit 2b-af149ad8e15994e503d9b501288a72ab21919140-02255c3919b28d94-01
2021-11-23T06:36:12.903Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:12.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-724f80a7631a0b8fb17ed7de237414c0c300f7d0-fdf0dd98545c6ad7-01 outer:exit 2b-724f80a7631a0b8fb17ed7de237414c0c300f7d0-e0377f8f04a123cc-01
2021-11-23T06:36:12.905Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:12.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-5667902db5d3c9af048f74274a0eff4da69c9012-ba0388dc373ba5a6-01 outer:exit 2b-5667902db5d3c9af048f74274a0eff4da69c9012-3be0ec38a7a45e34-01
2021-11-23T06:36:12.908Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:12.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-93995dbace15fdaf1957231f676360b5a14400c9-53f84a0b87739318-01 outer:exit 2b-93995dbace15fdaf1957231f676360b5a14400c9-8431f3f8923d81b0-01
2021-11-23T06:36:12.912Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:12.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-95582f4fc31273f63f495ba2a9154c88e37bc433-aae0047320372b40-01 outer:exit 2b-95582f4fc31273f63f495ba2a9154c88e37bc433-7b07937215d09a11-01
2021-11-23T06:36:12.930Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:12.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf7057381122fb7f2e44f6ced5c31c9697478c8e-0f7bfcf2d83c50ff-01 outer:exit 2b-cf7057381122fb7f2e44f6ced5c31c9697478c8e-2b50b8228302ac46-01
2021-11-23T06:36:12.944Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:12.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b20204e41439726a7d73e4752367f35e5633f78-49ef77eab849a54b-01 outer:exit 2b-7b20204e41439726a7d73e4752367f35e5633f78-a976e6f2f49cd731-01
2021-11-23T06:36:12.980Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:12.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-a79bfdff049754c6b594c375ce0dc71229a1a44d-7a883a531bf3fda7-01 outer:exit 2b-a79bfdff049754c6b594c375ce0dc71229a1a44d-e0dda865756a9ea0-01
2021-11-23T06:36:12.984Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:12.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b1cda14b5731253c855a70ad8772809d88add32-98dba58e627695da-01 outer:exit 2b-3b1cda14b5731253c855a70ad8772809d88add32-9cfe911312e37bd9-01
2021-11-23T06:36:12.986Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:12.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f0cbd9df7566002469bd69aa0d5dfcbd6ea7e33-41fc69eeb091a493-01 outer:exit 2b-4f0cbd9df7566002469bd69aa0d5dfcbd6ea7e33-d8375e8fda455827-01
2021-11-23T06:36:12.989Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:12.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-301cb702514b25ea3a0a2a30fdd7d31012ed47a7-d1d5b67b32d5a8b6-01 outer:exit 2b-301cb702514b25ea3a0a2a30fdd7d31012ed47a7-5f0acbc70ecfdc2e-01
2021-11-23T06:36:12.991Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:12.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac3b106bb50f572a9293ffb8124c8f6bb8270507-dddbf71d984d78a0-01 outer:exit 2b-ac3b106bb50f572a9293ffb8124c8f6bb8270507-8ffc8bae439995d1-01
2021-11-23T06:36:12.993Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:12.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-faf09aae63cdefa03073fccb7a1f02c4daff423d-5bdafa8309b6773f-01 outer:exit 2b-faf09aae63cdefa03073fccb7a1f02c4daff423d-27604a673745c7c7-01
2021-11-23T06:36:12.996Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:12.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-e21c221704e28d391f9a97bff8507687059548cd-0abbb319331f00f8-01 outer:exit 2b-e21c221704e28d391f9a97bff8507687059548cd-1b5f9bcc6d6c4cdc-01
2021-11-23T06:36:12.998Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:13.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-970963a97dec0552097c3da1b9a0b6f8c0efe36a-1742302c98c3b534-01 outer:exit 2b-970963a97dec0552097c3da1b9a0b6f8c0efe36a-3c7af11c6ad0767b-01
2021-11-23T06:36:13.000Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:13.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fea88aff261b06cf4458c6a3424057e5adc1ac8-0f14b72b7ec2f5a2-01 outer:exit 2b-9fea88aff261b06cf4458c6a3424057e5adc1ac8-d2b66c84317dfb48-01
2021-11-23T06:36:13.003Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:13.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eea8cca17f79a45201ea11405bbf4627bad0d62-df7938472acf746f-01 outer:exit 2b-1eea8cca17f79a45201ea11405bbf4627bad0d62-a2e3df5b318e6038-01
2021-11-23T06:36:13.006Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:13.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c1510fa47a0c8adb12fd2fea595bcbb8c97833b-142f298a59a031e3-01 outer:exit 2b-6c1510fa47a0c8adb12fd2fea595bcbb8c97833b-6ca134cd5eb2fa5f-01
2021-11-23T06:36:13.008Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:13.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-6238373b126e997847cf6bd222d65cd2eb0f487c-20acb388c0a97a5a-01 outer:exit 2b-6238373b126e997847cf6bd222d65cd2eb0f487c-4f4a88439a3995ea-01
2021-11-23T06:36:13.010Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:13.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8fc1225642538fc56b4823d21dade770d550cfd-d97419e0b7667d7c-01 outer:exit 2b-d8fc1225642538fc56b4823d21dade770d550cfd-45aa9ffd6c445359-01
2021-11-23T06:36:13.029Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:13.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc298f3c783144521fe32d25616bf6ed2352dad6-034826b862f7a737-01 outer:exit 2b-dc298f3c783144521fe32d25616bf6ed2352dad6-560c969e62148605-01
2021-11-23T06:36:13.045Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:13.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddcbab4113aa7aa7834a6ba4dc2a5a4dd797c8fa-db25dd52a5385f3a-01 outer:exit 2b-ddcbab4113aa7aa7834a6ba4dc2a5a4dd797c8fa-2b974feb1258c981-01
2021-11-23T06:36:13.053Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:13.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-548ef2d6ec1fd8b481b2825d2a5578aaf9d92147-0483986a07e94dab-01 outer:exit 2b-548ef2d6ec1fd8b481b2825d2a5578aaf9d92147-22ce4f8c9be15432-01
2021-11-23T06:36:13.059Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:13.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-c256e9570d8802ded0269fd98b8c1ba3ed0269e5-07639a1ff25e1080-01 outer:exit 2b-c256e9570d8802ded0269fd98b8c1ba3ed0269e5-6a3f4fc24d9771ca-01
2021-11-23T06:36:13.061Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:13.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e263045c268c3a32e65dded580961b16de9430b-ede0b4624f6f7766-01 outer:exit 2b-9e263045c268c3a32e65dded580961b16de9430b-7d4242d13d816380-01
2021-11-23T06:36:13.064Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:13.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f75ffb4956ddb690dc51eb423a337fa4a4d6db3-a497a26b7dfcc790-01 outer:exit 2b-4f75ffb4956ddb690dc51eb423a337fa4a4d6db3-caba5a97c45e2c57-01
2021-11-23T06:36:13.070Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:13.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-4597a706d5eadf8043c89ffc26743c37293c3c92-2c68b29c81accfba-01 outer:exit 2b-4597a706d5eadf8043c89ffc26743c37293c3c92-536018b9f9258ed6-01
2021-11-23T06:36:13.072Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:13.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-0edf925ea12928e25d72edb27b8bdbbb9ec17ae4-dc9b638fee049a7c-01 outer:exit 2b-0edf925ea12928e25d72edb27b8bdbbb9ec17ae4-c13126da89b5b2f4-01
2021-11-23T06:36:13.074Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:13.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-abf6dd92645826e2b79f5c146b1e81f6d719ad5e-38ce2c35b6cce7c2-01 outer:exit 2b-abf6dd92645826e2b79f5c146b1e81f6d719ad5e-e238d5288aadc2e4-01
2021-11-23T06:36:13.076Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:13.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ea40f9ad243c2b11bf87a4ed33053b383212d0d-6d97b9b4385ebd9e-01 outer:exit 2b-0ea40f9ad243c2b11bf87a4ed33053b383212d0d-736b7661c8f88b70-01
2021-11-23T06:36:13.078Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:13.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-73b7b4620125b39988b8d5cd9cec1a84306babce-08a1dde70466ccae-01 outer:exit 2b-73b7b4620125b39988b8d5cd9cec1a84306babce-8f434e37d446b3cc-01
2021-11-23T06:36:13.080Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:13.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-95258e87df0d57ae02de0d9aa001d1afe26aebf2-aef285c4eff31925-01 outer:exit 2b-95258e87df0d57ae02de0d9aa001d1afe26aebf2-52d9b9d1f0b1dddd-01
2021-11-23T06:36:13.088Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:13.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff6f51cfc4ab7d7d1b46221648b4b6f75b687436-7bea4c6a197178da-01 outer:exit 2b-ff6f51cfc4ab7d7d1b46221648b4b6f75b687436-2a2c64447cbfedf3-01
2021-11-23T06:36:13.095Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:13.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-173391a9f9d673a1f5a4e013cf9869fdd3e706c7-7f81db5b9999683a-01 outer:exit 2b-173391a9f9d673a1f5a4e013cf9869fdd3e706c7-3597e1afdada9974-01
2021-11-23T06:36:13.098Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:13.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-da5e83fb81ad874c201db8767555cc2f730684f0-e7166b228c745ed3-01 outer:exit 2b-da5e83fb81ad874c201db8767555cc2f730684f0-378d6e7b820da8c3-01
2021-11-23T06:36:13.100Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:13.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-1711aeb0c9d5f94c44d40a8936d0d5c79010a454-02da517b5cc503cb-01 outer:exit 2b-1711aeb0c9d5f94c44d40a8936d0d5c79010a454-18c369a8fda5ebf4-01
2021-11-23T06:36:13.116Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:13.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-40115804157e4c4525d4d022c8ada2b6f695842d-7f14033cac834a56-01 outer:exit 2b-40115804157e4c4525d4d022c8ada2b6f695842d-f875979d33d4d6c4-01
2021-11-23T06:36:13.141Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (353ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.10
updated 1 package and audited 1085 packages in 4.429s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:18.621Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:18.622Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:18.622Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:18.623Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:18.701Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:18.859Z appoptics:patching patched crypto 
2021-11-23T06:36:18.894Z appoptics:patching patched https 
2021-11-23T06:36:18.894Z appoptics:patching patched http 
2021-11-23T06:36:18.944Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:18.945Z appoptics:patching patched fs 
2021-11-23T06:36:18.969Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v12.22.7)
2021-11-23T06:36:18.975Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-11-23T06:36:19.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-135059b91d6b7bbdd613de0864b75ff724ecfae2-e8116f53533217ca-01 outer:exit 2b-135059b91d6b7bbdd613de0864b75ff724ecfae2-174eb68407db490d-01
2021-11-23T06:36:19.030Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:19.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d97eb47191e2cbef59fc7266ab81ff9842750e0-f2aecf2154f65f9e-01 outer:exit 2b-8d97eb47191e2cbef59fc7266ab81ff9842750e0-0f23d43bea572993-01
2021-11-23T06:36:19.088Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:19.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa5d3aa34df506338de1f5095c8132db70c66a6e-1998e66644a1d118-01 outer:exit 2b-fa5d3aa34df506338de1f5095c8132db70c66a6e-783581fd942e9733-01
2021-11-23T06:36:19.092Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:19.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-622a40fd589ba32efaf47008288ad7c8b876f4ac-959c04340db2d9d3-01 outer:exit 2b-622a40fd589ba32efaf47008288ad7c8b876f4ac-2bfe6ed07dc22f06-01
2021-11-23T06:36:19.095Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:19.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-70dc7ba67df8e64d0dd1fa882db1326eb5836203-8dd77fe0d2e7079d-01 outer:exit 2b-70dc7ba67df8e64d0dd1fa882db1326eb5836203-249fb870a43bfc9b-01
2021-11-23T06:36:19.101Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:19.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-b74b131a0c40096bd84e6a1b8f52e9a2f3b73cd1-405ee9730483b64c-01 outer:exit 2b-b74b131a0c40096bd84e6a1b8f52e9a2f3b73cd1-88f2d059cd6cd022-01
2021-11-23T06:36:19.104Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:19.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-577015109e76eb1c5539cab2f66261ad678b18ba-142e1f706a10dac3-01 outer:exit 2b-577015109e76eb1c5539cab2f66261ad678b18ba-353c126cbf1044aa-01
2021-11-23T06:36:19.111Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:19.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-11935135a9476a8499b1942581c67e0060d4f1db-2b62674ea54ad169-01 outer:exit 2b-11935135a9476a8499b1942581c67e0060d4f1db-57d9f6d4cd6061d2-01
2021-11-23T06:36:19.114Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:19.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-9df2ede46f1dcc6bb5a745aceb019147f9357b62-e95fc153eeb6cdcf-01 outer:exit 2b-9df2ede46f1dcc6bb5a745aceb019147f9357b62-d5ec2a69b3a0820e-01
2021-11-23T06:36:19.117Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:19.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-048bd0e061e2a7c97bb80b31d7eada4afec5ec4a-8a4a2e18fcc1dc44-01 outer:exit 2b-048bd0e061e2a7c97bb80b31d7eada4afec5ec4a-33f072dd59ad8aaa-01
2021-11-23T06:36:19.120Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:19.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b89b8691bbb5d44c3b4a46dbd94cc77bb09806a-ea7b66ae6b27a3ac-01 outer:exit 2b-1b89b8691bbb5d44c3b4a46dbd94cc77bb09806a-f7c292b93fc9989c-01
2021-11-23T06:36:19.125Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:19.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-1144ac7135c4a31ce397ba0d546e20743cca0ee4-3c1f4533b1164443-01 outer:exit 2b-1144ac7135c4a31ce397ba0d546e20743cca0ee4-63e3c3b694d30e95-01
2021-11-23T06:36:19.132Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:19.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ff7c75abd96a764f24b8b927e2fafd30cad4b38-4fb241b872750394-01 outer:exit 2b-0ff7c75abd96a764f24b8b927e2fafd30cad4b38-bc74f0e5e4f8d9ad-01
2021-11-23T06:36:19.153Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:19.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f0aedbb21d46fa29f00eedd938b7dc97e73eabe-fac6454d64593398-01 outer:exit 2b-9f0aedbb21d46fa29f00eedd938b7dc97e73eabe-7572c10114be9f17-01
2021-11-23T06:36:19.203Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:19.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-948f67376658ca66947eceff94fb0da848679751-9da966debd2d1c5c-01 outer:exit 2b-948f67376658ca66947eceff94fb0da848679751-d89566adf050bcb7-01
2021-11-23T06:36:19.207Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:19.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7f1ca2bc59dbe18ef90ed1de35dd40919a3b16c-304580fe83ce7dbd-01 outer:exit 2b-d7f1ca2bc59dbe18ef90ed1de35dd40919a3b16c-b1e2197ab2f2dc2e-01
2021-11-23T06:36:19.210Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:19.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8ee335d766a5077cb81d7f8293d5ad58eb8e258-a1d0417f0a57f025-01 outer:exit 2b-e8ee335d766a5077cb81d7f8293d5ad58eb8e258-52ff453a6342aa98-01
2021-11-23T06:36:19.214Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:19.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-14ae93728fc966ef4a1b31363165b4149d14317f-ea2d478cfb74a2a5-01 outer:exit 2b-14ae93728fc966ef4a1b31363165b4149d14317f-f26be95c1592657e-01
2021-11-23T06:36:19.217Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:19.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0102a557f983cac6fb2656d5e57a878c6b1d8d-fab0019595d13c5d-01 outer:exit 2b-8d0102a557f983cac6fb2656d5e57a878c6b1d8d-3785fc9113606f54-01
2021-11-23T06:36:19.226Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:19.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-40157ddec0352a28e9fc0439976b660bb1fb3911-c5af734e3340ae4c-01 outer:exit 2b-40157ddec0352a28e9fc0439976b660bb1fb3911-fe28ce8d289b4241-01
2021-11-23T06:36:19.228Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:19.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ca19263b4534af18788a52db64ff576184314a7-a2ecd8c012349a36-01 outer:exit 2b-7ca19263b4534af18788a52db64ff576184314a7-2530392cf8c8a0ed-01
2021-11-23T06:36:19.230Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:19.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-8992553d606d66559d5c7558051abaedf6610fdb-c1098866244d0180-01 outer:exit 2b-8992553d606d66559d5c7558051abaedf6610fdb-776d82c41c8c186c-01
2021-11-23T06:36:19.232Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:19.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1e5412844c54105e65d40379c4ab6d1b471caa4-0fd79106e2c382a1-01 outer:exit 2b-d1e5412844c54105e65d40379c4ab6d1b471caa4-2b35065a8ab792e7-01
2021-11-23T06:36:19.236Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:19.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-654187274cb26884d4e5321fa363ffbb0207eed5-a34f8bb3a3da0123-01 outer:exit 2b-654187274cb26884d4e5321fa363ffbb0207eed5-19a8a3550e5a2faf-01
2021-11-23T06:36:19.239Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:19.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-289031912ebea48f928b3f0504bd25e9de4f37f7-998246addbd230ea-01 outer:exit 2b-289031912ebea48f928b3f0504bd25e9de4f37f7-da8fb194ad4e8f8d-01
2021-11-23T06:36:19.241Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:19.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-281a01be6f0700ff9757e1fe63dcba4508acce21-865c84f52134cc1d-01 outer:exit 2b-281a01be6f0700ff9757e1fe63dcba4508acce21-481b785edd860e71-01
2021-11-23T06:36:19.244Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:19.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-1524871828c27b894a3c6fdea1da226d6af93fc4-ad3ea020ccc1087c-01 outer:exit 2b-1524871828c27b894a3c6fdea1da226d6af93fc4-a1b89ca28504454d-01
2021-11-23T06:36:19.255Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:19.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d2eaf5f45f87035ed5981eadcf20f11eaee70c5-a0560fbafbc759f4-01 outer:exit 2b-2d2eaf5f45f87035ed5981eadcf20f11eaee70c5-bcd1cad1d424e916-01
2021-11-23T06:36:19.261Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:19.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-db9d7e295f9c57e0b26cd0a8984e090703b0d538-cccf9ea074d24cb2-01 outer:exit 2b-db9d7e295f9c57e0b26cd0a8984e090703b0d538-7254c7f5da8dfcb7-01
2021-11-23T06:36:19.271Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:19.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1947d121cb0bfbf16755ac0ac36bae79dbe0bbc-3a63c74a639a7630-01 outer:exit 2b-b1947d121cb0bfbf16755ac0ac36bae79dbe0bbc-d9bafe2651a08c41-01
2021-11-23T06:36:19.281Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:19.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d73cc1f88a95a1d7b843058b00dd5852ee21561-319d92d991f5c543-01 outer:exit 2b-6d73cc1f88a95a1d7b843058b00dd5852ee21561-b75e9e214403fa2c-01
2021-11-23T06:36:19.283Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:19.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e178bf2056bb466a43397032cdfa761c257a997-3975b38f6c5a9670-01 outer:exit 2b-4e178bf2056bb466a43397032cdfa761c257a997-917de9dadf58d189-01
2021-11-23T06:36:19.286Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:19.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d06df1380f92061f4ac2bcad28496a806fce6d8-3f0f1aeb74ad67f8-01 outer:exit 2b-1d06df1380f92061f4ac2bcad28496a806fce6d8-ac14f5e60b94f245-01
2021-11-23T06:36:19.298Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:19.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-eef36af9d3fd57b35da51bc018c939667fe8a20e-586d1cc23751ff3c-01 outer:exit 2b-eef36af9d3fd57b35da51bc018c939667fe8a20e-9d8056c58cf3d5ce-01
2021-11-23T06:36:19.300Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:19.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-610b35e9404c8ae72dd3bb019b94562afbc72035-0fb8c3b5db87b916-01 outer:exit 2b-610b35e9404c8ae72dd3bb019b94562afbc72035-0cc72acd9000d047-01
2021-11-23T06:36:19.302Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:19.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1dc3494563cd5fdce6f9388f46690c6414467cb-fc60b4888407ea3f-01 outer:exit 2b-f1dc3494563cd5fdce6f9388f46690c6414467cb-71541180bd3bb0fc-01
2021-11-23T06:36:19.305Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:19.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-27f9d52353afa8180fd4f9caadfa6b49b6cb4a91-b4ca75bbbdb954de-01 outer:exit 2b-27f9d52353afa8180fd4f9caadfa6b49b6cb4a91-e9b0485f93a6fb1e-01
2021-11-23T06:36:19.310Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:19.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-65f113c403ccdc24258fea85503ad7ff16f709d3-5236013658b12c98-01 outer:exit 2b-65f113c403ccdc24258fea85503ad7ff16f709d3-55858321fbf59073-01
2021-11-23T06:36:19.313Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:19.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-4898a47fc37b70a86f6dbf201d992dea4c5958e4-88cc485de3664b4f-01 outer:exit 2b-4898a47fc37b70a86f6dbf201d992dea4c5958e4-299300f902d55aed-01
2021-11-23T06:36:19.329Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:19.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-f282e77b7fd4997d93f6ab2694a32cb1c9487951-8f37b03837000658-01 outer:exit 2b-f282e77b7fd4997d93f6ab2694a32cb1c9487951-bc75422b90f77fb1-01
2021-11-23T06:36:19.345Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:19.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-847a8991fa3d1598fe205ef0388656c9f7daa485-b871ae2e5dbfa563-01 outer:exit 2b-847a8991fa3d1598fe205ef0388656c9f7daa485-da5cc9072f157188-01
2021-11-23T06:36:19.350Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:19.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a10c1852726256e2bcfe2ead2571fd949fcfaff-64acc2c0d57f4fce-01 outer:exit 2b-6a10c1852726256e2bcfe2ead2571fd949fcfaff-f71681b2d30187b1-01
2021-11-23T06:36:19.353Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:19.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-992bcc4159a410f9086b15a45a47ed28593cf6d6-b025db6e585827c9-01 outer:exit 2b-992bcc4159a410f9086b15a45a47ed28593cf6d6-f008cf16ba29da90-01
2021-11-23T06:36:19.355Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:19.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bc34d9b448ab6fdc77bf11f3c26dae4ac647c5c-3b0ec0f4559ef04a-01 outer:exit 2b-7bc34d9b448ab6fdc77bf11f3c26dae4ac647c5c-4e9ab18e510b1093-01
2021-11-23T06:36:19.391Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (409ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.11
updated 1 package and audited 1085 packages in 4.114s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:24.510Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:24.511Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:24.511Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:24.511Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:24.575Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:24.711Z appoptics:patching patched crypto 
2021-11-23T06:36:24.737Z appoptics:patching patched https 
2021-11-23T06:36:24.738Z appoptics:patching patched http 
2021-11-23T06:36:24.773Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:24.774Z appoptics:patching patched fs 
2021-11-23T06:36:24.796Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v12.22.7)
2021-11-23T06:36:24.801Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-11-23T06:36:24.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-d01f2372f444a3cabfc4a793b93b15af8f7d8157-87e489296f677fa8-01 outer:exit 2b-d01f2372f444a3cabfc4a793b93b15af8f7d8157-32bd4c9771ac514f-01
2021-11-23T06:36:24.842Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:24.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1efc44ef07fe78d6d8c181524028efba05ac1f8-b432db6cf4f33e08-01 outer:exit 2b-d1efc44ef07fe78d6d8c181524028efba05ac1f8-13f6d131a39969d5-01
2021-11-23T06:36:24.889Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:24.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-f75d451f9d363e54f6c1e37a93e72cebd491860e-e7ff613022cc0786-01 outer:exit 2b-f75d451f9d363e54f6c1e37a93e72cebd491860e-acb10e645592e801-01
2021-11-23T06:36:24.895Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:24.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-57cb4264639ae8483ed49a0c72bbb33ee57c6bde-b0eb27bb7e081cbc-01 outer:exit 2b-57cb4264639ae8483ed49a0c72bbb33ee57c6bde-09e7296c425ec856-01
2021-11-23T06:36:24.898Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:24.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-401658c0439d1d132ccd36315baf126663f60772-c07165798aae8cbb-01 outer:exit 2b-401658c0439d1d132ccd36315baf126663f60772-3590d3935fc2d14f-01
2021-11-23T06:36:24.906Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:24.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-969018d93c3a65940c9cdb0a1cf9959567229abe-5d01ec008d5a7c56-01 outer:exit 2b-969018d93c3a65940c9cdb0a1cf9959567229abe-22bca057fa459d4f-01
2021-11-23T06:36:24.909Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:24.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a12230103ee8487ee8da05b97c72af5beae44de-6497911c901ec2e3-01 outer:exit 2b-8a12230103ee8487ee8da05b97c72af5beae44de-9fd1b179fcbbeda1-01
2021-11-23T06:36:24.912Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:24.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa4a2a7b816532fb818b3498e38f3940a5f09cb5-36a31d04d0084d0a-01 outer:exit 2b-fa4a2a7b816532fb818b3498e38f3940a5f09cb5-e76098e072b2f21e-01
2021-11-23T06:36:24.914Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:24.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-164dff8d74e5477266104c18e52f2ce2608f20b0-de473f215c732b07-01 outer:exit 2b-164dff8d74e5477266104c18e52f2ce2608f20b0-f6c2c65232562588-01
2021-11-23T06:36:24.917Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:24.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-d774e4d44746f65e8b57585d07adced322e6d077-9489a7f33bc44af9-01 outer:exit 2b-d774e4d44746f65e8b57585d07adced322e6d077-bd6d383ed260e4ba-01
2021-11-23T06:36:24.920Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:24.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-db98336fcf909ec7267e3e4de11c9e2a3bd5c042-9110f7b3d7cc956d-01 outer:exit 2b-db98336fcf909ec7267e3e4de11c9e2a3bd5c042-5f31409cb90d3e2e-01
2021-11-23T06:36:24.923Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:24.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dfda7dfaf60fb57e8cdfcdab9135283ee448d4e-badd59afb3164e6e-01 outer:exit 2b-5dfda7dfaf60fb57e8cdfcdab9135283ee448d4e-9eb9871bd08bf242-01
2021-11-23T06:36:24.931Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:24.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d8b2683fdde61c212a6e4c3754b228fe89061e6-16ee4d7edf9060d0-01 outer:exit 2b-8d8b2683fdde61c212a6e4c3754b228fe89061e6-bb69762c823dfbd5-01
2021-11-23T06:36:24.946Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:24.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-23a5518041ef95d6d26f51b7afc1d0e054f50e60-06d4c59505836ee2-01 outer:exit 2b-23a5518041ef95d6d26f51b7afc1d0e054f50e60-f687dab667402f2b-01
2021-11-23T06:36:24.986Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:24.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-351966d5f7fe77b81661a7e3b8681fc00eafedf0-99dbd0166850200f-01 outer:exit 2b-351966d5f7fe77b81661a7e3b8681fc00eafedf0-35415c6775014175-01
2021-11-23T06:36:24.988Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:24.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bc5befb76c3cc997fcd1887e391b0f4116fed48-d67459224fc937a4-01 outer:exit 2b-0bc5befb76c3cc997fcd1887e391b0f4116fed48-45fdfc71368cd768-01
2021-11-23T06:36:24.991Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:24.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-d78e8adf37b145afa235a3492e6ebcee49ab0294-7f819101afad7334-01 outer:exit 2b-d78e8adf37b145afa235a3492e6ebcee49ab0294-efdb2bf297da7470-01
2021-11-23T06:36:24.993Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:24.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-67c1e941f230eb46cdf22d700225e0bc359cecb5-cbf20ea68be0bf97-01 outer:exit 2b-67c1e941f230eb46cdf22d700225e0bc359cecb5-4817587e579fb395-01
2021-11-23T06:36:24.995Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:24.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-31529d2e6be1da9be0e14c733d8ac73170ce7e34-38560e707d603741-01 outer:exit 2b-31529d2e6be1da9be0e14c733d8ac73170ce7e34-6868a2f0bf3720c7-01
2021-11-23T06:36:24.997Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:24.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-fef7e5c4f1dbc6358edf5c108bfd41ef1ab1316f-f236ff673924889b-01 outer:exit 2b-fef7e5c4f1dbc6358edf5c108bfd41ef1ab1316f-bfe1aba490596441-01
2021-11-23T06:36:25.000Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:25.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-81530879c0572ea894f7c6b138900cb68b78f73c-3adb3b0f72ba78e8-01 outer:exit 2b-81530879c0572ea894f7c6b138900cb68b78f73c-61c303547adffe80-01
2021-11-23T06:36:25.002Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:25.004Z appoptics:debug span.exit - no last event outer outer:entry 2b-0747d1979ac7d73a3d3c31cae4e9a159870e990f-9198d036af8ee735-01 outer:exit 2b-0747d1979ac7d73a3d3c31cae4e9a159870e990f-dfecad814ddbd768-01
2021-11-23T06:36:25.004Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:25.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-350e5c93aa75c95ae9d96d757e562eb35a005fa8-7de7bafdffdd7aca-01 outer:exit 2b-350e5c93aa75c95ae9d96d757e562eb35a005fa8-ab44bc3e5c57a868-01
2021-11-23T06:36:25.007Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:25.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-f43606c1c0330788f74ea409fa80559b2d6b36b9-c7e09e1e190007ed-01 outer:exit 2b-f43606c1c0330788f74ea409fa80559b2d6b36b9-8a179b184b6a4400-01
2021-11-23T06:36:25.010Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:25.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0ae49043e28c1e7a0bb92700e4ce748e6bdc6e7-95b1192895f9d442-01 outer:exit 2b-a0ae49043e28c1e7a0bb92700e4ce748e6bdc6e7-8b44164c952c601f-01
2021-11-23T06:36:25.012Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:25.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-92693a07adcf8ef874fd1dcfeade760d5514d219-6767448c99ca2a1b-01 outer:exit 2b-92693a07adcf8ef874fd1dcfeade760d5514d219-5f3bd57efd58e808-01
2021-11-23T06:36:25.014Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:25.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab15a383a68addc32b2d32355f6c6888a2620ae9-3a2d6dc7ab3bd3d9-01 outer:exit 2b-ab15a383a68addc32b2d32355f6c6888a2620ae9-9316aa7adbff91bd-01
2021-11-23T06:36:25.022Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:25.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed2591109b9e2f94fe6e87b9e4b86943eef1b45-217309ea84d1c530-01 outer:exit 2b-bed2591109b9e2f94fe6e87b9e4b86943eef1b45-494b6e4c3218e4e3-01
2021-11-23T06:36:25.026Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:25.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-f910ec6c2427562bbdade3fe2b42599429fe9054-29aafa5356e0901b-01 outer:exit 2b-f910ec6c2427562bbdade3fe2b42599429fe9054-dfbe4abb44a5fa98-01
2021-11-23T06:36:25.034Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:25.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-a565799e147a13cb4be24a9cbda802353e8b6a5f-80d2d491e6d90f05-01 outer:exit 2b-a565799e147a13cb4be24a9cbda802353e8b6a5f-f103cfce4e6cb32a-01
2021-11-23T06:36:25.040Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:25.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a0e226042ae7173e23dfecde3cb5af4c3ef9c3b-01e1fa768cd1ff28-01 outer:exit 2b-4a0e226042ae7173e23dfecde3cb5af4c3ef9c3b-58b2ba9835d82354-01
2021-11-23T06:36:25.042Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:25.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e0838dbf47d9f8ba31e3fba0b803284658b0e60-181620c3ec5dfaa7-01 outer:exit 2b-1e0838dbf47d9f8ba31e3fba0b803284658b0e60-ee34c344d1d9f9c4-01
2021-11-23T06:36:25.045Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:25.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f20ab279d561e205ac375cc105aa5c36a6f38b1-af8ca63262b632aa-01 outer:exit 2b-1f20ab279d561e205ac375cc105aa5c36a6f38b1-83b0c299942df47d-01
2021-11-23T06:36:25.050Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:25.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cb3211ea20d1f350a8c027a2a6b994eba0ee31d-e6326490eceaa1bc-01 outer:exit 2b-1cb3211ea20d1f350a8c027a2a6b994eba0ee31d-ab579103040c2311-01
2021-11-23T06:36:25.052Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:25.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-986f488c12a65fa09b331a606bf0dae368bf43b6-a6ff402a611ba37c-01 outer:exit 2b-986f488c12a65fa09b331a606bf0dae368bf43b6-c1570d34bd08739a-01
2021-11-23T06:36:25.054Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:25.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-d65ad2ecbab8fb84364b5d67d8869134b3298041-4846d52a9c44976c-01 outer:exit 2b-d65ad2ecbab8fb84364b5d67d8869134b3298041-2a9b0f763cf15c5d-01
2021-11-23T06:36:25.056Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:25.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac7940f72712b07dbbc3fc5f8998201b1ed8fccb-baf497aa8bae205a-01 outer:exit 2b-ac7940f72712b07dbbc3fc5f8998201b1ed8fccb-f6b1a45a8f86ce30-01
2021-11-23T06:36:25.058Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:25.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7829b58eb280cf0a9366b5b6bc450342da94097-10dc6cabc6e711dd-01 outer:exit 2b-d7829b58eb280cf0a9366b5b6bc450342da94097-942ff7851f7c3923-01
2021-11-23T06:36:25.060Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:25.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa8aee3ceba09024f1c8ce4256121220835fec00-02edd724831d43d2-01 outer:exit 2b-aa8aee3ceba09024f1c8ce4256121220835fec00-c2ad8ef35ae17582-01
2021-11-23T06:36:25.068Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:25.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a95816e8e45ce6308e41b7e5b4e5700c3546d3-f86629edbc555efb-01 outer:exit 2b-44a95816e8e45ce6308e41b7e5b4e5700c3546d3-c19e8147f355b61b-01
2021-11-23T06:36:25.076Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:25.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-22b3e539a5066332f6580233c1a18dcd8b4ab0f5-d87d2341477415de-01 outer:exit 2b-22b3e539a5066332f6580233c1a18dcd8b4ab0f5-9a47d133ec72ce7c-01
2021-11-23T06:36:25.079Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:25.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-388d03dfc518968c9bcf35a34cde036d079db751-4311df687fba7176-01 outer:exit 2b-388d03dfc518968c9bcf35a34cde036d079db751-a28d4017342aa04c-01
2021-11-23T06:36:25.081Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:25.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bf5778fdbd77fda4516645c7de0a0b35fab4b47-0992681f75663701-01 outer:exit 2b-5bf5778fdbd77fda4516645c7de0a0b35fab4b47-ea0cb5fb4c2333ff-01
2021-11-23T06:36:25.084Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:25.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-90d65ec016ad5cecb86b420b55434184a935d99d-1ed501f2df522e93-01 outer:exit 2b-90d65ec016ad5cecb86b420b55434184a935d99d-5f4483e4a6822d24-01
2021-11-23T06:36:25.108Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (301ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.12
updated 1 package and audited 1085 packages in 5.176s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:31.438Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:31.439Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:31.439Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:31.439Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:31.503Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:31.657Z appoptics:patching patched crypto 
2021-11-23T06:36:31.676Z appoptics:patching patched https 
2021-11-23T06:36:31.676Z appoptics:patching patched http 
2021-11-23T06:36:31.718Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:31.718Z appoptics:patching patched fs 
2021-11-23T06:36:31.743Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v12.22.7)
2021-11-23T06:36:31.748Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-11-23T06:36:31.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f44ef5ff9fb1c417016a6ac0fc26aaeeaf03f0f-2c79fe8e0d1f92f6-01 outer:exit 2b-1f44ef5ff9fb1c417016a6ac0fc26aaeeaf03f0f-28b04d47e5700af8-01
2021-11-23T06:36:31.789Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:31.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8948b979f66ff66a35e49d19a702c60a748cc0a-0d53b678806f1f18-01 outer:exit 2b-c8948b979f66ff66a35e49d19a702c60a748cc0a-879825c71e982ba7-01
2021-11-23T06:36:31.836Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:31.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-fadddd1c46e00843c0492691ec57d4541206f2be-9d124781140ea38c-01 outer:exit 2b-fadddd1c46e00843c0492691ec57d4541206f2be-8c0b8a8a4e8cbda7-01
2021-11-23T06:36:31.839Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:31.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-88e8dc6c1503a6a389e26960150a3cbf1071b91d-bb4741f911308adf-01 outer:exit 2b-88e8dc6c1503a6a389e26960150a3cbf1071b91d-89e6738d9ac1b5b9-01
2021-11-23T06:36:31.842Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:31.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5c810930fcefa8535183103cda7833a6e2dd412-a22fb9e1f10f5ea1-01 outer:exit 2b-e5c810930fcefa8535183103cda7833a6e2dd412-9e4a32c77097f869-01
2021-11-23T06:36:31.846Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:31.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8dcd47f6230b8792a01a6ab5f99f0fb4bdc804d-154a1442d109e5b5-01 outer:exit 2b-d8dcd47f6230b8792a01a6ab5f99f0fb4bdc804d-89926a7ca76196e9-01
2021-11-23T06:36:31.849Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:31.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-217a2626e551912a138a7d3c5520f34b23ee50d0-7f8aec004d1d79b8-01 outer:exit 2b-217a2626e551912a138a7d3c5520f34b23ee50d0-fe5b23fbe8984890-01
2021-11-23T06:36:31.852Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:31.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-f548052a673e5653ae68930ee5f4a4ec8c561359-b869d654b718436f-01 outer:exit 2b-f548052a673e5653ae68930ee5f4a4ec8c561359-dce6060b8368237a-01
2021-11-23T06:36:31.854Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:31.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-a179f4fc2c8d2f8d9187818931cea8fb7a36a39d-1a087eb97afcd732-01 outer:exit 2b-a179f4fc2c8d2f8d9187818931cea8fb7a36a39d-19db428d8fbe7fc2-01
2021-11-23T06:36:31.856Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:31.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-39b793d2cff305cbbe555b728599f620b935b894-38d8b0f0b071c46f-01 outer:exit 2b-39b793d2cff305cbbe555b728599f620b935b894-b9cc6edf9b0cd215-01
2021-11-23T06:36:31.859Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:31.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbdd180da35676a594406006f24bbd8a05e468ec-81565527c2a97be3-01 outer:exit 2b-fbdd180da35676a594406006f24bbd8a05e468ec-7d58b6612976cf4a-01
2021-11-23T06:36:31.867Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:31.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-19015262946956059d055c43920cb2fa1aa536d6-acd61e52893f5641-01 outer:exit 2b-19015262946956059d055c43920cb2fa1aa536d6-6ff6424235c2b888-01
2021-11-23T06:36:31.873Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:31.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-dad4c97f9d46f743e399e22a4a4e1432eec1ad80-34692ac931b25aca-01 outer:exit 2b-dad4c97f9d46f743e399e22a4a4e1432eec1ad80-addb6e4be7943488-01
2021-11-23T06:36:31.888Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:31.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-47481fc31ae78255dbd8f70726077951f132db8c-4a641c0743030bd5-01 outer:exit 2b-47481fc31ae78255dbd8f70726077951f132db8c-0e0d44f71a2c6091-01
2021-11-23T06:36:31.936Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:31.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-90edf6566fab8c5d45111eb8e53fc3333b2c5a97-5f9735cf7da25c1a-01 outer:exit 2b-90edf6566fab8c5d45111eb8e53fc3333b2c5a97-461e358fd6fb60dc-01
2021-11-23T06:36:31.939Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:31.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-d32a078b5745c090012fc44b36e6f0d039050847-663773e5a7240bb5-01 outer:exit 2b-d32a078b5745c090012fc44b36e6f0d039050847-a1e6df815c221e42-01
2021-11-23T06:36:31.941Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:31.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f9801a953b2154c9b35ca6aa29eb812567ba51e-96510d07734b32cb-01 outer:exit 2b-9f9801a953b2154c9b35ca6aa29eb812567ba51e-2c7b0f3850d0db33-01
2021-11-23T06:36:31.944Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:31.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-da14ab41bf01b67512ba443325b2a72c0f4f01c9-51d354b35f2010a3-01 outer:exit 2b-da14ab41bf01b67512ba443325b2a72c0f4f01c9-7aecb5af03de6f5e-01
2021-11-23T06:36:31.946Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:31.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc49605d86f4afd891898d66073f785de012ba58-f83c8c165d9de2cc-01 outer:exit 2b-dc49605d86f4afd891898d66073f785de012ba58-cd24fab18d265054-01
2021-11-23T06:36:31.948Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:31.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-e381c604cfc0cb8d9da7fe21a876109e13725f13-866cff89e4e674f5-01 outer:exit 2b-e381c604cfc0cb8d9da7fe21a876109e13725f13-b9f7e9544ccc8995-01
2021-11-23T06:36:31.950Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:31.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eb839e39a541f12b77fd625a646c680728f2ab1-9f88796e8edb199e-01 outer:exit 2b-8eb839e39a541f12b77fd625a646c680728f2ab1-d7bc59e40a1909ae-01
2021-11-23T06:36:31.952Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:31.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-81c2bae7120accad7eb0050f5f90c49e672123e2-6ba0c93638dcdb70-01 outer:exit 2b-81c2bae7120accad7eb0050f5f90c49e672123e2-f7c11b4063e44983-01
2021-11-23T06:36:31.954Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:31.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ff91193ab936a58b4a4664408e6dd1aaef359c9-b334dee381fb7326-01 outer:exit 2b-5ff91193ab936a58b4a4664408e6dd1aaef359c9-35b75a0b5c729635-01
2021-11-23T06:36:31.957Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:31.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-45fc2c9a285a9e5be8f3bc54419f0aeb5a008008-167c495b8432a238-01 outer:exit 2b-45fc2c9a285a9e5be8f3bc54419f0aeb5a008008-122d90dc4e38cbdd-01
2021-11-23T06:36:31.960Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:31.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-59b193f038bdc3539029514b3080fd83fa89adfd-e3491ea823828c46-01 outer:exit 2b-59b193f038bdc3539029514b3080fd83fa89adfd-24df1a341cd63d62-01
2021-11-23T06:36:31.962Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:31.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-969b557fb975ba3a7321fabe1e3bf05c593c316b-15aca63222ea15e7-01 outer:exit 2b-969b557fb975ba3a7321fabe1e3bf05c593c316b-97c40ee881285d6f-01
2021-11-23T06:36:31.965Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:31.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-92330b4d89d9e6a4c226e644ac856148286f8f5d-fb4860c257f5cedc-01 outer:exit 2b-92330b4d89d9e6a4c226e644ac856148286f8f5d-faa0b2c4e0677214-01
2021-11-23T06:36:31.972Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:31.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac607ead18e57e32940d7d2442f629b83fce61ab-3b716e2cd3157311-01 outer:exit 2b-ac607ead18e57e32940d7d2442f629b83fce61ab-52204546ec6c381d-01
2021-11-23T06:36:31.977Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:31.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b6e16dad63ab2749760d81af8aa636592e9d056-cfc84ed7c4696a89-01 outer:exit 2b-6b6e16dad63ab2749760d81af8aa636592e9d056-fade7e3f28667b86-01
2021-11-23T06:36:31.985Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:31.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a60bce33628973d07bfe1b5c38e884d3e7be54e-2e7c746210eb0c57-01 outer:exit 2b-9a60bce33628973d07bfe1b5c38e884d3e7be54e-bd13733895c02791-01
2021-11-23T06:36:31.990Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:31.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5136df28637de41d06ee3b2d9ccda56e7e97cd7-7e308832f06dbdba-01 outer:exit 2b-d5136df28637de41d06ee3b2d9ccda56e7e97cd7-d84d670b1e8b2835-01
2021-11-23T06:36:31.992Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:31.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-57dc958ec06501bda3d8b80ed337c7f91efbfc07-955bbf639ea757c2-01 outer:exit 2b-57dc958ec06501bda3d8b80ed337c7f91efbfc07-5932bf5eda970f91-01
2021-11-23T06:36:31.995Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:32.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-442a8017b65b254d92a5d68858d7720c4d2f6d44-008dbd28f3cb31c9-01 outer:exit 2b-442a8017b65b254d92a5d68858d7720c4d2f6d44-9a36c7a13380254f-01
2021-11-23T06:36:32.001Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:32.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc46060393de17509818f22f598c9c831ed60cde-bd5f43c0545890b1-01 outer:exit 2b-bc46060393de17509818f22f598c9c831ed60cde-5ca8f0b016a5bb68-01
2021-11-23T06:36:32.003Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:32.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-eab3f5b534f63d23e0b6ec47df5206d90a3a280c-4155715cd21b7e61-01 outer:exit 2b-eab3f5b534f63d23e0b6ec47df5206d90a3a280c-590e3a458ecdbe7a-01
2021-11-23T06:36:32.005Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:32.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b183def75dc5409d680e6b833a9224a98365dc9-e482722e4d4a66c1-01 outer:exit 2b-1b183def75dc5409d680e6b833a9224a98365dc9-9ceb512d601d5fc2-01
2021-11-23T06:36:32.008Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:32.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-12c4fe6557fb8b06e73f7c1d7e0e50350d919da8-5238dbb41fac5cc2-01 outer:exit 2b-12c4fe6557fb8b06e73f7c1d7e0e50350d919da8-fbcc1a5dafb84dd8-01
2021-11-23T06:36:32.010Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:32.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e7c9634b1410f77cb30f7b6939a548f4771b48f-6f6e04487d7af10f-01 outer:exit 2b-0e7c9634b1410f77cb30f7b6939a548f4771b48f-491b21e51a5ff3dc-01
2021-11-23T06:36:32.011Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:32.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dfadb9f8a418632229ac65d64bc18232b0d0063-35478eb786f904ba-01 outer:exit 2b-2dfadb9f8a418632229ac65d64bc18232b0d0063-ac547dcaa5c87a21-01
2021-11-23T06:36:32.019Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:32.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-05b25e7135a377116bb69d8eaf4fd9f384825d8b-ac834dae3769d10b-01 outer:exit 2b-05b25e7135a377116bb69d8eaf4fd9f384825d8b-dde6f787b3f95d76-01
2021-11-23T06:36:32.026Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:32.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2a2a116a72970632daf6029a314570cadd9c623-b3c94f6b20ea45aa-01 outer:exit 2b-b2a2a116a72970632daf6029a314570cadd9c623-65a896c30109b0d5-01
2021-11-23T06:36:32.029Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:32.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-47e7fb87e634427a78e94d12f2bd74cdbecdd780-63fd10754a7c524e-01 outer:exit 2b-47e7fb87e634427a78e94d12f2bd74cdbecdd780-928157206ecf3d26-01
2021-11-23T06:36:32.031Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:32.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc434324b7ce3d55937658d5436787c1af5d6f26-5e3bb127bb5d03fb-01 outer:exit 2b-bc434324b7ce3d55937658d5436787c1af5d6f26-f32e912fa28b70c3-01
2021-11-23T06:36:32.034Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:32.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-e73bf858de25ca3db997b5d6e0cff30b101143b5-feb289be1067a6a2-01 outer:exit 2b-e73bf858de25ca3db997b5d6e0cff30b101143b5-a4be2e603163ed77-01
2021-11-23T06:36:32.059Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (304ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.13
updated 1 package and audited 1085 packages in 4.123s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:37.057Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:37.058Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:37.058Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:37.059Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:37.125Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:37.252Z appoptics:patching patched crypto 
2021-11-23T06:36:37.272Z appoptics:patching patched https 
2021-11-23T06:36:37.272Z appoptics:patching patched http 
2021-11-23T06:36:37.307Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:37.307Z appoptics:patching patched fs 
2021-11-23T06:36:37.331Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v12.22.7)
2021-11-23T06:36:37.336Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-11-23T06:36:37.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc770e7a5288a70203bb0f1f4aeab5122cd2b223-3ab32696ac945669-01 outer:exit 2b-fc770e7a5288a70203bb0f1f4aeab5122cd2b223-7027a2deadd7748b-01
2021-11-23T06:36:37.376Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:37.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-7442e161373b4e61c48692797574352078fc1f10-5bdc875c3b090173-01 outer:exit 2b-7442e161373b4e61c48692797574352078fc1f10-45837e1e86140c6c-01
2021-11-23T06:36:37.445Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:37.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-4338e6172beb2b1d1818c2d30d57366258f96400-9b1589f9083a3cce-01 outer:exit 2b-4338e6172beb2b1d1818c2d30d57366258f96400-656f1d32a857515e-01
2021-11-23T06:36:37.448Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:37.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fa412e937c08148532b87ca7699be578d811762-6ac6e72feba2647d-01 outer:exit 2b-6fa412e937c08148532b87ca7699be578d811762-a4aeb5c1a44a40a7-01
2021-11-23T06:36:37.451Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:37.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bb6fb07ded6a738a6cbfbbe1fbb80cb5019218f-d2336d7a646fac4c-01 outer:exit 2b-1bb6fb07ded6a738a6cbfbbe1fbb80cb5019218f-220a3fdfb9844908-01
2021-11-23T06:36:37.455Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:37.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b7b134d3d5e0384a7f2524a33e8c084c62fb9e9-e072f0fd092c82fb-01 outer:exit 2b-5b7b134d3d5e0384a7f2524a33e8c084c62fb9e9-0d108b24786f2d2e-01
2021-11-23T06:36:37.458Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:37.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-0381f8a3f12ff2acadef87e62d3df1b5328ae70d-d28a002a0893d2df-01 outer:exit 2b-0381f8a3f12ff2acadef87e62d3df1b5328ae70d-445c78302884b400-01
2021-11-23T06:36:37.463Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:37.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef2b9c87ca4e549c271b893b23a20fd02707eb4a-61d85880a4a53c8b-01 outer:exit 2b-ef2b9c87ca4e549c271b893b23a20fd02707eb4a-1d95be8bcbc755d6-01
2021-11-23T06:36:37.465Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:37.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cc86f26b5b9e7cfe4000b0d0795d5cb4171a768-da522b2aabf7ab4d-01 outer:exit 2b-4cc86f26b5b9e7cfe4000b0d0795d5cb4171a768-b71575e9f9ee5ccd-01
2021-11-23T06:36:37.468Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:37.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba430f840538117659264a254e6c54e4d3562f1f-2c4bf0b24e6bbace-01 outer:exit 2b-ba430f840538117659264a254e6c54e4d3562f1f-91f054a7ddfa8b9e-01
2021-11-23T06:36:37.471Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:37.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b7881fd800fd1a44a8f7abf008b3b429ceaf61c-214164ec0f593779-01 outer:exit 2b-0b7881fd800fd1a44a8f7abf008b3b429ceaf61c-ab7c4d54250654fd-01
2021-11-23T06:36:37.474Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:37.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cbdcbb6c5730ede0317b2caf7b395d2818797a0-540a89e704bd82e2-01 outer:exit 2b-9cbdcbb6c5730ede0317b2caf7b395d2818797a0-6b3e2d3e0559299b-01
2021-11-23T06:36:37.480Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:37.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-89fbfb59190f92a54301aedbbfbac9473a65a61c-f3b1664f7b95c407-01 outer:exit 2b-89fbfb59190f92a54301aedbbfbac9473a65a61c-e5a39a2583b53a92-01
2021-11-23T06:36:37.495Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:37.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fe5c184814b630e0e67e86dc9c340787311c853-18e877dde9d7cd76-01 outer:exit 2b-4fe5c184814b630e0e67e86dc9c340787311c853-2060eda0fe35d4ed-01
2021-11-23T06:36:37.545Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:37.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd59569d442410247aeb87cdb7ad3e302a4ca8a-0b947f6b721d788b-01 outer:exit 2b-6dd59569d442410247aeb87cdb7ad3e302a4ca8a-9d4d6b76587a85d8-01
2021-11-23T06:36:37.548Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:37.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-b34f8e0934188fa890144772a3d359103971ff6c-2f02e9741aef6d66-01 outer:exit 2b-b34f8e0934188fa890144772a3d359103971ff6c-759aede20ee4c398-01
2021-11-23T06:36:37.550Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:37.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-14c13afc4f58b361e9530b4584b14d65154ff882-b7f7319baeff8912-01 outer:exit 2b-14c13afc4f58b361e9530b4584b14d65154ff882-e283d9158d6f299a-01
2021-11-23T06:36:37.553Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:37.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c76e23bdbaadef08ee25734329a1b611c753f67-e311e49f76651a08-01 outer:exit 2b-2c76e23bdbaadef08ee25734329a1b611c753f67-0c81dc32be8cb1f4-01
2021-11-23T06:36:37.555Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:37.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-5420ef2fa246f09f0e8da20796d68fa121160e88-384a9d9663f7b4a3-01 outer:exit 2b-5420ef2fa246f09f0e8da20796d68fa121160e88-4dcf9b6bdf78d3aa-01
2021-11-23T06:36:37.558Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:37.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-cde017d4603791307797bb57c4f679abc5b3833c-246361337a2c78cb-01 outer:exit 2b-cde017d4603791307797bb57c4f679abc5b3833c-86277a45bd40faab-01
2021-11-23T06:36:37.560Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:37.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3c28a39af77d293b11c388f8ab8525bbc7dc6af-38838552bddd1910-01 outer:exit 2b-f3c28a39af77d293b11c388f8ab8525bbc7dc6af-1be64470aedaea20-01
2021-11-23T06:36:37.562Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:37.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f54c3ba50be23ede66bd43b164e409604dd6adb-26d8179950fe5c51-01 outer:exit 2b-1f54c3ba50be23ede66bd43b164e409604dd6adb-5bebe8eda4f0cfe0-01
2021-11-23T06:36:37.564Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:37.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d34709bfbf7fcb1bf973e35c2880786c4b439ab-f2339b6adfacf916-01 outer:exit 2b-2d34709bfbf7fcb1bf973e35c2880786c4b439ab-5e607a2792f1fe6f-01
2021-11-23T06:36:37.567Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:37.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a84b4b863a2938848ef99972437b4018d853cf1-48f6e317c2431376-01 outer:exit 2b-1a84b4b863a2938848ef99972437b4018d853cf1-e02e1c2194f23609-01
2021-11-23T06:36:37.571Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:37.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-beeaf2242bba2f596b28146be22ba13eefbf4b28-b4269849f0ce0660-01 outer:exit 2b-beeaf2242bba2f596b28146be22ba13eefbf4b28-75f43feab38f4b0a-01
2021-11-23T06:36:37.573Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:37.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f934049d9479cde403c98a50537e5d4785d3da6-5f63fc5e3bf6067f-01 outer:exit 2b-7f934049d9479cde403c98a50537e5d4785d3da6-6c072b218184ddf5-01
2021-11-23T06:36:37.576Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:37.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cb215a34e1bf55e67c989fb7fc3c30c638ccae5-06bb806b7eeaeab9-01 outer:exit 2b-6cb215a34e1bf55e67c989fb7fc3c30c638ccae5-0537346c7fc8f74f-01
2021-11-23T06:36:37.582Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:37.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-76d10f21e4199c3a64afc8c403f87cfd56ed1541-373d976eef992135-01 outer:exit 2b-76d10f21e4199c3a64afc8c403f87cfd56ed1541-5766ce5dd8ea9ec7-01
2021-11-23T06:36:37.587Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:37.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-403a44649a52a8cf7e93ad80e2fbe464ede08021-1863915fdfcfb0b8-01 outer:exit 2b-403a44649a52a8cf7e93ad80e2fbe464ede08021-191c6a77684f7b26-01
2021-11-23T06:36:37.594Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:37.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-6efd879dde47a75bec286fcb7995f593aecc5b31-a5cf29cdfc4d7f3d-01 outer:exit 2b-6efd879dde47a75bec286fcb7995f593aecc5b31-ba32d56586079c28-01
2021-11-23T06:36:37.600Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:37.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a0b6b0c093db4fd11789fc2623d168a32d53a62-264b37c40a5237f0-01 outer:exit 2b-0a0b6b0c093db4fd11789fc2623d168a32d53a62-cc545ec9697678e6-01
2021-11-23T06:36:37.602Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:37.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef0e33eb715016f11407d1180e425ebdcb99d6bc-c7822daa881646dc-01 outer:exit 2b-ef0e33eb715016f11407d1180e425ebdcb99d6bc-b4cb0efa6cd4fbef-01
2021-11-23T06:36:37.605Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:37.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3caddcc92d01a01c6112a4dd6447567100c9424-4af98d9316fc4a87-01 outer:exit 2b-c3caddcc92d01a01c6112a4dd6447567100c9424-3eba0531f618d502-01
2021-11-23T06:36:37.611Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:37.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d487a0ac2e2d0e4884fb4154d109a62e81f3c88-990ef1c6ddad12e8-01 outer:exit 2b-0d487a0ac2e2d0e4884fb4154d109a62e81f3c88-9383eb530af7611d-01
2021-11-23T06:36:37.613Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:37.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-64260cb49106bce8eb94e6201736bafcd984cf1b-a527b22e8b6b510b-01 outer:exit 2b-64260cb49106bce8eb94e6201736bafcd984cf1b-4be708fd538d82f2-01
2021-11-23T06:36:37.615Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:37.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d3feabb3c3e89704876f975a6865cf34942d9bb-cd6652e2eaf5c0dd-01 outer:exit 2b-3d3feabb3c3e89704876f975a6865cf34942d9bb-5c5e15a076f62633-01
2021-11-23T06:36:37.617Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:37.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa98913bad6ba885cfe0756cca6653538675fe96-4baa9830f24aade4-01 outer:exit 2b-aa98913bad6ba885cfe0756cca6653538675fe96-180e2a08e5cd89a3-01
2021-11-23T06:36:37.619Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:37.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-884083eda7ffc1e1c318bcaad4ea121cd32861d7-2010e771217743cd-01 outer:exit 2b-884083eda7ffc1e1c318bcaad4ea121cd32861d7-af96a84afbd78330-01
2021-11-23T06:36:37.621Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:37.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5d9f3d2fa59411e6007f6efcdb7fc31a01b3265-93e6111718220b0f-01 outer:exit 2b-a5d9f3d2fa59411e6007f6efcdb7fc31a01b3265-9d90026a9a0a5ebb-01
2021-11-23T06:36:37.629Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:37.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fcf4dbbd42dcd9b1babb1f9bcba21243fa0e1d4-9ab18f42da907d72-01 outer:exit 2b-2fcf4dbbd42dcd9b1babb1f9bcba21243fa0e1d4-ec38315851f2710c-01
2021-11-23T06:36:37.637Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:37.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-03e5b3551afa2bc023c03a655ea26bf0fb95985d-62c9bee8422a6504-01 outer:exit 2b-03e5b3551afa2bc023c03a655ea26bf0fb95985d-8ca86135e6dfbf41-01
2021-11-23T06:36:37.640Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:37.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b55dbff5f87d48d58da0d7ac8ac6fb81a4221ff-3f02be5d3265cd67-01 outer:exit 2b-0b55dbff5f87d48d58da0d7ac8ac6fb81a4221ff-fe416796a71131b9-01
2021-11-23T06:36:37.642Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:37.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a3a9711f320b83759c80d6f03d525cbb83d6244-2a4b121340bb2704-01 outer:exit 2b-7a3a9711f320b83759c80d6f03d525cbb83d6244-ab19b09329ac1f9b-01
2021-11-23T06:36:37.645Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:37.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-6093a42bb4846ac5c06633129085aec77c5a5c9d-9749d7b2a894a557-01 outer:exit 2b-6093a42bb4846ac5c06633129085aec77c5a5c9d-02e8a66acc38cee3-01
2021-11-23T06:36:37.670Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (327ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.14
updated 1 package and audited 1085 packages in 4.551s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:43.338Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:43.338Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:43.338Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:43.339Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:43.438Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:43.628Z appoptics:patching patched crypto 
2021-11-23T06:36:43.644Z appoptics:patching patched https 
2021-11-23T06:36:43.644Z appoptics:patching patched http 
2021-11-23T06:36:43.690Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:43.691Z appoptics:patching patched fs 
2021-11-23T06:36:43.715Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v12.22.7)
2021-11-23T06:36:43.720Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-11-23T06:36:43.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b6a0153af27a19054d7cc520520b1bfa5031cd1-0636a5a1ed2d813b-01 outer:exit 2b-9b6a0153af27a19054d7cc520520b1bfa5031cd1-1124dd8cb487231d-01
2021-11-23T06:36:43.762Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:43.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-068414bee8f77170d33c0b9ad115b0d8cdeb4a6b-5e4c8215b074965d-01 outer:exit 2b-068414bee8f77170d33c0b9ad115b0d8cdeb4a6b-8e9908ce341c4844-01
2021-11-23T06:36:43.842Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:43.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac597a1327328f7293efe7f8ea09c40e9388b33f-8f6147ef7eb2728c-01 outer:exit 2b-ac597a1327328f7293efe7f8ea09c40e9388b33f-48afb22277f809de-01
2021-11-23T06:36:43.846Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:43.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8e729d15fcecd36a01cccb698cd6369352ec382-06e8ff909764e71c-01 outer:exit 2b-f8e729d15fcecd36a01cccb698cd6369352ec382-6d76720615b1313b-01
2021-11-23T06:36:43.848Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:43.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cfd74639ad93d5eb990401baee681cd552a832e-c3c964987dbd08ca-01 outer:exit 2b-1cfd74639ad93d5eb990401baee681cd552a832e-3ed1e6c185c007d2-01
2021-11-23T06:36:43.853Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:43.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-702d1b1100aa2eaac0ee4e384b4f9fb3affda8d4-87ddbf934ff1fec0-01 outer:exit 2b-702d1b1100aa2eaac0ee4e384b4f9fb3affda8d4-0d08d43110f272dd-01
2021-11-23T06:36:43.855Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:43.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-03dbd72ffde63295d03633244d6e843eefc9cf02-051e37e8a2f964ae-01 outer:exit 2b-03dbd72ffde63295d03633244d6e843eefc9cf02-4f92ff532147b4a8-01
2021-11-23T06:36:43.858Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:43.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a085b1ec7d01ec2690c7fac08f6e0c0d8df46f2-bcbbd2fd58f9e436-01 outer:exit 2b-8a085b1ec7d01ec2690c7fac08f6e0c0d8df46f2-71157b84aabf319b-01
2021-11-23T06:36:43.863Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:43.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ca1c4615ca5a0d72efa8cc88c3d5fc6ff22010-859b390225903e5b-01 outer:exit 2b-40ca1c4615ca5a0d72efa8cc88c3d5fc6ff22010-ce4e9dda16da4973-01
2021-11-23T06:36:43.865Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:43.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4f80cdc839cc2c3d0890f2a391d83385e1adfba-bf8c4309858a6c1e-01 outer:exit 2b-e4f80cdc839cc2c3d0890f2a391d83385e1adfba-35a8ce7f660ad256-01
2021-11-23T06:36:43.868Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:43.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-49feeb02416cbeeebc0cdc79630f727a4130aec0-2b9d8799f7cfb079-01 outer:exit 2b-49feeb02416cbeeebc0cdc79630f727a4130aec0-3cc0511f12ce7d61-01
2021-11-23T06:36:43.872Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:43.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-276ed31ca9247cbe99ddf18d166b2683648d314a-cdc6b82b7eb54658-01 outer:exit 2b-276ed31ca9247cbe99ddf18d166b2683648d314a-1d348b00945bb57f-01
2021-11-23T06:36:43.878Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:43.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0745748bb3ce8128feae936294c7ec6d04ac654-b8cdb64a9c679470-01 outer:exit 2b-b0745748bb3ce8128feae936294c7ec6d04ac654-cf42ee8abe06e8a4-01
2021-11-23T06:36:43.893Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:43.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-71480a716d11ee5f57e4b12738fbdf52b290a794-00ca4ba113c6540c-01 outer:exit 2b-71480a716d11ee5f57e4b12738fbdf52b290a794-8c694ba3df0dee31-01
2021-11-23T06:36:43.941Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:43.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee0c985e9259321d8be6ca9f782658655244cd30-50ee0aed9089a4d0-01 outer:exit 2b-ee0c985e9259321d8be6ca9f782658655244cd30-30bffc37720e5d9c-01
2021-11-23T06:36:43.944Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:43.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-864ee9eab28b4c6a94c1b47e308312b21271dd4c-4f1a275f977b4394-01 outer:exit 2b-864ee9eab28b4c6a94c1b47e308312b21271dd4c-e63f3f069eef42e4-01
2021-11-23T06:36:43.946Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:43.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-c63d7240340be762aa5340614ed00417fc684b82-07a5b233d8d02b21-01 outer:exit 2b-c63d7240340be762aa5340614ed00417fc684b82-4a877662dd7280b2-01
2021-11-23T06:36:43.949Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:43.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d523992d7dbc2eb789edf99c6c0eac34d0d9e5e-dd35b33059420bc7-01 outer:exit 2b-4d523992d7dbc2eb789edf99c6c0eac34d0d9e5e-3d3b9403bf70f6de-01
2021-11-23T06:36:43.951Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:43.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-63db076faf53ad46edc24f909902cce19e035bba-2cc2bec903a87f1c-01 outer:exit 2b-63db076faf53ad46edc24f909902cce19e035bba-ee3432747611f02a-01
2021-11-23T06:36:43.953Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:43.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-84bdefc80570a0409dd463f9031285f61f6c6be7-dc641a3fa910fd8c-01 outer:exit 2b-84bdefc80570a0409dd463f9031285f61f6c6be7-687324bc0336000c-01
2021-11-23T06:36:43.955Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:43.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9ccff97e0bfeeb7707d3167521ac48bdc31c2f1-bc1404891159539a-01 outer:exit 2b-a9ccff97e0bfeeb7707d3167521ac48bdc31c2f1-ce20ec5bd8b3b338-01
2021-11-23T06:36:43.957Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:43.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-674bfc5854fc76b31f0aa5549b7a3f582c195726-2dd5682beca9e8d2-01 outer:exit 2b-674bfc5854fc76b31f0aa5549b7a3f582c195726-bb9e152e4ffa89f7-01
2021-11-23T06:36:43.960Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:43.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-027b3247ac3fec122697f72d4723be4fc236588d-d7efa832b6b076ca-01 outer:exit 2b-027b3247ac3fec122697f72d4723be4fc236588d-953a9096b7c82691-01
2021-11-23T06:36:43.963Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:43.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-c54f637c7fd065b6a5f69950046f328c603a8ee3-79c7755ff2243700-01 outer:exit 2b-c54f637c7fd065b6a5f69950046f328c603a8ee3-7894a3c1e92c1fa3-01
2021-11-23T06:36:43.966Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:43.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-49c8341366650626a4af67af48d71df7ce359a71-c4dc3db1152a1303-01 outer:exit 2b-49c8341366650626a4af67af48d71df7ce359a71-32fbdf2ff84fdc17-01
2021-11-23T06:36:43.968Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:43.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-710b534ad8f8e78ffa858064ea7f22544b325117-77a19fa98e978854-01 outer:exit 2b-710b534ad8f8e78ffa858064ea7f22544b325117-953288d7d2cbc626-01
2021-11-23T06:36:43.970Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:43.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fbaadc267254ce89b55512f1a17422827781916-d267a5fc311d1d87-01 outer:exit 2b-0fbaadc267254ce89b55512f1a17422827781916-fc70d462c503486d-01
2021-11-23T06:36:43.977Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:43.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-7933614bd8b8c3631239879396bc2c51d0f2a3c9-2412fd0a51109b1c-01 outer:exit 2b-7933614bd8b8c3631239879396bc2c51d0f2a3c9-94383e0a2e7b03b6-01
2021-11-23T06:36:43.981Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:43.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a42f535a0bcf74b8dba636a1cb6e283b5d5ba32-2160e9b71f65217c-01 outer:exit 2b-5a42f535a0bcf74b8dba636a1cb6e283b5d5ba32-366096bdc5626694-01
2021-11-23T06:36:43.989Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:43.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-f44db6356c0c0a1e1e2040544dee84e2f0586763-34cd17cb328abd5a-01 outer:exit 2b-f44db6356c0c0a1e1e2040544dee84e2f0586763-27077f297553e4b1-01
2021-11-23T06:36:43.994Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:43.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e62103a6e04b21c4cf38f13c1f144d37f905b5e-71fcb074b5c156fc-01 outer:exit 2b-0e62103a6e04b21c4cf38f13c1f144d37f905b5e-97a58359ae68b60b-01
2021-11-23T06:36:43.997Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:44.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-51ea7b3d97f19d95a1ef698756d5dc8c952074af-948207cca81b46a5-01 outer:exit 2b-51ea7b3d97f19d95a1ef698756d5dc8c952074af-92c63f29a9256775-01
2021-11-23T06:36:44.001Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:44.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-349e7e8714dea51f14d7130904450f3d9bd18627-a9b1ecd8cb577228-01 outer:exit 2b-349e7e8714dea51f14d7130904450f3d9bd18627-1c900dfc0bc48edd-01
2021-11-23T06:36:44.006Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:44.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b86fe9665c1e9c4a1b5ab9119efff1259a5c387-838b9df63494c1b5-01 outer:exit 2b-0b86fe9665c1e9c4a1b5ab9119efff1259a5c387-d2823373c3049bbc-01
2021-11-23T06:36:44.008Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:44.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-58095154882377650901ef667d689dc65ccb6f66-e2b56d40640ac4be-01 outer:exit 2b-58095154882377650901ef667d689dc65ccb6f66-1451f61b5e810522-01
2021-11-23T06:36:44.010Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:44.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0661ff5dbfadc4ceca1a4d43acbc9ea7a351b3c-219376d25d06ac15-01 outer:exit 2b-b0661ff5dbfadc4ceca1a4d43acbc9ea7a351b3c-7ccc123396210d5e-01
2021-11-23T06:36:44.012Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:44.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-5905e51e4bc6a67b1e55aa98900245ab2e93ef56-375a0ef0d3176db3-01 outer:exit 2b-5905e51e4bc6a67b1e55aa98900245ab2e93ef56-933458f96f3c0635-01
2021-11-23T06:36:44.014Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:44.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d6cd9a56d96f7f882f513aa1793f1a13a3826c7-ade4015fca95321b-01 outer:exit 2b-9d6cd9a56d96f7f882f513aa1793f1a13a3826c7-52f3757ef3f1bb12-01
2021-11-23T06:36:44.017Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:44.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d560802a6629d9fa98d4d3c8e28022bb33a4ec7-ec8e186484115038-01 outer:exit 2b-1d560802a6629d9fa98d4d3c8e28022bb33a4ec7-dfec760a35b18413-01
2021-11-23T06:36:44.024Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:44.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a1989874d64cd93e8d0b9ca8a45adc0c44e7297-eebfe06911e41bac-01 outer:exit 2b-4a1989874d64cd93e8d0b9ca8a45adc0c44e7297-1c18773634776614-01
2021-11-23T06:36:44.031Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:44.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-16bf3ff6a97f8d7941910483342398ee92d57f82-9c1e35aed69b4aab-01 outer:exit 2b-16bf3ff6a97f8d7941910483342398ee92d57f82-6b95e20e961fd102-01
2021-11-23T06:36:44.034Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:44.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-bee4368b967e44a7c4422f90060823cb417685c6-286c93677f62a5ad-01 outer:exit 2b-bee4368b967e44a7c4422f90060823cb417685c6-a2f64269b9a382e3-01
2021-11-23T06:36:44.037Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:44.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8765f155991a02615154456b71c53ecc584dbcd-dc7ce81b7b090363-01 outer:exit 2b-b8765f155991a02615154456b71c53ecc584dbcd-57b0b0f6f03f6dfb-01
2021-11-23T06:36:44.039Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:44.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-218639ea4f33a7c97d5ef6d5cb65f594f521334f-b513d20e9321329e-01 outer:exit 2b-218639ea4f33a7c97d5ef6d5cb65f594f521334f-5e33e6e2f1fa4c6b-01
2021-11-23T06:36:44.065Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (339ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.15
updated 1 package and audited 1085 packages in 3.957s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:48.963Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:48.963Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:48.963Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:48.964Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:49.026Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:49.191Z appoptics:patching patched crypto 
2021-11-23T06:36:49.208Z appoptics:patching patched https 
2021-11-23T06:36:49.208Z appoptics:patching patched http 
2021-11-23T06:36:49.262Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:49.263Z appoptics:patching patched fs 
2021-11-23T06:36:49.287Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v12.22.7)
2021-11-23T06:36:49.292Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-11-23T06:36:49.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-b72f08cf8cd278f58fd16d538c47f37255aac9ce-678bc02a92264b32-01 outer:exit 2b-b72f08cf8cd278f58fd16d538c47f37255aac9ce-606bddf28bf3a60c-01
2021-11-23T06:36:49.335Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:49.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-3db704956d6ebd9c6e401dcaa98c5e137e645eee-cbce26546b2f9563-01 outer:exit 2b-3db704956d6ebd9c6e401dcaa98c5e137e645eee-51dd64063678ba41-01
2021-11-23T06:36:49.390Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:49.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-afaeef13fed508afb0265581e1edb1e6ffb8f33e-efc277056854a808-01 outer:exit 2b-afaeef13fed508afb0265581e1edb1e6ffb8f33e-5782ae6a8d333efc-01
2021-11-23T06:36:49.395Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:49.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-f741196955c34c3fd3a75d1559e974b8307d2824-cb34110890661d57-01 outer:exit 2b-f741196955c34c3fd3a75d1559e974b8307d2824-9529bf6075c51cdf-01
2021-11-23T06:36:49.398Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:49.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-6590e5bd11a1f034e3bba31124df8c5b8b27ae42-4056e0e6d84f5ab6-01 outer:exit 2b-6590e5bd11a1f034e3bba31124df8c5b8b27ae42-22b786c5646322e6-01
2021-11-23T06:36:49.403Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:49.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-363381d65c033f9f3d70b4c0b91d026a4278db2c-050c4773854cbaf4-01 outer:exit 2b-363381d65c033f9f3d70b4c0b91d026a4278db2c-52ba018d03a0a007-01
2021-11-23T06:36:49.406Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:49.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-f268b677f86d66787828460b3eb4307403bc7442-e1b81fa815ef2d78-01 outer:exit 2b-f268b677f86d66787828460b3eb4307403bc7442-c07f869f960d4217-01
2021-11-23T06:36:49.409Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:49.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-35f007155fc616a7498151d9ba694b30a55776d8-4ab73ef5447eab6b-01 outer:exit 2b-35f007155fc616a7498151d9ba694b30a55776d8-cf8ad61304752bbd-01
2021-11-23T06:36:49.416Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:49.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a6aeca3d3c6481c7383ff137b510c50cbbe7ba-0b24478b4a0d1d1c-01 outer:exit 2b-a3a6aeca3d3c6481c7383ff137b510c50cbbe7ba-d70155f278e49aee-01
2021-11-23T06:36:49.419Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:49.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-cabcca4a3c16393ed2b660c068c3df3cb1cfc6dc-f64e8819899dde44-01 outer:exit 2b-cabcca4a3c16393ed2b660c068c3df3cb1cfc6dc-146d1a1d43f33877-01
2021-11-23T06:36:49.423Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:49.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdb84ea898d89b2cc6390a942dc6944a3467d48b-dfe959d315d85f43-01 outer:exit 2b-bdb84ea898d89b2cc6390a942dc6944a3467d48b-c6041074026f2c11-01
2021-11-23T06:36:49.426Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:49.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-de50e274e3d6dbe4bdc4b604e26a1851c16e6c37-98fd4cd4756a91e3-01 outer:exit 2b-de50e274e3d6dbe4bdc4b604e26a1851c16e6c37-270a5117d9582f08-01
2021-11-23T06:36:49.433Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:49.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b8a4536da8fc2c22426b50b9199d825ae47fb71-56061710e1e1d0e5-01 outer:exit 2b-3b8a4536da8fc2c22426b50b9199d825ae47fb71-c2f91a0c8b540888-01
2021-11-23T06:36:49.450Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:49.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-1495fcfa18880646b0b0f84550723d813a0161b1-e1b480f2a3792c8c-01 outer:exit 2b-1495fcfa18880646b0b0f84550723d813a0161b1-061b99f159497c02-01
2021-11-23T06:36:49.489Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:49.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aea17b9e5faab6a67f3c64836770bc96f2a14f7-3abb032daf87de84-01 outer:exit 2b-2aea17b9e5faab6a67f3c64836770bc96f2a14f7-84d87d5f99848a1f-01
2021-11-23T06:36:49.493Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:49.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-a051a9fe9b54f2e46b1acc9258339c443dff1e95-185a8ab5043e100b-01 outer:exit 2b-a051a9fe9b54f2e46b1acc9258339c443dff1e95-0b25cc3f08e503cc-01
2021-11-23T06:36:49.495Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:49.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-88ab6e0a30d24208af91df87aa1c32b840b71642-0f25f5f190bd1483-01 outer:exit 2b-88ab6e0a30d24208af91df87aa1c32b840b71642-44b40aec5ec50ff4-01
2021-11-23T06:36:49.498Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:49.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2787320cae6ad22289f36401cd3e3d4814967f2-6ee07a61fe25a7b9-01 outer:exit 2b-f2787320cae6ad22289f36401cd3e3d4814967f2-2b3b2fcb3d72a12b-01
2021-11-23T06:36:49.501Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:49.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd0a77ab6544129a250a2d8da271cc19bfb501b4-7f217a60ce4986d1-01 outer:exit 2b-bd0a77ab6544129a250a2d8da271cc19bfb501b4-d939553f3285da82-01
2021-11-23T06:36:49.503Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:49.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fb9c45fa70f0c40fb2483fcafe651392f3cbeed-674887a896d693b4-01 outer:exit 2b-0fb9c45fa70f0c40fb2483fcafe651392f3cbeed-f1ad6e83c5ad258a-01
2021-11-23T06:36:49.506Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:49.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-becb257cc6fa6506a14e8695ff8d9e7157f139cb-1825e01ae28cc70c-01 outer:exit 2b-becb257cc6fa6506a14e8695ff8d9e7157f139cb-99403a19de19b629-01
2021-11-23T06:36:49.508Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:49.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d418ff902d7363b24a1ad7fd19a4806e851561c-03454e4681c3606d-01 outer:exit 2b-0d418ff902d7363b24a1ad7fd19a4806e851561c-7648e0daa20c9a45-01
2021-11-23T06:36:49.511Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:49.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-380510354ad6e1f58133e4eabe2f323761dc0ac9-12f9cb85ff533677-01 outer:exit 2b-380510354ad6e1f58133e4eabe2f323761dc0ac9-32e804c50f50ddfa-01
2021-11-23T06:36:49.515Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:49.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-617e3965cca44f4fe2ce35a4ea69999e418b9048-1419daba4ddf7767-01 outer:exit 2b-617e3965cca44f4fe2ce35a4ea69999e418b9048-59af6ee7db37e1a3-01
2021-11-23T06:36:49.520Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:49.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-c05ff133453fd99ea121d08e404c0dda56a97dc9-c9963f707af5910d-01 outer:exit 2b-c05ff133453fd99ea121d08e404c0dda56a97dc9-51471ace19a25dbc-01
2021-11-23T06:36:49.523Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:49.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ff4a28c3fc7d1aca616365e5e41a5e33dcb9e2a-4049cc80c639c215-01 outer:exit 2b-6ff4a28c3fc7d1aca616365e5e41a5e33dcb9e2a-1a2178198eac9be5-01
2021-11-23T06:36:49.527Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:49.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffe2f438f2551b03c3b3c656b9bdf1808d7b1a22-24db2ab36087d686-01 outer:exit 2b-ffe2f438f2551b03c3b3c656b9bdf1808d7b1a22-0bdd915bced0b4c4-01
2021-11-23T06:36:49.534Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:49.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-901c888b5f8bc677fbada27cbfa9f9a5094c15ca-3f0af8858d39f111-01 outer:exit 2b-901c888b5f8bc677fbada27cbfa9f9a5094c15ca-2e31d6ce61a784d0-01
2021-11-23T06:36:49.541Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:49.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-aef0fbb4cf886fc3aee0633805e2004fb2aecf67-301d6e378be8f966-01 outer:exit 2b-aef0fbb4cf886fc3aee0633805e2004fb2aecf67-e2109e50d97f18c3-01
2021-11-23T06:36:49.552Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:49.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-a899eda2458922adbfe00ba6a903ec0d90ed0d43-9846be16d1c60b5b-01 outer:exit 2b-a899eda2458922adbfe00ba6a903ec0d90ed0d43-01a4cf2416fd5c94-01
2021-11-23T06:36:49.560Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:49.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee42b274d49fe86fd22bd1a99a89f7f63133d1d1-f3ebccb2644d5054-01 outer:exit 2b-ee42b274d49fe86fd22bd1a99a89f7f63133d1d1-23b60790cf568b52-01
2021-11-23T06:36:49.562Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:49.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-c46f3e10f3577f79fd979f431bba19e6a5c7dbd4-4e8b359b27dd3fbf-01 outer:exit 2b-c46f3e10f3577f79fd979f431bba19e6a5c7dbd4-70f5d30d604b32fb-01
2021-11-23T06:36:49.566Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:49.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-1be6e9fb44cc25e91eddd5db3432909a62147401-ec6727f8ab539919-01 outer:exit 2b-1be6e9fb44cc25e91eddd5db3432909a62147401-d6e78c416ab472b9-01
2021-11-23T06:36:49.574Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:49.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-7437fb15999f9fa5c66b20a6841ec1766c00678a-bc51a4576a710dc1-01 outer:exit 2b-7437fb15999f9fa5c66b20a6841ec1766c00678a-6ac5b0b46e1d21d5-01
2021-11-23T06:36:49.578Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:49.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-59709a3d0f51fa37c84c1a5ef25d2ce54536215f-e44977f076286f94-01 outer:exit 2b-59709a3d0f51fa37c84c1a5ef25d2ce54536215f-148ddfa00b394fc4-01
2021-11-23T06:36:49.580Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:49.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd98c4ed9ec27d616e91b269ae05d86e9ccbc7dc-a1936aa45771da92-01 outer:exit 2b-bd98c4ed9ec27d616e91b269ae05d86e9ccbc7dc-6f0bddd2df8104ee-01
2021-11-23T06:36:49.585Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:49.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-09df43505ebb9eae49c1fa2a4a5ecaa25dec5380-3b96fe1339dd4b6e-01 outer:exit 2b-09df43505ebb9eae49c1fa2a4a5ecaa25dec5380-4f1156be1eb9ea26-01
2021-11-23T06:36:49.587Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:49.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9ce53a7015f6371e4a623e9e77df3fb68579148-6fc65718ef9e2d5b-01 outer:exit 2b-f9ce53a7015f6371e4a623e9e77df3fb68579148-27ec30f5598ebd0b-01
2021-11-23T06:36:49.591Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:49.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-352030d72198366deee33166d7805e5208533d2c-12bc695bd19986fd-01 outer:exit 2b-352030d72198366deee33166d7805e5208533d2c-7b4d9135ccb45569-01
2021-11-23T06:36:49.601Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:49.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-180bbce4dfef127f15ebe6de1cd8d8b6de6c0a32-ebeca480c6d4d00f-01 outer:exit 2b-180bbce4dfef127f15ebe6de1cd8d8b6de6c0a32-8aac3177f45ed4bb-01
2021-11-23T06:36:49.611Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:49.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-230670a0d8063c9dd5c6bfbb19a51f8e30ed36de-abb55f91ec018e54-01 outer:exit 2b-230670a0d8063c9dd5c6bfbb19a51f8e30ed36de-084d30c586782de2-01
2021-11-23T06:36:49.615Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:49.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-096536d7bc3d9775625d7e2405fb6192134cb4a3-51502e494f5b5461-01 outer:exit 2b-096536d7bc3d9775625d7e2405fb6192134cb4a3-0813e9f97f7c4c68-01
2021-11-23T06:36:49.618Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:49.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-03cfef6f8e88555175d80460f23a0a4896c187d7-e0fbed6a27b595bf-01 outer:exit 2b-03cfef6f8e88555175d80460f23a0a4896c187d7-d719e3b6bd68e10b-01
2021-11-23T06:36:49.622Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:49.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-7484e349cfcdc72fccf6978eae6d56d83ece5383-9431118091008388-01 outer:exit 2b-7484e349cfcdc72fccf6978eae6d56d83ece5383-04067a84054db892-01
2021-11-23T06:36:49.657Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (359ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.16
updated 1 package and audited 1085 packages in 4.952s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:36:55.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:36:55.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:36:55.664Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:36:55.664Z appoptics:debug using context provider: ace-context
2021-11-23T06:36:55.725Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:36:55.874Z appoptics:patching patched crypto 
2021-11-23T06:36:55.891Z appoptics:patching patched https 
2021-11-23T06:36:55.891Z appoptics:patching patched http 
2021-11-23T06:36:55.937Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:36:55.937Z appoptics:patching patched fs 
2021-11-23T06:36:55.961Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v12.22.7)
2021-11-23T06:36:55.967Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-11-23T06:36:56.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f0c581289afded6f16701a3984e92fb7b5c3804-1a6533817abc8c36-01 outer:exit 2b-8f0c581289afded6f16701a3984e92fb7b5c3804-e045dc3739d8b4ea-01
2021-11-23T06:36:56.008Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:36:56.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-788a07a51464bb5a12adcce5e1d3de5b69fdfb91-38cbb27852250769-01 outer:exit 2b-788a07a51464bb5a12adcce5e1d3de5b69fdfb91-2b8415799bfbbf03-01
2021-11-23T06:36:56.093Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:36:56.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceff260e8b6411c070f4982d419627e3c389c30e-8be5bce94bd5b9d3-01 outer:exit 2b-ceff260e8b6411c070f4982d419627e3c389c30e-d6eeda40dd9ddfa1-01
2021-11-23T06:36:56.097Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:36:56.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-25112242bbf0fb78d00f802560c4ee0f97463057-3a846d84b3d7a980-01 outer:exit 2b-25112242bbf0fb78d00f802560c4ee0f97463057-dddecc25cc4aca53-01
2021-11-23T06:36:56.100Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:36:56.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba06b5e8a2c89e0f506fafbeab73a6c1bd228391-a1d5ce5402c9c5f3-01 outer:exit 2b-ba06b5e8a2c89e0f506fafbeab73a6c1bd228391-fbaec98069b4e924-01
2021-11-23T06:36:56.104Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:36:56.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-e17f5b185aa23d52ad37d8bfa7e38dad2c713613-40f3fe8474a48fb3-01 outer:exit 2b-e17f5b185aa23d52ad37d8bfa7e38dad2c713613-231deec98ee2e91f-01
2021-11-23T06:36:56.107Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:36:56.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-0286c4b7803c7a7755094fdd4bf6476faa9d52bd-6f25071b032f454a-01 outer:exit 2b-0286c4b7803c7a7755094fdd4bf6476faa9d52bd-c5ce14a6404ccacd-01
2021-11-23T06:36:56.109Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:36:56.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-a14f0844ceb392b5b172f1694a4d05be0d1c0d3d-faeab9a3cd284838-01 outer:exit 2b-a14f0844ceb392b5b172f1694a4d05be0d1c0d3d-5e50093de69e088f-01
2021-11-23T06:36:56.112Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:36:56.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7e840d75c7834be416085b78e39758b6c9cf9ca-83578f4f87773f4a-01 outer:exit 2b-e7e840d75c7834be416085b78e39758b6c9cf9ca-62dfb426ef9adde8-01
2021-11-23T06:36:56.114Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:36:56.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-52c0fbf69d5fd0145af76b7d9ab298bf4d3aa4f3-0cb12f11d47e64ad-01 outer:exit 2b-52c0fbf69d5fd0145af76b7d9ab298bf4d3aa4f3-1b58ae74b705c774-01
2021-11-23T06:36:56.117Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:36:56.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-611859cb13c4c80b283b500a7da0260436826342-49d0082fa0b93aef-01 outer:exit 2b-611859cb13c4c80b283b500a7da0260436826342-98b0c11d19cfba24-01
2021-11-23T06:36:56.120Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:36:56.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ad0f3abc939deb925769b1f58da2178a9c09667-1382d24ad11427de-01 outer:exit 2b-6ad0f3abc939deb925769b1f58da2178a9c09667-23c4a321425643b3-01
2021-11-23T06:36:56.131Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:36:56.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-af9a91c81f8ff7b320075a82e7625749284a706e-a719765157e86b61-01 outer:exit 2b-af9a91c81f8ff7b320075a82e7625749284a706e-ac622afd229e8f6f-01
2021-11-23T06:36:56.146Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:36:56.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-30ebe0c4d457bc075c2b32ce93e778a619697bba-b1e3dbbe6495f09c-01 outer:exit 2b-30ebe0c4d457bc075c2b32ce93e778a619697bba-0819fb9c9929f9b4-01
2021-11-23T06:36:56.192Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:36:56.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2f184f43137b38e8158480da7ef67d057462a65-56ae1f15ca8dcb73-01 outer:exit 2b-b2f184f43137b38e8158480da7ef67d057462a65-f542b59670bd5fc7-01
2021-11-23T06:36:56.195Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:36:56.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6845055f11cf91bc87f94b4abeeef756e5d8c2f-beefde9860687a92-01 outer:exit 2b-f6845055f11cf91bc87f94b4abeeef756e5d8c2f-9e5ef50d3b6e730f-01
2021-11-23T06:36:56.198Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:36:56.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f3f4c46c1cf77412b2a9407c50417975bf335c3-78c14859de34ded6-01 outer:exit 2b-0f3f4c46c1cf77412b2a9407c50417975bf335c3-d2b74c8704bd0b8b-01
2021-11-23T06:36:56.201Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:36:56.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0c4a7eb4ab2ce52daff75ccbb24d8d594cdfab3-15ae01278ad7c862-01 outer:exit 2b-f0c4a7eb4ab2ce52daff75ccbb24d8d594cdfab3-4a8039c860e6b954-01
2021-11-23T06:36:56.203Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:36:56.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-aba2ca8d25c0f14a8df34cc8c983e86cc6fc0a67-600a0ffad61b900a-01 outer:exit 2b-aba2ca8d25c0f14a8df34cc8c983e86cc6fc0a67-323e267bcc77346e-01
2021-11-23T06:36:56.207Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:36:56.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-9af837b1509862074e1453cbd140a8c0b1db9ebb-5836b4f7ec001c02-01 outer:exit 2b-9af837b1509862074e1453cbd140a8c0b1db9ebb-db5496e42669b161-01
2021-11-23T06:36:56.210Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:36:56.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-51d07b0ec0faf9dbcfbd9228d7c42b1df7b33efb-4c692f8f17a378d6-01 outer:exit 2b-51d07b0ec0faf9dbcfbd9228d7c42b1df7b33efb-6d0357728dd2fecc-01
2021-11-23T06:36:56.212Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:36:56.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0d9010f937c335596589b51a2742848328773bf-90177ee61e2b4125-01 outer:exit 2b-b0d9010f937c335596589b51a2742848328773bf-765aec054a940803-01
2021-11-23T06:36:56.214Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:36:56.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cece1174718c1395659ad20f342b7550cbff878-f9facb2abb609482-01 outer:exit 2b-7cece1174718c1395659ad20f342b7550cbff878-218dc60c0cb40566-01
2021-11-23T06:36:56.218Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:36:56.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-c093e95d58f63d455ad5a58ef67425fddfc74e67-08f50fc28fbdb549-01 outer:exit 2b-c093e95d58f63d455ad5a58ef67425fddfc74e67-479d91f4e2860b45-01
2021-11-23T06:36:56.221Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:36:56.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-4748d0e89f68761bf6ffd386cc8dca0d6d1e405d-4bb745275937f7d4-01 outer:exit 2b-4748d0e89f68761bf6ffd386cc8dca0d6d1e405d-82afaf0b4a8e8510-01
2021-11-23T06:36:56.226Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:36:56.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca8dcf6e23c6baab2f1fd7d61a28052e3010ace7-656359baec788a09-01 outer:exit 2b-ca8dcf6e23c6baab2f1fd7d61a28052e3010ace7-68109b9408b0948f-01
2021-11-23T06:36:56.233Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:36:56.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3a0acb9537629864650ddd89b63dfe544cd6c19-3785c505da3b57db-01 outer:exit 2b-c3a0acb9537629864650ddd89b63dfe544cd6c19-dd48d6bf82fae785-01
2021-11-23T06:36:56.242Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:36:56.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd73a45d240c59a527dfe30f1ca7e6c7bac9992c-17ef9d1683633092-01 outer:exit 2b-bd73a45d240c59a527dfe30f1ca7e6c7bac9992c-273d9cf4f17cb0a0-01
2021-11-23T06:36:56.247Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:36:56.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-158bd569132372cd1c6edf80c11832f53d34b8b0-7f9b724b408b7164-01 outer:exit 2b-158bd569132372cd1c6edf80c11832f53d34b8b0-a1277b32a76446e0-01
2021-11-23T06:36:56.258Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:36:56.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a70b37c37b5f3ad4758d48a9fefd50adb258544-c03f16feec436e99-01 outer:exit 2b-1a70b37c37b5f3ad4758d48a9fefd50adb258544-3f0e5854ecbc34c0-01
2021-11-23T06:36:56.264Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:36:56.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc9ee83a87b50edea82f98de73bdf2cbb7c57a7b-e4d45f916eab1720-01 outer:exit 2b-bc9ee83a87b50edea82f98de73bdf2cbb7c57a7b-6fb6029b429f7ba7-01
2021-11-23T06:36:56.266Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:36:56.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-e142b26c6ce15efaa65ff0b6f407925d04ac7c17-c7dbf89bd6d600ae-01 outer:exit 2b-e142b26c6ce15efaa65ff0b6f407925d04ac7c17-c47ac6cfc91e6059-01
2021-11-23T06:36:56.269Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:36:56.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e36d90e4eab223fbc645ddbf17a094a56aabf7a-e693002e5c6819b4-01 outer:exit 2b-6e36d90e4eab223fbc645ddbf17a094a56aabf7a-0fa814e01151db9c-01
2021-11-23T06:36:56.277Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:36:56.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-547d70ccc808ebbf38531bfa4bcd4d285c4649c1-6b692d6dee43866e-01 outer:exit 2b-547d70ccc808ebbf38531bfa4bcd4d285c4649c1-4df4562d2a820135-01
2021-11-23T06:36:56.279Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:36:56.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffb2c2de22d6608a0fa581bdb0568ca8f4f345d2-e54465080d15338a-01 outer:exit 2b-ffb2c2de22d6608a0fa581bdb0568ca8f4f345d2-94480dc31f2c0686-01
2021-11-23T06:36:56.281Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:36:56.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccf758f43b4237bb69188ca840a27aa8bb5abd03-6f0a2abd833be76e-01 outer:exit 2b-ccf758f43b4237bb69188ca840a27aa8bb5abd03-b28509558eb0bcf3-01
2021-11-23T06:36:56.283Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:36:56.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-060bf62e58543410dd6d69b6d4ffb6bdd53631e1-8c48c69e603d84c3-01 outer:exit 2b-060bf62e58543410dd6d69b6d4ffb6bdd53631e1-c3f70d4bebe40065-01
2021-11-23T06:36:56.285Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:36:56.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-c64f0f1b434ed0b4833525b33901123acd3d7458-ff03c2fb3e1b8afe-01 outer:exit 2b-c64f0f1b434ed0b4833525b33901123acd3d7458-028fdeebd696aa80-01
2021-11-23T06:36:56.288Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:36:56.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-36148bf8ff22c3adff229ff99beaf7d83176d91f-a511daa76a3ad6a6-01 outer:exit 2b-36148bf8ff22c3adff229ff99beaf7d83176d91f-ba1a573311a57979-01
2021-11-23T06:36:56.295Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:36:56.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba7f6a03923e90e49ab2c497a9990a0003ef8d95-1e4e8055f72e0d7d-01 outer:exit 2b-ba7f6a03923e90e49ab2c497a9990a0003ef8d95-972886a4e1040756-01
2021-11-23T06:36:56.303Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:36:56.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-89f4c0b951d20d1711be4b8ba5700c2119cb34c1-a3191f40c2026d2f-01 outer:exit 2b-89f4c0b951d20d1711be4b8ba5700c2119cb34c1-13d70909a5ffb8a7-01
2021-11-23T06:36:56.306Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:36:56.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-de512dff8bb76466d85c3522bb0e1fb7edcaaaab-cea273b625b3292c-01 outer:exit 2b-de512dff8bb76466d85c3522bb0e1fb7edcaaaab-241adfafde99a6f1-01
2021-11-23T06:36:56.309Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:36:56.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b075d4e81cbcb723c6730de5944110e8a8e201b-59d62e8deeacc4f1-01 outer:exit 2b-2b075d4e81cbcb723c6730de5944110e8a8e201b-dfdf4f7f389cc960-01
2021-11-23T06:36:56.312Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:36:56.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-204a23bae00ee28e6f0c8f6a063bebc923823bd5-ea348a8e85d3b39b-01 outer:exit 2b-204a23bae00ee28e6f0c8f6a063bebc923823bd5-35797f61d76e2d56-01
2021-11-23T06:36:56.339Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (366ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.17
updated 1 package and audited 1085 packages in 4.162s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:01.425Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:01.425Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:01.425Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:01.426Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:01.483Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:01.614Z appoptics:patching patched crypto 
2021-11-23T06:37:01.630Z appoptics:patching patched https 
2021-11-23T06:37:01.631Z appoptics:patching patched http 
2021-11-23T06:37:01.666Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:01.666Z appoptics:patching patched fs 
2021-11-23T06:37:01.690Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v12.22.7)
2021-11-23T06:37:01.695Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-11-23T06:37:01.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbf91ff3a5c2b2481dbe7b03d15cbdeda404d12d-8b5f5821be324046-01 outer:exit 2b-bbf91ff3a5c2b2481dbe7b03d15cbdeda404d12d-70d02f6f47c4e6e6-01
2021-11-23T06:37:01.736Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:01.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-57a2e186c3173ca88937ad3c7d98081951406ae5-5ece60f07837377b-01 outer:exit 2b-57a2e186c3173ca88937ad3c7d98081951406ae5-d89892fcaebba13e-01
2021-11-23T06:37:01.805Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:01.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-c413d35e55f4d35e74b62ba858034e17528baea7-270ca34accbc51a5-01 outer:exit 2b-c413d35e55f4d35e74b62ba858034e17528baea7-ca812bc993db941b-01
2021-11-23T06:37:01.808Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:01.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa30ab1a655ee9dacca3a10a6864004829d21445-daf88add58eebd1c-01 outer:exit 2b-aa30ab1a655ee9dacca3a10a6864004829d21445-0e07884b32a28917-01
2021-11-23T06:37:01.811Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:01.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f493d321c01b6a5733025920c381b15318a0f8f-5898eebcea79e048-01 outer:exit 2b-7f493d321c01b6a5733025920c381b15318a0f8f-e0ea15104a241f18-01
2021-11-23T06:37:01.817Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:01.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d2df2bdd2f961c7d2b5826bd55a23351d639153-38f52e2924a1f74b-01 outer:exit 2b-8d2df2bdd2f961c7d2b5826bd55a23351d639153-fc9adda8b54f29d0-01
2021-11-23T06:37:01.820Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:01.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ec804c0f02ef4b54baf7adce0df00984a690581-4eb08a06b8800750-01 outer:exit 2b-7ec804c0f02ef4b54baf7adce0df00984a690581-c9c59bf822ae6ff6-01
2021-11-23T06:37:01.822Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:01.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7f7b5d8274c1f8ef8a1d2adb12155fc864cce9d-5051c2562ef5897a-01 outer:exit 2b-d7f7b5d8274c1f8ef8a1d2adb12155fc864cce9d-42dd0488f0d06a8d-01
2021-11-23T06:37:01.825Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:01.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-64bb0d9c83ae9cada3c98aa179e789cf81ddaa8a-f8f43a0441c1953f-01 outer:exit 2b-64bb0d9c83ae9cada3c98aa179e789cf81ddaa8a-b74c9088cf72bdfe-01
2021-11-23T06:37:01.827Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:01.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ddc010f74b4ce070723c9bc63eaa3e70ca2505-a779fac921b7189a-01 outer:exit 2b-b8ddc010f74b4ce070723c9bc63eaa3e70ca2505-a8e4cb3eaaecb403-01
2021-11-23T06:37:01.835Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:01.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e27a96f79ffdce15961c62f2f690429a6bfddb-d266da4a3d381f02-01 outer:exit 2b-23e27a96f79ffdce15961c62f2f690429a6bfddb-4b95b14fbdd146af-01
2021-11-23T06:37:01.839Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:01.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a7079ae1b43f330eec837b18e61dc701464ce39-d12711c7dc7ef8cd-01 outer:exit 2b-4a7079ae1b43f330eec837b18e61dc701464ce39-1ddb893dbaa8defa-01
2021-11-23T06:37:01.845Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:01.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c32be21d42c7a64504e417aab4f411ff9f2807e-7b90a51716dcd9f9-01 outer:exit 2b-1c32be21d42c7a64504e417aab4f411ff9f2807e-6b2032fdac08280c-01
2021-11-23T06:37:01.861Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:01.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd44c3d318ba3ce0c904872384cbc20dd479b2ea-85b0c85116c7cbc6-01 outer:exit 2b-fd44c3d318ba3ce0c904872384cbc20dd479b2ea-ad18be1251a5e3a4-01
2021-11-23T06:37:01.945Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:01.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f39e028593b00ad6703e5041c14063a4d3518aa-ee104a221a5e3b49-01 outer:exit 2b-4f39e028593b00ad6703e5041c14063a4d3518aa-9941f0f20b091d31-01
2021-11-23T06:37:01.949Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:01.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-b81cfe53e7c019db330cfbb445f818a0ae2ba26a-3c9e0f20a941e49a-01 outer:exit 2b-b81cfe53e7c019db330cfbb445f818a0ae2ba26a-ed496cd29cf7f58d-01
2021-11-23T06:37:01.953Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:01.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa5f560e083d1388630f3caca3b8ecedf77cab21-6c801bdb2301a8e3-01 outer:exit 2b-aa5f560e083d1388630f3caca3b8ecedf77cab21-fee772391cf61181-01
2021-11-23T06:37:01.956Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:01.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-840a85441fcd31420c463d96cac832ba18d44035-dd2296c6d57202d6-01 outer:exit 2b-840a85441fcd31420c463d96cac832ba18d44035-30d7bdd99c6e7851-01
2021-11-23T06:37:01.959Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:01.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-955017a529f1a03c0b46167eac12ad5ce96cdd3e-5cfcf42828c4c323-01 outer:exit 2b-955017a529f1a03c0b46167eac12ad5ce96cdd3e-87b4215bfdcad96d-01
2021-11-23T06:37:01.961Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:01.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b03c6c307110d31c4c4c86089bee95258652df-0f8cc94dc7b4cdfc-01 outer:exit 2b-45b03c6c307110d31c4c4c86089bee95258652df-cd2d4a77459bc143-01
2021-11-23T06:37:01.963Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:01.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-b951938c68fa3921701af3e0825fba6d61f3205f-fc47267019f500d5-01 outer:exit 2b-b951938c68fa3921701af3e0825fba6d61f3205f-132c183ff46d76d7-01
2021-11-23T06:37:01.965Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:01.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc6d0cbbb0588ce839cc3ca3aa0f8c4e3503b78b-143ca560faf0daa5-01 outer:exit 2b-fc6d0cbbb0588ce839cc3ca3aa0f8c4e3503b78b-dc6d3fb8cc3e4d6b-01
2021-11-23T06:37:01.967Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:01.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a73523e0abe4da5149878c0a896c02b2d679073-98611a4de72526e7-01 outer:exit 2b-0a73523e0abe4da5149878c0a896c02b2d679073-9901e7605ee1f104-01
2021-11-23T06:37:01.970Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:01.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-2966e316765929ab7ac52960dd3eefc2eba2907f-bc1d5182e1cde97b-01 outer:exit 2b-2966e316765929ab7ac52960dd3eefc2eba2907f-2c0af053b71def15-01
2021-11-23T06:37:01.972Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:01.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbbb142f4dc94aa828ade560166ee902e951297c-80a1379e44ad9f0a-01 outer:exit 2b-dbbb142f4dc94aa828ade560166ee902e951297c-b6dcb3c5525c6e2f-01
2021-11-23T06:37:01.975Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:01.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-a13bb33c941266ada71f21590c87040e5096e5e9-5ecd9fe782661b30-01 outer:exit 2b-a13bb33c941266ada71f21590c87040e5096e5e9-73f50154e1d869c4-01
2021-11-23T06:37:01.977Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:01.984Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aa9f6997daa15fa9e5818284dec462dc5bac296-afdefaae0e6c22b0-01 outer:exit 2b-9aa9f6997daa15fa9e5818284dec462dc5bac296-5bbeb8584e6c9767-01
2021-11-23T06:37:01.984Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:01.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b0f787672e1c57ddc2b0d0aa9ff71b690eb4e9-9393a3a4d17333a1-01 outer:exit 2b-c6b0f787672e1c57ddc2b0d0aa9ff71b690eb4e9-ee3c3b4f055da9fe-01
2021-11-23T06:37:01.989Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:01.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a7a77a843f321671adbe41c16efb59912d0e6fc-8a9a240f46277a41-01 outer:exit 2b-7a7a77a843f321671adbe41c16efb59912d0e6fc-db37e5d95070a351-01
2021-11-23T06:37:01.997Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:02.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd94f216a76db8b57cb619f5d2a4fa43ca7e3a6-ce1e95e0dbe01197-01 outer:exit 2b-6dd94f216a76db8b57cb619f5d2a4fa43ca7e3a6-d5db5126f2e776df-01
2021-11-23T06:37:02.004Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:02.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-040211c54babc5ff970e1e2d40649a64b1f3b367-ad3a626fb0ac2305-01 outer:exit 2b-040211c54babc5ff970e1e2d40649a64b1f3b367-4010fc4f84b71fa5-01
2021-11-23T06:37:02.006Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:02.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-f54c8c3228f7571885fad08488130c3f67d5543a-6e1fde841e815689-01 outer:exit 2b-f54c8c3228f7571885fad08488130c3f67d5543a-4d04c7b100d1b04f-01
2021-11-23T06:37:02.008Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:02.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-b25f12ce71dfb4655362d08c3f6904f783b58faa-bcf691dd4e5cda6c-01 outer:exit 2b-b25f12ce71dfb4655362d08c3f6904f783b58faa-8b8c9c03336d5820-01
2021-11-23T06:37:02.014Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:02.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-e86c0bd36ee48c6f1153283282ca8a4c8d99948d-c6e591d04ddab3a3-01 outer:exit 2b-e86c0bd36ee48c6f1153283282ca8a4c8d99948d-0dd8bd851c0f5b45-01
2021-11-23T06:37:02.016Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:02.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fdf53657fe4c6f90875f0ee9d0f470b4c45295a-d69d5ca350bd389f-01 outer:exit 2b-8fdf53657fe4c6f90875f0ee9d0f470b4c45295a-1d44dec82ea4408d-01
2021-11-23T06:37:02.018Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:02.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9c7b22c92bb5c64287fbce228a3e6e212a0f763-7f418be65d6bf618-01 outer:exit 2b-e9c7b22c92bb5c64287fbce228a3e6e212a0f763-069d9d54c24cf6f6-01
2021-11-23T06:37:02.020Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:02.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-acafa75be4558f2c8c4b3e1642abd0b93f4640bd-04ee72f1b37a3602-01 outer:exit 2b-acafa75be4558f2c8c4b3e1642abd0b93f4640bd-27deafe7f54949d8-01
2021-11-23T06:37:02.022Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:02.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbda1b8673b955a2715809fd53152ab7b1f176b4-60121f59e7264e06-01 outer:exit 2b-bbda1b8673b955a2715809fd53152ab7b1f176b4-9f8b00a82f9cbf1a-01
2021-11-23T06:37:02.024Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:02.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1c4c441bed2a1b5a568c0ad211efde9559f0490-4474a3499b4f6a87-01 outer:exit 2b-e1c4c441bed2a1b5a568c0ad211efde9559f0490-e376f247e52a94df-01
2021-11-23T06:37:02.032Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:02.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-79b1d70cc427a3dced7d1ffdd6df9d85a4428999-5f9b21e6c5fd79ff-01 outer:exit 2b-79b1d70cc427a3dced7d1ffdd6df9d85a4428999-1d208a3e8b81483f-01
2021-11-23T06:37:02.039Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:02.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-4710ac9435f9890c67239b48cce1c216e6ca5fd8-11f140c719dd9316-01 outer:exit 2b-4710ac9435f9890c67239b48cce1c216e6ca5fd8-5612a40f580981f9-01
2021-11-23T06:37:02.041Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:02.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a1ae2327c4af537f0ab3dfd7c1998ff5022868-58f4737fc7943cdb-01 outer:exit 2b-c0a1ae2327c4af537f0ab3dfd7c1998ff5022868-92cad54a28078ef9-01
2021-11-23T06:37:02.044Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:02.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-986eda20f2ec098f003e5db3ad8d1b96a8620a44-6d143b634dc0d823-01 outer:exit 2b-986eda20f2ec098f003e5db3ad8d1b96a8620a44-6bb67fd49ae538d9-01
2021-11-23T06:37:02.046Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:02.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-60264d4f45ae98493e95f2b429d4b89bc930c822-b16510ca34da7952-01 outer:exit 2b-60264d4f45ae98493e95f2b429d4b89bc930c822-e17c057bd82cc79b-01
2021-11-23T06:37:02.071Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (370ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.18
updated 1 package and audited 1085 packages in 4.661s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:07.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:07.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:07.801Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:07.801Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:07.864Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:07.988Z appoptics:patching patched crypto 
2021-11-23T06:37:08.006Z appoptics:patching patched https 
2021-11-23T06:37:08.006Z appoptics:patching patched http 
2021-11-23T06:37:08.043Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:08.043Z appoptics:patching patched fs 
2021-11-23T06:37:08.067Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v12.22.7)
2021-11-23T06:37:08.072Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-11-23T06:37:08.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f65b213bd10eefd1654c9b76fc89fe3f723dc74-d781a82cf4470868-01 outer:exit 2b-6f65b213bd10eefd1654c9b76fc89fe3f723dc74-50c0384f2f796c88-01
2021-11-23T06:37:08.113Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:08.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd80a61a29bfcd8da10a5b22b858cec4b1a6365d-f9e744d756a9c97c-01 outer:exit 2b-bd80a61a29bfcd8da10a5b22b858cec4b1a6365d-105c1cae6b400d28-01
2021-11-23T06:37:08.200Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:08.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-135eecc017ed54f69a545c8609865a3bf33687dd-d12e9eceac589005-01 outer:exit 2b-135eecc017ed54f69a545c8609865a3bf33687dd-c5707e761fa380d5-01
2021-11-23T06:37:08.204Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:08.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f266ddb2c7db5aedc643f30ab198dbb52118064-71830e3e2a40e79c-01 outer:exit 2b-7f266ddb2c7db5aedc643f30ab198dbb52118064-53a4e47e150d10ce-01
2021-11-23T06:37:08.206Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:08.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ad6f70ae7db76535fee1dc7b063dd0995a06824-0cc02628ba2a35bd-01 outer:exit 2b-5ad6f70ae7db76535fee1dc7b063dd0995a06824-779b694163729d3a-01
2021-11-23T06:37:08.211Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:08.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e0aad81f3fb92446406ad72a594be9c6c4954e8-197e94f71757a51a-01 outer:exit 2b-3e0aad81f3fb92446406ad72a594be9c6c4954e8-30bfd016e8c4862b-01
2021-11-23T06:37:08.214Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:08.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-c612ad4ebbfeb8f66b2f07fed46c497e8651c053-79423177c384ef0b-01 outer:exit 2b-c612ad4ebbfeb8f66b2f07fed46c497e8651c053-ce3e31896c297b3b-01
2021-11-23T06:37:08.216Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:08.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-16e0f39ebabd3f7b7780aa3cdde882d2b6aee1d2-8b949e6845800d06-01 outer:exit 2b-16e0f39ebabd3f7b7780aa3cdde882d2b6aee1d2-36226e5428243b72-01
2021-11-23T06:37:08.222Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:08.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0acf95b7e41cb6019323b66d2d52ea9bf88d9a2-1a28fa2f0290ab36-01 outer:exit 2b-e0acf95b7e41cb6019323b66d2d52ea9bf88d9a2-061b0d35670a2f48-01
2021-11-23T06:37:08.225Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:08.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-15722f95838660e73bdb7bb0f6b14d7ca4020aea-e7975cbe1e6ed6e8-01 outer:exit 2b-15722f95838660e73bdb7bb0f6b14d7ca4020aea-c271da07b8e6b572-01
2021-11-23T06:37:08.227Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:08.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef48bfffb9f19602ed4c4b4da89cf422147a8c01-3ce178d3ebc74070-01 outer:exit 2b-ef48bfffb9f19602ed4c4b4da89cf422147a8c01-f96c5d36a21823b5-01
2021-11-23T06:37:08.231Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:08.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-694b56280b57c8c90a7426f8c67f4fd04d524e83-a62c4107974000a2-01 outer:exit 2b-694b56280b57c8c90a7426f8c67f4fd04d524e83-d974a9d1eebe88d5-01
2021-11-23T06:37:08.237Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:08.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-acf0ac954c8e941960feb6c931f35da50a7a694e-569eab960a95bb55-01 outer:exit 2b-acf0ac954c8e941960feb6c931f35da50a7a694e-7076a81ca34f9379-01
2021-11-23T06:37:08.252Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:08.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3f663857ac6e87d0122d1bd76758feaafd65fb3-9ba4a04d6ae3850a-01 outer:exit 2b-a3f663857ac6e87d0122d1bd76758feaafd65fb3-b9d9cc81e534b4f5-01
2021-11-23T06:37:08.299Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:08.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-75fc8e9d0f4c6b8fd90e8cc9dd0ad183115817f2-7fd03b38e248e372-01 outer:exit 2b-75fc8e9d0f4c6b8fd90e8cc9dd0ad183115817f2-1affb2b37e1c3e51-01
2021-11-23T06:37:08.302Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:08.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-4821880e7371cdd825c417561f589f372db947fe-87c5d4506f975e6f-01 outer:exit 2b-4821880e7371cdd825c417561f589f372db947fe-1be6dea98bcad24f-01
2021-11-23T06:37:08.304Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:08.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b84275b0aea2725945a42ad9aad6792511d1e18-940de191f20650f9-01 outer:exit 2b-6b84275b0aea2725945a42ad9aad6792511d1e18-c95811070324b8a1-01
2021-11-23T06:37:08.307Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:08.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b07d9a742efedaf96e80c7ad7d320dd421390d2-5d3fe1107e940ac1-01 outer:exit 2b-0b07d9a742efedaf96e80c7ad7d320dd421390d2-4ada7717d7389b41-01
2021-11-23T06:37:08.309Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:08.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-34a8d1eaf3b6cc51b2b5be024a108633b681490f-f62fbfaf423144e4-01 outer:exit 2b-34a8d1eaf3b6cc51b2b5be024a108633b681490f-729bb30ef577801a-01
2021-11-23T06:37:08.311Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:08.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-913f879db3a647e2ebb61ad179ab855e637f5177-47ca6ff385812e6b-01 outer:exit 2b-913f879db3a647e2ebb61ad179ab855e637f5177-4c15375d14a0894f-01
2021-11-23T06:37:08.313Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:08.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fd86f626eb5032a09e9f475d086dee5d38934c1-98c4688a695e9371-01 outer:exit 2b-3fd86f626eb5032a09e9f475d086dee5d38934c1-d6f3f079ca6fd807-01
2021-11-23T06:37:08.315Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:08.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd269829f5fed21e4301bc3f8f4fe4c551037236-ef9d1678ae7cd5f7-01 outer:exit 2b-bd269829f5fed21e4301bc3f8f4fe4c551037236-a4c6bff3e174e5d0-01
2021-11-23T06:37:08.317Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:08.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bb49c0b24e3318cc64d732d7ad0a177c3f90e8d-d655792a30ddf37d-01 outer:exit 2b-2bb49c0b24e3318cc64d732d7ad0a177c3f90e8d-4c6f24b58199d0d7-01
2021-11-23T06:37:08.320Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:08.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-385c4ffab45ab980f182a290b35d70cbc3eef7db-6874103a81d1230c-01 outer:exit 2b-385c4ffab45ab980f182a290b35d70cbc3eef7db-220e95b559613d0b-01
2021-11-23T06:37:08.323Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:08.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8b5a72564295fdac0be9fc3397f6e5dfe5e05b1-af80451ade7f0c63-01 outer:exit 2b-f8b5a72564295fdac0be9fc3397f6e5dfe5e05b1-18e7db8e142c118a-01
2021-11-23T06:37:08.325Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:08.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e86528668d252a30e2539c822877a8b805ba14-6f7dff1f79c92133-01 outer:exit 2b-23e86528668d252a30e2539c822877a8b805ba14-608a0298877c2aa4-01
2021-11-23T06:37:08.328Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:08.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-435f6ecbb38eb4b618fd602bb1ba991c047825ac-caf5ba3c77a55f81-01 outer:exit 2b-435f6ecbb38eb4b618fd602bb1ba991c047825ac-668ec92ca117a1fd-01
2021-11-23T06:37:08.334Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:08.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-54671f5a4869624ecdc9693923de4aaa6919fc43-95d75e895f7dcfa3-01 outer:exit 2b-54671f5a4869624ecdc9693923de4aaa6919fc43-9e0bfd5d757a5a3f-01
2021-11-23T06:37:08.339Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:08.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-dde328c2bc452df4a2a9fa4391a911a282ed3212-357171a6514ec696-01 outer:exit 2b-dde328c2bc452df4a2a9fa4391a911a282ed3212-b61c9febf4c25863-01
2021-11-23T06:37:08.346Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:08.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-3af3a874fef953d076848ab3464c489d2f76ca8b-ad61a70588571314-01 outer:exit 2b-3af3a874fef953d076848ab3464c489d2f76ca8b-1a64fe4b255b5edc-01
2021-11-23T06:37:08.352Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:08.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f166c339339fb32ceef11facdc5bebd8a25ef7-e04c5c5c1e4b4a59-01 outer:exit 2b-c5f166c339339fb32ceef11facdc5bebd8a25ef7-a378fc852f68fb82-01
2021-11-23T06:37:08.354Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:08.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f5e41d8c5c0d14282738f61aa263ad23c9c3c09-b1ff081cd96b46e8-01 outer:exit 2b-2f5e41d8c5c0d14282738f61aa263ad23c9c3c09-e72ea8129bd95199-01
2021-11-23T06:37:08.357Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:08.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-058db2c90a4a3960844d3b8c484bc337fdc7b1fc-71d6803a416628d5-01 outer:exit 2b-058db2c90a4a3960844d3b8c484bc337fdc7b1fc-07dcb05fea538994-01
2021-11-23T06:37:08.362Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:08.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9b9a13a2f3ab3380784c7d21d8043bfbcaa4451-9185d5338f839ac7-01 outer:exit 2b-c9b9a13a2f3ab3380784c7d21d8043bfbcaa4451-14a0e43bcf6af48c-01
2021-11-23T06:37:08.364Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:08.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ed5175e8eb5af6864f409be140d344e0b97a6d0-ce3c11d88639bda6-01 outer:exit 2b-6ed5175e8eb5af6864f409be140d344e0b97a6d0-457a2f88991bd4d2-01
2021-11-23T06:37:08.366Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:08.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-26e202b9bc413b86ed61c3e0a1b55b6b99d2ef4a-66fb512a9ae8a739-01 outer:exit 2b-26e202b9bc413b86ed61c3e0a1b55b6b99d2ef4a-55b2dce3600e7194-01
2021-11-23T06:37:08.368Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:08.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-87901fb2f4885b86e543a3b614fcff233c60059d-79097f4200f26f34-01 outer:exit 2b-87901fb2f4885b86e543a3b614fcff233c60059d-37551343dfa139e3-01
2021-11-23T06:37:08.370Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:08.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0f2a6c3aaf2a2ebe565b9b8d061a05508cf733e-c7c4ceada6b5fb9b-01 outer:exit 2b-a0f2a6c3aaf2a2ebe565b9b8d061a05508cf733e-1c018f6d067a90da-01
2021-11-23T06:37:08.372Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:08.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-65778902a6182488477da2869c39b8a768064826-4adc2fa002d169c6-01 outer:exit 2b-65778902a6182488477da2869c39b8a768064826-8a2080998aea20e9-01
2021-11-23T06:37:08.379Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:08.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-b737b9f9b6e213c092bd688593b73b6b719e791e-e17b7cba8e18ed99-01 outer:exit 2b-b737b9f9b6e213c092bd688593b73b6b719e791e-fa529a0a7cc5dfd2-01
2021-11-23T06:37:08.387Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:08.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-9178c3bc98098b97362fa8c0d3589e411845b882-2d6d3751310c0e57-01 outer:exit 2b-9178c3bc98098b97362fa8c0d3589e411845b882-e64e0c172725af5d-01
2021-11-23T06:37:08.390Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:08.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac131acbd0426aa9d6f878c59f31f1ea6a8517d1-ac7271a6096f41b9-01 outer:exit 2b-ac131acbd0426aa9d6f878c59f31f1ea6a8517d1-2e651994d467bd5b-01
2021-11-23T06:37:08.392Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:08.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-4180399c787d124828fd6f0f4560d0c82bc3a67e-ed7ca8595c2738c5-01 outer:exit 2b-4180399c787d124828fd6f0f4560d0c82bc3a67e-d368ae9b41fb237c-01
2021-11-23T06:37:08.395Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:08.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-973db5da90afe503845c47609b086b21baba31dc-411aa3112870dafd-01 outer:exit 2b-973db5da90afe503845c47609b086b21baba31dc-46c9039a545e03b3-01
2021-11-23T06:37:08.419Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (341ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.19
updated 1 package and audited 1085 packages in 4.043s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:13.410Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:13.411Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:13.411Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:13.411Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:13.474Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:13.601Z appoptics:patching patched crypto 
2021-11-23T06:37:13.616Z appoptics:patching patched https 
2021-11-23T06:37:13.617Z appoptics:patching patched http 
2021-11-23T06:37:13.661Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:13.661Z appoptics:patching patched fs 
2021-11-23T06:37:13.686Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v12.22.7)
2021-11-23T06:37:13.691Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-11-23T06:37:13.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e88f6e0bd95747ca9e3be250cabb9f147a9d0df-d8e328eee8c89bc6-01 outer:exit 2b-2e88f6e0bd95747ca9e3be250cabb9f147a9d0df-3612714180358631-01
2021-11-23T06:37:13.732Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:13.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef9683236f7ff3113372e6887ca3030866c1ac71-eb52d026fdf08a7f-01 outer:exit 2b-ef9683236f7ff3113372e6887ca3030866c1ac71-68b18b901cf842b0-01
2021-11-23T06:37:13.788Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:13.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-42d237fc2f00532f834c8f7c569f7b6970ae06e1-d174b452d083a3fc-01 outer:exit 2b-42d237fc2f00532f834c8f7c569f7b6970ae06e1-a634423e39ec977b-01
2021-11-23T06:37:13.792Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:13.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-833d1cc930ce044541026ba4a6ec1d895d891c91-80e20077286849e9-01 outer:exit 2b-833d1cc930ce044541026ba4a6ec1d895d891c91-1a736d0d9a39c434-01
2021-11-23T06:37:13.794Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:13.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-df463085bee47218fc930fef150fff71c3587808-00a3200f572c9c78-01 outer:exit 2b-df463085bee47218fc930fef150fff71c3587808-2eb06ee8b6467ae4-01
2021-11-23T06:37:13.799Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:13.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-9850839904edb5a4322e705c271d9efc85edd35f-60bf23d09c15d031-01 outer:exit 2b-9850839904edb5a4322e705c271d9efc85edd35f-f58be121bb4a6694-01
2021-11-23T06:37:13.802Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:13.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8dcdb969905180d9b9ca128b06facf45ec1e134-7997893875caeb46-01 outer:exit 2b-e8dcdb969905180d9b9ca128b06facf45ec1e134-70b229470201ff22-01
2021-11-23T06:37:13.804Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:13.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-da0857bb2593e1a2dd10ff60ba8975935a78b0d6-3458aa20046ff9be-01 outer:exit 2b-da0857bb2593e1a2dd10ff60ba8975935a78b0d6-103c818d879055f5-01
2021-11-23T06:37:13.807Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:13.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-8df6361432823712fe9abc4fdafe970071408157-b1351dbdce4a7bb3-01 outer:exit 2b-8df6361432823712fe9abc4fdafe970071408157-55f3bffd1bf26cd2-01
2021-11-23T06:37:13.809Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:13.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e8d21a645f418fa6f40a20addf571959f1fcf6a-012d19dfbaf0406f-01 outer:exit 2b-0e8d21a645f418fa6f40a20addf571959f1fcf6a-8dd096eb6c7687ec-01
2021-11-23T06:37:13.815Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:13.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-d024cdf51d3aec5b5c6431617e44d505a7f550b4-2e01b3d4f6bce1ac-01 outer:exit 2b-d024cdf51d3aec5b5c6431617e44d505a7f550b4-58fe6cb475efd987-01
2021-11-23T06:37:13.819Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:13.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ea7590dede39883c48d307d1eaa8e054ca0de18-69524edbd871ae37-01 outer:exit 2b-9ea7590dede39883c48d307d1eaa8e054ca0de18-4acce3b5a3bb047c-01
2021-11-23T06:37:13.824Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:13.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-453f98be56800f2612e878390bc973a97e9dc66e-27d5198da31f025a-01 outer:exit 2b-453f98be56800f2612e878390bc973a97e9dc66e-2f7bcbdf1e4045fc-01
2021-11-23T06:37:13.840Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:13.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-94880ccd4f007aa97eeb787e9cc5e3c04db6d5a8-e95fa04ab2f51b85-01 outer:exit 2b-94880ccd4f007aa97eeb787e9cc5e3c04db6d5a8-b348ff1a6e05a5b5-01
2021-11-23T06:37:13.888Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:13.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-06a51de62c80cbd3effbd1b006a9a9212ab06e93-5c4e232870c2aa89-01 outer:exit 2b-06a51de62c80cbd3effbd1b006a9a9212ab06e93-235cdce8e26d6fa6-01
2021-11-23T06:37:13.891Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:13.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-b84eede66bcdc295ff4b743c1f32e02542d96747-feeffc6391dd32d1-01 outer:exit 2b-b84eede66bcdc295ff4b743c1f32e02542d96747-ca7003fd7a52f8fc-01
2021-11-23T06:37:13.893Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:13.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-746b277978e77d1fa64ba64c27879d2d29ac9a24-5333b4a19173ff9a-01 outer:exit 2b-746b277978e77d1fa64ba64c27879d2d29ac9a24-134eccd4abd9b5c9-01
2021-11-23T06:37:13.896Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:13.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-c633eafc0827a14ed4ea011aa3a2899fca928e8f-d9c19b90ec93badc-01 outer:exit 2b-c633eafc0827a14ed4ea011aa3a2899fca928e8f-7429ba7b0259e021-01
2021-11-23T06:37:13.898Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:13.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-c05067f1183301e7cf8c36ec4293bb0e36887c97-13dbcd7a552f05af-01 outer:exit 2b-c05067f1183301e7cf8c36ec4293bb0e36887c97-bf0e6462ec35190d-01
2021-11-23T06:37:13.900Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:13.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c3d3810566a4f74b44748f2a137cb4d9db970a7-81466e41b8b2e835-01 outer:exit 2b-7c3d3810566a4f74b44748f2a137cb4d9db970a7-6b25d1e9b2a927b6-01
2021-11-23T06:37:13.902Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:13.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd998485be6f205ddef6b753badc190cfcd7cdd7-c6e832ad2fd9fedb-01 outer:exit 2b-fd998485be6f205ddef6b753badc190cfcd7cdd7-316160ea34265a4d-01
2021-11-23T06:37:13.905Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:13.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-50faeb6f49714376cec5600840e3d1ff045d2f4e-68e1f871e8112a71-01 outer:exit 2b-50faeb6f49714376cec5600840e3d1ff045d2f4e-1dadc89b523ac54d-01
2021-11-23T06:37:13.907Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:13.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-adf15e7734d98bf33eb27ee21b624f23d5f16f89-902e70f6c1c2d33e-01 outer:exit 2b-adf15e7734d98bf33eb27ee21b624f23d5f16f89-1c257b7930de2996-01
2021-11-23T06:37:13.910Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:13.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0dfdd908a9d02ad707cc28d8ceb3b4e71687e65-f65f8fe8d1762872-01 outer:exit 2b-e0dfdd908a9d02ad707cc28d8ceb3b4e71687e65-89cde7f354944d50-01
2021-11-23T06:37:13.913Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:13.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-6272888ce2a9ec44b25a9ffd2b41542172cb8586-ada0d7323737757d-01 outer:exit 2b-6272888ce2a9ec44b25a9ffd2b41542172cb8586-7c2ca6c3c308ddf4-01
2021-11-23T06:37:13.915Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:13.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e3a4ceb6b73ce93794aca0939976e7ad937d4c5-88e8e846a85f2fb4-01 outer:exit 2b-0e3a4ceb6b73ce93794aca0939976e7ad937d4c5-2e817442cd28c690-01
2021-11-23T06:37:13.918Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:13.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-0957d5b9901260ae08ad078b346559a9e55a4d24-6c84db1a25f8179f-01 outer:exit 2b-0957d5b9901260ae08ad078b346559a9e55a4d24-33a0ebf4bf19de15-01
2021-11-23T06:37:13.925Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:13.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dd86664591491de96f047455b344c84a06faf27-334e954266a0dca3-01 outer:exit 2b-1dd86664591491de96f047455b344c84a06faf27-97226b20de2962ee-01
2021-11-23T06:37:13.930Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:13.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-47d82ac97689f5f995a9d6beebfea194bc1f0ced-fde229be92541ba1-01 outer:exit 2b-47d82ac97689f5f995a9d6beebfea194bc1f0ced-530d8798320fd872-01
2021-11-23T06:37:13.937Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:13.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6cad1420629731cc28671c4f2574729da5f13ef-a1d5b62834990040-01 outer:exit 2b-a6cad1420629731cc28671c4f2574729da5f13ef-ae6ad0291cf97e83-01
2021-11-23T06:37:13.942Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:13.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-5680ba8dde12d760c266baa526a16f7627f3c9c5-52dccbb1476c5dcc-01 outer:exit 2b-5680ba8dde12d760c266baa526a16f7627f3c9c5-fb117ed67ca16656-01
2021-11-23T06:37:13.945Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:13.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-99b9b50c90e707f41207befe3ca9838801a66582-229785b9fdb71b3d-01 outer:exit 2b-99b9b50c90e707f41207befe3ca9838801a66582-54870fc266b89938-01
2021-11-23T06:37:13.947Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:13.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-327527fb1162a94f68f3136b27c76e1ab2d7edb5-d908e46ac70eca87-01 outer:exit 2b-327527fb1162a94f68f3136b27c76e1ab2d7edb5-611be9d57339e75a-01
2021-11-23T06:37:13.953Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:13.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-39f7f77b6a144d0dd9a67f7260c82299e6fb7b1e-43b00149936a1523-01 outer:exit 2b-39f7f77b6a144d0dd9a67f7260c82299e6fb7b1e-a61fbe64f65626c8-01
2021-11-23T06:37:13.955Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:13.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c97c57515881b762980919033cb57ad1f8dc8b2-aeb6f15b73b848fc-01 outer:exit 2b-0c97c57515881b762980919033cb57ad1f8dc8b2-7b4467e1dc23fa2b-01
2021-11-23T06:37:13.957Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:13.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e504ffc13e72893c74730f76a8c30f7d44ae552-42fe8d419138c9cf-01 outer:exit 2b-2e504ffc13e72893c74730f76a8c30f7d44ae552-0dc57bf20523808e-01
2021-11-23T06:37:13.959Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:13.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-a932eaaf355b5b843879cdd678f865decd8bcb2d-ba5a3831473bda3b-01 outer:exit 2b-a932eaaf355b5b843879cdd678f865decd8bcb2d-b21b8bb1d0b9e106-01
2021-11-23T06:37:13.961Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:13.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad02c8a6dc1a94681e1d230bd954bc0478fead7c-7ad33f70bbb38e25-01 outer:exit 2b-ad02c8a6dc1a94681e1d230bd954bc0478fead7c-4f1de78234d5e155-01
2021-11-23T06:37:13.963Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:13.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-a92e925a516ac3a90da1b92c8ad96cf11f04bd1b-bafcf82c1f7de3b4-01 outer:exit 2b-a92e925a516ac3a90da1b92c8ad96cf11f04bd1b-93c6abe0868bb0a5-01
2021-11-23T06:37:13.970Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:13.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0813c4a47170d2ee57d939d4382e108a09a155a-8a6f35cf0bffbfbf-01 outer:exit 2b-e0813c4a47170d2ee57d939d4382e108a09a155a-0b8551662096af57-01
2021-11-23T06:37:13.977Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:13.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-f075ef8a9c1b6b36cfa525b6b581e8fdd5f87fd5-42fd1af5951fb0f8-01 outer:exit 2b-f075ef8a9c1b6b36cfa525b6b581e8fdd5f87fd5-480832b117decf77-01
2021-11-23T06:37:13.980Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:13.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e9cac0ae895339016e37302f152554f228b8ebe-f9b3490d3610a6a8-01 outer:exit 2b-4e9cac0ae895339016e37302f152554f228b8ebe-668532ab5bd69c00-01
2021-11-23T06:37:13.982Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:13.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-28fbe042b9140bbeea376da4224da2b886c2a4bd-f7a1bf87ae1c4a36-01 outer:exit 2b-28fbe042b9140bbeea376da4224da2b886c2a4bd-56f9393bed478424-01
2021-11-23T06:37:13.985Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:14.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-64d3939edaf09370a69e1e703698bd591e0b775a-a12c69abfaeff713-01 outer:exit 2b-64d3939edaf09370a69e1e703698bd591e0b775a-cccf31409e73fae4-01
2021-11-23T06:37:14.010Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (313ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.20
updated 1 package and audited 1085 packages in 4.305s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:19.331Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:19.332Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:19.332Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:19.332Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:19.416Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:19.565Z appoptics:patching patched crypto 
2021-11-23T06:37:19.581Z appoptics:patching patched https 
2021-11-23T06:37:19.582Z appoptics:patching patched http 
2021-11-23T06:37:19.650Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:19.650Z appoptics:patching patched fs 
2021-11-23T06:37:19.683Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v12.22.7)
2021-11-23T06:37:19.688Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-11-23T06:37:19.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce44371837d70ca7f64e1a225f261636499c72dd-1d6a2d0e1c6d093d-01 outer:exit 2b-ce44371837d70ca7f64e1a225f261636499c72dd-51ffeb204e7e9175-01
2021-11-23T06:37:19.761Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-11-23T06:37:19.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ae4b4078e61693df059ef8174704707631c9366-f8b68989579b1ef0-01 outer:exit 2b-4ae4b4078e61693df059ef8174704707631c9366-e0b4b6e2562f6721-01
2021-11-23T06:37:19.799Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-11-23T06:37:19.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-535a8820e2c8c5b56987a178eabdb8e4a364016d-016c1d11b0c609f3-01 outer:exit 2b-535a8820e2c8c5b56987a178eabdb8e4a364016d-290e02e439c18eed-01
2021-11-23T06:37:19.803Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-11-23T06:37:19.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-37d7baac0336f17e505730f91037cf0a1ac6971a-51c0df6c88ff4f1b-01 outer:exit 2b-37d7baac0336f17e505730f91037cf0a1ac6971a-adc9f5cc7bd7f5a1-01
2021-11-23T06:37:19.805Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-11-23T06:37:19.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-09a7358c841c202b4992f11302d4def2a4fcfd1e-8ab5d16bd849361c-01 outer:exit 2b-09a7358c841c202b4992f11302d4def2a4fcfd1e-81d5b7b219581784-01
2021-11-23T06:37:19.810Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-11-23T06:37:19.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-2489d92ffc4f1e2c9646205cef1aa3e4f69a245b-4c48c7c5344b8931-01 outer:exit 2b-2489d92ffc4f1e2c9646205cef1aa3e4f69a245b-84a108997e007d93-01
2021-11-23T06:37:19.813Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-11-23T06:37:19.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a8638700658efe129c2dddeb501b1fc43d883cb-2258e59d7c14e598-01 outer:exit 2b-8a8638700658efe129c2dddeb501b1fc43d883cb-5403fa97eb8ac99e-01
2021-11-23T06:37:19.815Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-11-23T06:37:19.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-f779bd913579a934d0de785f7d50f01ab8e1586b-b952ec620fc65bb7-01 outer:exit 2b-f779bd913579a934d0de785f7d50f01ab8e1586b-688ee9fb6691ea49-01
2021-11-23T06:37:19.821Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-11-23T06:37:19.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-69ec966ec774f005cea2b7be7e7ca5d542bed1d2-9f3bf9bc6d004bd2-01 outer:exit 2b-69ec966ec774f005cea2b7be7e7ca5d542bed1d2-7840391141707e64-01
2021-11-23T06:37:19.823Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-11-23T06:37:19.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-f338bea47cc4587a27f0f10bb51e1ec4d0662ce0-5737203071fbc52a-01 outer:exit 2b-f338bea47cc4587a27f0f10bb51e1ec4d0662ce0-a85b498d1be055b8-01
2021-11-23T06:37:19.826Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-11-23T06:37:19.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-01658e3dcf32d7c8b505aa0f177a6378c76004ea-8fbdc63481532ef2-01 outer:exit 2b-01658e3dcf32d7c8b505aa0f177a6378c76004ea-fa28a9d42435e9e3-01
2021-11-23T06:37:19.830Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-11-23T06:37:19.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-127538153a2be3c9d48f8c33cc77190d56060944-c8d1e74907bb0aa3-01 outer:exit 2b-127538153a2be3c9d48f8c33cc77190d56060944-f3fcfc401e19dac3-01
2021-11-23T06:37:19.836Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-11-23T06:37:19.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-1182ffcaf8756000202d47659766f078c3c9be0b-b9ad8a944060e363-01 outer:exit 2b-1182ffcaf8756000202d47659766f078c3c9be0b-ad788c72255c7bf2-01
2021-11-23T06:37:19.851Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-11-23T06:37:19.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-2eff939ca1e16861257d6ada690a3944be4e84c5-203291be854de6a2-01 outer:exit 2b-2eff939ca1e16861257d6ada690a3944be4e84c5-9a2c900f8f100a3a-01
2021-11-23T06:37:19.900Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-11-23T06:37:19.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5b2da410f0386ce2fe9146fe88b97a87987205b-389ce31b189aa50e-01 outer:exit 2b-e5b2da410f0386ce2fe9146fe88b97a87987205b-4d084bbbdec30ef9-01
2021-11-23T06:37:19.903Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-11-23T06:37:19.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-458687358d0534458ec98f0d84413ba12db4d717-3840fbf9cbec998b-01 outer:exit 2b-458687358d0534458ec98f0d84413ba12db4d717-a48e6d98bd1a0b29-01
2021-11-23T06:37:19.905Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-11-23T06:37:19.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0f9e781ccecaf3bb4f62bab191a7eafdf275b16-e1b4cfe0cf198d62-01 outer:exit 2b-b0f9e781ccecaf3bb4f62bab191a7eafdf275b16-3a20e46eb4fff2f7-01
2021-11-23T06:37:19.908Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-11-23T06:37:19.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-5582ea62b9b5b5864a26577426e48feb7c94b86f-19069b74bf310545-01 outer:exit 2b-5582ea62b9b5b5864a26577426e48feb7c94b86f-11402bf4468ad406-01
2021-11-23T06:37:19.910Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-11-23T06:37:19.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-e032e79571d74c255947edaed94f9dc4613eb39f-2b37c17aa8c2e352-01 outer:exit 2b-e032e79571d74c255947edaed94f9dc4613eb39f-b5fcfcd7084a2dc3-01
2021-11-23T06:37:19.912Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-11-23T06:37:19.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3fa68c7d7a5c297a3d5c4069173f1b38e70461a-5b3972b5016f62b2-01 outer:exit 2b-b3fa68c7d7a5c297a3d5c4069173f1b38e70461a-cee29dcceb0d0211-01
2021-11-23T06:37:19.914Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-11-23T06:37:19.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-82e4c9ab3a14a4d573f924ae2cfca7e08911e698-f9c85f186ad8cf95-01 outer:exit 2b-82e4c9ab3a14a4d573f924ae2cfca7e08911e698-beaa0458f3db0a6e-01
2021-11-23T06:37:19.916Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-11-23T06:37:19.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdad50e30448e7e6538a9cfc2c6943745c10ff81-1bd3e19e187bc1ce-01 outer:exit 2b-cdad50e30448e7e6538a9cfc2c6943745c10ff81-579215e5bedf748b-01
2021-11-23T06:37:19.919Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-11-23T06:37:19.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-98913268fabd4cad400588613742c4d2407afe70-923be4b87b84b835-01 outer:exit 2b-98913268fabd4cad400588613742c4d2407afe70-d8d84da9b8c252d6-01
2021-11-23T06:37:19.921Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-11-23T06:37:19.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-259adb2321f1d69c74a4d47e7335adc10934138b-568d3107ad8a996b-01 outer:exit 2b-259adb2321f1d69c74a4d47e7335adc10934138b-c75bc5a0d9b87b14-01
2021-11-23T06:37:19.924Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-11-23T06:37:19.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a799e338feed45b17088a29c98f747618e6270e-df18a4ce07062f73-01 outer:exit 2b-7a799e338feed45b17088a29c98f747618e6270e-82dcc9bb7b694098-01
2021-11-23T06:37:19.927Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-11-23T06:37:19.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-d34a1fbd7214830603d7b26a7191df49ae7a2d86-df14976dc42b28b5-01 outer:exit 2b-d34a1fbd7214830603d7b26a7191df49ae7a2d86-92ce154252f39b78-01
2021-11-23T06:37:19.929Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-11-23T06:37:19.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a6588ca46dcc66e5b71b914226d725ab18957ee-11e64a8e735421fd-01 outer:exit 2b-9a6588ca46dcc66e5b71b914226d725ab18957ee-ffcba83b211f3ce9-01
2021-11-23T06:37:19.937Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-11-23T06:37:19.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-d591a3dca129b2f71a2e0e5f1369abf6df744d0b-02f9e84d3848bbc1-01 outer:exit 2b-d591a3dca129b2f71a2e0e5f1369abf6df744d0b-4d80d856fc35969f-01
2021-11-23T06:37:19.941Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-11-23T06:37:19.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-5587b1164c564b4f78cb5a0b1902a2917cbb85e6-447b0e6de7bd96ff-01 outer:exit 2b-5587b1164c564b4f78cb5a0b1902a2917cbb85e6-845ae8d16a175646-01
2021-11-23T06:37:19.949Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-11-23T06:37:19.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d2fceb216ae59c3049b606e5943baad4102ea77-28ed96d03e4b0414-01 outer:exit 2b-3d2fceb216ae59c3049b606e5943baad4102ea77-88a05c195b862b82-01
2021-11-23T06:37:19.954Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-11-23T06:37:19.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-24f9df018f1557c9897291d1e5521ebeca63229d-643bc8bebdcfd518-01 outer:exit 2b-24f9df018f1557c9897291d1e5521ebeca63229d-ad867c8e77e56d04-01
2021-11-23T06:37:19.956Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-11-23T06:37:19.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-68dfb985fab1d103822a533c9865bb63d3638bc5-5646d77258db248e-01 outer:exit 2b-68dfb985fab1d103822a533c9865bb63d3638bc5-94be194d56b80745-01
2021-11-23T06:37:19.959Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-11-23T06:37:19.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcc36001cafa100db6657db9971352844a1de45d-fee3c52f5afe85a1-01 outer:exit 2b-bcc36001cafa100db6657db9971352844a1de45d-0a9f1f9be96812fb-01
2021-11-23T06:37:19.965Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-11-23T06:37:19.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f43cf444b49103739fa087b982ac209119458f0-affdfdc7e44808cc-01 outer:exit 2b-3f43cf444b49103739fa087b982ac209119458f0-6876595492ef66cd-01
2021-11-23T06:37:19.967Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-11-23T06:37:19.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-782838a32d9b3b5b5f60056c9138f24b2a7a3744-26e92e1b22e12e8f-01 outer:exit 2b-782838a32d9b3b5b5f60056c9138f24b2a7a3744-5a550c518f237267-01
2021-11-23T06:37:19.969Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-11-23T06:37:19.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-f346c430f1d4bf58d9b1a1ec94171106dcf3f5e7-43e21d992f47cc9e-01 outer:exit 2b-f346c430f1d4bf58d9b1a1ec94171106dcf3f5e7-10038b40a63ab5ee-01
2021-11-23T06:37:19.971Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-11-23T06:37:19.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-5711be33913b3ba48ed4d232e316c9c7ef3690a5-92a0e7200f904dfc-01 outer:exit 2b-5711be33913b3ba48ed4d232e316c9c7ef3690a5-7892324b081c431c-01
2021-11-23T06:37:19.973Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-11-23T06:37:19.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-33139b1fc99682dbfdb8c734a3c38627fd3237a2-1126d0823876e245-01 outer:exit 2b-33139b1fc99682dbfdb8c734a3c38627fd3237a2-3c0f16be32fa2998-01
2021-11-23T06:37:19.975Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-11-23T06:37:19.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-520f78b5c103016ec6e1f5ebce32daeefabc3821-30f62029340841db-01 outer:exit 2b-520f78b5c103016ec6e1f5ebce32daeefabc3821-d629047f7118b472-01
2021-11-23T06:37:19.982Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-11-23T06:37:19.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-8945fd016f4f32ebad7732155dbd4de5ccee09d1-710fd9663f44b056-01 outer:exit 2b-8945fd016f4f32ebad7732155dbd4de5ccee09d1-9ebbef7c3797eef2-01
2021-11-23T06:37:19.989Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-11-23T06:37:19.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad1f3bc1e267cf94535d66151e0d223d9632442a-07391d6342b754e1-01 outer:exit 2b-ad1f3bc1e267cf94535d66151e0d223d9632442a-206b83ad6611a190-01
2021-11-23T06:37:19.992Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-11-23T06:37:19.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac761dd29fa584a636963796a414439e07a2d24-92cc33b7b862da81-01 outer:exit 2b-3ac761dd29fa584a636963796a414439e07a2d24-135103a3048f9d0e-01
2021-11-23T06:37:19.995Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-11-23T06:37:19.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f854e1806e35033b026e7942c0e7981bea8e18-33e926bba4807e4d-01 outer:exit 2b-87f854e1806e35033b026e7942c0e7981bea8e18-53245d486a0d27b7-01
2021-11-23T06:37:19.999Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-11-23T06:37:20.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1d42a460c99e2413d5e3ae6593f8a799b441c50-fe935ce336310943-01 outer:exit 2b-a1d42a460c99e2413d5e3ae6593f8a799b441c50-f028042dd792c5d0-01
2021-11-23T06:37:20.024Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (321ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:921:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:126:14)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.0
updated 1 package and audited 1085 packages in 4.484s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:25.464Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:25.464Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:25.464Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:25.465Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:25.529Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:25.657Z appoptics:patching patched crypto 
2021-11-23T06:37:25.673Z appoptics:patching patched https 
2021-11-23T06:37:25.673Z appoptics:patching patched http 
2021-11-23T06:37:25.712Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:25.712Z appoptics:patching patched fs 
2021-11-23T06:37:25.722Z appoptics:patching patched zlib 
2021-11-23T06:37:25.741Z appoptics:patching patched mongodb-core 3.0.0
2021-11-23T06:37:25.746Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (64ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (326ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.1
updated 1 package and audited 1085 packages in 4.292s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:31.538Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:31.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:31.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:31.541Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:31.657Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:31.798Z appoptics:patching patched crypto 
2021-11-23T06:37:31.814Z appoptics:patching patched https 
2021-11-23T06:37:31.815Z appoptics:patching patched http 
2021-11-23T06:37:31.861Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:31.861Z appoptics:patching patched fs 
2021-11-23T06:37:31.870Z appoptics:patching patched zlib 
2021-11-23T06:37:31.889Z appoptics:patching patched mongodb-core 3.0.1
2021-11-23T06:37:31.894Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (326ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.2
updated 1 package and audited 1085 packages in 4.195s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:37.427Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:37.428Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:37.428Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:37.429Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:37.489Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:37.617Z appoptics:patching patched crypto 
2021-11-23T06:37:37.633Z appoptics:patching patched https 
2021-11-23T06:37:37.634Z appoptics:patching patched http 
2021-11-23T06:37:37.675Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:37.675Z appoptics:patching patched fs 
2021-11-23T06:37:37.684Z appoptics:patching patched zlib 
2021-11-23T06:37:37.706Z appoptics:patching patched mongodb-core 3.0.2
2021-11-23T06:37:37.710Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (59ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (360ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.3
updated 1 package and audited 1085 packages in 4.717s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:44.271Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:44.272Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:44.272Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:44.272Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:44.335Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:44.460Z appoptics:patching patched crypto 
2021-11-23T06:37:44.477Z appoptics:patching patched https 
2021-11-23T06:37:44.477Z appoptics:patching patched http 
2021-11-23T06:37:44.513Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:44.513Z appoptics:patching patched fs 
2021-11-23T06:37:44.522Z appoptics:patching patched zlib 
2021-11-23T06:37:44.543Z appoptics:patching patched mongodb-core 3.0.3
2021-11-23T06:37:44.547Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (270ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.4
updated 1 package and audited 1085 packages in 4.024s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:49.776Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:49.776Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:49.776Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:49.777Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:49.841Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:49.966Z appoptics:patching patched crypto 
2021-11-23T06:37:49.982Z appoptics:patching patched https 
2021-11-23T06:37:49.982Z appoptics:patching patched http 
2021-11-23T06:37:50.020Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:50.020Z appoptics:patching patched fs 
2021-11-23T06:37:50.029Z appoptics:patching patched zlib 
2021-11-23T06:37:50.050Z appoptics:patching patched mongodb-core 3.0.4
2021-11-23T06:37:50.054Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (72ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (337ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.5
updated 1 package and audited 1085 packages in 5.355s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:37:56.831Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:37:56.831Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:37:56.831Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:37:56.832Z appoptics:debug using context provider: ace-context
2021-11-23T06:37:56.896Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:37:57.026Z appoptics:patching patched crypto 
2021-11-23T06:37:57.044Z appoptics:patching patched https 
2021-11-23T06:37:57.044Z appoptics:patching patched http 
2021-11-23T06:37:57.089Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:37:57.089Z appoptics:patching patched fs 
2021-11-23T06:37:57.103Z appoptics:patching patched zlib 
2021-11-23T06:37:57.127Z appoptics:patching patched mongodb-core 3.0.5
2021-11-23T06:37:57.136Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (68ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (307ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.6
updated 1 package and audited 1085 packages in 3.999s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:02.370Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:02.370Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:02.370Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:02.371Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:02.434Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:02.586Z appoptics:patching patched crypto 
2021-11-23T06:38:02.602Z appoptics:patching patched https 
2021-11-23T06:38:02.602Z appoptics:patching patched http 
2021-11-23T06:38:02.642Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:02.642Z appoptics:patching patched fs 
2021-11-23T06:38:02.651Z appoptics:patching patched zlib 
2021-11-23T06:38:02.674Z appoptics:patching patched mongodb-core 3.0.6
2021-11-23T06:38:02.678Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (264ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.7
updated 1 package and audited 1085 packages in 4.843s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:08.837Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:08.838Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:08.838Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:08.838Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:08.901Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:09.028Z appoptics:patching patched crypto 
2021-11-23T06:38:09.048Z appoptics:patching patched https 
2021-11-23T06:38:09.048Z appoptics:patching patched http 
2021-11-23T06:38:09.084Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:09.084Z appoptics:patching patched fs 
2021-11-23T06:38:09.093Z appoptics:patching patched zlib 
2021-11-23T06:38:09.116Z appoptics:patching patched mongodb-core 3.0.7
2021-11-23T06:38:09.120Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (304ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.8
updated 1 package and audited 1085 packages in 3.944s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:14.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:14.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:14.326Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:14.327Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:14.392Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:14.520Z appoptics:patching patched crypto 
2021-11-23T06:38:14.538Z appoptics:patching patched https 
2021-11-23T06:38:14.538Z appoptics:patching patched http 
2021-11-23T06:38:14.573Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:14.573Z appoptics:patching patched fs 
2021-11-23T06:38:14.582Z appoptics:patching patched zlib 
2021-11-23T06:38:14.604Z appoptics:patching patched mongodb-core 3.0.8
2021-11-23T06:38:14.609Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (69ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (302ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.9
updated 1 package and audited 1085 packages in 4.473s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:20.400Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:20.401Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:20.401Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:20.402Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:20.494Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:20.808Z appoptics:patching patched crypto 
2021-11-23T06:38:20.833Z appoptics:patching patched https 
2021-11-23T06:38:20.833Z appoptics:patching patched http 
2021-11-23T06:38:20.875Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:20.875Z appoptics:patching patched fs 
2021-11-23T06:38:20.885Z appoptics:patching patched zlib 
2021-11-23T06:38:20.907Z appoptics:patching patched mongodb-core 3.0.9
2021-11-23T06:38:20.911Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (55ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (353ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.11
updated 1 package and audited 1085 packages in 4.043s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:26.207Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:26.208Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:26.208Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:26.209Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:26.270Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:26.397Z appoptics:patching patched crypto 
2021-11-23T06:38:26.414Z appoptics:patching patched https 
2021-11-23T06:38:26.414Z appoptics:patching patched http 
2021-11-23T06:38:26.449Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:26.450Z appoptics:patching patched fs 
2021-11-23T06:38:26.458Z appoptics:patching patched zlib 
2021-11-23T06:38:26.481Z appoptics:patching patched mongodb-core 3.0.11
2021-11-23T06:38:26.485Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (77ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (321ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.0
updated 1 package and audited 1085 packages in 4.408s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:32.267Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:32.268Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:32.268Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:32.269Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:32.346Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:32.504Z appoptics:patching patched crypto 
2021-11-23T06:38:32.526Z appoptics:patching patched https 
2021-11-23T06:38:32.526Z appoptics:patching patched http 
2021-11-23T06:38:32.614Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:32.614Z appoptics:patching patched fs 
2021-11-23T06:38:32.625Z appoptics:patching patched zlib 
2021-11-23T06:38:32.656Z appoptics:patching patched mongodb-core 3.1.0
2021-11-23T06:38:32.660Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (405ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.1
updated 1 package and audited 1085 packages in 4.861s

80 packages are looking for funding
  run `npm fund` for details

found 29 vulnerabilities (13 moderate, 13 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:38.921Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:38.922Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:38.922Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:38.923Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:38.984Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:39.113Z appoptics:patching patched crypto 
2021-11-23T06:38:39.129Z appoptics:patching patched https 
2021-11-23T06:38:39.130Z appoptics:patching patched http 
2021-11-23T06:38:39.165Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:39.165Z appoptics:patching patched fs 
2021-11-23T06:38:39.174Z appoptics:patching patched zlib 
2021-11-23T06:38:39.199Z appoptics:patching patched mongodb-core 3.1.1
2021-11-23T06:38:39.204Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (311ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.2
updated 2 packages and audited 1085 packages in 4.36s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:44.923Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:44.923Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:44.923Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:44.924Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:44.987Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:45.114Z appoptics:patching patched crypto 
2021-11-23T06:38:45.129Z appoptics:patching patched https 
2021-11-23T06:38:45.130Z appoptics:patching patched http 
2021-11-23T06:38:45.165Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:45.166Z appoptics:patching patched fs 
2021-11-23T06:38:45.175Z appoptics:patching patched zlib 
2021-11-23T06:38:45.201Z appoptics:patching patched mongodb-core 3.1.2
2021-11-23T06:38:45.205Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (41ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (265ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.3
updated 1 package and audited 1085 packages in 4.329s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:50.723Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:50.723Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:50.723Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:50.724Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:50.789Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:50.913Z appoptics:patching patched crypto 
2021-11-23T06:38:50.929Z appoptics:patching patched https 
2021-11-23T06:38:50.929Z appoptics:patching patched http 
2021-11-23T06:38:50.965Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:50.965Z appoptics:patching patched fs 
2021-11-23T06:38:50.975Z appoptics:patching patched zlib 
2021-11-23T06:38:51.001Z appoptics:patching patched mongodb-core 3.1.3
2021-11-23T06:38:51.005Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (316ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.4
updated 1 package and audited 1085 packages in 5.109s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:38:57.420Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:38:57.421Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:38:57.421Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:38:57.421Z appoptics:debug using context provider: ace-context
2021-11-23T06:38:57.489Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:38:57.643Z appoptics:patching patched crypto 
2021-11-23T06:38:57.661Z appoptics:patching patched https 
2021-11-23T06:38:57.661Z appoptics:patching patched http 
2021-11-23T06:38:57.697Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:38:57.697Z appoptics:patching patched fs 
2021-11-23T06:38:57.707Z appoptics:patching patched zlib 
2021-11-23T06:38:57.733Z appoptics:patching patched mongodb-core 3.1.4
2021-11-23T06:38:57.738Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (745ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.5
updated 1 package and audited 1085 packages in 4.287s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:03.830Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:03.831Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:03.831Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:03.831Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:03.896Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:04.027Z appoptics:patching patched crypto 
2021-11-23T06:39:04.044Z appoptics:patching patched https 
2021-11-23T06:39:04.044Z appoptics:patching patched http 
2021-11-23T06:39:04.091Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:04.092Z appoptics:patching patched fs 
2021-11-23T06:39:04.102Z appoptics:patching patched zlib 
2021-11-23T06:39:04.127Z appoptics:patching patched mongodb-core 3.1.5
2021-11-23T06:39:04.132Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (298ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.6
updated 1 package and audited 1085 packages in 5.103s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:10.491Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:10.491Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:10.491Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:10.492Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:10.567Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:10.712Z appoptics:patching patched crypto 
2021-11-23T06:39:10.749Z appoptics:patching patched https 
2021-11-23T06:39:10.750Z appoptics:patching patched http 
2021-11-23T06:39:10.806Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:10.806Z appoptics:patching patched fs 
2021-11-23T06:39:10.817Z appoptics:patching patched zlib 
2021-11-23T06:39:10.844Z appoptics:patching patched mongodb-core 3.1.6
2021-11-23T06:39:10.848Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (358ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.7
updated 1 package and audited 1085 packages in 3.957s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:16.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:16.049Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:16.049Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:16.050Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:16.128Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:16.273Z appoptics:patching patched crypto 
2021-11-23T06:39:16.290Z appoptics:patching patched https 
2021-11-23T06:39:16.290Z appoptics:patching patched http 
2021-11-23T06:39:16.325Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:16.325Z appoptics:patching patched fs 
2021-11-23T06:39:16.335Z appoptics:patching patched zlib 
2021-11-23T06:39:16.361Z appoptics:patching patched mongodb-core 3.1.7
2021-11-23T06:39:16.365Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (73ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (377ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.8
updated 1 package and audited 1085 packages in 4.863s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:22.526Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:22.527Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:22.527Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:22.527Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:22.591Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:22.720Z appoptics:patching patched crypto 
2021-11-23T06:39:22.737Z appoptics:patching patched https 
2021-11-23T06:39:22.738Z appoptics:patching patched http 
2021-11-23T06:39:22.774Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:22.774Z appoptics:patching patched fs 
2021-11-23T06:39:22.784Z appoptics:patching patched zlib 
2021-11-23T06:39:22.810Z appoptics:patching patched mongodb-core 3.1.8
2021-11-23T06:39:22.815Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (303ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.9
updated 1 package and audited 1085 packages in 4.023s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:28.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:28.107Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:28.107Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:28.108Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:28.169Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:28.295Z appoptics:patching patched crypto 
2021-11-23T06:39:28.312Z appoptics:patching patched https 
2021-11-23T06:39:28.312Z appoptics:patching patched http 
2021-11-23T06:39:28.347Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:28.347Z appoptics:patching patched fs 
2021-11-23T06:39:28.357Z appoptics:patching patched zlib 
2021-11-23T06:39:28.382Z appoptics:patching patched mongodb-core 3.1.9
2021-11-23T06:39:28.387Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (246ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.10
updated 1 package and audited 1085 packages in 5.309s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:34.871Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:34.871Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:34.871Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:34.872Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:34.934Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:35.067Z appoptics:patching patched crypto 
2021-11-23T06:39:35.084Z appoptics:patching patched https 
2021-11-23T06:39:35.084Z appoptics:patching patched http 
2021-11-23T06:39:35.119Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:35.120Z appoptics:patching patched fs 
2021-11-23T06:39:35.130Z appoptics:patching patched zlib 
2021-11-23T06:39:35.155Z appoptics:patching patched mongodb-core 3.1.10
2021-11-23T06:39:35.160Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (271ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.11
updated 1 package and audited 1085 packages in 4.101s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:40.425Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:40.426Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:40.426Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:40.426Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:40.488Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:40.615Z appoptics:patching patched crypto 
2021-11-23T06:39:40.631Z appoptics:patching patched https 
2021-11-23T06:39:40.632Z appoptics:patching patched http 
2021-11-23T06:39:40.669Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:40.669Z appoptics:patching patched fs 
2021-11-23T06:39:40.679Z appoptics:patching patched zlib 
2021-11-23T06:39:40.704Z appoptics:patching patched mongodb-core 3.1.11
2021-11-23T06:39:40.709Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (58ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (321ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.0
updated 1 package and audited 1085 packages in 5.396s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:47.316Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:47.316Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:47.317Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:47.317Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:47.394Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:47.543Z appoptics:patching patched crypto 
2021-11-23T06:39:47.559Z appoptics:patching patched https 
2021-11-23T06:39:47.559Z appoptics:patching patched http 
2021-11-23T06:39:47.599Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:47.599Z appoptics:patching patched fs 
2021-11-23T06:39:47.610Z appoptics:patching patched zlib 
2021-11-23T06:39:47.640Z appoptics:patching patched mongodb-core 3.2.0
2021-11-23T06:39:47.645Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (63ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (301ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.1
updated 1 package and audited 1085 packages in 4.454s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:53.313Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:53.314Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:53.314Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:53.314Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:53.376Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:39:53.503Z appoptics:patching patched crypto 
2021-11-23T06:39:53.519Z appoptics:patching patched https 
2021-11-23T06:39:53.519Z appoptics:patching patched http 
2021-11-23T06:39:53.555Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:39:53.555Z appoptics:patching patched fs 
2021-11-23T06:39:53.567Z appoptics:patching patched zlib 
2021-11-23T06:39:53.609Z appoptics:patching patched mongodb-core 3.2.1
2021-11-23T06:39:53.614Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (338ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.2
updated 1 package and audited 1085 packages in 4.9s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:39:59.847Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:39:59.848Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:39:59.848Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:39:59.849Z appoptics:debug using context provider: ace-context
2021-11-23T06:39:59.912Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:00.040Z appoptics:patching patched crypto 
2021-11-23T06:40:00.060Z appoptics:patching patched https 
2021-11-23T06:40:00.061Z appoptics:patching patched http 
2021-11-23T06:40:00.096Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:00.096Z appoptics:patching patched fs 
2021-11-23T06:40:00.107Z appoptics:patching patched zlib 
2021-11-23T06:40:00.138Z appoptics:patching patched mongodb-core 3.2.2
2021-11-23T06:40:00.142Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (66ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (303ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.3
updated 1 package and audited 1085 packages in 4.046s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:05.527Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:05.528Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:05.528Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:05.529Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:05.605Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:05.753Z appoptics:patching patched crypto 
2021-11-23T06:40:05.770Z appoptics:patching patched https 
2021-11-23T06:40:05.770Z appoptics:patching patched http 
2021-11-23T06:40:05.840Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:05.841Z appoptics:patching patched fs 
2021-11-23T06:40:05.852Z appoptics:patching patched zlib 
2021-11-23T06:40:05.884Z appoptics:patching patched mongodb-core 3.2.3
2021-11-23T06:40:05.889Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (61ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (331ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.4
updated 1 package and audited 1085 packages in 4.752s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:11.854Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:11.855Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:11.855Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:11.855Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:11.918Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:12.044Z appoptics:patching patched crypto 
2021-11-23T06:40:12.061Z appoptics:patching patched https 
2021-11-23T06:40:12.061Z appoptics:patching patched http 
2021-11-23T06:40:12.105Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:12.105Z appoptics:patching patched fs 
2021-11-23T06:40:12.116Z appoptics:patching patched zlib 
2021-11-23T06:40:12.146Z appoptics:patching patched mongodb-core 3.2.4
2021-11-23T06:40:12.151Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (328ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.5
updated 1 package and audited 1085 packages in 4.234s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:17.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:17.623Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:17.623Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:17.624Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:17.688Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:17.829Z appoptics:patching patched crypto 
2021-11-23T06:40:17.849Z appoptics:patching patched https 
2021-11-23T06:40:17.850Z appoptics:patching patched http 
2021-11-23T06:40:17.903Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:17.904Z appoptics:patching patched fs 
2021-11-23T06:40:17.920Z appoptics:patching patched zlib 
2021-11-23T06:40:17.952Z appoptics:patching patched mongodb-core 3.2.5
2021-11-23T06:40:17.957Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (310ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.6
updated 1 package and audited 1085 packages in 4.546s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:23.714Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:23.715Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:23.715Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:23.716Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:23.774Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:23.911Z appoptics:patching patched crypto 
2021-11-23T06:40:23.928Z appoptics:patching patched https 
2021-11-23T06:40:23.928Z appoptics:patching patched http 
2021-11-23T06:40:23.970Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:23.970Z appoptics:patching patched fs 
2021-11-23T06:40:23.981Z appoptics:patching patched zlib 
2021-11-23T06:40:24.012Z appoptics:patching patched mongodb-core 3.2.6
2021-11-23T06:40:24.016Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (302ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 1085 packages in 4.119s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-11-23T06:40:29.350Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-11-23T06:40:29.350Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-11-23T06:40:29.350Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-11-23T06:40:29.351Z appoptics:debug using context provider: ace-context
2021-11-23T06:40:29.415Z appoptics:debug apm 10.1.1-prerelease.0, bindings 11.1.0, oboe 10.1.1
2021-11-23T06:40:29.542Z appoptics:patching patched crypto 
2021-11-23T06:40:29.559Z appoptics:patching patched https 
2021-11-23T06:40:29.559Z appoptics:patching patched http 
2021-11-23T06:40:29.595Z appoptics:patching fs.realpath - adding native method
2021-11-23T06:40:29.595Z appoptics:patching patched fs 
2021-11-23T06:40:29.606Z appoptics:patching patched zlib 
2021-11-23T06:40:29.637Z appoptics:patching patched mongodb-core 3.2.7
2021-11-23T06:40:29.641Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (324ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 1085 packages in 4.28s

80 packages are looking for funding
  run `npm fund` for details

found 28 vulnerabilities (13 moderate, 12 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
