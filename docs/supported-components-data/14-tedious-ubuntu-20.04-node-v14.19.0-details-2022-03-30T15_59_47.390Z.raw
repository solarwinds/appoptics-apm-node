npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.1.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.1.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.1.5
added 2 packages from 2 contributors, removed 68 packages, updated 2 packages and audited 844 packages in 5.186s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T15:59:53.872Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T15:59:53.873Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T15:59:53.873Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T15:59:53.873Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T15:59:53.873Z appoptics:debug using context provider: ace-context
2022-03-30T15:59:53.937Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T15:59:54.106Z appoptics:patching patched crypto 
2022-03-30T15:59:54.133Z appoptics:patching patched https 
2022-03-30T15:59:54.134Z appoptics:patching patched http 
2022-03-30T15:59:54.200Z appoptics:patching patched tedious 0.1.5
2022-03-30T15:59:54.203Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.1.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 0.1.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 0.1.5
       "before each" hook for "should support parameters with a database name":
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.1
updated 2 packages and audited 844 packages in 4.773s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:01.050Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:01.051Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:01.052Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:01.052Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:01.052Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:01.132Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:00:01.312Z appoptics:patching patched crypto 
2022-03-30T16:00:01.374Z appoptics:patching patched https 
2022-03-30T16:00:01.375Z appoptics:patching patched http 
2022-03-30T16:00:01.440Z appoptics:patching patched tedious 0.2.1
2022-03-30T16:00:01.443Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 0.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 0.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 0.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 0.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 0.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 0.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 0.2.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 0.2.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 0.2.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 0.2.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 0.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 0.2.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.2
updated 1 package and audited 844 packages in 3.995s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:10.199Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:10.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:10.200Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:10.200Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:10.200Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:10.265Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:00:10.400Z appoptics:patching patched crypto 
2022-03-30T16:00:10.426Z appoptics:patching patched https 
2022-03-30T16:00:10.426Z appoptics:patching patched http 
2022-03-30T16:00:10.492Z appoptics:patching patched tedious 0.2.2
2022-03-30T16:00:10.495Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) "before each" hook for "should do nothing when disabled with a database name"


  3 passing (2s)
  6 failing

  1) probes.tedious 0.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 0.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 0.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 0.2.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 0.2.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 0.2.2
       "before each" hook for "should do nothing when disabled with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.3
removed 1 package, updated 1 package and audited 843 packages in 5.326s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:18.893Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:18.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:18.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:18.893Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:18.894Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:18.960Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:00:19.096Z appoptics:patching patched crypto 
2022-03-30T16:00:19.124Z appoptics:patching patched https 
2022-03-30T16:00:19.124Z appoptics:patching patched http 
2022-03-30T16:00:19.191Z appoptics:patching patched tedious 0.2.3
2022-03-30T16:00:19.195Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 0.2.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 0.2.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 0.2.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 0.2.3
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.2.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.2.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.2.4
updated 2 packages and audited 843 packages in 4.179s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:25.861Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:25.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:25.861Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:25.861Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:25.862Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:25.923Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:00:26.057Z appoptics:patching patched crypto 
2022-03-30T16:00:26.083Z appoptics:patching patched https 
2022-03-30T16:00:26.083Z appoptics:patching patched http 
2022-03-30T16:00:26.123Z appoptics:patching patched tedious 0.2.4
2022-03-30T16:00:26.126Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.2.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 0.2.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 0.2.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@0.3.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@0.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@0.3.0
updated 1 package and audited 843 packages in 4.719s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:32.929Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:32.929Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:32.929Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:32.929Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:32.929Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:32.994Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:00:33.123Z appoptics:patching patched crypto 
2022-03-30T16:00:33.147Z appoptics:patching patched https 
2022-03-30T16:00:33.147Z appoptics:patching patched http 
2022-03-30T16:00:33.188Z appoptics:patching patched tedious 0.3.0
2022-03-30T16:00:33.191Z appoptics:debug starting runtimeMetrics


  probes.tedious 0.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 0.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 0.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 0.3.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.0.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.0.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.0.0
updated 1 package and audited 843 packages in 3.949s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:39.433Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:39.434Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:39.434Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:39.434Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:39.434Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:39.499Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:00:39.637Z appoptics:patching patched crypto 
2022-03-30T16:00:39.663Z appoptics:patching patched https 
2022-03-30T16:00:39.663Z appoptics:patching patched http 
2022-03-30T16:00:39.703Z appoptics:patching patched tedious 1.0.0
2022-03-30T16:00:39.707Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.0.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.1.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.1.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.1.0
added 1 package from 1 contributor, updated 1 package and audited 844 packages in 4.209s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:46.164Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:46.164Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:46.165Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:46.165Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:46.165Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:46.237Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:00:46.410Z appoptics:patching patched crypto 
2022-03-30T16:00:46.438Z appoptics:patching patched https 
2022-03-30T16:00:46.438Z appoptics:patching patched http 
2022-03-30T16:00:46.482Z appoptics:patching patched tedious 1.1.0
2022-03-30T16:00:46.486Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) "before each" hook for "should sanitize query with no database name"


  3 passing (3s)
  9 failing

  1) probes.tedious 1.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.1.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.1.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 1.1.0
       "before each" hook for "should sanitize query with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.0
updated 1 package and audited 844 packages in 4.235s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:00:54.503Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:00:54.504Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:00:54.504Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:00:54.504Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:00:54.504Z appoptics:debug using context provider: ace-context
2022-03-30T16:00:54.566Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:00:54.697Z appoptics:patching patched crypto 
2022-03-30T16:00:54.720Z appoptics:patching patched https 
2022-03-30T16:00:54.721Z appoptics:patching patched http 
2022-03-30T16:00:54.768Z appoptics:patching patched tedious 1.2.0
2022-03-30T16:00:54.772Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.2.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.1
updated 1 package and audited 844 packages in 4.284s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:01.003Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:01.004Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:01.004Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:01.004Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:01.004Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:01.069Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:01.203Z appoptics:patching patched crypto 
2022-03-30T16:01:01.227Z appoptics:patching patched https 
2022-03-30T16:01:01.228Z appoptics:patching patched http 
2022-03-30T16:01:01.270Z appoptics:patching patched tedious 1.2.1
2022-03-30T16:01:01.273Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.2.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.2.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.2.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.2.2
updated 1 package and audited 844 packages in 4.474s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:07.726Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:07.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:07.727Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:07.727Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:07.727Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:07.796Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:07.946Z appoptics:patching patched crypto 
2022-03-30T16:01:08.035Z appoptics:patching patched https 
2022-03-30T16:01:08.035Z appoptics:patching patched http 
2022-03-30T16:01:08.106Z appoptics:patching patched tedious 1.2.2
2022-03-30T16:01:08.110Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.2.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.2.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.2.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.2.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.2.2
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.0
updated 1 package and audited 844 packages in 3.96s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:15.745Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:15.746Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:15.746Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:15.746Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:15.746Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:15.827Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:15.982Z appoptics:patching patched crypto 
2022-03-30T16:01:16.037Z appoptics:patching patched https 
2022-03-30T16:01:16.037Z appoptics:patching patched http 
2022-03-30T16:01:16.078Z appoptics:patching patched tedious 1.3.0
2022-03-30T16:01:16.082Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.3.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.1
updated 1 package and audited 844 packages in 3.949s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:22.895Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:22.895Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:22.896Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:22.896Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:22.896Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:22.959Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:23.095Z appoptics:patching patched crypto 
2022-03-30T16:01:23.118Z appoptics:patching patched https 
2022-03-30T16:01:23.119Z appoptics:patching patched http 
2022-03-30T16:01:23.160Z appoptics:patching patched tedious 1.3.1
2022-03-30T16:01:23.164Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.3.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.3.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.3.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.2
updated 1 package and audited 844 packages in 4.635s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:30.036Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:30.036Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:30.037Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:30.037Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:30.037Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:30.101Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:30.232Z appoptics:patching patched crypto 
2022-03-30T16:01:30.267Z appoptics:patching patched https 
2022-03-30T16:01:30.267Z appoptics:patching patched http 
2022-03-30T16:01:30.306Z appoptics:patching patched tedious 1.3.2
2022-03-30T16:01:30.309Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.3.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.3.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.3.2
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.3
updated 1 package and audited 844 packages in 3.88s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:36.500Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:36.500Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:36.501Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:36.501Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:36.501Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:36.565Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:36.708Z appoptics:patching patched crypto 
2022-03-30T16:01:36.735Z appoptics:patching patched https 
2022-03-30T16:01:36.735Z appoptics:patching patched http 
2022-03-30T16:01:36.782Z appoptics:patching patched tedious 1.3.3
2022-03-30T16:01:36.786Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.3.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.3.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.4
updated 1 package and audited 844 packages in 4.708s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:43.464Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:43.465Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:43.465Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:43.465Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:43.465Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:43.532Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:43.668Z appoptics:patching patched crypto 
2022-03-30T16:01:43.693Z appoptics:patching patched https 
2022-03-30T16:01:43.693Z appoptics:patching patched http 
2022-03-30T16:01:43.738Z appoptics:patching patched tedious 1.3.4
2022-03-30T16:01:43.741Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 1.3.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.3.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.3.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.3.4
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.3.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.3.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.3.5
updated 1 package and audited 844 packages in 3.946s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:50.226Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:50.226Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:50.227Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:50.227Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:50.227Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:50.292Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:50.428Z appoptics:patching patched crypto 
2022-03-30T16:01:50.453Z appoptics:patching patched https 
2022-03-30T16:01:50.454Z appoptics:patching patched http 
2022-03-30T16:01:50.497Z appoptics:patching patched tedious 1.3.5
2022-03-30T16:01:50.501Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.3.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  7 failing

  1) probes.tedious 1.3.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.3.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.3.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.3.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.3.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.3.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.3.5
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.0
updated 1 package and audited 844 packages in 3.797s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:01:57.657Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:57.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:57.658Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:57.658Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:57.658Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:57.722Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:57.861Z appoptics:patching patched crypto 
2022-03-30T16:01:57.887Z appoptics:patching patched https 
2022-03-30T16:01:57.888Z appoptics:patching patched http 
2022-03-30T16:01:57.931Z appoptics:patching patched tedious 1.4.0
2022-03-30T16:01:57.935Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.4.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.1
updated 1 package and audited 844 packages in 4.156s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:04.902Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:04.903Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:04.903Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:04.903Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:04.903Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:04.970Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:05.120Z appoptics:patching patched crypto 
2022-03-30T16:02:05.144Z appoptics:patching patched https 
2022-03-30T16:02:05.145Z appoptics:patching patched http 
2022-03-30T16:02:05.186Z appoptics:patching patched tedious 1.4.1
2022-03-30T16:02:05.189Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) "before each" hook for "should do nothing when disabled with no database name"


  3 passing (4s)
  12 failing

  1) probes.tedious 1.4.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.4.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.4.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.4.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.4.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.4.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.4.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.4.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 1.4.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 1.4.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 1.4.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 1.4.1
       "before each" hook for "should do nothing when disabled with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.2
updated 1 package and audited 844 packages in 3.907s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:13.788Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:13.789Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:13.789Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:13.789Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:13.789Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:13.858Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:13.999Z appoptics:patching patched crypto 
2022-03-30T16:02:14.024Z appoptics:patching patched https 
2022-03-30T16:02:14.024Z appoptics:patching patched http 
2022-03-30T16:02:14.068Z appoptics:patching patched tedious 1.4.2
2022-03-30T16:02:14.072Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  7 failing

  1) probes.tedious 1.4.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.4.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.4.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.4.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.4.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.4.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.4.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.4.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.4.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.4.3
updated 1 package and audited 844 packages in 4.352s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:21.820Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:21.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:21.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:21.821Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:21.821Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:21.885Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:22.017Z appoptics:patching patched crypto 
2022-03-30T16:02:22.045Z appoptics:patching patched https 
2022-03-30T16:02:22.045Z appoptics:patching patched http 
2022-03-30T16:02:22.088Z appoptics:patching patched tedious 1.4.3
2022-03-30T16:02:22.091Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.4.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.4.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.4.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.1
updated 1 package and audited 844 packages in 4.379s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:28.559Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:28.560Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:28.560Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:28.560Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:28.560Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:28.651Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:28.894Z appoptics:patching patched crypto 
2022-03-30T16:02:28.943Z appoptics:patching patched https 
2022-03-30T16:02:28.943Z appoptics:patching patched http 
2022-03-30T16:02:28.980Z appoptics:patching patched tedious 1.5.1
2022-03-30T16:02:28.984Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.5.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.5.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.2: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.2
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.2
updated 1 package and audited 844 packages in 3.889s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:35.141Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:35.142Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:35.142Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:35.142Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:35.142Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:35.207Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:35.344Z appoptics:patching patched crypto 
2022-03-30T16:02:35.370Z appoptics:patching patched https 
2022-03-30T16:02:35.370Z appoptics:patching patched http 
2022-03-30T16:02:35.415Z appoptics:patching patched tedious 1.5.2
2022-03-30T16:02:35.418Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.5.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.5.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.5.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.5.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.5.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.3: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.3
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.3
updated 1 package and audited 844 packages in 4.509s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:42.752Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:42.753Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:42.753Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:42.753Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:42.753Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:42.819Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:42.959Z appoptics:patching patched crypto 
2022-03-30T16:02:42.985Z appoptics:patching patched https 
2022-03-30T16:02:42.985Z appoptics:patching patched http 
2022-03-30T16:02:43.028Z appoptics:patching patched tedious 1.5.3
2022-03-30T16:02:43.032Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.5.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.5.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.4: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.4
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.4
updated 1 package and audited 844 packages in 4.21s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:49.499Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:49.500Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:49.500Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:49.500Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:49.500Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:49.568Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:49.806Z appoptics:patching patched crypto 
2022-03-30T16:02:49.850Z appoptics:patching patched https 
2022-03-30T16:02:49.851Z appoptics:patching patched http 
2022-03-30T16:02:49.891Z appoptics:patching patched tedious 1.5.4
2022-03-30T16:02:49.895Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 1.5.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.5.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.5.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.5.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.5.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.5.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.5.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.5.4
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 1.5.4
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 1.5.4
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.5: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.5
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.5
updated 1 package and audited 844 packages in 4.123s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:02:58.043Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:58.044Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:58.044Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:58.044Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:58.044Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:58.111Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:58.246Z appoptics:patching patched crypto 
2022-03-30T16:02:58.283Z appoptics:patching patched https 
2022-03-30T16:02:58.283Z appoptics:patching patched http 
2022-03-30T16:02:58.325Z appoptics:patching patched tedious 1.5.5
2022-03-30T16:02:58.329Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.5.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.5.5
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:859:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:650:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.6: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.6
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.6
updated 1 package and audited 844 packages in 4.274s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:05.100Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:05.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:05.101Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:05.101Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:05.101Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:05.162Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:05.299Z appoptics:patching patched crypto 
2022-03-30T16:03:05.323Z appoptics:patching patched https 
2022-03-30T16:03:05.324Z appoptics:patching patched http 
2022-03-30T16:03:05.366Z appoptics:patching patched tedious 1.5.6
2022-03-30T16:03:05.370Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.5.6
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.5.6
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.5.6
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.5.6
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.5.6
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:436:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:862:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:725:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:653:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.7: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.7
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.7
updated 1 package and audited 844 packages in 4.411s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:12.534Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:12.535Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:12.535Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:12.535Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:12.535Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:12.601Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:12.738Z appoptics:patching patched crypto 
2022-03-30T16:03:12.764Z appoptics:patching patched https 
2022-03-30T16:03:12.764Z appoptics:patching patched http 
2022-03-30T16:03:12.810Z appoptics:patching patched tedious 1.5.7
2022-03-30T16:03:12.813Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.7
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.5.7
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.5.7
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:866:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:729:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:657:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.5.8: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.5.8
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.5.8
updated 1 package and audited 844 packages in 4.449s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:19.241Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:19.241Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:19.241Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:19.242Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:19.242Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:19.308Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:19.439Z appoptics:patching patched crypto 
2022-03-30T16:03:19.463Z appoptics:patching patched https 
2022-03-30T16:03:19.463Z appoptics:patching patched http 
2022-03-30T16:03:19.506Z appoptics:patching patched tedious 1.5.8
2022-03-30T16:03:19.509Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.5.8
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.8
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.5.8
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.5.8
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.6.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.6.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.6.0
updated 1 package and audited 844 packages in 3.947s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:25.726Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:25.727Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:25.727Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:25.727Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:25.727Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:25.789Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:25.919Z appoptics:patching patched crypto 
2022-03-30T16:03:25.942Z appoptics:patching patched https 
2022-03-30T16:03:25.942Z appoptics:patching patched http 
2022-03-30T16:03:25.984Z appoptics:patching patched tedious 1.6.0
2022-03-30T16:03:25.987Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.6.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.7.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.7.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.7.0
updated 1 package and audited 844 packages in 4.749s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:33.101Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:33.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:33.102Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:33.102Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:33.102Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:33.165Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:33.295Z appoptics:patching patched crypto 
2022-03-30T16:03:33.320Z appoptics:patching patched https 
2022-03-30T16:03:33.320Z appoptics:patching patched http 
2022-03-30T16:03:33.362Z appoptics:patching patched tedious 1.7.0
2022-03-30T16:03:33.365Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.7.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.7.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.7.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.7.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.7.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.7.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.7.0
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.8.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.8.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.8.0
updated 1 package and audited 844 packages in 4.624s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:41.598Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:41.599Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:41.599Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:41.599Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:41.599Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:41.661Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:41.816Z appoptics:patching patched crypto 
2022-03-30T16:03:41.867Z appoptics:patching patched https 
2022-03-30T16:03:41.868Z appoptics:patching patched http 
2022-03-30T16:03:41.908Z appoptics:patching patched tedious 1.8.0
2022-03-30T16:03:41.912Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.8.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  7 failing

  1) probes.tedious 1.8.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.8.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.8.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.8.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.8.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.8.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.8.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:868:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.8.1: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.8.1
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.8.1
updated 1 package and audited 844 packages in 3.532s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:48.653Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:48.653Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:48.653Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:48.653Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:48.653Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:48.714Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:48.841Z appoptics:patching patched crypto 
2022-03-30T16:03:48.865Z appoptics:patching patched https 
2022-03-30T16:03:48.865Z appoptics:patching patched http 
2022-03-30T16:03:48.906Z appoptics:patching patched tedious 1.8.1
2022-03-30T16:03:48.909Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.8.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 1.8.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.8.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.8.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.8.1
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.
npm WARN notsup Unsupported engine for tedious@1.9.0: wanted: {"node":"0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11"} (current: {"node":"14.19.0","npm":"6.14.16"})
npm WARN notsup Not compatible with your version of node/npm: tedious@1.9.0
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.9.0
updated 1 package and audited 844 packages in 4.881s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:03:56.366Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:56.367Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:56.367Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:56.367Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:56.367Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:56.433Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:56.571Z appoptics:patching patched crypto 
2022-03-30T16:03:56.598Z appoptics:patching patched https 
2022-03-30T16:03:56.598Z appoptics:patching patched http 
2022-03-30T16:03:56.641Z appoptics:patching patched tedious 1.9.0
2022-03-30T16:03:56.644Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.9.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  7 failing

  1) probes.tedious 1.9.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.9.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.9.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.9.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.9.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.9.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.9.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:879:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:742:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:670:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.10.0
updated 4 packages and audited 844 packages in 3.752s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:04:03.649Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:03.650Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:03.650Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:03.650Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:03.650Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:03.759Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:03.966Z appoptics:patching patched crypto 
2022-03-30T16:04:03.991Z appoptics:patching patched https 
2022-03-30T16:04:03.991Z appoptics:patching patched http 
2022-03-30T16:04:04.055Z appoptics:patching patched tedious 1.10.0
2022-03-30T16:04:04.061Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.10.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.10.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.10.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.0
updated 1 package and audited 844 packages in 3.26s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:04:09.263Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:09.264Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:09.264Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:09.264Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:09.264Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:09.326Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:09.462Z appoptics:patching patched crypto 
2022-03-30T16:04:09.484Z appoptics:patching patched https 
2022-03-30T16:04:09.485Z appoptics:patching patched http 
2022-03-30T16:04:09.525Z appoptics:patching patched tedious 1.11.0
2022-03-30T16:04:09.529Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.11.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.11.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.11.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.1
updated 1 package and audited 844 packages in 4.168s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:04:15.989Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:15.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:15.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:15.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:15.989Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:16.068Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:16.205Z appoptics:patching patched crypto 
2022-03-30T16:04:16.254Z appoptics:patching patched https 
2022-03-30T16:04:16.254Z appoptics:patching patched http 
2022-03-30T16:04:16.293Z appoptics:patching patched tedious 1.11.1
2022-03-30T16:04:16.297Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.11.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.11.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.2
updated 1 package and audited 844 packages in 3.877s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:04:22.136Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:22.137Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:22.137Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:22.137Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:22.137Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:22.199Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:22.322Z appoptics:patching patched crypto 
2022-03-30T16:04:22.345Z appoptics:patching patched https 
2022-03-30T16:04:22.346Z appoptics:patching patched http 
2022-03-30T16:04:22.385Z appoptics:patching patched tedious 1.11.2
2022-03-30T16:04:22.388Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.11.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.11.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.4
updated 1 package and audited 844 packages in 4.096s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:04:28.538Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:28.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:28.539Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:28.539Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:28.539Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:28.624Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:28.803Z appoptics:patching patched crypto 
2022-03-30T16:04:28.869Z appoptics:patching patched https 
2022-03-30T16:04:28.869Z appoptics:patching patched http 
2022-03-30T16:04:28.928Z appoptics:patching patched tedious 1.11.4
2022-03-30T16:04:28.932Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.11.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.11.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.11.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.11.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.11.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.11.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.11.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.11.4
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.11.5
updated 1 package and audited 844 packages in 3.599s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:04:36.061Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:36.062Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:36.062Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:36.062Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:36.062Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:36.137Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:36.285Z appoptics:patching patched crypto 
2022-03-30T16:04:36.338Z appoptics:patching patched https 
2022-03-30T16:04:36.339Z appoptics:patching patched http 
2022-03-30T16:04:36.380Z appoptics:patching patched tedious 1.11.5
2022-03-30T16:04:36.384Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.11.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 1.11.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.11.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.11.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.11.5
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at addChunk (internal/streams/readable.js:293:12)
      at readableAddChunk (internal/streams/readable.js:267:9)
      at Socket.Readable.push (internal/streams/readable.js:206:10)
      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)
      at TCP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.0
added 8 packages from 3 contributors, removed 1 package, updated 1 package and audited 851 packages in 5.563s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:04:44.386Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:44.387Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:44.387Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:44.387Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:44.387Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:44.454Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:44.589Z appoptics:patching patched crypto 
2022-03-30T16:04:44.614Z appoptics:patching patched https 
2022-03-30T16:04:44.615Z appoptics:patching patched http 
2022-03-30T16:04:44.699Z appoptics:patching patched tedious 1.12.0
2022-03-30T16:04:44.703Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) "before each" hook for "should sanitize query with no database name"


  3 passing (3s)
  9 failing

  1) probes.tedious 1.12.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.12.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.12.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.12.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.12.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.12.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.12.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.12.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 1.12.0
       "before each" hook for "should sanitize query with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.1
updated 1 package and audited 851 packages in 4.867s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:04:53.358Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:53.359Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:53.359Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:53.359Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:53.359Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:53.425Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:53.551Z appoptics:patching patched crypto 
2022-03-30T16:04:53.574Z appoptics:patching patched https 
2022-03-30T16:04:53.574Z appoptics:patching patched http 
2022-03-30T16:04:53.645Z appoptics:patching patched tedious 1.12.1
2022-03-30T16:04:53.649Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  7 failing

  1) probes.tedious 1.12.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.12.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.12.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.12.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.12.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.12.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.12.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.2
updated 1 package and audited 851 packages in 3.78s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:00.641Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:00.642Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:00.642Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:00.642Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:00.642Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:00.701Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:00.829Z appoptics:patching patched crypto 
2022-03-30T16:05:00.852Z appoptics:patching patched https 
2022-03-30T16:05:00.852Z appoptics:patching patched http 
2022-03-30T16:05:00.924Z appoptics:patching patched tedious 1.12.2
2022-03-30T16:05:00.927Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.12.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.12.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.12.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.12.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.12.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.12.3
updated 1 package and audited 851 packages in 3.942s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:07.591Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:07.592Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:07.592Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:07.592Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:07.592Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:07.653Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:07.775Z appoptics:patching patched crypto 
2022-03-30T16:05:07.805Z appoptics:patching patched https 
2022-03-30T16:05:07.806Z appoptics:patching patched http 
2022-03-30T16:05:07.902Z appoptics:patching patched tedious 1.12.3
2022-03-30T16:05:07.905Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.12.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.12.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.12.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.12.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.0
updated 1 package and audited 851 packages in 3.956s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:14.076Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:14.077Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:14.077Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:14.077Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:14.077Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:14.138Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:14.262Z appoptics:patching patched crypto 
2022-03-30T16:05:14.285Z appoptics:patching patched https 
2022-03-30T16:05:14.286Z appoptics:patching patched http 
2022-03-30T16:05:14.348Z appoptics:patching patched tedious 1.13.0
2022-03-30T16:05:14.352Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.13.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.13.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.13.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.13.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.13.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.1
updated 1 package and audited 851 packages in 4.21s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:21.410Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:21.411Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:21.411Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:21.411Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:21.411Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:21.471Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:21.601Z appoptics:patching patched crypto 
2022-03-30T16:05:21.636Z appoptics:patching patched https 
2022-03-30T16:05:21.636Z appoptics:patching patched http 
2022-03-30T16:05:21.693Z appoptics:patching patched tedious 1.13.1
2022-03-30T16:05:21.696Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.13.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.13.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.13.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.13.2
updated 1 package and audited 851 packages in 3.423s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:27.437Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:27.437Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:27.437Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:27.437Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:27.438Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:27.515Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:27.656Z appoptics:patching patched crypto 
2022-03-30T16:05:27.705Z appoptics:patching patched https 
2022-03-30T16:05:27.706Z appoptics:patching patched http 
2022-03-30T16:05:27.772Z appoptics:patching patched tedious 1.13.2
2022-03-30T16:05:27.775Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.13.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.13.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.13.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.13.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.13.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.13.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.13.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.13.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.13.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 1.13.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 1.13.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 1.13.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 1.13.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.14.0
added 1 package, updated 1 package and audited 852 packages in 3.688s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:36.213Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:36.213Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:36.213Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:36.213Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:36.214Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:36.275Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:36.400Z appoptics:patching patched crypto 
2022-03-30T16:05:36.422Z appoptics:patching patched https 
2022-03-30T16:05:36.422Z appoptics:patching patched http 
2022-03-30T16:05:36.482Z appoptics:patching patched tedious 1.14.0
2022-03-30T16:05:36.485Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.14.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.14.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.14.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 1.14.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 1.14.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 1.14.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 1.14.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 1.14.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 1.14.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 1.14.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 1.14.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 1.14.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 1.14.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

> core-js@2.6.12 postinstall /__w/appoptics-apm-node/appoptics-apm-node/node_modules/core-js
> node -e "try{require('./postinstall')}catch(e){}"

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@1.15.0
added 2 packages from 2 contributors, updated 3 packages, moved 1 package and audited 854 packages in 4.868s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:46.074Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:46.075Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:46.075Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:46.075Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:46.075Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:46.133Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:46.252Z appoptics:patching patched crypto 
2022-03-30T16:05:46.274Z appoptics:patching patched https 
2022-03-30T16:05:46.275Z appoptics:patching patched http 
2022-03-30T16:05:46.332Z appoptics:patching patched dns 
2022-03-30T16:05:46.357Z appoptics:patching patched tedious 1.15.0
2022-03-30T16:05:46.361Z appoptics:debug starting runtimeMetrics


  probes.tedious 1.15.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.15.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:698:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:591:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 1.15.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.0.0
removed 2 packages, updated 1 package and audited 852 packages in 4.781s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:53.186Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:53.186Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:53.187Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:53.187Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:53.187Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:53.269Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:53.424Z appoptics:patching patched crypto 
2022-03-30T16:05:53.474Z appoptics:patching patched https 
2022-03-30T16:05:53.475Z appoptics:patching patched http 
2022-03-30T16:05:53.552Z appoptics:patching patched dns 
2022-03-30T16:05:53.580Z appoptics:patching patched tedious 2.0.0
2022-03-30T16:05:53.584Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:689:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:713:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:606:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.0.1
updated 1 package and audited 852 packages in 3.521s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:05:59.036Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:05:59.037Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:05:59.037Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:05:59.037Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:05:59.037Z appoptics:debug using context provider: ace-context
2022-03-30T16:05:59.099Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:05:59.232Z appoptics:patching patched crypto 
2022-03-30T16:05:59.256Z appoptics:patching patched https 
2022-03-30T16:05:59.256Z appoptics:patching patched http 
2022-03-30T16:05:59.310Z appoptics:patching patched dns 
2022-03-30T16:05:59.337Z appoptics:patching patched tedious 2.0.1
2022-03-30T16:05:59.341Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:689:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:713:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:606:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.0.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

> sspi-client@0.1.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/sspi-client
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! sspi-client@0.1.0 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the sspi-client@0.1.0 install script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_06_06_776Z-debug.log
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.1
added 7 packages from 13 contributors and audited 852 packages in 3.389s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:06:11.008Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:11.008Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:11.008Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:11.008Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:11.008Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:11.065Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:11.188Z appoptics:patching patched crypto 
2022-03-30T16:06:11.210Z appoptics:patching patched https 
2022-03-30T16:06:11.211Z appoptics:patching patched http 
2022-03-30T16:06:11.258Z appoptics:patching patched dns 
2022-03-30T16:06:11.282Z appoptics:patching patched tedious 2.1.1
2022-03-30T16:06:11.286Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 2.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 2.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 2.1.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.2
updated 1 package and audited 852 packages in 5.215s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:06:19.288Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:19.289Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:19.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:19.289Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:19.289Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:19.349Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:19.485Z appoptics:patching patched crypto 
2022-03-30T16:06:19.511Z appoptics:patching patched https 
2022-03-30T16:06:19.511Z appoptics:patching patched http 
2022-03-30T16:06:19.562Z appoptics:patching patched dns 
2022-03-30T16:06:19.586Z appoptics:patching patched tedious 2.1.2
2022-03-30T16:06:19.589Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 2.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 2.1.2
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.3
updated 1 package and audited 852 packages in 3.973s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:06:26.041Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:26.042Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:26.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:26.042Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:26.042Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:26.103Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:26.228Z appoptics:patching patched crypto 
2022-03-30T16:06:26.254Z appoptics:patching patched https 
2022-03-30T16:06:26.254Z appoptics:patching patched http 
2022-03-30T16:06:26.307Z appoptics:patching patched dns 
2022-03-30T16:06:26.333Z appoptics:patching patched tedious 2.1.3
2022-03-30T16:06:26.336Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.1.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.1.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.1.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.4
updated 1 package and audited 852 packages in 3.588s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:06:32.122Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:32.123Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:32.123Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:32.123Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:32.123Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:32.182Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:32.308Z appoptics:patching patched crypto 
2022-03-30T16:06:32.331Z appoptics:patching patched https 
2022-03-30T16:06:32.331Z appoptics:patching patched http 
2022-03-30T16:06:32.399Z appoptics:patching patched dns 
2022-03-30T16:06:32.430Z appoptics:patching patched tedious 2.1.4
2022-03-30T16:06:32.434Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 2.1.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.1.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.1.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 2.1.4
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.1.5
updated 1 package and audited 852 packages in 3.749s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:06:38.779Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:38.781Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:38.781Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:38.781Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:38.781Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:38.862Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:39.005Z appoptics:patching patched crypto 
2022-03-30T16:06:39.057Z appoptics:patching patched https 
2022-03-30T16:06:39.057Z appoptics:patching patched http 
2022-03-30T16:06:39.113Z appoptics:patching patched dns 
2022-03-30T16:06:39.140Z appoptics:patching patched tedious 2.1.5
2022-03-30T16:06:39.143Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.1.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.1.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.1.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.1.5
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.0
updated 1 package and audited 852 packages in 3.68s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:06:45.024Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:45.024Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:45.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:45.024Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:45.024Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:45.082Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:45.205Z appoptics:patching patched crypto 
2022-03-30T16:06:45.228Z appoptics:patching patched https 
2022-03-30T16:06:45.229Z appoptics:patching patched http 
2022-03-30T16:06:45.278Z appoptics:patching patched dns 
2022-03-30T16:06:45.303Z appoptics:patching patched tedious 2.2.0
2022-03-30T16:06:45.306Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.2.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.1
updated 1 package and audited 852 packages in 4.49s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:06:51.878Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:51.879Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:51.879Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:51.879Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:51.879Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:51.947Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:52.080Z appoptics:patching patched crypto 
2022-03-30T16:06:52.104Z appoptics:patching patched https 
2022-03-30T16:06:52.105Z appoptics:patching patched http 
2022-03-30T16:06:52.156Z appoptics:patching patched dns 
2022-03-30T16:06:52.181Z appoptics:patching patched tedious 2.2.1
2022-03-30T16:06:52.183Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.2.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.2
updated 1 package and audited 852 packages in 3.956s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:06:58.505Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:06:58.506Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:06:58.506Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:06:58.506Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:06:58.506Z appoptics:debug using context provider: ace-context
2022-03-30T16:06:58.568Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:06:58.686Z appoptics:patching patched crypto 
2022-03-30T16:06:58.708Z appoptics:patching patched https 
2022-03-30T16:06:58.708Z appoptics:patching patched http 
2022-03-30T16:06:58.755Z appoptics:patching patched dns 
2022-03-30T16:06:58.779Z appoptics:patching patched tedious 2.2.2
2022-03-30T16:06:58.782Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 2.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 2.2.2
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.3
updated 1 package and audited 852 packages in 4.401s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:05.639Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:05.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:05.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:05.640Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:05.640Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:05.698Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:05.821Z appoptics:patching patched crypto 
2022-03-30T16:07:05.841Z appoptics:patching patched https 
2022-03-30T16:07:05.841Z appoptics:patching patched http 
2022-03-30T16:07:05.894Z appoptics:patching patched dns 
2022-03-30T16:07:05.920Z appoptics:patching patched tedious 2.2.3
2022-03-30T16:07:05.924Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.2.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.2.3
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.2.4
updated 1 package and audited 852 packages in 3.686s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:11.790Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:11.791Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:11.791Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:11.791Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:11.791Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:11.851Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:11.981Z appoptics:patching patched crypto 
2022-03-30T16:07:12.006Z appoptics:patching patched https 
2022-03-30T16:07:12.006Z appoptics:patching patched http 
2022-03-30T16:07:12.061Z appoptics:patching patched dns 
2022-03-30T16:07:12.099Z appoptics:patching patched tedious 2.2.4
2022-03-30T16:07:12.103Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.2.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.2.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.3.0
updated 1 package and audited 852 packages in 4.578s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:18.645Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:18.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:18.646Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:18.646Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:18.646Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:18.704Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:18.822Z appoptics:patching patched crypto 
2022-03-30T16:07:18.844Z appoptics:patching patched https 
2022-03-30T16:07:18.844Z appoptics:patching patched http 
2022-03-30T16:07:18.896Z appoptics:patching patched dns 
2022-03-30T16:07:18.939Z appoptics:patching patched tedious 2.3.0
2022-03-30T16:07:18.942Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 2.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 2.3.0
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.3.1
updated 1 package and audited 852 packages in 3.719s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:25.194Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:25.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:25.195Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:25.195Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:25.195Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:25.262Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:25.398Z appoptics:patching patched crypto 
2022-03-30T16:07:25.423Z appoptics:patching patched https 
2022-03-30T16:07:25.424Z appoptics:patching patched http 
2022-03-30T16:07:25.478Z appoptics:patching patched dns 
2022-03-30T16:07:25.520Z appoptics:patching patched tedious 2.3.1
2022-03-30T16:07:25.523Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.3.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.3.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.3.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.4.0
added 1 package from 1 contributor, removed 1 package, updated 1 package and audited 852 packages in 4.175s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:31.913Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:31.913Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:31.913Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:31.913Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:31.914Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:31.977Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:32.108Z appoptics:patching patched crypto 
2022-03-30T16:07:32.134Z appoptics:patching patched https 
2022-03-30T16:07:32.134Z appoptics:patching patched http 
2022-03-30T16:07:32.188Z appoptics:patching patched dns 
2022-03-30T16:07:32.227Z appoptics:patching patched tedious 2.4.0
2022-03-30T16:07:32.230Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.4.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.5.0
added 1 package from 1 contributor, updated 1 package and audited 853 packages in 4.163s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:38.494Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:38.495Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:38.495Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:38.495Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:38.495Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:38.594Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:38.765Z appoptics:patching patched crypto 
2022-03-30T16:07:38.788Z appoptics:patching patched https 
2022-03-30T16:07:38.788Z appoptics:patching patched http 
2022-03-30T16:07:38.844Z appoptics:patching patched dns 
2022-03-30T16:07:38.882Z appoptics:patching patched tedious 2.5.0
2022-03-30T16:07:38.885Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.5.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.5.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.5.1
updated 1 package and audited 853 packages in 4.357s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:45.291Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:45.292Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:45.292Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:45.292Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:45.292Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:45.370Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:45.517Z appoptics:patching patched crypto 
2022-03-30T16:07:45.542Z appoptics:patching patched https 
2022-03-30T16:07:45.542Z appoptics:patching patched http 
2022-03-30T16:07:45.595Z appoptics:patching patched dns 
2022-03-30T16:07:45.636Z appoptics:patching patched tedious 2.5.1
2022-03-30T16:07:45.639Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.5.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.5.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.5.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.0
updated 1 package and audited 853 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:51.598Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:51.599Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:51.599Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:51.599Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:51.599Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:51.676Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:51.836Z appoptics:patching patched crypto 
2022-03-30T16:07:51.884Z appoptics:patching patched https 
2022-03-30T16:07:51.885Z appoptics:patching patched http 
2022-03-30T16:07:51.944Z appoptics:patching patched dns 
2022-03-30T16:07:51.996Z appoptics:patching patched tedious 2.6.0
2022-03-30T16:07:51.999Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 2.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.6.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 2.6.0
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.1
updated 1 package and audited 853 packages in 3.568s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:07:58.045Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:07:58.046Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:07:58.046Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:07:58.046Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:07:58.046Z appoptics:debug using context provider: ace-context
2022-03-30T16:07:58.108Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:07:58.236Z appoptics:patching patched crypto 
2022-03-30T16:07:58.261Z appoptics:patching patched https 
2022-03-30T16:07:58.261Z appoptics:patching patched http 
2022-03-30T16:07:58.318Z appoptics:patching patched dns 
2022-03-30T16:07:58.360Z appoptics:patching patched tedious 2.6.1
2022-03-30T16:07:58.363Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.6.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.2
updated 1 package and audited 853 packages in 4.758s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:05.144Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:05.145Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:05.145Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:05.145Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:05.145Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:05.250Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:05.425Z appoptics:patching patched crypto 
2022-03-30T16:08:05.452Z appoptics:patching patched https 
2022-03-30T16:08:05.453Z appoptics:patching patched http 
2022-03-30T16:08:05.509Z appoptics:patching patched dns 
2022-03-30T16:08:05.550Z appoptics:patching patched tedious 2.6.2
2022-03-30T16:08:05.554Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.6.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.6.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 2.6.2
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.3
updated 1 package and audited 853 packages in 3.347s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:11.104Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:11.105Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:11.105Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:11.105Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:11.105Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:11.162Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:11.281Z appoptics:patching patched crypto 
2022-03-30T16:08:11.305Z appoptics:patching patched https 
2022-03-30T16:08:11.305Z appoptics:patching patched http 
2022-03-30T16:08:11.360Z appoptics:patching patched dns 
2022-03-30T16:08:11.399Z appoptics:patching patched tedious 2.6.3
2022-03-30T16:08:11.402Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.6.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.6.4
added 1 package from 1 contributor, updated 1 package and audited 854 packages in 4.675s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:18.018Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:18.019Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:18.019Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:18.019Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:18.019Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:18.078Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:18.201Z appoptics:patching patched crypto 
2022-03-30T16:08:18.224Z appoptics:patching patched https 
2022-03-30T16:08:18.225Z appoptics:patching patched http 
2022-03-30T16:08:18.274Z appoptics:patching patched dns 
2022-03-30T16:08:18.314Z appoptics:patching patched tedious 2.6.4
2022-03-30T16:08:18.317Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.6.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.6.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.7.0
updated 1 package and audited 854 packages in 4.001s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:24.218Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:24.218Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:24.218Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:24.218Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:24.219Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:24.276Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:24.402Z appoptics:patching patched crypto 
2022-03-30T16:08:24.425Z appoptics:patching patched https 
2022-03-30T16:08:24.426Z appoptics:patching patched http 
2022-03-30T16:08:24.480Z appoptics:patching patched dns 
2022-03-30T16:08:24.524Z appoptics:patching patched tedious 2.7.0
2022-03-30T16:08:24.527Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1014:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1038:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:897:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.7.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@2.7.1
updated 1 package and audited 854 packages in 3.926s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:30.597Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:30.598Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:30.598Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:30.598Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:30.598Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:30.657Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:30.777Z appoptics:patching patched crypto 
2022-03-30T16:08:30.802Z appoptics:patching patched https 
2022-03-30T16:08:30.802Z appoptics:patching patched http 
2022-03-30T16:08:30.854Z appoptics:patching patched dns 
2022-03-30T16:08:30.897Z appoptics:patching patched tedious 2.7.1
2022-03-30T16:08:30.900Z appoptics:debug starting runtimeMetrics


  probes.tedious 2.7.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.7.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1014:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1038:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:897:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 2.7.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@3.0.0
updated 1 package and audited 854 packages in 4.157s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:37.129Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:37.130Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:37.130Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:37.130Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:37.130Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:37.196Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:37.328Z appoptics:patching patched crypto 
2022-03-30T16:08:37.351Z appoptics:patching patched https 
2022-03-30T16:08:37.352Z appoptics:patching patched http 
2022-03-30T16:08:37.388Z appoptics:patching patched dns 
2022-03-30T16:08:37.430Z appoptics:patching patched tedious 3.0.0
2022-03-30T16:08:37.433Z appoptics:debug starting runtimeMetrics


  probes.tedious 3.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 3.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:952:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:974:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:857:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:147:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 3.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:952:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:974:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:857:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:147:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 3.0.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:601:29)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:152:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:332:9
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:324:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:331:12
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:128:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@3.0.1
removed 9 packages, updated 2 packages and audited 845 packages in 3.848s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:43.682Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:43.683Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:43.683Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:43.683Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:43.683Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:43.747Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:43.879Z appoptics:patching patched crypto 
2022-03-30T16:08:43.904Z appoptics:patching patched https 
2022-03-30T16:08:43.904Z appoptics:patching patched http 
2022-03-30T16:08:43.932Z appoptics:patching patched dns 
2022-03-30T16:08:43.968Z appoptics:patching patched tedious 3.0.1
2022-03-30T16:08:43.971Z appoptics:debug starting runtimeMetrics


  probes.tedious 3.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 3.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:999:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1022:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:902:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 3.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:999:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1022:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:902:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 3.0.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:654:29)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at addChunk (node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:48:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:153:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:322:9
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:314:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:321:12
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:129:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.0
updated 1 package and audited 845 packages in 4.033s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:50.328Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:50.329Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:50.329Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:50.329Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:50.329Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:50.401Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:50.543Z appoptics:patching patched crypto 
2022-03-30T16:08:50.596Z appoptics:patching patched https 
2022-03-30T16:08:50.596Z appoptics:patching patched http 
2022-03-30T16:08:50.621Z appoptics:patching patched dns 
2022-03-30T16:08:50.661Z appoptics:patching patched tedious 4.0.0
2022-03-30T16:08:50.664Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 4.0.0
       should support basic queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:99:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:98:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  2) probes.tedious 4.0.0
       should support parameters with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:121:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:120:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  3) probes.tedious 4.0.0
       should sanitize query with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:154:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:152:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  4) probes.tedious 4.0.0
       should truncate long queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:187:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_truncate (test/probes/tedious.test.js:186:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  5) probes.tedious 4.0.0
       should tag queries when feature is enabled:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:214:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_tag (test/probes/tedious.test.js:213:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  6) probes.tedious 4.0.0
       should do nothing when disabled with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:239:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_disabled (test/probes/tedious.test.js:238:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  7) probes.tedious 4.0.0
       should support basic queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:99:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:98:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  8) probes.tedious 4.0.0
       should support parameters with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:121:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:120:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  9) probes.tedious 4.0.0
       should sanitize query with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:154:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:152:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  10) probes.tedious 4.0.0
       should truncate long queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:187:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_truncate (test/probes/tedious.test.js:186:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  11) probes.tedious 4.0.0
       should tag queries when feature is enabled:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:214:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_tag (test/probes/tedious.test.js:213:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)

  12) probes.tedious 4.0.0
       should do nothing when disabled with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:239:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_disabled (test/probes/tedious.test.js:238:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (internal/timers.js:557:17)
      at processTimers (internal/timers.js:500:7)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.1
updated 1 package and audited 845 packages in 3.929s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:08:59.233Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:08:59.234Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:08:59.234Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:08:59.234Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:08:59.234Z appoptics:debug using context provider: ace-context
2022-03-30T16:08:59.293Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:08:59.422Z appoptics:patching patched crypto 
2022-03-30T16:08:59.446Z appoptics:patching patched https 
2022-03-30T16:08:59.447Z appoptics:patching patched http 
2022-03-30T16:08:59.472Z appoptics:patching patched dns 
2022-03-30T16:08:59.505Z appoptics:patching patched tedious 4.0.1
2022-03-30T16:08:59.509Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) "before each" hook for "should do nothing when disabled with a database name"


  3 passing (2s)
  10 failing

  1) probes.tedious 4.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 4.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 4.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 4.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 4.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 4.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 4.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 4.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 4.0.1
       "before each" hook for "should do nothing when disabled with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1085:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:944:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.2
updated 1 package and audited 845 packages in 4.532s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:09:07.530Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:07.531Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:07.531Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:07.531Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:07.531Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:07.594Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:07.727Z appoptics:patching patched crypto 
2022-03-30T16:09:07.751Z appoptics:patching patched https 
2022-03-30T16:09:07.751Z appoptics:patching patched http 
2022-03-30T16:09:07.778Z appoptics:patching patched dns 
2022-03-30T16:09:07.815Z appoptics:patching patched tedious 4.0.2
2022-03-30T16:09:07.819Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 4.0.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 4.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 4.0.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 4.0.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 4.0.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 4.0.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 4.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 4.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 4.0.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 4.0.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:34:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: '4F33902D3444C780',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2596,
  Timestamp_u: 1648656550166975,
  'X-Trace': '2BCDC8A4B34CD7F771BEA01CD113C859DA0000000030E559A2BAE35E2301',
  _V: '1',
  'sw.parent_span_id': '4f33902d3444c780',
  'sw.trace_context': '00-cdc8a4b34cd7f771bea01cd113c859da-30e559a2bae35e23-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: '4F33902D3444C780',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2596,
    Timestamp_u: 1648656550166975,
    'X-Trace': '2BCDC8A4B34CD7F771BEA01CD113C859DA0000000030E559A2BAE35E2301',
    _V: '1',
    'sw.parent_span_id': '4f33902d3444c780',
    'sw.trace_context': '00-cdc8a4b34cd7f771bea01cd113c859da-30e559a2bae35e23-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 4.0.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.3
updated 1 package and audited 845 packages in 4.891s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:09:16.138Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:16.139Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:16.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:16.139Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:16.139Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:16.203Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:16.324Z appoptics:patching patched crypto 
2022-03-30T16:09:16.386Z appoptics:patching patched https 
2022-03-30T16:09:16.387Z appoptics:patching patched http 
2022-03-30T16:09:16.426Z appoptics:patching patched dns 
2022-03-30T16:09:16.485Z appoptics:patching patched tedious 4.0.3
2022-03-30T16:09:16.488Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 4.0.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 4.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 4.0.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 4.0.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 4.0.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 4.0.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 4.0.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 4.0.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 4.0.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 4.0.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'A679EB7351EA7700',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2618,
  Timestamp_u: 1648656558852686,
  'X-Trace': '2BCE1FA6B726D62779FED18ED83B3CA1C00000000017BC5CB5617A931201',
  _V: '1',
  'sw.parent_span_id': 'a679eb7351ea7700',
  'sw.trace_context': '00-ce1fa6b726d62779fed18ed83b3ca1c0-17bc5cb5617a9312-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'A679EB7351EA7700',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2618,
    Timestamp_u: 1648656558852686,
    'X-Trace': '2BCE1FA6B726D62779FED18ED83B3CA1C00000000017BC5CB5617A931201',
    _V: '1',
    'sw.parent_span_id': 'a679eb7351ea7700',
    'sw.trace_context': '00-ce1fa6b726d62779fed18ed83b3ca1c0-17bc5cb5617a9312-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 4.0.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.0.4
updated 1 package and audited 845 packages in 4.029s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:09:23.789Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:23.790Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:23.790Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:23.790Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:23.790Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:23.851Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:23.976Z appoptics:patching patched crypto 
2022-03-30T16:09:24.038Z appoptics:patching patched https 
2022-03-30T16:09:24.038Z appoptics:patching patched http 
2022-03-30T16:09:24.068Z appoptics:patching patched dns 
2022-03-30T16:09:24.107Z appoptics:patching patched tedious 4.0.4
2022-03-30T16:09:24.110Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  4 failing

  1) probes.tedious 4.0.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.0.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 4.0.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 4.0.4
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1066:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1085:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:944:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.0
added 29 packages from 62 contributors, updated 1 package and audited 874 packages in 5.95s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:09:32.232Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:32.233Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:32.233Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:32.233Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:32.233Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:32.292Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:32.423Z appoptics:patching patched crypto 
2022-03-30T16:09:32.441Z appoptics:patching patched https 
2022-03-30T16:09:32.442Z appoptics:patching patched http 
2022-03-30T16:09:32.494Z appoptics:patching patched zlib 
2022-03-30T16:09:32.535Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:09:32.535Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:09:32.536Z appoptics:patching patched fs 
2022-03-30T16:09:32.603Z appoptics:patching patched dns 
2022-03-30T16:09:32.648Z appoptics:patching patched tedious 4.1.0
2022-03-30T16:09:32.651Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 4.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 4.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 4.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 4.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 4.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 4.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 4.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 4.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 4.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 4.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1427:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1367:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2004:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1062:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:962:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: '434B84E68D7B7112',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2662,
  Timestamp_u: 1648656574998095,
  'X-Trace': '2B893BE2BE942D69F7213149169172DCBC0000000009217D1F023596F101',
  _V: '1',
  'sw.parent_span_id': '434b84e68d7b7112',
  'sw.trace_context': '00-893be2be942d69f7213149169172dcbc-09217d1f023596f1-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: '434B84E68D7B7112',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2662,
    Timestamp_u: 1648656574998095,
    'X-Trace': '2B893BE2BE942D69F7213149169172DCBC0000000009217D1F023596F101',
    _V: '1',
    'sw.parent_span_id': '434b84e68d7b7112',
    'sw.trace_context': '00-893be2be942d69f7213149169172dcbc-09217d1f023596f1-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 4.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.1
updated 1 package and audited 874 packages in 4.605s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:09:40.526Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:40.527Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:40.527Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:40.527Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:40.527Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:40.599Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:40.761Z appoptics:patching patched crypto 
2022-03-30T16:09:40.785Z appoptics:patching patched https 
2022-03-30T16:09:40.786Z appoptics:patching patched http 
2022-03-30T16:09:40.827Z appoptics:patching patched zlib 
2022-03-30T16:09:40.866Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:09:40.866Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:09:40.867Z appoptics:patching patched fs 
2022-03-30T16:09:40.943Z appoptics:patching patched dns 
2022-03-30T16:09:40.989Z appoptics:patching patched tedious 4.1.1
2022-03-30T16:09:40.993Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 4.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 4.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 4.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 4.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 4.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 4.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 4.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 4.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 4.1.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1449:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1389:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2026:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:984:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: '408349374E28D379',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2684,
  Timestamp_u: 1648656583341003,
  'X-Trace': '2B74BDB36DB094F79E4C9EA85EA82703B70000000077711EB5CA4B033001',
  _V: '1',
  'sw.parent_span_id': '408349374e28d379',
  'sw.trace_context': '00-74bdb36db094f79e4c9ea85ea82703b7-77711eb5ca4b0330-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: '408349374E28D379',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2684,
    Timestamp_u: 1648656583341003,
    'X-Trace': '2B74BDB36DB094F79E4C9EA85EA82703B70000000077711EB5CA4B033001',
    _V: '1',
    'sw.parent_span_id': '408349374e28d379',
    'sw.trace_context': '00-74bdb36db094f79e4c9ea85ea82703b7-77711eb5ca4b0330-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 4.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.2
updated 1 package and audited 874 packages in 4.402s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:09:48.644Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:48.645Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:48.645Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:48.645Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:48.645Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:48.701Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:48.826Z appoptics:patching patched crypto 
2022-03-30T16:09:48.844Z appoptics:patching patched https 
2022-03-30T16:09:48.845Z appoptics:patching patched http 
2022-03-30T16:09:48.892Z appoptics:patching patched zlib 
2022-03-30T16:09:48.927Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:09:48.928Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:09:48.928Z appoptics:patching patched fs 
2022-03-30T16:09:48.991Z appoptics:patching patched dns 
2022-03-30T16:09:49.033Z appoptics:patching patched tedious 4.1.2
2022-03-30T16:09:49.037Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should do nothing when disabled with no database name


  3 passing (4s)
  22 failing

  1) probes.tedious 4.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 4.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 4.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 4.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 4.1.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 4.1.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 4.1.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 4.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 4.1.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 4.1.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 4.1.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 4.1.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.tedious 4.1.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.tedious 4.1.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.tedious 4.1.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.tedious 4.1.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.tedious 4.1.2
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.tedious 4.1.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.tedious 4.1.2
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.tedious 4.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.tedious 4.1.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.1.3
updated 1 package and audited 874 packages in 3.578s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:09:57.510Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:09:57.511Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:09:57.511Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:09:57.511Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:09:57.511Z appoptics:debug using context provider: ace-context
2022-03-30T16:09:57.574Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:09:57.703Z appoptics:patching patched crypto 
2022-03-30T16:09:57.719Z appoptics:patching patched https 
2022-03-30T16:09:57.720Z appoptics:patching patched http 
2022-03-30T16:09:57.764Z appoptics:patching patched zlib 
2022-03-30T16:09:57.800Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:09:57.800Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:09:57.801Z appoptics:patching patched fs 
2022-03-30T16:09:57.865Z appoptics:patching patched dns 
2022-03-30T16:09:57.904Z appoptics:patching patched tedious 4.1.3
2022-03-30T16:09:57.916Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.1.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 4.1.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.1.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1118:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:977:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@4.2.0
updated 1 package and audited 874 packages in 4.414s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:10:04.243Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:04.243Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:04.243Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:04.243Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:04.243Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:04.306Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:04.466Z appoptics:patching patched crypto 
2022-03-30T16:10:04.485Z appoptics:patching patched https 
2022-03-30T16:10:04.486Z appoptics:patching patched http 
2022-03-30T16:10:04.536Z appoptics:patching patched zlib 
2022-03-30T16:10:04.574Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:10:04.574Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:10:04.574Z appoptics:patching patched fs 
2022-03-30T16:10:04.642Z appoptics:patching patched dns 
2022-03-30T16:10:04.685Z appoptics:patching patched tedious 4.2.0
2022-03-30T16:10:04.689Z appoptics:debug starting runtimeMetrics


  probes.tedious 4.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 4.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 4.2.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1118:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:977:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.0
updated 1 package and audited 874 packages in 4.457s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:10:11.102Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:11.103Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:11.103Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:11.103Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:11.103Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:11.160Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:11.294Z appoptics:patching patched crypto 
2022-03-30T16:10:11.317Z appoptics:patching patched https 
2022-03-30T16:10:11.317Z appoptics:patching patched http 
2022-03-30T16:10:11.360Z appoptics:patching patched zlib 
2022-03-30T16:10:11.396Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:10:11.396Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:10:11.396Z appoptics:patching patched fs 
2022-03-30T16:10:11.461Z appoptics:patching patched dns 
2022-03-30T16:10:11.501Z appoptics:patching patched tedious 5.0.0
2022-03-30T16:10:11.505Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 5.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 5.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 5.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 5.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 5.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 5.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 5.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 5.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 5.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 5.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 5.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1410:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1392:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2044:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1009:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'EC0230A13CD239A9',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2772,
  Timestamp_u: 1648656613860640,
  'X-Trace': '2B75C99148513CE5CADE0EBA598DDBF939000000001D8FF7A592DD985C01',
  _V: '1',
  'sw.parent_span_id': 'ec0230a13cd239a9',
  'sw.trace_context': '00-75c99148513ce5cade0eba598ddbf939-1d8ff7a592dd985c-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'EC0230A13CD239A9',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2772,
    Timestamp_u: 1648656613860640,
    'X-Trace': '2B75C99148513CE5CADE0EBA598DDBF939000000001D8FF7A592DD985C01',
    _V: '1',
    'sw.parent_span_id': 'ec0230a13cd239a9',
    'sw.trace_context': '00-75c99148513ce5cade0eba598ddbf939-1d8ff7a592dd985c-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 5.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.1
updated 1 package and audited 874 packages in 4.522s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:10:19.381Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:19.382Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:19.382Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:19.382Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:19.382Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:19.442Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:19.569Z appoptics:patching patched crypto 
2022-03-30T16:10:19.586Z appoptics:patching patched https 
2022-03-30T16:10:19.587Z appoptics:patching patched http 
2022-03-30T16:10:19.630Z appoptics:patching patched zlib 
2022-03-30T16:10:19.666Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:10:19.667Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:10:19.667Z appoptics:patching patched fs 
2022-03-30T16:10:19.738Z appoptics:patching patched dns 
2022-03-30T16:10:19.780Z appoptics:patching patched tedious 5.0.1
2022-03-30T16:10:19.783Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 5.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 5.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 5.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 5.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 5.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 5.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 5.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 5.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 5.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 5.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 5.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2061:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'F02145B571B1A726',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2794,
  Timestamp_u: 1648656622139890,
  'X-Trace': '2B3477E97C0578E32670C43911C43CADC500000000CC8F8875E1C8C7C001',
  _V: '1',
  'sw.parent_span_id': 'f02145b571b1a726',
  'sw.trace_context': '00-3477e97c0578e32670c43911c43cadc5-cc8f8875e1c8c7c0-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'F02145B571B1A726',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2794,
    Timestamp_u: 1648656622139890,
    'X-Trace': '2B3477E97C0578E32670C43911C43CADC500000000CC8F8875E1C8C7C001',
    _V: '1',
    'sw.parent_span_id': 'f02145b571b1a726',
    'sw.trace_context': '00-3477e97c0578e32670c43911c43cadc5-cc8f8875e1c8c7c0-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 5.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.2
updated 1 package and audited 874 packages in 4.469s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:10:27.765Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:27.766Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:27.766Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:27.766Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:27.766Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:27.841Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:27.994Z appoptics:patching patched crypto 
2022-03-30T16:10:28.016Z appoptics:patching patched https 
2022-03-30T16:10:28.016Z appoptics:patching patched http 
2022-03-30T16:10:28.057Z appoptics:patching patched zlib 
2022-03-30T16:10:28.092Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:10:28.093Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:10:28.093Z appoptics:patching patched fs 
2022-03-30T16:10:28.158Z appoptics:patching patched dns 
2022-03-30T16:10:28.197Z appoptics:patching patched tedious 5.0.2
2022-03-30T16:10:28.201Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 5.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 5.0.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 5.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 5.0.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 5.0.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 5.0.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 5.0.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 5.0.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 5.0.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2062:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: '5023A22C72B2C8E3',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2816,
  Timestamp_u: 1648656630551946,
  'X-Trace': '2B6ACFBE4FC8B2BCAD601EAD0FAD9EB35D00000000808FE8B73C18C71801',
  _V: '1',
  'sw.parent_span_id': '5023a22c72b2c8e3',
  'sw.trace_context': '00-6acfbe4fc8b2bcad601ead0fad9eb35d-808fe8b73c18c718-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: '5023A22C72B2C8E3',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2816,
    Timestamp_u: 1648656630551946,
    'X-Trace': '2B6ACFBE4FC8B2BCAD601EAD0FAD9EB35D00000000808FE8B73C18C71801',
    _V: '1',
    'sw.parent_span_id': '5023a22c72b2c8e3',
    'sw.trace_context': '00-6acfbe4fc8b2bcad601ead0fad9eb35d-808fe8b73c18c718-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 5.0.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@5.0.3
updated 1 package and audited 874 packages in 3.869s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:10:35.309Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:35.310Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:35.310Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:35.310Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:35.310Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:35.375Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:35.516Z appoptics:patching patched crypto 
2022-03-30T16:10:35.537Z appoptics:patching patched https 
2022-03-30T16:10:35.538Z appoptics:patching patched http 
2022-03-30T16:10:35.578Z appoptics:patching patched zlib 
2022-03-30T16:10:35.616Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:10:35.616Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:10:35.616Z appoptics:patching patched fs 
2022-03-30T16:10:35.678Z appoptics:patching patched dns 
2022-03-30T16:10:35.719Z appoptics:patching patched tedious 5.0.3
2022-03-30T16:10:35.723Z appoptics:debug starting runtimeMetrics


  probes.tedious 5.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 5.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 5.0.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 5.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 5.0.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 5.0.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 5.0.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 5.0.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 5.0.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 5.0.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 5.0.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 5.0.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2064:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'C0C0F639C74BE97D',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2838,
  Timestamp_u: 1648656638085498,
  'X-Trace': '2B48E5F2E4F5B61A0F18D52E96684AEE81000000007E8B5331C0F4E3AD01',
  _V: '1',
  'sw.parent_span_id': 'c0c0f639c74be97d',
  'sw.trace_context': '00-48e5f2e4f5b61a0f18d52e96684aee81-7e8b5331c0f4e3ad-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'C0C0F639C74BE97D',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2838,
    Timestamp_u: 1648656638085498,
    'X-Trace': '2B48E5F2E4F5B61A0F18D52E96684AEE81000000007E8B5331C0F4E3AD01',
    _V: '1',
    'sw.parent_span_id': 'c0c0f639c74be97d',
    'sw.trace_context': '00-48e5f2e4f5b61a0f18d52e96684aee81-7e8b5331c0f4e3ad-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 5.0.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.0.0
updated 1 package and audited 874 packages in 4.203s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:10:43.306Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:43.307Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:43.307Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:43.307Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:43.307Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:43.369Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:43.506Z appoptics:patching patched crypto 
2022-03-30T16:10:43.524Z appoptics:patching patched https 
2022-03-30T16:10:43.524Z appoptics:patching patched http 
2022-03-30T16:10:43.575Z appoptics:patching patched zlib 
2022-03-30T16:10:43.613Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:10:43.614Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:10:43.614Z appoptics:patching patched fs 
2022-03-30T16:10:43.682Z appoptics:patching patched dns 
2022-03-30T16:10:43.723Z appoptics:patching patched tedious 6.0.0
2022-03-30T16:10:43.727Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.0.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.tedious 6.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.tedious 6.0.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.tedious 6.0.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.tedious 6.0.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.tedious 6.0.0
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.tedious 6.0.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.tedious 6.0.0
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.tedious 6.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.tedious 6.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.tedious 6.0.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.0.1
updated 1 package and audited 874 packages in 5.109s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:10:53.795Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:10:53.796Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:10:53.796Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:10:53.796Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:10:53.796Z appoptics:debug using context provider: ace-context
2022-03-30T16:10:53.862Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:10:54.027Z appoptics:patching patched crypto 
2022-03-30T16:10:54.050Z appoptics:patching patched https 
2022-03-30T16:10:54.051Z appoptics:patching patched http 
2022-03-30T16:10:54.102Z appoptics:patching patched zlib 
2022-03-30T16:10:54.156Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:10:54.156Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:10:54.156Z appoptics:patching patched fs 
2022-03-30T16:10:54.237Z appoptics:patching patched dns 
2022-03-30T16:10:54.278Z appoptics:patching patched tedious 6.0.1
2022-03-30T16:10:54.281Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1419:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2076:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1161:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1034:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: '4431C5024BF6526E',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2882,
  Timestamp_u: 1648656656628020,
  'X-Trace': '2B41F02BEC68F156E17BDD497809B6B35900000000C6E01EC9856B9AAA01',
  _V: '1',
  'sw.parent_span_id': '4431c5024bf6526e',
  'sw.trace_context': '00-41f02bec68f156e17bdd497809b6b359-c6e01ec9856b9aaa-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: '4431C5024BF6526E',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2882,
    Timestamp_u: 1648656656628020,
    'X-Trace': '2B41F02BEC68F156E17BDD497809B6B35900000000C6E01EC9856B9AAA01',
    _V: '1',
    'sw.parent_span_id': '4431c5024bf6526e',
    'sw.trace_context': '00-41f02bec68f156e17bdd497809b6b359-c6e01ec9856b9aaa-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.0
updated 1 package and audited 874 packages in 3.949s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:11:01.473Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:01.473Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:01.473Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:01.473Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:01.473Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:01.535Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:01.664Z appoptics:patching patched crypto 
2022-03-30T16:11:01.686Z appoptics:patching patched https 
2022-03-30T16:11:01.686Z appoptics:patching patched http 
2022-03-30T16:11:01.727Z appoptics:patching patched zlib 
2022-03-30T16:11:01.766Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:11:01.766Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:11:01.766Z appoptics:patching patched fs 
2022-03-30T16:11:01.834Z appoptics:patching patched dns 
2022-03-30T16:11:01.876Z appoptics:patching patched tedious 6.1.0
2022-03-30T16:11:01.880Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1457:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2095:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'E17C6F35A2BE9524',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2904,
  Timestamp_u: 1648656664258506,
  'X-Trace': '2B53BD1494D5F4989BC2066288D3F2B3CF00000000D2EC778C9EF4DAC601',
  _V: '1',
  'sw.parent_span_id': 'e17c6f35a2be9524',
  'sw.trace_context': '00-53bd1494d5f4989bc2066288d3f2b3cf-d2ec778c9ef4dac6-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'E17C6F35A2BE9524',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2904,
    Timestamp_u: 1648656664258506,
    'X-Trace': '2B53BD1494D5F4989BC2066288D3F2B3CF00000000D2EC778C9EF4DAC601',
    _V: '1',
    'sw.parent_span_id': 'e17c6f35a2be9524',
    'sw.trace_context': '00-53bd1494d5f4989bc2066288d3f2b3cf-d2ec778c9ef4dac6-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.1
updated 1 package and audited 874 packages in 3.853s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:11:09.009Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:09.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:09.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:09.010Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:09.010Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:09.071Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:09.199Z appoptics:patching patched crypto 
2022-03-30T16:11:09.217Z appoptics:patching patched https 
2022-03-30T16:11:09.217Z appoptics:patching patched http 
2022-03-30T16:11:09.268Z appoptics:patching patched zlib 
2022-03-30T16:11:09.307Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:11:09.308Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:11:09.308Z appoptics:patching patched fs 
2022-03-30T16:11:09.378Z appoptics:patching patched dns 
2022-03-30T16:11:09.415Z appoptics:patching patched tedious 6.1.1
2022-03-30T16:11:09.426Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.1.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.tedious 6.1.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.tedious 6.1.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.tedious 6.1.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.tedious 6.1.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.tedious 6.1.1
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.tedious 6.1.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.tedious 6.1.1
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.tedious 6.1.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.1.2
updated 1 package and audited 874 packages in 4.918s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:11:19.190Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:19.190Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:19.191Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:19.191Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:19.191Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:19.245Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:19.372Z appoptics:patching patched crypto 
2022-03-30T16:11:19.390Z appoptics:patching patched https 
2022-03-30T16:11:19.390Z appoptics:patching patched http 
2022-03-30T16:11:19.437Z appoptics:patching patched zlib 
2022-03-30T16:11:19.475Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:11:19.475Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:11:19.476Z appoptics:patching patched fs 
2022-03-30T16:11:19.542Z appoptics:patching patched dns 
2022-03-30T16:11:19.578Z appoptics:patching patched tedious 6.1.2
2022-03-30T16:11:19.588Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.1.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.1.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.1.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.1.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.1.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1457:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2095:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'AE514DBDD3139C47',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 2948,
  Timestamp_u: 1648656681943436,
  'X-Trace': '2BD985F92E8745E56BD4B0287D191524F900000000BD44EB7F2F15251201',
  _V: '1',
  'sw.parent_span_id': 'ae514dbdd3139c47',
  'sw.trace_context': '00-d985f92e8745e56bd4b0287d191524f9-bd44eb7f2f152512-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'AE514DBDD3139C47',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 2948,
    Timestamp_u: 1648656681943436,
    'X-Trace': '2BD985F92E8745E56BD4B0287D191524F900000000BD44EB7F2F15251201',
    _V: '1',
    'sw.parent_span_id': 'ae514dbdd3139c47',
    'sw.trace_context': '00-d985f92e8745e56bd4b0287d191524f9-bd44eb7f2f152512-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.1.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.2.0
updated 1 package and audited 874 packages in 4.349s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:11:27.329Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:27.329Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:27.329Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:27.329Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:27.330Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:27.390Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:27.519Z appoptics:patching patched crypto 
2022-03-30T16:11:27.535Z appoptics:patching patched https 
2022-03-30T16:11:27.535Z appoptics:patching patched http 
2022-03-30T16:11:27.598Z appoptics:patching patched zlib 
2022-03-30T16:11:27.642Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:11:27.642Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:11:27.642Z appoptics:patching patched fs 
2022-03-30T16:11:27.715Z appoptics:patching patched dns 
2022-03-30T16:11:27.757Z appoptics:patching patched tedious 6.2.0
2022-03-30T16:11:27.761Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 6.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.2.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1206:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1038:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.2.1
added 2 packages from 1 contributor, updated 1 package and audited 876 packages in 3.948s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:11:34.403Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:34.404Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:34.404Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:34.404Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:34.404Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:34.471Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:34.629Z appoptics:patching patched crypto 
2022-03-30T16:11:34.650Z appoptics:patching patched https 
2022-03-30T16:11:34.651Z appoptics:patching patched http 
2022-03-30T16:11:34.700Z appoptics:patching patched zlib 
2022-03-30T16:11:34.747Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:11:34.748Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:11:34.748Z appoptics:patching patched fs 
2022-03-30T16:11:34.827Z appoptics:patching patched dns 
2022-03-30T16:11:34.859Z appoptics:patching patched tedious 6.2.1
2022-03-30T16:11:34.863Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  12 failing

  1) probes.tedious 6.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.2.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.2.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.2.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.2.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.2.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.2.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1206:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1038:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.3.0
added 10 packages from 5 contributors, updated 1 package and audited 886 packages in 6.536s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:11:44.702Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:44.702Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:44.702Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:44.702Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:44.702Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:44.770Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:44.921Z appoptics:patching patched crypto 
2022-03-30T16:11:44.947Z appoptics:patching patched https 
2022-03-30T16:11:44.947Z appoptics:patching patched http 
2022-03-30T16:11:44.990Z appoptics:patching patched zlib 
2022-03-30T16:11:44.996Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:11:44.996Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:11:44.996Z appoptics:patching patched fs 
2022-03-30T16:11:45.149Z appoptics:patching patched dns 
2022-03-30T16:11:45.178Z appoptics:patching patched tedious 6.3.0
2022-03-30T16:11:45.181Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 6.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.3.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1226:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1245:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1077:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.4.0
added 1 package from 35 contributors, updated 1 package and audited 887 packages in 4.256s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:11:51.502Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:51.504Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:51.504Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:51.504Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:51.504Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:51.604Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:11:51.789Z appoptics:patching patched crypto 
2022-03-30T16:11:51.814Z appoptics:patching patched https 
2022-03-30T16:11:51.814Z appoptics:patching patched http 
2022-03-30T16:11:51.891Z appoptics:patching patched zlib 
2022-03-30T16:11:51.897Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:11:51.898Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:11:51.898Z appoptics:patching patched fs 
2022-03-30T16:11:52.091Z appoptics:patching patched dns 
2022-03-30T16:11:52.123Z appoptics:patching patched tedious 6.4.0
2022-03-30T16:11:52.126Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 6.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.4.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.4.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.4.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.4.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.4.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.4.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1235:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1254:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1086:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.5.0
added 2 packages from 1 contributor, removed 1 package, updated 3 packages and audited 888 packages in 5.057s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:11:59.896Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:11:59.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:11:59.896Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:11:59.896Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:11:59.896Z appoptics:debug using context provider: ace-context
2022-03-30T16:11:59.958Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:00.094Z appoptics:patching patched crypto 
2022-03-30T16:12:00.113Z appoptics:patching patched https 
2022-03-30T16:12:00.113Z appoptics:patching patched http 
2022-03-30T16:12:00.160Z appoptics:patching patched zlib 
2022-03-30T16:12:00.165Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:12:00.166Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:12:00.166Z appoptics:patching patched fs 
2022-03-30T16:12:00.348Z appoptics:patching patched dns 
2022-03-30T16:12:00.384Z appoptics:patching patched tedious 6.5.0
2022-03-30T16:12:00.388Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.5.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.5.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.5.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.5.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.5.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.5.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.5.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.5.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.5.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.5.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.5.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  14) probes.tedious 6.5.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  15) probes.tedious 6.5.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  16) probes.tedious 6.5.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  17) probes.tedious 6.5.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  18) probes.tedious 6.5.0
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  19) probes.tedious 6.5.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  20) probes.tedious 6.5.0
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  21) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  22) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  23) probes.tedious 6.5.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.0
updated 1 package and audited 888 packages in 3.719s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:12:08.876Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:08.877Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:08.877Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:08.877Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:08.877Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:08.938Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:09.070Z appoptics:patching patched crypto 
2022-03-30T16:12:09.090Z appoptics:patching patched https 
2022-03-30T16:12:09.091Z appoptics:patching patched http 
2022-03-30T16:12:09.156Z appoptics:patching patched zlib 
2022-03-30T16:12:09.161Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:12:09.162Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:12:09.162Z appoptics:patching patched fs 
2022-03-30T16:12:09.403Z appoptics:patching patched dns 
2022-03-30T16:12:09.437Z appoptics:patching patched tedious 6.6.0
2022-03-30T16:12:09.440Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  4 failing

  1) probes.tedious 6.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.6.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.6.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1257:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1276:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1108:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.1
added 1 package from 2 contributors, updated 1 package and audited 889 packages in 4.223s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:12:15.961Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:15.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:15.962Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:15.962Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:15.962Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:16.022Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:16.150Z appoptics:patching patched crypto 
2022-03-30T16:12:16.168Z appoptics:patching patched https 
2022-03-30T16:12:16.169Z appoptics:patching patched http 
2022-03-30T16:12:16.213Z appoptics:patching patched zlib 
2022-03-30T16:12:16.218Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:12:16.218Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:12:16.218Z appoptics:patching patched fs 
2022-03-30T16:12:16.364Z appoptics:patching patched dns 
2022-03-30T16:12:16.397Z appoptics:patching patched tedious 6.6.1
2022-03-30T16:12:16.400Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 6.6.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.6.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.6.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.6.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.6.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.6.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.6.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.6.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1262:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1280:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1099:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.2
updated 1 package and audited 889 packages in 3.888s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:12:22.986Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:22.987Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:22.987Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:22.987Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:22.987Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:23.049Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:23.176Z appoptics:patching patched crypto 
2022-03-30T16:12:23.194Z appoptics:patching patched https 
2022-03-30T16:12:23.195Z appoptics:patching patched http 
2022-03-30T16:12:23.261Z appoptics:patching patched zlib 
2022-03-30T16:12:23.268Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:12:23.268Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:12:23.268Z appoptics:patching patched fs 
2022-03-30T16:12:23.416Z appoptics:patching patched dns 
2022-03-30T16:12:23.449Z appoptics:patching patched tedious 6.6.2
2022-03-30T16:12:23.453Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.6.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.6.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.6.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.6.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'LoggedInSendingInitialSql'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.6.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.6.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.6.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.6.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.6.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.6.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.6.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1543:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1524:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2300:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1247:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1107:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:40:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'E218FFEEEBA72DC2',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 3124,
  Timestamp_u: 1648656745836058,
  'X-Trace': '2BA0FE486EAF9AFFA657D9DFDBFCE520A800000000A98B020BCD863D8501',
  _V: '1',
  'sw.parent_span_id': 'e218ffeeeba72dc2',
  'sw.trace_context': '00-a0fe486eaf9affa657d9dfdbfce520a8-a98b020bcd863d85-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'E218FFEEEBA72DC2',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 3124,
    Timestamp_u: 1648656745836058,
    'X-Trace': '2BA0FE486EAF9AFFA657D9DFDBFCE520A800000000A98B020BCD863D8501',
    _V: '1',
    'sw.parent_span_id': 'e218ffeeeba72dc2',
    'sw.trace_context': '00-a0fe486eaf9affa657d9dfdbfce520a8-a98b020bcd863d85-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.6.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.3
updated 1 package and audited 889 packages in 5.149s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:12:31.918Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:31.919Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:31.919Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:31.919Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:31.919Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:31.981Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:32.120Z appoptics:patching patched crypto 
2022-03-30T16:12:32.137Z appoptics:patching patched https 
2022-03-30T16:12:32.137Z appoptics:patching patched http 
2022-03-30T16:12:32.188Z appoptics:patching patched zlib 
2022-03-30T16:12:32.193Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:12:32.194Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:12:32.194Z appoptics:patching patched fs 
2022-03-30T16:12:32.348Z appoptics:patching patched dns 
2022-03-30T16:12:32.383Z appoptics:patching patched tedious 6.6.3
2022-03-30T16:12:32.386Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 6.6.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.6.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1289:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1307:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1126:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.4
updated 1 package and audited 889 packages in 4.284s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:12:38.798Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:38.799Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:38.799Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:38.799Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:38.799Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:38.885Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:39.057Z appoptics:patching patched crypto 
2022-03-30T16:12:39.076Z appoptics:patching patched https 
2022-03-30T16:12:39.076Z appoptics:patching patched http 
2022-03-30T16:12:39.117Z appoptics:patching patched zlib 
2022-03-30T16:12:39.121Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:12:39.122Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:12:39.122Z appoptics:patching patched fs 
2022-03-30T16:12:39.266Z appoptics:patching patched dns 
2022-03-30T16:12:39.301Z appoptics:patching patched tedious 6.6.4
2022-03-30T16:12:39.304Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.6.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.6.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.6.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.6.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.6.4
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.6.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.6.4
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.6.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.6.4
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'A740FD75DD380471',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 3168,
  Timestamp_u: 1648656761653289,
  'X-Trace': '2B018261D203882A513D9FA4073DE6D3320000000007118B5FC3EEFE3901',
  _V: '1',
  'sw.parent_span_id': 'a740fd75dd380471',
  'sw.trace_context': '00-018261d203882a513d9fa4073de6d332-07118b5fc3eefe39-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'A740FD75DD380471',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 3168,
    Timestamp_u: 1648656761653289,
    'X-Trace': '2B018261D203882A513D9FA4073DE6D3320000000007118B5FC3EEFE3901',
    _V: '1',
    'sw.parent_span_id': 'a740fd75dd380471',
    'sw.trace_context': '00-018261d203882a513d9fa4073de6d332-07118b5fc3eefe39-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.6.4
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.5
updated 1 package and audited 889 packages in 4.062s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:12:46.614Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:46.615Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:46.615Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:46.615Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:46.615Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:46.672Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:46.810Z appoptics:patching patched crypto 
2022-03-30T16:12:46.828Z appoptics:patching patched https 
2022-03-30T16:12:46.829Z appoptics:patching patched http 
2022-03-30T16:12:46.871Z appoptics:patching patched zlib 
2022-03-30T16:12:46.877Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:12:46.877Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:12:46.877Z appoptics:patching patched fs 
2022-03-30T16:12:47.021Z appoptics:patching patched dns 
2022-03-30T16:12:47.055Z appoptics:patching patched tedious 6.6.5
2022-03-30T16:12:47.059Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.6.5
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.6.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.6.5
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.6.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.6.5
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.6.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.6.5
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.6.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.6.5
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.6.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.6.5
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'D59BF0D5EE2C7665',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 3190,
  Timestamp_u: 1648656769402009,
  'X-Trace': '2BFD34FEEB44DF1B2104DDF3B5A4F2FE11000000006389A5A3A106A5A701',
  _V: '1',
  'sw.parent_span_id': 'd59bf0d5ee2c7665',
  'sw.trace_context': '00-fd34feeb44df1b2104ddf3b5a4f2fe11-6389a5a3a106a5a7-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'D59BF0D5EE2C7665',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 3190,
    Timestamp_u: 1648656769402009,
    'X-Trace': '2BFD34FEEB44DF1B2104DDF3B5A4F2FE11000000006389A5A3A106A5A701',
    _V: '1',
    'sw.parent_span_id': 'd59bf0d5ee2c7665',
    'sw.trace_context': '00-fd34feeb44df1b2104ddf3b5a4f2fe11-6389a5a3a106a5a7-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.6.5
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.6.6
updated 1 package and audited 889 packages in 5.921s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:12:56.539Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:12:56.540Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:12:56.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:12:56.540Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:12:56.540Z appoptics:debug using context provider: ace-context
2022-03-30T16:12:56.605Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:12:56.746Z appoptics:patching patched crypto 
2022-03-30T16:12:56.765Z appoptics:patching patched https 
2022-03-30T16:12:56.765Z appoptics:patching patched http 
2022-03-30T16:12:56.813Z appoptics:patching patched zlib 
2022-03-30T16:12:56.819Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:12:56.819Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:12:56.820Z appoptics:patching patched fs 
2022-03-30T16:12:56.979Z appoptics:patching patched dns 
2022-03-30T16:12:57.017Z appoptics:patching patched tedious 6.6.6
2022-03-30T16:12:57.020Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.6.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  4 failing

  1) probes.tedious 6.6.6
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.6.6
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.6.6
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.6.6
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1289:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1307:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1126:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.7.0
updated 1 package and audited 889 packages in 4.304s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:13:03.728Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:03.729Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:03.729Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:03.729Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:03.729Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:03.793Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:03.932Z appoptics:patching patched crypto 
2022-03-30T16:13:03.951Z appoptics:patching patched https 
2022-03-30T16:13:03.951Z appoptics:patching patched http 
2022-03-30T16:13:03.998Z appoptics:patching patched zlib 
2022-03-30T16:13:04.004Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:13:04.004Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:13:04.004Z appoptics:patching patched fs 
2022-03-30T16:13:04.163Z appoptics:patching patched dns 
2022-03-30T16:13:04.200Z appoptics:patching patched tedious 6.7.0
2022-03-30T16:13:04.204Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.7.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.7.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.7.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.7.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.7.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.7.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.7.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.7.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.7.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.7.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.7.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1575:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1556:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2332:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1279:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1139:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'ADE25A5AA30110EB',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 3234,
  Timestamp_u: 1648656786559532,
  'X-Trace': '2BD3EB4E79E054D23B42346A3D0B5DED3500000000AD75711CE71A102A01',
  _V: '1',
  'sw.parent_span_id': 'ade25a5aa30110eb',
  'sw.trace_context': '00-d3eb4e79e054d23b42346a3d0b5ded35-ad75711ce71a102a-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'ADE25A5AA30110EB',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 3234,
    Timestamp_u: 1648656786559532,
    'X-Trace': '2BD3EB4E79E054D23B42346A3D0B5DED3500000000AD75711CE71A102A01',
    _V: '1',
    'sw.parent_span_id': 'ade25a5aa30110eb',
    'sw.trace_context': '00-d3eb4e79e054d23b42346a3d0b5ded35-ad75711ce71a102a-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.7.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@6.7.1
added 6 packages from 4 contributors, removed 19 packages, updated 6 packages, moved 1 package and audited 876 packages in 4.514s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:13:11.957Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:11.958Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:11.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:11.958Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:11.958Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:12.017Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:12.156Z appoptics:patching patched crypto 
2022-03-30T16:13:12.172Z appoptics:patching patched https 
2022-03-30T16:13:12.173Z appoptics:patching patched http 
2022-03-30T16:13:12.234Z appoptics:patching patched zlib 
2022-03-30T16:13:12.237Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:13:12.237Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:13:12.237Z appoptics:patching patched fs 
2022-03-30T16:13:12.316Z appoptics:patching patched dns 
2022-03-30T16:13:12.362Z appoptics:patching patched tedious 6.7.1
2022-03-30T16:13:12.365Z appoptics:debug starting runtimeMetrics


  probes.tedious 6.7.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.7.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 6.7.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 6.7.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 6.7.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 6.7.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 6.7.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 6.7.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 6.7.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 6.7.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 6.7.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 6.7.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 6.7.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1575:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1556:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2332:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1279:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1139:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'F995B69FCB43BD0A',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 3256,
  Timestamp_u: 1648656794722499,
  'X-Trace': '2BD0213A4399477A90515852B8D2DBE3B5000000000AAAE03F636F883E01',
  _V: '1',
  'sw.parent_span_id': 'f995b69fcb43bd0a',
  'sw.trace_context': '00-d0213a4399477a90515852b8d2dbe3b5-0aaae03f636f883e-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'F995B69FCB43BD0A',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 3256,
    Timestamp_u: 1648656794722499,
    'X-Trace': '2BD0213A4399477A90515852B8D2DBE3B5000000000AAAE03F636F883E01',
    _V: '1',
    'sw.parent_span_id': 'f995b69fcb43bd0a',
    'sw.trace_context': '00-d0213a4399477a90515852b8d2dbe3b5-0aaae03f636f883e-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 6.7.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@7.0.0
added 19 packages from 45 contributors, removed 8 packages, updated 6 packages, moved 1 package and audited 887 packages in 4.627s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:13:20.224Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:20.225Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:20.225Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:20.225Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:20.225Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:20.316Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:20.477Z appoptics:patching patched crypto 
2022-03-30T16:13:20.519Z appoptics:patching patched https 
2022-03-30T16:13:20.520Z appoptics:patching patched http 
2022-03-30T16:13:20.560Z appoptics:patching patched zlib 
2022-03-30T16:13:20.565Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:13:20.566Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:13:20.566Z appoptics:patching patched fs 
2022-03-30T16:13:20.712Z appoptics:patching patched dns 
2022-03-30T16:13:20.745Z appoptics:patching patched tedious 7.0.0
2022-03-30T16:13:20.748Z appoptics:debug starting runtimeMetrics


  probes.tedious 7.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 7.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 7.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1292:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1310:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1129:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.0.0
added 1 package from 1 contributor, updated 1 package and audited 888 packages in 5.524s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:13:28.193Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:28.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:28.194Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:28.194Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:28.194Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:28.252Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:28.392Z appoptics:patching patched crypto 
2022-03-30T16:13:28.410Z appoptics:patching patched https 
2022-03-30T16:13:28.410Z appoptics:patching patched http 
2022-03-30T16:13:28.453Z appoptics:patching patched zlib 
2022-03-30T16:13:28.458Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:13:28.458Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:13:28.458Z appoptics:patching patched fs 
2022-03-30T16:13:28.617Z appoptics:patching patched dns 
2022-03-30T16:13:28.668Z appoptics:patching patched tedious 8.0.0
2022-03-30T16:13:28.671Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  12 failing

  1) probes.tedious 8.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 8.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 8.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 8.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 8.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 8.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 8.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 8.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 8.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 8.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 8.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 8.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1292:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1310:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1129:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.0.1
updated 1 package and audited 888 packages in 3.717s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:13:35.646Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:35.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:35.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:35.647Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:35.647Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:35.730Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:35.875Z appoptics:patching patched crypto 
2022-03-30T16:13:35.894Z appoptics:patching patched https 
2022-03-30T16:13:35.894Z appoptics:patching patched http 
2022-03-30T16:13:35.938Z appoptics:patching patched zlib 
2022-03-30T16:13:35.944Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:13:35.944Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:13:35.944Z appoptics:patching patched fs 
2022-03-30T16:13:36.096Z appoptics:patching patched dns 
2022-03-30T16:13:36.151Z appoptics:patching patched tedious 8.0.1
2022-03-30T16:13:36.154Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 8.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 8.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 8.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 8.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 8.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 8.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 8.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 8.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 8.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1573:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1554:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2328:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1277:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1137:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'FBA42A18F13747D0',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 3322,
  Timestamp_u: 1648656818520080,
  'X-Trace': '2BEE35D8603B4372551934479F4084B33600000000157A1CE63691BD0E01',
  _V: '1',
  'sw.parent_span_id': 'fba42a18f13747d0',
  'sw.trace_context': '00-ee35d8603b4372551934479f4084b336-157a1ce63691bd0e-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'FBA42A18F13747D0',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 3322,
    Timestamp_u: 1648656818520080,
    'X-Trace': '2BEE35D8603B4372551934479F4084B33600000000157A1CE63691BD0E01',
    _V: '1',
    'sw.parent_span_id': 'fba42a18f13747d0',
    'sw.trace_context': '00-ee35d8603b4372551934479f4084b336-157a1ce63691bd0e-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 8.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.1.0
updated 2 packages and audited 888 packages in 4.828s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:13:44.288Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:44.288Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:44.289Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:44.289Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:44.289Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:44.352Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:44.491Z appoptics:patching patched crypto 
2022-03-30T16:13:44.510Z appoptics:patching patched https 
2022-03-30T16:13:44.511Z appoptics:patching patched http 
2022-03-30T16:13:44.557Z appoptics:patching patched zlib 
2022-03-30T16:13:44.563Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:13:44.563Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:13:44.564Z appoptics:patching patched fs 
2022-03-30T16:13:44.725Z appoptics:patching patched dns 
2022-03-30T16:13:44.781Z appoptics:patching patched tedious 8.1.0
2022-03-30T16:13:44.785Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  4 failing

  1) probes.tedious 8.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 8.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 8.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 8.1.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1297:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1315:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1134:14)
      at endReadableNT (internal/streams/readable.js:1334:12)
      at processTicksAndRejections (internal/process/task_queues.js:82:21)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.1.1
updated 1 package and audited 888 packages in 4.898s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:13:51.928Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:51.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:51.928Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:51.929Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:51.929Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:51.990Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:52.127Z appoptics:patching patched crypto 
2022-03-30T16:13:52.145Z appoptics:patching patched https 
2022-03-30T16:13:52.145Z appoptics:patching patched http 
2022-03-30T16:13:52.193Z appoptics:patching patched zlib 
2022-03-30T16:13:52.199Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:13:52.199Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:13:52.199Z appoptics:patching patched fs 
2022-03-30T16:13:52.352Z appoptics:patching patched dns 
2022-03-30T16:13:52.407Z appoptics:patching patched tedious 8.1.1
2022-03-30T16:13:52.410Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 8.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 8.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 8.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 8.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 8.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 8.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 8.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 8.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 8.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 8.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 8.1.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1579:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1560:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2331:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1280:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:47:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: '301AB15789E9BAC8',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 3366,
  Timestamp_u: 1648656834757687,
  'X-Trace': '2B7591E2A331383EEECE94E6E0E0DD403700000000D1A3401C25C2C50F01',
  _V: '1',
  'sw.parent_span_id': '301ab15789e9bac8',
  'sw.trace_context': '00-7591e2a331383eeece94e6e0e0dd4037-d1a3401c25c2c50f-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: '301AB15789E9BAC8',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 3366,
    Timestamp_u: 1648656834757687,
    'X-Trace': '2B7591E2A331383EEECE94E6E0E0DD403700000000D1A3401C25C2C50F01',
    _V: '1',
    'sw.parent_span_id': '301ab15789e9bac8',
    'sw.trace_context': '00-7591e2a331383eeece94e6e0e0dd4037-d1a3401c25c2c50f-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 8.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.2.0
updated 1 package and audited 888 packages in 3.854s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:13:59.561Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:13:59.561Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:13:59.561Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:13:59.561Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:13:59.561Z appoptics:debug using context provider: ace-context
2022-03-30T16:13:59.640Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:13:59.838Z appoptics:patching patched crypto 
2022-03-30T16:13:59.866Z appoptics:patching patched https 
2022-03-30T16:13:59.867Z appoptics:patching patched http 
2022-03-30T16:13:59.906Z appoptics:patching patched zlib 
2022-03-30T16:13:59.912Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:13:59.912Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:13:59.912Z appoptics:patching patched fs 
2022-03-30T16:14:00.091Z appoptics:patching patched dns 
2022-03-30T16:14:00.157Z appoptics:patching patched tedious 8.2.0
2022-03-30T16:14:00.161Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.tedious 8.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.tedious 8.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.tedious 8.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.tedious 8.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.tedious 8.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.tedious 8.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.tedious 8.2.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  9) probes.tedious 8.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  10) probes.tedious 8.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  11) probes.tedious 8.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1145:10)
      at TCPConnectWrap.callbackTrampoline (internal/async_hooks.js:130:17)

  12) probes.tedious 8.2.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1581:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (events.js:400:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1562:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2333:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1282:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1142:14)\nat MessageIO.emit (events.js:400:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:47:14)\nat Message.emit (events.js:412:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (internal/process/task_queues.js:82:21)',
  Database: '',
  Edge: 'AA0AA8D16CC6609A',
  Flavor: 'mssql',
  Hostname: '45c96ed8aaa8',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 3388,
  Timestamp_u: 1648656842517430,
  'X-Trace': '2B5FC6D17141B4AF373E4185966620BA7E00000000B8C8151C4C3D03FA01',
  _V: '1',
  'sw.parent_span_id': 'aa0aa8d16cc6609a',
  'sw.trace_context': '00-5fc6d17141b4af373e4185966620ba7e-b8c8151c4c3d03fa-01'
} not to have property Query (false negative fail)
  AssertionError: expected Object {
    Async: true,
    Database: '',
    Edge: 'AA0AA8D16CC6609A',
    Flavor: 'mssql',
    Hostname: '45c96ed8aaa8',
    Label: 'entry',
    Layer: 'mssql',
    Query: 'select 42, \'hello world\'',
    QueryArgs: '{}',
    RemoteHost: 'mssql:1433',
    Spec: 'query',
    TID: 3388,
    Timestamp_u: 1648656842517430,
    'X-Trace': '2B5FC6D17141B4AF373E4185966620BA7E00000000B8C8151C4C3D03FA01',
    _V: '1',
    'sw.parent_span_id': 'aa0aa8d16cc6609a',
    'sw.trace_context': '00-5fc6d17141b4af373e4185966620ba7e-b8c8151c4c3d03fa-01'
  } not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  13) probes.tedious 8.2.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.3.0
updated 1 package and audited 888 packages in 3.825s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:14:07.292Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:07.292Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:07.292Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:07.292Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:07.292Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:07.355Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:07.492Z appoptics:patching patched crypto 
2022-03-30T16:14:07.510Z appoptics:patching patched https 
2022-03-30T16:14:07.510Z appoptics:patching patched http 
2022-03-30T16:14:07.557Z appoptics:patching patched zlib 
2022-03-30T16:14:07.563Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:14:07.563Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:14:07.564Z appoptics:patching patched fs 
2022-03-30T16:14:07.717Z appoptics:patching patched dns 
2022-03-30T16:14:07.775Z appoptics:patching patched tedious 8.3.0
2022-03-30T16:14:07.779Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@8.3.1
updated 1 package and audited 888 packages in 4.501s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:14:17.141Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:17.141Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:17.141Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:17.141Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:17.142Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:17.205Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:17.355Z appoptics:patching patched crypto 
2022-03-30T16:14:17.373Z appoptics:patching patched https 
2022-03-30T16:14:17.373Z appoptics:patching patched http 
2022-03-30T16:14:17.418Z appoptics:patching patched zlib 
2022-03-30T16:14:17.423Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:14:17.423Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:14:17.423Z appoptics:patching patched fs 
2022-03-30T16:14:17.570Z appoptics:patching patched dns 
2022-03-30T16:14:17.625Z appoptics:patching patched tedious 8.3.1
2022-03-30T16:14:17.629Z appoptics:debug starting runtimeMetrics


  probes.tedious 8.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.0.0
updated 1 package and audited 888 packages in 4.66s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:14:27.171Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:27.172Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:27.172Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:27.172Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:27.172Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:27.240Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:27.393Z appoptics:patching patched crypto 
2022-03-30T16:14:27.419Z appoptics:patching patched https 
2022-03-30T16:14:27.420Z appoptics:patching patched http 
2022-03-30T16:14:27.468Z appoptics:patching patched zlib 
2022-03-30T16:14:27.478Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:14:27.478Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:14:27.478Z appoptics:patching patched fs 
2022-03-30T16:14:27.640Z appoptics:patching patched dns 
2022-03-30T16:14:27.699Z appoptics:patching patched tedious 9.0.0
2022-03-30T16:14:27.703Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.0.1
updated 1 package and audited 888 packages in 4.223s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:14:37.112Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:37.113Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:37.113Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:37.113Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:37.113Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:37.196Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:37.363Z appoptics:patching patched crypto 
2022-03-30T16:14:37.416Z appoptics:patching patched https 
2022-03-30T16:14:37.416Z appoptics:patching patched http 
2022-03-30T16:14:37.460Z appoptics:patching patched zlib 
2022-03-30T16:14:37.466Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:14:37.467Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:14:37.467Z appoptics:patching patched fs 
2022-03-30T16:14:37.700Z appoptics:patching patched dns 
2022-03-30T16:14:37.773Z appoptics:patching patched tedious 9.0.1
2022-03-30T16:14:37.777Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.1.0
updated 1 package and audited 888 packages in 6.295s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:14:49.088Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:49.089Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:49.089Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:49.089Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:49.089Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:49.163Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:49.312Z appoptics:patching patched crypto 
2022-03-30T16:14:49.348Z appoptics:patching patched https 
2022-03-30T16:14:49.349Z appoptics:patching patched http 
2022-03-30T16:14:49.395Z appoptics:patching patched zlib 
2022-03-30T16:14:49.400Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:14:49.400Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:14:49.400Z appoptics:patching patched fs 
2022-03-30T16:14:49.563Z appoptics:patching patched dns 
2022-03-30T16:14:49.623Z appoptics:patching patched tedious 9.1.0
2022-03-30T16:14:49.625Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (42ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.1.1
updated 3 packages and audited 888 packages in 4.621s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:14:59.097Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:14:59.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:14:59.098Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:14:59.098Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:14:59.098Z appoptics:debug using context provider: ace-context
2022-03-30T16:14:59.156Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:14:59.281Z appoptics:patching patched crypto 
2022-03-30T16:14:59.297Z appoptics:patching patched https 
2022-03-30T16:14:59.297Z appoptics:patching patched http 
2022-03-30T16:14:59.344Z appoptics:patching patched zlib 
2022-03-30T16:14:59.350Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:14:59.350Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:14:59.351Z appoptics:patching patched fs 
2022-03-30T16:14:59.498Z appoptics:patching patched dns 
2022-03-30T16:14:59.552Z appoptics:patching patched tedious 9.1.1
2022-03-30T16:14:59.555Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (59ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.0
updated 1 package and audited 888 packages in 4.156s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:15:08.649Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:08.650Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:08.650Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:08.650Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:08.650Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:08.711Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:08.840Z appoptics:patching patched crypto 
2022-03-30T16:15:08.860Z appoptics:patching patched https 
2022-03-30T16:15:08.860Z appoptics:patching patched http 
2022-03-30T16:15:08.905Z appoptics:patching patched zlib 
2022-03-30T16:15:08.910Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:15:08.910Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:15:08.911Z appoptics:patching patched fs 
2022-03-30T16:15:09.059Z appoptics:patching patched dns 
2022-03-30T16:15:09.116Z appoptics:patching patched tedious 9.2.0
2022-03-30T16:15:09.119Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (42ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.1
updated 1 package and audited 888 packages in 3.959s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:15:17.907Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:17.908Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:17.908Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:17.908Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:17.908Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:17.970Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:18.100Z appoptics:patching patched crypto 
2022-03-30T16:15:18.116Z appoptics:patching patched https 
2022-03-30T16:15:18.117Z appoptics:patching patched http 
2022-03-30T16:15:18.160Z appoptics:patching patched zlib 
2022-03-30T16:15:18.166Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:15:18.166Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:15:18.166Z appoptics:patching patched fs 
2022-03-30T16:15:18.338Z appoptics:patching patched dns 
2022-03-30T16:15:18.389Z appoptics:patching patched tedious 9.2.1
2022-03-30T16:15:18.392Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.2
added 6 packages from 4 contributors, removed 19 packages, updated 6 packages, moved 1 package and audited 875 packages in 5.31s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:15:28.581Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:28.582Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:28.582Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:28.582Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:28.582Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:28.646Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:28.785Z appoptics:patching patched crypto 
2022-03-30T16:15:28.803Z appoptics:patching patched https 
2022-03-30T16:15:28.803Z appoptics:patching patched http 
2022-03-30T16:15:28.868Z appoptics:patching patched zlib 
2022-03-30T16:15:28.872Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:15:28.872Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:15:28.872Z appoptics:patching patched fs 
2022-03-30T16:15:28.952Z appoptics:patching patched dns 
2022-03-30T16:15:29.018Z appoptics:patching patched tedious 9.2.2
2022-03-30T16:15:29.022Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (44ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@9.2.3
added 22 packages from 54 contributors, updated 2 packages, moved 2 packages and audited 897 packages in 4.992s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:15:38.863Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:38.864Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:38.864Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:38.864Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:38.864Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:38.925Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:39.053Z appoptics:patching patched crypto 
2022-03-30T16:15:39.071Z appoptics:patching patched https 
2022-03-30T16:15:39.071Z appoptics:patching patched http 
2022-03-30T16:15:39.133Z appoptics:patching patched zlib 
2022-03-30T16:15:39.136Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:15:39.136Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:15:39.137Z appoptics:patching patched fs 
2022-03-30T16:15:39.212Z appoptics:patching patched dns 
2022-03-30T16:15:39.354Z appoptics:patching patched tedious 9.2.3
2022-03-30T16:15:39.358Z appoptics:debug starting runtimeMetrics


  probes.tedious 9.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@10.0.0
updated 1 package and audited 897 packages in 5.1s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:15:49.577Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:49.578Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:49.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:49.578Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:49.579Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:49.667Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:49.793Z appoptics:patching patched crypto 
2022-03-30T16:15:49.811Z appoptics:patching patched https 
2022-03-30T16:15:49.811Z appoptics:patching patched http 
2022-03-30T16:15:49.871Z appoptics:patching patched zlib 
2022-03-30T16:15:49.874Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:15:49.875Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:15:49.875Z appoptics:patching patched fs 
2022-03-30T16:15:49.953Z appoptics:patching patched dns 
2022-03-30T16:15:50.097Z appoptics:patching patched tedious 10.0.0
2022-03-30T16:15:50.100Z appoptics:debug starting runtimeMetrics


  probes.tedious 10.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.0
updated 1 package and audited 897 packages in 4.047s

85 packages are looking for funding
  run `npm fund` for details

found 1 moderate severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
2022-03-30T16:15:59.097Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:15:59.097Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:15:59.097Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:15:59.097Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:15:59.098Z appoptics:debug using context provider: ace-context
2022-03-30T16:15:59.166Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:15:59.319Z appoptics:patching patched crypto 
2022-03-30T16:15:59.354Z appoptics:patching patched https 
2022-03-30T16:15:59.355Z appoptics:patching patched http 
2022-03-30T16:15:59.421Z appoptics:patching patched zlib 
2022-03-30T16:15:59.424Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:15:59.425Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:15:59.425Z appoptics:patching patched fs 
2022-03-30T16:15:59.528Z appoptics:patching patched dns 
2022-03-30T16:15:59.703Z appoptics:patching patched tedious 11.0.0
2022-03-30T16:15:59.706Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (56ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.1
added 1 package from 3 contributors, removed 22 packages, updated 3 packages, moved 2 packages and audited 876 packages in 3.826s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:16:08.391Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:08.392Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:08.392Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:08.392Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:08.392Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:08.451Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:08.583Z appoptics:patching patched crypto 
2022-03-30T16:16:08.601Z appoptics:patching patched https 
2022-03-30T16:16:08.602Z appoptics:patching patched http 
2022-03-30T16:16:08.666Z appoptics:patching patched zlib 
2022-03-30T16:16:08.669Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:16:08.669Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:16:08.669Z appoptics:patching patched fs 
2022-03-30T16:16:08.745Z appoptics:patching patched dns 
2022-03-30T16:16:08.808Z appoptics:patching patched tedious 11.0.1
2022-03-30T16:16:08.811Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (46ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.2
added 1 package from 1 contributor, updated 1 package and audited 877 packages in 4.668s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:16:18.366Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:18.367Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:18.367Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:18.367Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:18.367Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:18.425Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:18.549Z appoptics:patching patched crypto 
2022-03-30T16:16:18.566Z appoptics:patching patched https 
2022-03-30T16:16:18.567Z appoptics:patching patched http 
2022-03-30T16:16:18.631Z appoptics:patching patched zlib 
2022-03-30T16:16:18.633Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:16:18.633Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:16:18.634Z appoptics:patching patched fs 
2022-03-30T16:16:18.705Z appoptics:patching patched dns 
2022-03-30T16:16:18.765Z appoptics:patching patched tedious 11.0.2
2022-03-30T16:16:18.769Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.3
updated 1 package and audited 877 packages in 3.804s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:16:27.606Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:27.607Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:27.607Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:27.607Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:27.607Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:27.669Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:27.798Z appoptics:patching patched crypto 
2022-03-30T16:16:27.816Z appoptics:patching patched https 
2022-03-30T16:16:27.817Z appoptics:patching patched http 
2022-03-30T16:16:27.873Z appoptics:patching patched zlib 
2022-03-30T16:16:27.876Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:16:27.876Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:16:27.876Z appoptics:patching patched fs 
2022-03-30T16:16:27.998Z appoptics:patching patched dns 
2022-03-30T16:16:28.057Z appoptics:patching patched tedious 11.0.3
2022-03-30T16:16:28.061Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.4
updated 1 package and audited 877 packages in 4.249s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:16:37.226Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:37.227Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:37.227Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:37.227Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:37.227Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:37.288Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:37.448Z appoptics:patching patched crypto 
2022-03-30T16:16:37.474Z appoptics:patching patched https 
2022-03-30T16:16:37.475Z appoptics:patching patched http 
2022-03-30T16:16:37.527Z appoptics:patching patched zlib 
2022-03-30T16:16:37.530Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:16:37.530Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:16:37.531Z appoptics:patching patched fs 
2022-03-30T16:16:37.621Z appoptics:patching patched dns 
2022-03-30T16:16:37.677Z appoptics:patching patched tedious 11.0.4
2022-03-30T16:16:37.680Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.5
updated 1 package and audited 877 packages in 4.272s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:16:46.977Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:46.977Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:46.977Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:46.977Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:46.977Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:47.056Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:47.223Z appoptics:patching patched crypto 
2022-03-30T16:16:47.248Z appoptics:patching patched https 
2022-03-30T16:16:47.248Z appoptics:patching patched http 
2022-03-30T16:16:47.306Z appoptics:patching patched zlib 
2022-03-30T16:16:47.309Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:16:47.309Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:16:47.310Z appoptics:patching patched fs 
2022-03-30T16:16:47.406Z appoptics:patching patched dns 
2022-03-30T16:16:47.494Z appoptics:patching patched tedious 11.0.5
2022-03-30T16:16:47.505Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.6
updated 1 package and audited 877 packages in 4.014s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:16:56.401Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:16:56.402Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:16:56.402Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:16:56.402Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:16:56.402Z appoptics:debug using context provider: ace-context
2022-03-30T16:16:56.459Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:16:56.586Z appoptics:patching patched crypto 
2022-03-30T16:16:56.605Z appoptics:patching patched https 
2022-03-30T16:16:56.606Z appoptics:patching patched http 
2022-03-30T16:16:56.663Z appoptics:patching patched zlib 
2022-03-30T16:16:56.666Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:16:56.666Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:16:56.666Z appoptics:patching patched fs 
2022-03-30T16:16:56.745Z appoptics:patching patched dns 
2022-03-30T16:16:56.804Z appoptics:patching patched tedious 11.0.6
2022-03-30T16:16:56.807Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.7
updated 1 package and audited 877 packages in 4.202s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:17:05.885Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:05.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:05.885Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:05.885Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:05.885Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:05.991Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:06.141Z appoptics:patching patched crypto 
2022-03-30T16:17:06.189Z appoptics:patching patched https 
2022-03-30T16:17:06.189Z appoptics:patching patched http 
2022-03-30T16:17:06.249Z appoptics:patching patched zlib 
2022-03-30T16:17:06.253Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:17:06.253Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:17:06.253Z appoptics:patching patched fs 
2022-03-30T16:17:06.370Z appoptics:patching patched dns 
2022-03-30T16:17:06.432Z appoptics:patching patched tedious 11.0.7
2022-03-30T16:17:06.436Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.7
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (42ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@11.0.8
updated 1 package and audited 877 packages in 4.003s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:17:15.312Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:15.313Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:15.313Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:15.313Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:15.313Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:15.371Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:15.498Z appoptics:patching patched crypto 
2022-03-30T16:17:15.520Z appoptics:patching patched https 
2022-03-30T16:17:15.520Z appoptics:patching patched http 
2022-03-30T16:17:15.573Z appoptics:patching patched zlib 
2022-03-30T16:17:15.576Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:17:15.576Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:17:15.576Z appoptics:patching patched fs 
2022-03-30T16:17:15.659Z appoptics:patching patched dns 
2022-03-30T16:17:15.710Z appoptics:patching patched tedious 11.0.8
2022-03-30T16:17:15.714Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.8
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_17_29_225Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.0.9
added 56 packages from 41 contributors, removed 2 packages, updated 4 packages and audited 967 packages in 9.466s

91 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:17:30.153Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:30.153Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:30.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:30.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:30.154Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:30.217Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:30.351Z appoptics:patching patched crypto 
2022-03-30T16:17:30.369Z appoptics:patching patched https 
2022-03-30T16:17:30.369Z appoptics:patching patched http 
2022-03-30T16:17:30.431Z appoptics:patching patched zlib 
2022-03-30T16:17:30.434Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:17:30.434Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:17:30.435Z appoptics:patching patched fs 
2022-03-30T16:17:30.510Z appoptics:patching patched dns 
2022-03-30T16:17:30.570Z appoptics:patching patched tedious 11.0.9
2022-03-30T16:17:30.573Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.9
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_17_40_236Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.0.10
updated 1 package and audited 967 packages in 5.609s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:17:41.126Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:41.127Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:41.127Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:41.127Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:41.127Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:41.183Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:41.307Z appoptics:patching patched crypto 
2022-03-30T16:17:41.324Z appoptics:patching patched https 
2022-03-30T16:17:41.324Z appoptics:patching patched http 
2022-03-30T16:17:41.387Z appoptics:patching patched zlib 
2022-03-30T16:17:41.390Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:17:41.391Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:17:41.391Z appoptics:patching patched fs 
2022-03-30T16:17:41.474Z appoptics:patching patched dns 
2022-03-30T16:17:41.537Z appoptics:patching patched tedious 11.0.10
2022-03-30T16:17:41.541Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.0.10
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (45ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_17_51_368Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.1.0
updated 1 package and audited 967 packages in 5.759s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:17:52.296Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:17:52.297Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:17:52.297Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:17:52.297Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:17:52.297Z appoptics:debug using context provider: ace-context
2022-03-30T16:17:52.356Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:17:52.483Z appoptics:patching patched crypto 
2022-03-30T16:17:52.499Z appoptics:patching patched https 
2022-03-30T16:17:52.499Z appoptics:patching patched http 
2022-03-30T16:17:52.558Z appoptics:patching patched zlib 
2022-03-30T16:17:52.561Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:17:52.561Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:17:52.561Z appoptics:patching patched fs 
2022-03-30T16:17:52.640Z appoptics:patching patched dns 
2022-03-30T16:17:52.703Z appoptics:patching patched tedious 11.1.0
2022-03-30T16:17:52.706Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (45ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_18_03_051Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.1.1
updated 1 package and audited 967 packages in 6.324s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:18:04.051Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:04.051Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:04.051Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:04.051Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:04.052Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:04.114Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:04.253Z appoptics:patching patched crypto 
2022-03-30T16:18:04.270Z appoptics:patching patched https 
2022-03-30T16:18:04.271Z appoptics:patching patched http 
2022-03-30T16:18:04.339Z appoptics:patching patched zlib 
2022-03-30T16:18:04.342Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:18:04.342Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:18:04.343Z appoptics:patching patched fs 
2022-03-30T16:18:04.427Z appoptics:patching patched dns 
2022-03-30T16:18:04.510Z appoptics:patching patched tedious 11.1.1
2022-03-30T16:18:04.514Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (46ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_18_14_012Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.2.0
updated 1 package and audited 967 packages in 5.328s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:18:14.891Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:14.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:14.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:14.892Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:14.892Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:14.952Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:15.089Z appoptics:patching patched crypto 
2022-03-30T16:18:15.107Z appoptics:patching patched https 
2022-03-30T16:18:15.107Z appoptics:patching patched http 
2022-03-30T16:18:15.166Z appoptics:patching patched zlib 
2022-03-30T16:18:15.169Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:18:15.169Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:18:15.169Z appoptics:patching patched fs 
2022-03-30T16:18:15.248Z appoptics:patching patched dns 
2022-03-30T16:18:15.311Z appoptics:patching patched tedious 11.2.0
2022-03-30T16:18:15.314Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (42ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_18_24_785Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.3.0
added 1 package from 2 contributors, updated 4 packages and audited 968 packages in 5.444s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:18:25.671Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:25.672Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:25.672Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:25.672Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:25.672Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:25.731Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:25.858Z appoptics:patching patched crypto 
2022-03-30T16:18:25.874Z appoptics:patching patched https 
2022-03-30T16:18:25.874Z appoptics:patching patched http 
2022-03-30T16:18:25.937Z appoptics:patching patched zlib 
2022-03-30T16:18:25.941Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:18:25.941Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:18:25.941Z appoptics:patching patched fs 
2022-03-30T16:18:26.017Z appoptics:patching patched dns 
2022-03-30T16:18:26.080Z appoptics:patching patched tedious 11.3.0
2022-03-30T16:18:26.083Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_18_36_497Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.3.1
updated 1 package and audited 968 packages in 6.401s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:18:37.467Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:37.468Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:37.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:37.468Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:37.468Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:37.530Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:37.667Z appoptics:patching patched crypto 
2022-03-30T16:18:37.684Z appoptics:patching patched https 
2022-03-30T16:18:37.684Z appoptics:patching patched http 
2022-03-30T16:18:37.746Z appoptics:patching patched zlib 
2022-03-30T16:18:37.749Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:18:37.750Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:18:37.750Z appoptics:patching patched fs 
2022-03-30T16:18:37.826Z appoptics:patching patched dns 
2022-03-30T16:18:37.888Z appoptics:patching patched tedious 11.3.1
2022-03-30T16:18:37.891Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_18_47_353Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.0
updated 1 package and audited 968 packages in 5.374s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:18:48.184Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:48.185Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:48.185Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:48.185Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:48.185Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:48.245Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:48.380Z appoptics:patching patched crypto 
2022-03-30T16:18:48.397Z appoptics:patching patched https 
2022-03-30T16:18:48.397Z appoptics:patching patched http 
2022-03-30T16:18:48.457Z appoptics:patching patched zlib 
2022-03-30T16:18:48.460Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:18:48.460Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:18:48.461Z appoptics:patching patched fs 
2022-03-30T16:18:48.538Z appoptics:patching patched dns 
2022-03-30T16:18:48.617Z appoptics:patching patched tedious 11.4.0
2022-03-30T16:18:48.621Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_18_58_742Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.1
updated 1 package and audited 968 packages in 5.952s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:18:59.593Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:18:59.593Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:18:59.593Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:18:59.593Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:18:59.594Z appoptics:debug using context provider: ace-context
2022-03-30T16:18:59.652Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:18:59.785Z appoptics:patching patched crypto 
2022-03-30T16:18:59.802Z appoptics:patching patched https 
2022-03-30T16:18:59.803Z appoptics:patching patched http 
2022-03-30T16:18:59.867Z appoptics:patching patched zlib 
2022-03-30T16:18:59.871Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:18:59.871Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:18:59.872Z appoptics:patching patched fs 
2022-03-30T16:18:59.955Z appoptics:patching patched dns 
2022-03-30T16:19:00.020Z appoptics:patching patched tedious 11.4.1
2022-03-30T16:19:00.023Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (45ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_19_09_923Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.4.2
updated 1 package and audited 968 packages in 5.74s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:19:10.758Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:10.758Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:10.759Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:10.759Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:10.759Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:10.820Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:10.949Z appoptics:patching patched crypto 
2022-03-30T16:19:10.965Z appoptics:patching patched https 
2022-03-30T16:19:10.966Z appoptics:patching patched http 
2022-03-30T16:19:11.024Z appoptics:patching patched zlib 
2022-03-30T16:19:11.027Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:19:11.027Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:19:11.027Z appoptics:patching patched fs 
2022-03-30T16:19:11.107Z appoptics:patching patched dns 
2022-03-30T16:19:11.175Z appoptics:patching patched tedious 11.4.2
2022-03-30T16:19:11.178Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.4.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_19_21_696Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.5.0
updated 1 package and audited 968 packages in 6.359s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:19:22.629Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:22.630Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:22.630Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:22.630Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:22.630Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:22.708Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:22.854Z appoptics:patching patched crypto 
2022-03-30T16:19:22.890Z appoptics:patching patched https 
2022-03-30T16:19:22.891Z appoptics:patching patched http 
2022-03-30T16:19:22.957Z appoptics:patching patched zlib 
2022-03-30T16:19:22.961Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:19:22.961Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:19:22.961Z appoptics:patching patched fs 
2022-03-30T16:19:23.063Z appoptics:patching patched dns 
2022-03-30T16:19:23.144Z appoptics:patching patched tedious 11.5.0
2022-03-30T16:19:23.149Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (38ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_19_33_027Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.6.0
updated 1 package and audited 968 packages in 5.917s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:19:34.090Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:34.091Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:34.091Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:34.091Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:34.091Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:34.155Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:34.298Z appoptics:patching patched crypto 
2022-03-30T16:19:34.316Z appoptics:patching patched https 
2022-03-30T16:19:34.316Z appoptics:patching patched http 
2022-03-30T16:19:34.379Z appoptics:patching patched zlib 
2022-03-30T16:19:34.382Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:19:34.383Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:19:34.383Z appoptics:patching patched fs 
2022-03-30T16:19:34.465Z appoptics:patching patched dns 
2022-03-30T16:19:34.538Z appoptics:patching patched tedious 11.6.0
2022-03-30T16:19:34.542Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_19_45_233Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.6.1
updated 1 package and audited 968 packages in 6.604s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:19:46.052Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:46.053Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:46.053Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:46.053Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:46.053Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:46.114Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:46.239Z appoptics:patching patched crypto 
2022-03-30T16:19:46.254Z appoptics:patching patched https 
2022-03-30T16:19:46.255Z appoptics:patching patched http 
2022-03-30T16:19:46.314Z appoptics:patching patched zlib 
2022-03-30T16:19:46.317Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:19:46.317Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:19:46.317Z appoptics:patching patched fs 
2022-03-30T16:19:46.390Z appoptics:patching patched dns 
2022-03-30T16:19:46.449Z appoptics:patching patched tedious 11.6.1
2022-03-30T16:19:46.453Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_19_56_833Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.7.0
updated 1 package and audited 968 packages in 6.351s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:19:57.737Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:19:57.738Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:19:57.738Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:19:57.738Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:19:57.738Z appoptics:debug using context provider: ace-context
2022-03-30T16:19:57.802Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:19:57.936Z appoptics:patching patched crypto 
2022-03-30T16:19:57.955Z appoptics:patching patched https 
2022-03-30T16:19:57.955Z appoptics:patching patched http 
2022-03-30T16:19:58.019Z appoptics:patching patched zlib 
2022-03-30T16:19:58.023Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:19:58.023Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:19:58.023Z appoptics:patching patched fs 
2022-03-30T16:19:58.105Z appoptics:patching patched dns 
2022-03-30T16:19:58.172Z appoptics:patching patched tedious 11.7.0
2022-03-30T16:19:58.175Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (55ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_20_08_325Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@11.8.0
updated 1 package and audited 968 packages in 6.077s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:20:09.173Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:09.174Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:09.174Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:09.174Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:09.174Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:09.236Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:09.388Z appoptics:patching patched crypto 
2022-03-30T16:20:09.407Z appoptics:patching patched https 
2022-03-30T16:20:09.407Z appoptics:patching patched http 
2022-03-30T16:20:09.467Z appoptics:patching patched zlib 
2022-03-30T16:20:09.470Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:20:09.470Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:20:09.470Z appoptics:patching patched fs 
2022-03-30T16:20:09.546Z appoptics:patching patched dns 
2022-03-30T16:20:09.611Z appoptics:patching patched tedious 11.8.0
2022-03-30T16:20:09.614Z appoptics:debug starting runtimeMetrics


  probes.tedious 11.8.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_20_19_970Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.0.0
updated 1 package and audited 968 packages in 6.302s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:20:20.851Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:20.851Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:20.851Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:20.851Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:20.852Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:20.910Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:21.041Z appoptics:patching patched crypto 
2022-03-30T16:20:21.059Z appoptics:patching patched https 
2022-03-30T16:20:21.060Z appoptics:patching patched http 
2022-03-30T16:20:21.125Z appoptics:patching patched zlib 
2022-03-30T16:20:21.129Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:20:21.129Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:20:21.129Z appoptics:patching patched fs 
2022-03-30T16:20:21.216Z appoptics:patching patched dns 
2022-03-30T16:20:21.289Z appoptics:patching patched tedious 12.0.0
2022-03-30T16:20:21.293Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (61ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_20_32_070Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.1.0
updated 1 package and audited 968 packages in 6.692s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:20:32.974Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:32.975Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:32.975Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:32.975Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:32.975Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:33.053Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:33.205Z appoptics:patching patched crypto 
2022-03-30T16:20:33.223Z appoptics:patching patched https 
2022-03-30T16:20:33.223Z appoptics:patching patched http 
2022-03-30T16:20:33.306Z appoptics:patching patched zlib 
2022-03-30T16:20:33.310Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:20:33.310Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:20:33.310Z appoptics:patching patched fs 
2022-03-30T16:20:33.400Z appoptics:patching patched dns 
2022-03-30T16:20:33.475Z appoptics:patching patched tedious 12.1.0
2022-03-30T16:20:33.479Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (42ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_20_43_538Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.2.0
updated 1 package and audited 968 packages in 6.022s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:20:44.446Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:44.447Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:44.447Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:44.447Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:44.447Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:44.522Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:44.684Z appoptics:patching patched crypto 
2022-03-30T16:20:44.722Z appoptics:patching patched https 
2022-03-30T16:20:44.723Z appoptics:patching patched http 
2022-03-30T16:20:44.788Z appoptics:patching patched zlib 
2022-03-30T16:20:44.792Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:20:44.792Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:20:44.792Z appoptics:patching patched fs 
2022-03-30T16:20:44.907Z appoptics:patching patched dns 
2022-03-30T16:20:44.968Z appoptics:patching patched tedious 12.2.0
2022-03-30T16:20:44.971Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_20_54_638Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@12.3.0
updated 3 packages and audited 968 packages in 5.562s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:20:55.514Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:20:55.515Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:20:55.515Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:20:55.515Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:20:55.515Z appoptics:debug using context provider: ace-context
2022-03-30T16:20:55.595Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:20:55.739Z appoptics:patching patched crypto 
2022-03-30T16:20:55.756Z appoptics:patching patched https 
2022-03-30T16:20:55.756Z appoptics:patching patched http 
2022-03-30T16:20:55.832Z appoptics:patching patched zlib 
2022-03-30T16:20:55.835Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:20:55.835Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:20:55.836Z appoptics:patching patched fs 
2022-03-30T16:20:55.943Z appoptics:patching patched dns 
2022-03-30T16:20:56.021Z appoptics:patching patched tedious 12.3.0
2022-03-30T16:20:56.025Z appoptics:debug starting runtimeMetrics


  probes.tedious 12.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (51ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_21_06_860Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.0
removed 17 packages, updated 1 package and audited 951 packages in 6.69s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:21:07.891Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:07.892Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:07.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:07.892Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:07.892Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:07.971Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:08.166Z appoptics:patching patched crypto 
2022-03-30T16:21:08.209Z appoptics:patching patched https 
2022-03-30T16:21:08.209Z appoptics:patching patched http 
2022-03-30T16:21:08.266Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:21:08.266Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:21:08.267Z appoptics:patching patched fs 
2022-03-30T16:21:08.282Z appoptics:patching patched zlib 
2022-03-30T16:21:08.372Z appoptics:patching patched dns 
2022-03-30T16:21:08.455Z appoptics:patching patched tedious 13.0.0
2022-03-30T16:21:08.459Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_21_18_294Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.1
updated 1 package and audited 951 packages in 5.785s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:21:19.224Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:19.225Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:19.225Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:19.225Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:19.225Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:19.301Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:19.468Z appoptics:patching patched crypto 
2022-03-30T16:21:19.507Z appoptics:patching patched https 
2022-03-30T16:21:19.508Z appoptics:patching patched http 
2022-03-30T16:21:19.574Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:21:19.574Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:21:19.574Z appoptics:patching patched fs 
2022-03-30T16:21:19.592Z appoptics:patching patched zlib 
2022-03-30T16:21:19.694Z appoptics:patching patched dns 
2022-03-30T16:21:19.760Z appoptics:patching patched tedious 13.0.1
2022-03-30T16:21:19.763Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (39ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_21_29_886Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.2
updated 1 package and audited 951 packages in 6.1s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:21:30.931Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:30.932Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:30.932Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:30.932Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:30.932Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:31.004Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:31.152Z appoptics:patching patched crypto 
2022-03-30T16:21:31.185Z appoptics:patching patched https 
2022-03-30T16:21:31.185Z appoptics:patching patched http 
2022-03-30T16:21:31.247Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:21:31.248Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:21:31.248Z appoptics:patching patched fs 
2022-03-30T16:21:31.265Z appoptics:patching patched zlib 
2022-03-30T16:21:31.369Z appoptics:patching patched dns 
2022-03-30T16:21:31.466Z appoptics:patching patched tedious 13.0.2
2022-03-30T16:21:31.470Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_21_41_688Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.3
updated 1 package and audited 951 packages in 6.184s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:21:42.717Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:42.718Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:42.718Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:42.718Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:42.718Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:42.801Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:43.048Z appoptics:patching patched crypto 
2022-03-30T16:21:43.114Z appoptics:patching patched https 
2022-03-30T16:21:43.115Z appoptics:patching patched http 
2022-03-30T16:21:43.258Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:21:43.258Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:21:43.258Z appoptics:patching patched fs 
2022-03-30T16:21:43.296Z appoptics:patching patched zlib 
2022-03-30T16:21:43.450Z appoptics:patching patched dns 
2022-03-30T16:21:43.631Z appoptics:patching patched tedious 13.0.3
2022-03-30T16:21:43.634Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_21_54_242Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.4
updated 1 package and audited 951 packages in 6.731s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:21:55.503Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:21:55.504Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:21:55.504Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:21:55.504Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:21:55.504Z appoptics:debug using context provider: ace-context
2022-03-30T16:21:55.587Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:21:55.747Z appoptics:patching patched crypto 
2022-03-30T16:21:55.784Z appoptics:patching patched https 
2022-03-30T16:21:55.784Z appoptics:patching patched http 
2022-03-30T16:21:55.849Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:21:55.849Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:21:55.849Z appoptics:patching patched fs 
2022-03-30T16:21:55.865Z appoptics:patching patched zlib 
2022-03-30T16:21:55.960Z appoptics:patching patched dns 
2022-03-30T16:21:56.042Z appoptics:patching patched tedious 13.0.4
2022-03-30T16:21:56.046Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_22_05_766Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.0.5
updated 1 package and audited 951 packages in 5.643s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:22:06.799Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:06.800Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:06.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:06.800Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:06.800Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:06.880Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:07.041Z appoptics:patching patched crypto 
2022-03-30T16:22:07.081Z appoptics:patching patched https 
2022-03-30T16:22:07.082Z appoptics:patching patched http 
2022-03-30T16:22:07.152Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:07.152Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:07.153Z appoptics:patching patched fs 
2022-03-30T16:22:07.170Z appoptics:patching patched zlib 
2022-03-30T16:22:07.261Z appoptics:patching patched dns 
2022-03-30T16:22:07.346Z appoptics:patching patched tedious 13.0.5
2022-03-30T16:22:07.350Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.0.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (43ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_22_17_311Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.1.0
removed 1 package, updated 1 package and audited 950 packages in 5.897s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:22:18.200Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:18.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:18.200Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:18.201Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:18.201Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:18.276Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:18.435Z appoptics:patching patched crypto 
2022-03-30T16:22:18.465Z appoptics:patching patched https 
2022-03-30T16:22:18.465Z appoptics:patching patched http 
2022-03-30T16:22:18.525Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:18.525Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:18.525Z appoptics:patching patched fs 
2022-03-30T16:22:18.542Z appoptics:patching patched zlib 
2022-03-30T16:22:18.643Z appoptics:patching patched dns 
2022-03-30T16:22:18.726Z appoptics:patching patched tedious 13.1.0
2022-03-30T16:22:18.729Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_22_28_417Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@13.2.0
updated 1 package and audited 950 packages in 5.628s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:22:29.314Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:29.314Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:29.314Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:29.314Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:29.314Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:29.377Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:29.516Z appoptics:patching patched crypto 
2022-03-30T16:22:29.534Z appoptics:patching patched https 
2022-03-30T16:22:29.534Z appoptics:patching patched http 
2022-03-30T16:22:29.593Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:29.593Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:29.593Z appoptics:patching patched fs 
2022-03-30T16:22:29.612Z appoptics:patching patched zlib 
2022-03-30T16:22:29.710Z appoptics:patching patched dns 
2022-03-30T16:22:29.780Z appoptics:patching patched tedious 13.2.0
2022-03-30T16:22:29.784Z appoptics:debug starting runtimeMetrics


  probes.tedious 13.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (48ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_22_39_598Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@14.0.0
updated 1 package and audited 950 packages in 5.75s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:22:40.459Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:40.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:40.460Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:40.460Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:40.460Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:40.522Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:40.659Z appoptics:patching patched crypto 
2022-03-30T16:22:40.702Z appoptics:patching patched https 
2022-03-30T16:22:40.703Z appoptics:patching patched http 
2022-03-30T16:22:40.762Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:40.763Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:40.763Z appoptics:patching patched fs 
2022-03-30T16:22:40.779Z appoptics:patching patched zlib 
2022-03-30T16:22:40.859Z appoptics:patching patched dns 
2022-03-30T16:22:40.937Z appoptics:patching patched tedious 14.0.0
2022-03-30T16:22:40.941Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (69ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_22_50_726Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@14.1.0
updated 1 package and audited 950 packages in 5.746s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:22:51.706Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:22:51.707Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:22:51.707Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:22:51.707Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:22:51.708Z appoptics:debug using context provider: ace-context
2022-03-30T16:22:51.771Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:22:51.910Z appoptics:patching patched crypto 
2022-03-30T16:22:51.929Z appoptics:patching patched https 
2022-03-30T16:22:51.929Z appoptics:patching patched http 
2022-03-30T16:22:51.990Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:22:51.990Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:22:51.990Z appoptics:patching patched fs 
2022-03-30T16:22:52.007Z appoptics:patching patched zlib 
2022-03-30T16:22:52.086Z appoptics:patching patched dns 
2022-03-30T16:22:52.160Z appoptics:patching patched tedious 14.1.0
2022-03-30T16:22:52.163Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!

> keytar@7.9.0 install /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> prebuild-install || npm run build

prebuild-install WARN install EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'

> keytar@7.9.0 build /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
> node-gyp rebuild

gyp ERR! configure error 
gyp ERR! stack Error: EACCES: permission denied, mkdir '/__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar/build'
gyp ERR! System Linux 5.11.0-1028-azure
gyp ERR! command "/__t/node/14.19.0/x64/bin/node" "/__t/node/14.19.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /__w/appoptics-apm-node/appoptics-apm-node/node_modules/keytar
gyp ERR! node -v v14.19.0
gyp ERR! node-gyp -v v5.1.0
gyp ERR! not ok 
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! keytar@7.9.0 build: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the keytar@7.9.0 build script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm WARN Local package.json exists, but node_modules missing, did you mean to install?

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-03-30T16_23_02_179Z-debug.log
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 (node_modules/keytar):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: keytar@7.9.0 install: `prebuild-install || npm run build`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1

+ tedious@14.2.0
updated 1 package and audited 950 packages in 5.942s

89 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:23:03.044Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:23:03.045Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:23:03.045Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:23:03.045Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:23:03.045Z appoptics:debug using context provider: ace-context
2022-03-30T16:23:03.110Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:23:03.255Z appoptics:patching patched crypto 
2022-03-30T16:23:03.273Z appoptics:patching patched https 
2022-03-30T16:23:03.273Z appoptics:patching patched http 
2022-03-30T16:23:03.333Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:23:03.333Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:23:03.333Z appoptics:patching patched fs 
2022-03-30T16:23:03.349Z appoptics:patching patched zlib 
2022-03-30T16:23:03.423Z appoptics:patching patched dns 
2022-03-30T16:23:03.494Z appoptics:patching patched tedious 14.2.0
2022-03-30T16:23:03.497Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (54ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@14.3.0
added 5 packages from 3 contributors, removed 9 packages, updated 5 packages and audited 910 packages in 5.638s

86 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:23:14.157Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:23:14.157Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:23:14.157Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:23:14.157Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:23:14.157Z appoptics:debug using context provider: ace-context
2022-03-30T16:23:14.224Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:23:14.368Z appoptics:patching patched crypto 
2022-03-30T16:23:14.387Z appoptics:patching patched https 
2022-03-30T16:23:14.387Z appoptics:patching patched http 
2022-03-30T16:23:14.443Z appoptics:patching patched zlib 
2022-03-30T16:23:14.493Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:23:14.493Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:23:14.493Z appoptics:patching patched fs 
2022-03-30T16:23:14.535Z appoptics:patching patched dns 
2022-03-30T16:23:14.611Z appoptics:patching patched tedious 14.3.0
2022-03-30T16:23:14.615Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (41ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@14.4.0
updated 1 package and audited 910 packages in 4.789s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

2022-03-30T16:23:24.323Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:23:24.324Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:23:24.324Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:23:24.324Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:23:24.324Z appoptics:debug using context provider: ace-context
2022-03-30T16:23:24.391Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:23:24.529Z appoptics:patching patched crypto 
2022-03-30T16:23:24.547Z appoptics:patching patched https 
2022-03-30T16:23:24.548Z appoptics:patching patched http 
2022-03-30T16:23:24.601Z appoptics:patching patched zlib 
2022-03-30T16:23:24.647Z appoptics:patching fs.realpath - adding native method
2022-03-30T16:23:24.647Z appoptics:patching fsPromises.exists not a function
2022-03-30T16:23:24.648Z appoptics:patching patched fs 
2022-03-30T16:23:24.686Z appoptics:patching patched dns 
2022-03-30T16:23:24.757Z appoptics:patching patched tedious 14.4.0
2022-03-30T16:23:24.760Z appoptics:debug starting runtimeMetrics


  probes.tedious 14.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (40ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.2 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ tedious@14.4.0
updated 1 package and audited 910 packages in 4.787s

85 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

