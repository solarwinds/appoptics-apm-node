npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.2.0',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

added 1 package, removed 4 packages, changed 3 packages, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:01:18.274Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:18.275Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:18.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:18.275Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:18.275Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:18.359Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:18.757Z appoptics:patching patched crypto 
2022-03-30T16:01:18.780Z appoptics:patching patched https 
2022-03-30T16:01:18.780Z appoptics:patching patched http 
2022-03-30T16:01:18.860Z appoptics:patching patched amqplib 0.2.0
2022-03-30T16:01:18.864Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:18.867Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.0
    ✔ UDP might lose a message
    promises
      1) "before all" hook for "should report send and consume in existing trace"
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      3) "before all" hook for "should report send and consume in existing trace"
      4) "after all" hook for "should include SourceTrace in consume external to traced publish"


  1 passing (4s)
  4 failing

  1) probes.amqplib 0.2.0
       promises
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  2) probes.amqplib 0.2.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read properties of undefined (reading 'close')
      at Context.<anonymous> (test/probes/amqplib.test.js:181:23)
      at processImmediate (node:internal/timers:466:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.amqplib 0.2.0
       callbacks
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  4) probes.amqplib 0.2.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read properties of undefined (reading 'close')
      at Context.<anonymous> (test/probes/amqplib.test.js:211:23)
      at processImmediate (node:internal/timers:466:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.2.1',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 2 packages, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:01:32.217Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:32.218Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:32.218Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:32.218Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:32.219Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:32.378Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:32.644Z appoptics:patching patched crypto 
2022-03-30T16:01:32.669Z appoptics:patching patched https 
2022-03-30T16:01:32.669Z appoptics:patching patched http 
2022-03-30T16:01:32.742Z appoptics:patching patched amqplib 0.2.1
2022-03-30T16:01:32.745Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:32.750Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.2.1
    ✔ UDP might lose a message
    promises
(node:1336) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (71ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)


  7 passing (311ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.0',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:01:41.513Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:41.514Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:41.514Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:41.514Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:41.514Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:41.587Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:41.752Z appoptics:patching patched crypto 
2022-03-30T16:01:41.773Z appoptics:patching patched https 
2022-03-30T16:01:41.773Z appoptics:patching patched http 
2022-03-30T16:01:41.823Z appoptics:patching patched amqplib 0.3.0
2022-03-30T16:01:41.826Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:41.829Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.0
    ✔ UDP might lose a message
    promises
(node:1401) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (49ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (244ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.1',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11 || 0.12 || 1.0 || 1.1' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 2 packages, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:01:51.068Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:01:51.069Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:01:51.069Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:01:51.069Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:01:51.069Z appoptics:debug using context provider: ace-context
2022-03-30T16:01:51.142Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:01:51.291Z appoptics:patching patched crypto 
2022-03-30T16:01:51.322Z appoptics:patching patched https 
2022-03-30T16:01:51.322Z appoptics:patching patched http 
2022-03-30T16:01:51.373Z appoptics:patching patched amqplib 0.3.1
2022-03-30T16:01:51.375Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:01:51.378Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.1
    ✔ UDP might lose a message
    promises
(node:1466) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (65ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (49ms)


  7 passing (249ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <0.13 || ^1' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 9s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:00.954Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:00.955Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:00.955Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:00.955Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:00.955Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:01.049Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:01.209Z appoptics:patching patched crypto 
2022-03-30T16:02:01.229Z appoptics:patching patched https 
2022-03-30T16:02:01.230Z appoptics:patching patched http 
2022-03-30T16:02:01.280Z appoptics:patching patched amqplib 0.3.2
2022-03-30T16:02:01.283Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:01.286Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.3.2
    ✔ UDP might lose a message
    promises
(node:1531) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (249ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <4 || ^4' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 9s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:10.595Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:10.596Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:10.596Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:10.596Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:10.596Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:10.667Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:10.855Z appoptics:patching patched crypto 
2022-03-30T16:02:10.874Z appoptics:patching patched https 
2022-03-30T16:02:10.875Z appoptics:patching patched http 
2022-03-30T16:02:10.924Z appoptics:patching patched amqplib 0.4.0
2022-03-30T16:02:10.927Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:10.929Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.0
    ✔ UDP might lose a message
    promises
(node:1596) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
      1) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"


  7 passing (229ms)
  2 failing

  1) probes.amqplib 0.4.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at ChannelModel.emit (node:events:520:28)
      at Connection.emit (node:events:520:28)
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at Socket.emit (node:events:520:28)
      at emitReadable_ (node:internal/streams/readable:578:12)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)

  2) probes.amqplib 0.4.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at CallbackModel.emit (node:events:520:28)
      at Connection.emit (node:events:520:28)
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at Socket.emit (node:events:520:28)
      at emitReadable_ (node:internal/streams/readable:578:12)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <5 || ^5' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:19.530Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:19.531Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:19.531Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:19.531Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:19.531Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:19.606Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:19.772Z appoptics:patching patched crypto 
2022-03-30T16:02:19.792Z appoptics:patching patched https 
2022-03-30T16:02:19.792Z appoptics:patching patched http 
2022-03-30T16:02:19.845Z appoptics:patching patched amqplib 0.4.1
2022-03-30T16:02:19.847Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:19.850Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.1
    ✔ UDP might lose a message
    promises
(node:1661) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (65ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (49ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (248ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <6 || ^6' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 919 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:29.004Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:29.004Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:29.004Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:29.005Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:29.005Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:29.086Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:29.242Z appoptics:patching patched crypto 
2022-03-30T16:02:29.262Z appoptics:patching patched https 
2022-03-30T16:02:29.263Z appoptics:patching patched http 
2022-03-30T16:02:29.314Z appoptics:patching patched amqplib 0.4.2
2022-03-30T16:02:29.316Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:29.319Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.4.2
    ✔ UDP might lose a message
    promises
(node:1726) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (49ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (54ms)


  7 passing (248ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <6 || ^6' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 918 packages in 9s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:38.747Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:38.748Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:38.748Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:38.748Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:38.748Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:38.832Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:39.016Z appoptics:patching patched crypto 
2022-03-30T16:02:39.038Z appoptics:patching patched https 
2022-03-30T16:02:39.038Z appoptics:patching patched http 
2022-03-30T16:02:39.108Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:02:39.110Z appoptics:patching patched amqplib 0.5.1
2022-03-30T16:02:39.113Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:39.116Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.1
    ✔ UDP might lose a message
    promises
(node:1791) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (63ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (52ms)


  7 passing (252ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <=9' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 918 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:02:48.313Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:48.314Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:48.314Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:48.314Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:48.315Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:48.390Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:48.538Z appoptics:patching patched crypto 
2022-03-30T16:02:48.557Z appoptics:patching patched https 
2022-03-30T16:02:48.558Z appoptics:patching patched http 
2022-03-30T16:02:48.618Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:02:48.621Z appoptics:patching patched amqplib 0.5.2
2022-03-30T16:02:48.623Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:48.626Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.2
    ✔ UDP might lose a message
    promises
(node:1856) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (68ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (47ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (296ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.3',
npm WARN EBADENGINE   required: { node: '>=0.8 <=9' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

added 14 packages, removed 7 packages, changed 4 packages, and audited 925 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:02:57.603Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:02:57.604Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:02:57.604Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:02:57.604Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:02:57.604Z appoptics:debug using context provider: ace-context
2022-03-30T16:02:57.677Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:02:57.853Z appoptics:patching patched crypto 
2022-03-30T16:02:57.874Z appoptics:patching patched https 
2022-03-30T16:02:57.874Z appoptics:patching patched http 
2022-03-30T16:02:57.940Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:02:57.943Z appoptics:patching patched amqplib 0.5.3
2022-03-30T16:02:57.946Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:02:57.948Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.3
    ✔ UDP might lose a message
    promises
(node:1921) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (65ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (270ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.4',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }
npm WARN deprecated amqplib@0.5.4: See github.com/squaremo/amqp.node/issues/534

changed 1 package, and audited 925 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:03:06.988Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:06.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:06.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:06.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:06.989Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:07.065Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:07.226Z appoptics:patching patched crypto 
2022-03-30T16:03:07.247Z appoptics:patching patched https 
2022-03-30T16:03:07.248Z appoptics:patching patched http 

Error: Cannot find module './defs'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js:7:12)
    at Module._compile (node:internal/modules/cjs/loader:1103:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1155:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js:11:18)
    at Module._compile (node:internal/modules/cjs/loader:1103:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1155:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js:1:19)
    at Module._compile (node:internal/modules/cjs/loader:1103:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1155:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.5',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 9s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:03:16.969Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:16.969Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:16.969Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:16.970Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:16.970Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:17.046Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:17.198Z appoptics:patching patched crypto 
2022-03-30T16:03:17.218Z appoptics:patching patched https 
2022-03-30T16:03:17.219Z appoptics:patching patched http 
2022-03-30T16:03:17.283Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:17.286Z appoptics:patching patched amqplib 0.5.5
2022-03-30T16:03:17.288Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:17.291Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.5
    ✔ UDP might lose a message
    promises
(node:2047) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (43ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (46ms)


  7 passing (240ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 9s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:03:27.043Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:27.044Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:27.044Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:27.044Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:27.045Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:27.122Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:27.274Z appoptics:patching patched crypto 
2022-03-30T16:03:27.293Z appoptics:patching patched https 
2022-03-30T16:03:27.294Z appoptics:patching patched http 
2022-03-30T16:03:27.357Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:27.360Z appoptics:patching patched amqplib 0.5.6
2022-03-30T16:03:27.363Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:27.365Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.5.6
    ✔ UDP might lose a message
    promises
(node:2112) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (52ms)


  7 passing (248ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.6.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <=14' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-03-30T16:03:35.937Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:35.938Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:35.938Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:35.938Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:35.938Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:36.017Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:36.193Z appoptics:patching patched crypto 
2022-03-30T16:03:36.213Z appoptics:patching patched https 
2022-03-30T16:03:36.213Z appoptics:patching patched http 
2022-03-30T16:03:36.288Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:36.291Z appoptics:patching patched amqplib 0.6.0
2022-03-30T16:03:36.293Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:36.299Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.6.0
    ✔ UDP might lose a message
    promises
(node:2177) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (84ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (287ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.7.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <=15' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

changed 1 package, and audited 925 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-03-30T16:03:45.124Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:45.125Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:45.125Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:45.125Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:45.125Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:45.202Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:45.358Z appoptics:patching patched crypto 
2022-03-30T16:03:45.378Z appoptics:patching patched https 
2022-03-30T16:03:45.378Z appoptics:patching patched http 
2022-03-30T16:03:45.453Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:45.456Z appoptics:patching patched amqplib 0.7.0
2022-03-30T16:03:45.458Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:45.461Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.0
    ✔ UDP might lose a message
    promises
(node:2242) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (82ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (52ms)
    callbacks
      ✔ should report send and consume in existing trace (45ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (359ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.7.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <=15' },
npm WARN EBADENGINE   current: { node: 'v16.14.0', npm: '8.3.1' }
npm WARN EBADENGINE }

added 8 packages, removed 11 packages, changed 3 packages, and audited 922 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:03:54.793Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:03:54.794Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:03:54.794Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:03:54.794Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:03:54.794Z appoptics:debug using context provider: ace-context
2022-03-30T16:03:54.865Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:03:55.021Z appoptics:patching patched crypto 
2022-03-30T16:03:55.040Z appoptics:patching patched https 
2022-03-30T16:03:55.040Z appoptics:patching patched http 
2022-03-30T16:03:55.104Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:03:55.107Z appoptics:patching patched amqplib 0.7.1
2022-03-30T16:03:55.109Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:03:55.112Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.7.1
    ✔ UDP might lose a message
    promises
(node:2307) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (63ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (49ms)


  7 passing (251ms)


changed 1 package, and audited 922 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-03-30T16:04:04.269Z appoptics:warn environment variables not recognized: APPOPTICS_COLLECTOR_NH=apm-collector.dc-01.st-ssp.solarwinds.com
2022-03-30T16:04:04.270Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-03-30T16:04:04.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-03-30T16:04:04.270Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2022-03-30T16:04:04.270Z appoptics:debug using context provider: ace-context
2022-03-30T16:04:04.343Z appoptics:debug apm 10.2.2-internal.0, bindings 11.2.1-internal.0, oboe 10.3.1
2022-03-30T16:04:04.490Z appoptics:patching patched crypto 
2022-03-30T16:04:04.508Z appoptics:patching patched https 
2022-03-30T16:04:04.509Z appoptics:patching patched http 
2022-03-30T16:04:04.572Z appoptics:patching patched bluebird 3.7.2
2022-03-30T16:04:04.575Z appoptics:patching patched amqplib 0.8.0
2022-03-30T16:04:04.577Z appoptics:patching patched amqplib/callback_api 
2022-03-30T16:04:04.580Z appoptics:debug starting runtimeMetrics


  probes.amqplib 0.8.0
    ✔ UDP might lose a message
    promises
(node:2372) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (49ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)


  7 passing (216ms)


up to date, audited 922 packages in 8s

87 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
